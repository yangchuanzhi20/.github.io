<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>è¯­ä¹‰ä¾å­˜åˆ†æä»»åŠ¡ï¼ğŸ¯</title>
    <link href="/2024/04/03/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/NLP/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/NLP%E4%BB%BB%E5%8A%A1/%E8%AF%AD%E4%B9%89%E4%BE%9D%E5%AD%98%E5%88%86%E6%9E%90%E4%BB%BB%E5%8A%A1/"/>
    <url>/2024/04/03/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/NLP/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/NLP%E4%BB%BB%E5%8A%A1/%E8%AF%AD%E4%B9%89%E4%BE%9D%E5%AD%98%E5%88%86%E6%9E%90%E4%BB%BB%E5%8A%A1/</url>
    
    <content type="html"><![CDATA[<h1 id="è¯­ä¹‰ä¾å­˜åˆ†æä»»åŠ¡"><a href="#è¯­ä¹‰ä¾å­˜åˆ†æä»»åŠ¡" class="headerlink" title="è¯­ä¹‰ä¾å­˜åˆ†æä»»åŠ¡"></a>è¯­ä¹‰ä¾å­˜åˆ†æä»»åŠ¡</h1><p>è®©æœºå™¨èƒ½å¤Ÿç†è§£è‡ªç„¶è¯­è¨€ï¼Œéœ€è¦å¯¹åŸå§‹æ–‡æœ¬è‡ªåº•å‘ä¸Šè¿›è¡Œåˆ†è¯ã€è¯æ€§æ ‡æ³¨ã€å‘½åå®ä½“è¯†åˆ«å’Œå¥æ³•åˆ†æï¼Œè‹¥æƒ³è¦æœºå™¨æ›´æ™ºèƒ½ï¼Œåƒäººä¸€æ ·ç†è§£å’Œè¿ç”¨è¯­è¨€ï¼Œè¿˜éœ€è¦å¯¹å¥å­è¿›è¡Œæ›´æ·±ä¸€å±‚çš„åˆ†æï¼Œå³å¥å­çº§è¯­ä¹‰åˆ†æã€‚</p><p>è¯­ä¹‰ä¾å­˜åˆ†æå°†ä¼šæ˜¯é€šå¾€è¯­ä¹‰æ·±å±‚ç†è§£çš„ä¸€æ¡è¹Šå¾„ã€‚è¯­ä¹‰ä¾å­˜åˆ†ææ˜¯æŒ‡åœ¨å¥å­ç»“æ„ä¸­åˆ†æå®è¯å’Œå®è¯ä¹‹é—´çš„è¯­ä¹‰å…³ç³»ï¼Œè¿™ç§å…³ç³»æ˜¯ä¸€ç§äº‹å®ä¸Šæˆ–é€»è¾‘ä¸Šçš„å…³ç³»ï¼Œä¸”åªæœ‰å½“è¯è¯­è¿›å…¥åˆ°å¥å­æ—¶æ‰ä¼šå­˜åœ¨ã€‚è¯­ä¹‰ä¾å­˜åˆ†æçš„ç›®çš„å³å›ç­”å¥å­çš„â€Who did what to whom when and whereâ€çš„é—®é¢˜ã€‚ä¾‹å¦‚å¥å­â€œå¼ ä¸‰æ˜¨å¤©å‘Šè¯‰æå››ä¸€ä¸ªç§˜å¯†â€ï¼Œè¯­ä¹‰ä¾å­˜åˆ†æå¯ä»¥å›ç­”å››ä¸ªé—®é¢˜ï¼Œå³è°å‘Šè¯‰äº†æå››ä¸€ä¸ªç§˜å¯†ï¼Œå¼ ä¸‰å‘Šè¯‰è°ä¸€ä¸ªç§˜å¯†ï¼Œå¼ ä¸‰ä»€ä¹ˆæ—¶å€™å‘Šè¯‰æå››ä¸€ä¸ªç§˜å¯†ï¼Œå¼ ä¸‰å‘Šè¯‰æå››ä»€ä¹ˆã€‚</p><p>ä¸¾ä¾‹ï¼š</p><p><strong>å¥¥å·´é©¬æ˜¨æ™šåœ¨ç™½å®«å‘è¡¨äº†æ¼”è¯´ã€‚</strong></p><p>ç»“æœï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">[&#123;<span class="hljs-string">&#x27;head&#x27;</span>: [<span class="hljs-number">5</span>, <span class="hljs-number">5</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">0</span>, <span class="hljs-number">5</span>, <span class="hljs-number">5</span>, <span class="hljs-number">5</span>], <span class="hljs-string">&#x27;label&#x27;</span>: [<span class="hljs-string">&#x27;AGT&#x27;</span>, <span class="hljs-string">&#x27;TIME&#x27;</span>, <span class="hljs-string">&#x27;mRELA&#x27;</span>, <span class="hljs-string">&#x27;LOC&#x27;</span>, <span class="hljs-string">&#x27;Root&#x27;</span>, <span class="hljs-string">&#x27;mDEPD&#x27;</span>, <span class="hljs-string">&#x27;CONT&#x27;</span>, <span class="hljs-string">&#x27;mPUNC&#x27;</span>]&#125;]<br></code></pre></td></tr></table></figure><p>å›¾ç¤ºï¼š</p><p><img src="/2024/04/03/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/NLP/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/NLP%E4%BB%BB%E5%8A%A1/%E8%AF%AD%E4%B9%89%E4%BE%9D%E5%AD%98%E5%88%86%E6%9E%90%E4%BB%BB%E5%8A%A1/1.png"></p><p>å…·ä½“æ ‡æ³¨ï¼š</p><p><img src="/2024/04/03/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/NLP/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/NLP%E4%BB%BB%E5%8A%A1/%E8%AF%AD%E4%B9%89%E4%BE%9D%E5%AD%98%E5%88%86%E6%9E%90%E4%BB%BB%E5%8A%A1/2.png"></p>]]></content>
    
    
    <categories>
      
      <category>AI Ê¢áµ•á´—áµ•Ê¡</category>
      
      <category>NLP</category>
      
      <category>NLPåŸºç¡€çŸ¥è¯†</category>
      
      <category>NLPä»»åŠ¡</category>
      
    </categories>
    
    
    <tags>
      
      <tag>AI</tag>
      
      <tag>NLP</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>LTPåº“çš„ä½¿ç”¨ï¼ğŸˆ</title>
    <link href="/2024/04/03/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/NLP/%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/LTP%E5%BA%93/"/>
    <url>/2024/04/03/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/NLP/%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/LTP%E5%BA%93/</url>
    
    <content type="html"><![CDATA[<h1 id="LTPåº“çš„ä½¿ç”¨"><a href="#LTPåº“çš„ä½¿ç”¨" class="headerlink" title="LTPåº“çš„ä½¿ç”¨"></a>LTPåº“çš„ä½¿ç”¨</h1><h2 id="1-å®‰è£…"><a href="#1-å®‰è£…" class="headerlink" title="1.å®‰è£…"></a>1.å®‰è£…</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">pip install -U ltp ltp-core ltp-extension -i https://pypi.org/simple<br></code></pre></td></tr></table></figure><h2 id="2-æœ¬åœ°æ¨¡å‹è°ƒç”¨"><a href="#2-æœ¬åœ°æ¨¡å‹è°ƒç”¨" class="headerlink" title="2.æœ¬åœ°æ¨¡å‹è°ƒç”¨"></a>2.æœ¬åœ°æ¨¡å‹è°ƒç”¨</h2><p>ä»huggingfaceä¸‹è½½æ¨¡å‹åä¿å­˜åœ¨æœ¬åœ°ã€‚ç”¨ä¸‹è¿°ä»£ç è¿›è¡Œæœ¬åœ°è°ƒç”¨ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">ltp = LTP(<span class="hljs-string">&quot;D:/Python/MimicSolver/conf/model/LTP_Base1&quot;</span>)<br></code></pre></td></tr></table></figure><h2 id="3-åº”ç”¨ä¸¾ä¾‹"><a href="#3-åº”ç”¨ä¸¾ä¾‹" class="headerlink" title="3.åº”ç”¨ä¸¾ä¾‹"></a>3.åº”ç”¨ä¸¾ä¾‹</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> torch<br><span class="hljs-keyword">from</span> ltp <span class="hljs-keyword">import</span> LTP<br><br>ltp = LTP(<span class="hljs-string">&quot;LTP/small&quot;</span>)  <span class="hljs-comment"># é»˜è®¤åŠ è½½ Small æ¨¡å‹</span><br><br><span class="hljs-comment"># å°†æ¨¡å‹ç§»åŠ¨åˆ° GPU ä¸Š</span><br><span class="hljs-keyword">if</span> torch.cuda.is_available():<br>    <span class="hljs-comment"># ltp.cuda()</span><br>    ltp.to(<span class="hljs-string">&quot;cuda&quot;</span>)<br><br>output = ltp.pipeline([<span class="hljs-string">&quot;ä»–å«æ±¤å§†å»æ‹¿å¤–è¡£ã€‚&quot;</span>], tasks=[<span class="hljs-string">&quot;cws&quot;</span>, <span class="hljs-string">&quot;pos&quot;</span>, <span class="hljs-string">&quot;ner&quot;</span>, <span class="hljs-string">&quot;srl&quot;</span>, <span class="hljs-string">&quot;dep&quot;</span>, <span class="hljs-string">&quot;sdp&quot;</span>])<br><span class="hljs-comment"># ä½¿ç”¨å­—å…¸æ ¼å¼ä½œä¸ºè¿”å›ç»“æœ</span><br><span class="hljs-built_in">print</span>(output.cws) <span class="hljs-comment"># print(output[0]) / print(output[&#x27;cws&#x27;]) # ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸‹æ ‡è®¿é—®</span><br><span class="hljs-built_in">print</span>(output.pos)<br><span class="hljs-built_in">print</span>(output.sdp)<br><span class="hljs-built_in">print</span>(output.ner)<br><br><span class="hljs-comment"># ä½¿ç”¨æ„ŸçŸ¥æœºç®—æ³•å®ç°çš„åˆ†è¯ã€è¯æ€§å’Œå‘½åå®ä½“è¯†åˆ«ï¼Œé€Ÿåº¦æ¯”è¾ƒå¿«ï¼Œä½†æ˜¯ç²¾åº¦ç•¥ä½</span><br>ltp = LTP(<span class="hljs-string">&quot;LTP/legacy&quot;</span>)<br><span class="hljs-comment"># cws, pos, ner = ltp.pipeline([&quot;ä»–å«æ±¤å§†å»æ‹¿å¤–è¡£ã€‚&quot;], tasks=[&quot;cws&quot;, &quot;ner&quot;]).to_tuple() # error: NER éœ€è¦ è¯æ€§æ ‡æ³¨ä»»åŠ¡çš„ç»“æœ</span><br>cws, pos, ner = ltp.pipeline([<span class="hljs-string">&quot;ä»–å«æ±¤å§†å»æ‹¿å¤–è¡£ã€‚&quot;</span>], tasks=[<span class="hljs-string">&quot;cws&quot;</span>, <span class="hljs-string">&quot;pos&quot;</span>, <span class="hljs-string">&quot;ner&quot;</span>]).to_tuple() <span class="hljs-comment"># to tuple å¯ä»¥è‡ªåŠ¨è½¬æ¢ä¸ºå…ƒç»„æ ¼å¼</span><br><span class="hljs-comment"># ä½¿ç”¨å…ƒç»„æ ¼å¼ä½œä¸ºè¿”å›ç»“æœ</span><br><span class="hljs-built_in">print</span>(cws, pos, ner)<br></code></pre></td></tr></table></figure><p><strong>tips:</strong></p><p>åˆ†è¯ <code>cws</code>ã€è¯æ€§ <code>pos</code>ã€å‘½åå®ä½“æ ‡æ³¨ <code>ner</code>ã€è¯­ä¹‰è§’è‰²æ ‡æ³¨ <code>srl</code>ã€ä¾å­˜å¥æ³•åˆ†æ <code>dep</code>ã€è¯­ä¹‰ä¾å­˜åˆ†ææ ‘ <code>sdp</code>ã€è¯­ä¹‰ä¾å­˜åˆ†æå›¾ <code>sdpg</code>ã€‚</p><p>è¾“å‡ºç»“æœï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python">[[<span class="hljs-string">&#x27;ä»–&#x27;</span>, <span class="hljs-string">&#x27;å«&#x27;</span>, <span class="hljs-string">&#x27;æ±¤å§†&#x27;</span>, <span class="hljs-string">&#x27;å»&#x27;</span>, <span class="hljs-string">&#x27;æ‹¿&#x27;</span>, <span class="hljs-string">&#x27;å¤–è¡£&#x27;</span>, <span class="hljs-string">&#x27;ã€‚&#x27;</span>]]<br>[[<span class="hljs-string">&#x27;r&#x27;</span>, <span class="hljs-string">&#x27;v&#x27;</span>, <span class="hljs-string">&#x27;nh&#x27;</span>, <span class="hljs-string">&#x27;v&#x27;</span>, <span class="hljs-string">&#x27;v&#x27;</span>, <span class="hljs-string">&#x27;n&#x27;</span>, <span class="hljs-string">&#x27;wp&#x27;</span>]]<br>[&#123;<span class="hljs-string">&#x27;head&#x27;</span>: [<span class="hljs-number">2</span>, <span class="hljs-number">0</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">5</span>], <span class="hljs-string">&#x27;label&#x27;</span>: [<span class="hljs-string">&#x27;AGT&#x27;</span>, <span class="hljs-string">&#x27;Root&#x27;</span>, <span class="hljs-string">&#x27;DATV&#x27;</span>, <span class="hljs-string">&#x27;eSUCC&#x27;</span>, <span class="hljs-string">&#x27;eSUCC&#x27;</span>, <span class="hljs-string">&#x27;PAT&#x27;</span>, <span class="hljs-string">&#x27;mPUNC&#x27;</span>]&#125;]<br>[[(<span class="hljs-string">&#x27;Nh&#x27;</span>, <span class="hljs-string">&#x27;æ±¤å§†&#x27;</span>)]]<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>AI Ê¢áµ•á´—áµ•Ê¡</category>
      
      <category>NLP</category>
      
      <category>NLPåº“çš„ä½¿ç”¨</category>
      
    </categories>
    
    
    <tags>
      
      <tag>AI</tag>
      
      <tag>NLP</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>è¯­ä¹‰è§’è‰²æ ‡æ³¨ä»»åŠ¡ï¼ğŸ¯</title>
    <link href="/2024/04/03/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/NLP/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/NLP%E4%BB%BB%E5%8A%A1/%E8%AF%AD%E4%B9%89%E8%A7%92%E8%89%B2%E6%A0%87%E6%B3%A8/"/>
    <url>/2024/04/03/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/NLP/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/NLP%E4%BB%BB%E5%8A%A1/%E8%AF%AD%E4%B9%89%E8%A7%92%E8%89%B2%E6%A0%87%E6%B3%A8/</url>
    
    <content type="html"><![CDATA[<h1 id="è¯­ä¹‰è§’è‰²æ ‡æ³¨ä»»åŠ¡"><a href="#è¯­ä¹‰è§’è‰²æ ‡æ³¨ä»»åŠ¡" class="headerlink" title="è¯­ä¹‰è§’è‰²æ ‡æ³¨ä»»åŠ¡"></a>è¯­ä¹‰è§’è‰²æ ‡æ³¨ä»»åŠ¡</h1><p>è¯­ä¹‰è§’è‰²æ ‡æ³¨æ˜¯ä¸€ç§æµ…å±‚è¯­ä¹‰åˆ†ææŠ€æœ¯ï¼Œä»¥å¥å­ä¸ºå•ä½ï¼Œåˆ†æå¥å­çš„<strong>è°“è¯-è®ºå…ƒ</strong>ç»“æ„ï¼Œå…¶ç†è®ºåŸºç¡€æ¥æºäºFillmore(1968)å¹´æå‡ºçš„æ ¼è¯­æ³•ï¼Œä¸å¯¹å¥å­æ‰€åŒ…å«çš„è¯­ä¹‰ä¿¡æ¯è¿›è¡Œæ·±å…¥åˆ†æã€‚å…·ä½“æ¥è¯´ï¼Œè¯­ä¹‰è§’è‰²æ ‡æ³¨çš„ä»»åŠ¡å°±æ˜¯ä»¥å¥å­çš„è°“è¯ä¸ºä¸­å¿ƒï¼Œç ”ç©¶å¥å­ä¸­å„æˆåˆ†ä¸è°“è¯ä¹‹é—´çš„å…³ç³»ï¼Œå¹¶ä¸”ç”¨è¯­ä¹‰è§’è‰²æ¥æè¿°ä»–ä»¬ä¹‹é—´çš„å…³ç³»ã€‚ä¾‹å¦‚å¦‚ä¸‹æ‰€ç¤º</p><p><img src="/2024/04/03/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/NLP/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/NLP%E4%BB%BB%E5%8A%A1/%E8%AF%AD%E4%B9%89%E8%A7%92%E8%89%B2%E6%A0%87%E6%B3%A8/1.png"></p><p>è¿™ä¸ªå¥å­ä¸­åŒ…æ‹¬ï¼š</p><ol><li>è°“è¯ â€œå‘è¡¨â€</li><li>æ–½äº‹ â€œå¥¥å·´é©¬â€</li><li>å—äº‹ â€œæ¼”è¯´â€</li><li>æ—¶é—´ â€œæ˜¨æ™šâ€</li><li>åœ°ç‚¹ â€œåœ¨ç™½å®«â€</li></ol><p>è¯­ä¹‰è§’è‰²æ ‡æ³¨å°±æ˜¯è¦é’ˆå¯¹å¥å­ä¸­çš„ï¼ˆæ ¸å¿ƒï¼‰è°“è¯æ¥ç¡®å®šå…¶ä»–è®ºå…ƒä»¥åŠå…¶ä»–è®ºå…ƒçš„è§’è‰²ã€‚</p><p>ä¸¾ä¾‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># LTPè¾“å‡ºç»“æœ</span><br>[[&#123;<span class="hljs-string">&#x27;predicate&#x27;</span>: <span class="hljs-string">&#x27;å‘è¡¨&#x27;</span>, <span class="hljs-string">&#x27;arguments&#x27;</span>: [(<span class="hljs-string">&#x27;A0&#x27;</span>, <span class="hljs-string">&#x27;å¥¥å·´é©¬&#x27;</span>), (<span class="hljs-string">&#x27;ARGM-TMP&#x27;</span>, <span class="hljs-string">&#x27;æ˜¨æ™š&#x27;</span>), (<span class="hljs-string">&#x27;ARGM-LOC&#x27;</span>, <span class="hljs-string">&#x27;åœ¨ç™½å®«&#x27;</span>), (<span class="hljs-string">&#x27;A1&#x27;</span>, <span class="hljs-string">&#x27;æ¼”è¯´&#x27;</span>)]&#125;]]<br></code></pre></td></tr></table></figure><p>æ ‡ç­¾ï¼š</p><p>A0ï¼šæ–½äº‹</p><p>A1ï¼šå—äº‹</p><p>ARGM-TMPï¼šæ—¶é—´</p><p>ARGM-LOCï¼šåœ°ç‚¹</p><p>æ›´å…·ä½“çš„æ ‡ç­¾ï¼š</p><p><img src="/2024/04/03/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/NLP/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/NLP%E4%BB%BB%E5%8A%A1/%E8%AF%AD%E4%B9%89%E8%A7%92%E8%89%B2%E6%A0%87%E6%B3%A8/2.png"></p>]]></content>
    
    
    <categories>
      
      <category>AI Ê¢áµ•á´—áµ•Ê¡</category>
      
      <category>NLP</category>
      
      <category>NLPåŸºç¡€çŸ¥è¯†</category>
      
      <category>NLPä»»åŠ¡</category>
      
    </categories>
    
    
    <tags>
      
      <tag>AI</tag>
      
      <tag>NLP</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>MimicSolveræ›´æ–°è¿‡ç¨‹!ğŸ¡</title>
    <link href="/2024/03/30/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/NLP/%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/MWP/MimicSolver/MimicSolver%E6%9B%B4%E6%96%B0%E8%BF%87%E7%A8%8B/"/>
    <url>/2024/03/30/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/NLP/%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/MWP/MimicSolver/MimicSolver%E6%9B%B4%E6%96%B0%E8%BF%87%E7%A8%8B/</url>
    
    <content type="html"><![CDATA[<h1 id="MimicSolveræ›´æ–°è¿‡ç¨‹"><a href="#MimicSolveræ›´æ–°è¿‡ç¨‹" class="headerlink" title="MimicSolveræ›´æ–°è¿‡ç¨‹"></a>MimicSolveræ›´æ–°è¿‡ç¨‹</h1><h2 id="1-ä¿®æ”¹jsonæ–‡ä»¶"><a href="#1-ä¿®æ”¹jsonæ–‡ä»¶" class="headerlink" title="1.ä¿®æ”¹jsonæ–‡ä»¶"></a>1.ä¿®æ”¹jsonæ–‡ä»¶</h2><p>ä»¥SceneCombinationä¸ºä¾‹ï¼Œåˆ†åˆ«ä¿®æ”¹ï¼š</p><p><img src="/2024/03/30/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/NLP/%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/MWP/MimicSolver/MimicSolver%E6%9B%B4%E6%96%B0%E8%BF%87%E7%A8%8B/1.png"></p><p><img src="/2024/03/30/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/NLP/%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/MWP/MimicSolver/MimicSolver%E6%9B%B4%E6%96%B0%E8%BF%87%E7%A8%8B/2.png"></p><p><img src="/2024/03/30/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/NLP/%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/MWP/MimicSolver/MimicSolver%E6%9B%B4%E6%96%B0%E8%BF%87%E7%A8%8B/3.png"></p><p>è¯¥ä¾‹ä¸ºæ–°å¢è·¯å¾„ï¼šAPTextâ€”-SceneCombinationâ€”-OutputSolution</p><h2 id="2-ä¿®æ”¹ä¸»å‡½æ•°"><a href="#2-ä¿®æ”¹ä¸»å‡½æ•°" class="headerlink" title="2.ä¿®æ”¹ä¸»å‡½æ•°"></a>2.ä¿®æ”¹ä¸»å‡½æ•°</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> mimic <span class="hljs-keyword">import</span> UserConfig, SolvingEngine, MimicConfig<br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br><br>    start_path = <span class="hljs-string">&quot;D:/Python/MimicSolver/tests/usage/start.yaml&quot;</span><br>    user_cfg = UserConfig(start_path)<br><br>    mimicConfig = MimicConfig()  <br><br>    solving_engine = SolvingEngine(mimicConfig)<br><br>    feed_input_ap = &#123;<br>        <span class="hljs-string">&quot;text&quot;</span>: <span class="hljs-string">&quot;æœ‰ä¸€å †é»„æ²™ï¼Œå…ˆè¿èµ°18å¨ï¼Œå‰©ä¸‹çš„ç”¨7è¾†è½¦è¿å®Œï¼Œæ¯è½¦è¿6å¨ï¼Œè¿™å †é»„æ²™å…±æœ‰å¤šå°‘å¨ï¼Ÿ&quot;</span>,<br>        <span class="hljs-string">&quot;expression&quot;</span>: <span class="hljs-string">&quot;x=18+6*7&quot;</span><br>    &#125;<br><br>    solving_engine.run(feed_input_ap)<br><br>    <span class="hljs-comment"># æ·±æ‹·è´æ¥è§£å†³è·å–å¯¹è±¡å‚æ•°æ”¹å˜ï¼Œåˆ—è¡¨å†…å®¹åŒæ—¶æ”¹å˜çš„æƒ…å†µ</span><br>    result = solving_engine.get_solving_result()<br>    <span class="hljs-keyword">for</span> key, value <span class="hljs-keyword">in</span> result.items():<br>        <span class="hljs-keyword">if</span> value != [] <span class="hljs-keyword">and</span> value != <span class="hljs-string">&quot;&quot;</span> <span class="hljs-keyword">and</span> value != &#123;&#125;:<br>            <span class="hljs-built_in">print</span>(key, value)<br><br></code></pre></td></tr></table></figure><p>1.é‡ç‚¹ä¿®æ”¹<code>feed_input_ap</code>ã€‚ä¸”<strong>å­—å…¸çš„keyå€¼åº”åœ¨SharedStateDataçš„å±æ€§ä¸­</strong>ã€‚</p><h2 id="3-ä¿®æ”¹MimicConfig"><a href="#3-ä¿®æ”¹MimicConfig" class="headerlink" title="3.ä¿®æ”¹MimicConfig"></a>3.ä¿®æ”¹MimicConfig</h2><p><img src="/2024/03/30/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/NLP/%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/MWP/MimicSolver/MimicSolver%E6%9B%B4%E6%96%B0%E8%BF%87%E7%A8%8B/4.png"></p><h2 id="4-æ–°å¢state"><a href="#4-æ–°å¢state" class="headerlink" title="4.æ–°å¢state"></a>4.æ–°å¢state</h2><p><img src="/2024/03/30/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/NLP/%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/MWP/MimicSolver/MimicSolver%E6%9B%B4%E6%96%B0%E8%BF%87%E7%A8%8B/5.png"></p><h2 id="5-ä¿®æ”¹å…¶ä»–stateçš„decide"><a href="#5-ä¿®æ”¹å…¶ä»–stateçš„decide" class="headerlink" title="5.ä¿®æ”¹å…¶ä»–stateçš„decide"></a>5.ä¿®æ”¹å…¶ä»–stateçš„decide</h2><p><img src="/2024/03/30/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/NLP/%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/MWP/MimicSolver/MimicSolver%E6%9B%B4%E6%96%B0%E8%BF%87%E7%A8%8B/6.png"></p><h2 id="6-ä¿®æ”¹state-init-py"><a href="#6-ä¿®æ”¹state-init-py" class="headerlink" title="6.ä¿®æ”¹state&#x2F;init.py"></a>6.ä¿®æ”¹state&#x2F;init.py</h2><p><img src="/2024/03/30/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/NLP/%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/MWP/MimicSolver/MimicSolver%E6%9B%B4%E6%96%B0%E8%BF%87%E7%A8%8B/7.png"></p><h2 id="7-æ–°å¢transit"><a href="#7-æ–°å¢transit" class="headerlink" title="7.æ–°å¢transit"></a>7.æ–°å¢transit</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">APTextToSceneCombination</span>(<span class="hljs-title class_ inherited__">Transit</span>):<br>    transit_name: <span class="hljs-built_in">str</span> = <span class="hljs-string">&quot;APTextToSceneCombination&quot;</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">super</span>().__init__()<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_check</span>(<span class="hljs-params">self, transitors: <span class="hljs-type">List</span>[<span class="hljs-built_in">str</span>]</span>) -&gt; <span class="hljs-literal">None</span>:<br>        <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        Executes the transit check, checking whether all transitors have been defined.</span><br><span class="hljs-string">        :param transitors:</span><br><span class="hljs-string">        :raises AssertionError: If operation has no predecessors.</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>        functions = [<br>            fn_name<br>            <span class="hljs-keyword">for</span> fn_name, _ <span class="hljs-keyword">in</span> inspect.getmembers(<br>                APTextToSceneCombination, predicate=inspect.isfunction<br>            )<br>        ]<br>        <span class="hljs-keyword">for</span> t <span class="hljs-keyword">in</span> transitors:<br>            <span class="hljs-keyword">if</span> t <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> functions:<br>                <span class="hljs-keyword">raise</span> ValueError(<span class="hljs-string">&quot;transitors %s has not defined&quot;</span>.<span class="hljs-built_in">format</span>(t))<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">scene_reasoning</span>(<span class="hljs-params">self, shared_state_data: SharedStateData</span>):<br>        sentence= shared_state_data.text<br>        model_path1 = <span class="hljs-string">&#x27;D:/Python/MimicSolver/dl_model/trained_model/scene_trm/best_model1.pth&#x27;</span><br>        model_path2 = <span class="hljs-string">&#x27;D:/Python/MimicSolver/dl_model/trained_model/scene_trm/best_model2.pth&#x27;</span><br><br>        result1 = predict_scene_trm1(sentence, model_path1)<br>        result2 = predict_scene_trm2(sentence, model_path2)<br><br>        <span class="hljs-built_in">print</span>(result1,result2)<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">SceneCombinationToOutputSolution</span>(<span class="hljs-title class_ inherited__">Transit</span>):<br>    transit_name: <span class="hljs-built_in">str</span> = <span class="hljs-string">&quot;SceneCombinationToOutputSolution&quot;</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">super</span>().__init__()<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_check</span>(<span class="hljs-params">self, transitors: <span class="hljs-type">List</span>[<span class="hljs-built_in">str</span>]</span>) -&gt; <span class="hljs-literal">None</span>:<br>        <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        Executes the transit check, checking whether all transitors have been defined.</span><br><span class="hljs-string">        :param transitors:</span><br><span class="hljs-string">        :raises AssertionError: If operation has no predecessors.</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>        functions = [<br>            fn_name<br>            <span class="hljs-keyword">for</span> fn_name, _ <span class="hljs-keyword">in</span> inspect.getmembers(<br>                SceneCombinationToOutputSolution, predicate=inspect.isfunction<br>            )<br>        ]<br>        <span class="hljs-keyword">for</span> t <span class="hljs-keyword">in</span> transitors:<br>            <span class="hljs-keyword">if</span> t <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> functions:<br>                <span class="hljs-keyword">raise</span> ValueError(<span class="hljs-string">&quot;transitors %s has not defined&quot;</span>.<span class="hljs-built_in">format</span>(t))<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">scene_compute</span>(<span class="hljs-params">self, shared_state_data: SharedStateData</span>):<br><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;scene_compute&quot;</span>)<br></code></pre></td></tr></table></figure><p>1.ä¿®æ”¹check</p><p>2.ä¿®æ”¹transitç±»ä¸­çš„å…·ä½“æ‰§è¡Œå‡½æ•°ï¼Œæ”¹æˆå¯¹åº”çš„çš„transitåå­—</p><h2 id="8-ä¿®æ”¹transit-init-py"><a href="#8-ä¿®æ”¹transit-init-py" class="headerlink" title="8.ä¿®æ”¹transit&#x2F;init.py"></a>8.ä¿®æ”¹transit&#x2F;init.py</h2><p><img src="/2024/03/30/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/NLP/%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/MWP/MimicSolver/MimicSolver%E6%9B%B4%E6%96%B0%E8%BF%87%E7%A8%8B/8.png"></p><h2 id="9-ä¿®æ”¹core-init-py"><a href="#9-ä¿®æ”¹core-init-py" class="headerlink" title="9.ä¿®æ”¹core&#x2F;init.py"></a>9.ä¿®æ”¹core&#x2F;init.py</h2><p><img src="/2024/03/30/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/NLP/%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/MWP/MimicSolver/MimicSolver%E6%9B%B4%E6%96%B0%E8%BF%87%E7%A8%8B/9.png"></p><h2 id="10-ä¿®æ”¹ShareStateData"><a href="#10-ä¿®æ”¹ShareStateData" class="headerlink" title="10.ä¿®æ”¹ShareStateData"></a>10.ä¿®æ”¹ShareStateData</h2><p>å¦‚éœ€æ–°å¢çŠ¶æ€ï¼Œåˆ™ä¿®æ”¹</p>]]></content>
    
    
    <categories>
      
      <category>AI Ê¢áµ•á´—áµ•Ê¡</category>
      
      <category>NLP</category>
      
      <category>NLPé¡¹ç›®å®æˆ˜</category>
      
      <category>MWP</category>
      
      <category>MimicSolver</category>
      
    </categories>
    
    
    <tags>
      
      <tag>AI</tag>
      
      <tag>NLP</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Berté¢„è®­ç»ƒ!ğŸŒ</title>
    <link href="/2024/03/27/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/Pytorch/%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/Bert%E9%A2%84%E8%AE%AD%E7%BB%83/"/>
    <url>/2024/03/27/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/Pytorch/%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/Bert%E9%A2%84%E8%AE%AD%E7%BB%83/</url>
    
    <content type="html"><![CDATA[]]></content>
    
    
    <categories>
      
      <category>AI Ê¢áµ•á´—áµ•Ê¡</category>
      
      <category>Pytorch</category>
      
      <category>Pytorché¡¹ç›®å®æˆ˜</category>
      
    </categories>
    
    
    <tags>
      
      <tag>AI</tag>
      
      <tag>Pytorch</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Bertä»‹ç»ï¼ğŸ’</title>
    <link href="/2024/03/26/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/NLP/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/NLP%E6%A8%A1%E5%9E%8B/Bert/"/>
    <url>/2024/03/26/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/NLP/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/NLP%E6%A8%A1%E5%9E%8B/Bert/</url>
    
    <content type="html"><![CDATA[<h1 id="Bertä»‹ç»"><a href="#Bertä»‹ç»" class="headerlink" title="Bertä»‹ç»"></a>Bertä»‹ç»</h1><h2 id="1-æ¨¡å‹ç»“æ„"><a href="#1-æ¨¡å‹ç»“æ„" class="headerlink" title="1.æ¨¡å‹ç»“æ„"></a>1.æ¨¡å‹ç»“æ„</h2><p><img src="/2024/03/26/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/NLP/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/NLP%E6%A8%A1%E5%9E%8B/Bert/1.png"></p><p>æ¨¡å‹å¯ä»¥ç®€å•çš„å½’çº³ä¸ºä¸‰ä¸ªéƒ¨åˆ†ï¼Œåˆ†åˆ«æ˜¯è¾“å…¥å±‚ï¼Œä¸­é—´å±‚ï¼Œä»¥åŠè¾“å‡ºå±‚ã€‚è¿™äº›éƒ½å’Œtransformerçš„encoderä¸€è‡´ï¼Œé™¤äº†è¾“å…¥å±‚æœ‰ç•¥å¾®å˜åŒ–ã€‚</p><h3 id="1-1-è¾“å…¥å±‚"><a href="#1-1-è¾“å…¥å±‚" class="headerlink" title="1.1 è¾“å…¥å±‚"></a>1.1 è¾“å…¥å±‚</h3><p><img src="/2024/03/26/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/NLP/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/NLP%E6%A8%A1%E5%9E%8B/Bert/2.png"></p><p>ä¸ºäº†ä½¿å¾—BERTæ¨¡å‹é€‚åº”ä¸‹æ¸¸çš„ä»»åŠ¡ï¼ˆæ¯”å¦‚è¯´åˆ†ç±»ä»»åŠ¡ï¼Œä»¥åŠå¥å­å…³ç³»QAçš„ä»»åŠ¡ï¼‰ï¼Œè¾“å…¥å°†è¢«æ”¹é€ æˆ[CLS]+å¥å­Aï¼ˆ+[SEP]+å¥å­B+[SEP]ï¼‰ å…¶ä¸­</p><ul><li>[CLS]: ä»£è¡¨çš„æ˜¯åˆ†ç±»ä»»åŠ¡çš„ç‰¹æ®Štokenï¼Œå®ƒçš„è¾“å‡ºå°±æ˜¯æ¨¡å‹çš„pooler output</li><li>[SEP]ï¼šåˆ†éš”ç¬¦</li><li>å¥å­Aä»¥åŠå¥å­Bæ˜¯æ¨¡å‹çš„è¾“å…¥æ–‡æœ¬ï¼Œå…¶ä¸­å¥å­Bå¯ä»¥ä¸ºç©ºï¼Œåˆ™è¾“å…¥å˜ä¸º[CLS]+å¥å­A</li></ul><p>å› ä¸ºtrasnformeræ— æ³•è·å¾—å­—çš„ä½ç½®ä¿¡æ¯ï¼ŒBERTå’Œtransformerä¸€æ ·ä¹ŸåŠ å…¥äº† ç»å¯¹ä½ç½® position encodingï¼Œä½†æ˜¯å’Œtransformerä¸åŒçš„æ˜¯ï¼ŒBERTä½¿ç”¨çš„æ˜¯ä¸æ˜¯transformerå¯¹åº”çš„å‡½æ•°å‹(functional)çš„encodingæ–¹å¼ï¼Œè€Œæ˜¯ç›´æ¥é‡‡ç”¨ç±»ä¼¼word embeddingçš„æ–¹å¼ï¼ˆParametricï¼‰ï¼Œç›´æ¥è·å¾—position embeddingã€‚</p><p>å› ä¸ºæˆ‘ä»¬å¯¹è¾“å…¥è¿›è¡Œäº†æ”¹é€ ï¼Œä½¿å¾—æ¨¡å‹å¯èƒ½æœ‰å¤šä¸ªå¥å­Segmentçš„è¾“å…¥ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¹Ÿéœ€è¦åŠ å…¥segmentçš„embeddingï¼Œä¾‹å¦‚<code>[CLS], A_1, A_2, A_3,[SEP], B_1, B_2, B_3, [SEP]</code> å¯¹åº”çš„segmentçš„è¾“å…¥æ˜¯<code>[0,0,0,0,0,1,1,1,1]</code>, ç„¶ååœ¨æ ¹æ®segment idè¿›è¡Œembedding_lookupå¾—åˆ°segment embeddingã€‚ code snippetå¦‚ä¸‹ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python">tokens.append(<span class="hljs-string">&quot;[CLS]&quot;</span>)<br>segment_ids.append(<span class="hljs-number">0</span>)<br><span class="hljs-keyword">for</span> token <span class="hljs-keyword">in</span> tokens_a:<br>  tokens.append(token)<br>  segment_ids.append(<span class="hljs-number">0</span>)<br><br>tokens.append(<span class="hljs-string">&quot;[SEP]&quot;</span>)<br>segment_ids.append(<span class="hljs-number">0</span>)<br><br><span class="hljs-keyword">for</span> token <span class="hljs-keyword">in</span> tokens_b:<br>  tokens.append(token)<br>  segment_ids.append(<span class="hljs-number">1</span>)<br>tokens.append(<span class="hljs-string">&quot;[SEP]&quot;</span>)<br>segment_ids.append(<span class="hljs-number">1</span>)<br></code></pre></td></tr></table></figure><h3 id="1-2-ä¸­é—´å±‚"><a href="#1-2-ä¸­é—´å±‚" class="headerlink" title="1.2 ä¸­é—´å±‚"></a>1.2 ä¸­é—´å±‚</h3><p><img src="/2024/03/26/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/NLP/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/NLP%E6%A8%A1%E5%9E%8B/Bert/3.png"></p><p>æ¨¡å‹çš„ä¸­é—´å±‚å’Œtransformerçš„encoderä¸€æ ·ï¼Œéƒ½æ˜¯ç”±self-attention layer + ADD&amp;BatchNorm layer + FFN å±‚ç»„æˆçš„ã€‚</p><h3 id="1-3-è¾“å‡ºå±‚"><a href="#1-3-è¾“å‡ºå±‚" class="headerlink" title="1.3 è¾“å‡ºå±‚"></a>1.3 è¾“å‡ºå±‚</h3><p><img src="/2024/03/26/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/NLP/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/NLP%E6%A8%A1%E5%9E%8B/Bert/4.png"></p><p>æ¨¡å‹çš„æ¯ä¸€ä¸ªè¾“å…¥éƒ½å¯¹åº”è¿™ä¸€ä¸ªè¾“å‡ºï¼Œæ ¹æ®ä¸åŒçš„ä»»åŠ¡æˆ‘ä»¬å¯ä»¥é€‰æ‹©ä¸åŒçš„è¾“å‡ºï¼Œä¸»è¦æœ‰ä¸¤ç±»è¾“å‡º</p><ul><li>pooler outputï¼šå¯¹åº”çš„æ˜¯[CLS]çš„è¾“å‡ºã€‚</li><li>sequence outputï¼šå¯¹åº”çš„æ˜¯æ‰€æœ‰å…¶ä»–çš„è¾“å…¥å­—çš„æœ€åè¾“å‡ºã€‚</li></ul><h2 id="2-æ¨¡å‹æ¡†æ¶"><a href="#2-æ¨¡å‹æ¡†æ¶" class="headerlink" title="2.æ¨¡å‹æ¡†æ¶"></a>2.æ¨¡å‹æ¡†æ¶</h2><p>BERTæå‡ºçš„æ˜¯ä¸€ä¸ªæ¡†æ¶ï¼Œä¸»è¦ç”±ä¸¤ä¸ªé˜¶æ®µç»„æˆã€‚åˆ†åˆ«æ˜¯Pre-trainingä»¥åŠFine-Tuningã€‚</p><h3 id="2-1-é¢„è®­ç»ƒ"><a href="#2-1-é¢„è®­ç»ƒ" class="headerlink" title="2.1 é¢„è®­ç»ƒ"></a>2.1 é¢„è®­ç»ƒ</h3><h4 id="2-1-1-MLM"><a href="#2-1-1-MLM" class="headerlink" title="2.1.1 MLM"></a>2.1.1 MLM</h4><p>BERTç¬¬ä¸€æ¬¡é‡‡ç”¨äº†mask language modelï¼ˆMLMï¼‰ä»»åŠ¡ï¼Œè¿™å°±ç±»ä¼¼äºå®Œå½¢å¡«ç©º(Cloze task)ã€‚</p><p>å…·ä½“çš„åšæ³•ï¼š æˆ‘ä»¬ä¼šéšæœºmaskè¾“å…¥çš„å‡ ä¸ªè¯ï¼Œç„¶åé¢„æµ‹è¿™ä¸ªè¯ã€‚ä½†æ˜¯è¿™æ ·å­åšçš„åå¤„æ˜¯å› ä¸ºfine-tuningé˜¶æ®µä¸­å¹¶æ²¡æœ‰[MASK] tokenï¼Œæ‰€ä»¥å¯¼è‡´äº†pre-training å’Œ ï¬ne-tuningçš„ä¸åŒ¹é…çš„æƒ…å†µã€‚æ‰€ä»¥ä¸ºäº†å‡è½»è¿™ä¸ªé—®é¢˜ï¼Œæ–‡ç« ä¸­é‡‡ç”¨çš„åšæ³•æ˜¯ï¼šå¯¹äºè¦MASK 15%çš„tokensï¼Œ</p><ul><li>(1) 80%çš„æƒ…å†µæ˜¯æ›¿æ¢æˆ[MASK]</li><li>(2) 10%çš„æƒ…å†µæ˜¯æ›¿æ¢ä¸ºéšæœºçš„token</li><li>(3) 10%çš„æƒ…å†µæ˜¯ä¿æŒä¸å˜ å…·ä½“çš„code snippetå¦‚ä¸‹ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">for</span> index <span class="hljs-keyword">in</span> cand_indexes:<br>  <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(masked_lms) &gt;= num_to_predict: <span class="hljs-comment"># 15% of total tokens</span><br>    <span class="hljs-keyword">break</span><br>  ...<br>  masked_token = <span class="hljs-literal">None</span><br>  <span class="hljs-comment"># 80% of the time, replace with [MASK]</span><br>  <span class="hljs-keyword">if</span> rng.random() &lt; <span class="hljs-number">0.8</span>:<br>    masked_token = <span class="hljs-string">&quot;[MASK]&quot;</span><br>  <span class="hljs-keyword">else</span>:<br>    <span class="hljs-comment"># 10% of the time, keep original</span><br>    <span class="hljs-keyword">if</span> rng.random() &lt; <span class="hljs-number">0.5</span>:<br>      masked_token = tokens[index]<br>    <span class="hljs-comment"># 10% of the time, replace with random word</span><br>    <span class="hljs-keyword">else</span>:<br>      masked_token = vocab_words[rng.randint(<span class="hljs-number">0</span>, <span class="hljs-built_in">len</span>(vocab_words) - <span class="hljs-number">1</span>)]<br><br>  output_tokens[index] = masked_token<br></code></pre></td></tr></table></figure><h4 id="2-1-2-NSP"><a href="#2-1-2-NSP" class="headerlink" title="2.1.2 NSP"></a>2.1.2 NSP</h4><p>ä¸ºäº†é€‚é…ä¸‹æ¸¸ä»»åŠ¡ï¼Œä½¿å¾—æ¨¡å‹æ‡‚å¾—å¥å­ä¹‹é—´çš„å…³ç³»ï¼ŒBERTåŠ äº†ä¸€ä¸ªæ–°çš„è®­ç»ƒä»»åŠ¡ï¼Œé¢„æµ‹ä¸¤ä¸ªå¥å­æ˜¯ä¸æ˜¯ä¸‹ä¸€å¥çš„å…³ç³»ã€‚</p><p>å…·ä½“æ¥è¯´ï¼š50%çš„æ¦‚ç‡ï¼Œå¥å­Aå’Œå¥å­Bæ˜¯æ¥è‡ªåŒä¸€ä¸ªæ–‡æ¡£çš„ä¸Šä¸‹å¥ï¼Œæ ‡è®°ä¸º<code>is_random_next=False</code>, 50%çš„æ¦‚ç‡ï¼Œå¥å­Aå’Œå¥å­Bä¸æ˜¯åŒä¸€ä¸ªæ–‡æ¡£çš„ä¸Šä¸‹å¥ï¼Œå…·ä½“çš„åšæ³•å°±æ˜¯ï¼Œé‡‡ç”¨ä»å…¶ä»–çš„æ–‡æ¡£(document)ä¸­ï¼ŒåŠ å…¥æ–°çš„è¿ç»­å¥å­(segments)ä½œä¸ºå¥å­Bã€‚å…·ä½“å‚è€ƒ<code>create_instances_from_document</code>å‡½æ•°ã€‚</p><p>é¦–å…ˆæˆ‘ä»¬ä¼šæœ‰ä¸€ä¸ªall_documentså­˜å‚¨æ‰€æœ‰çš„documentsï¼Œæ¯ä¸ªdocumentsæ˜¯ç”±å¥å­segemntsç»„æˆçš„ï¼Œæ¯ä¸ªsegmentæ˜¯ç”±å•ä¸ªtokenç»„æˆçš„ã€‚æˆ‘ä»¬é¦–å…ˆåˆå§‹åŒ–ä¸€ä¸ªchunkæ•°ç»„ï¼Œæ¯æ¬¡éƒ½å¾€chunkä¸­æ·»åŠ åŒä¸€ä¸ªdocumentä¸­çš„ä¸€ä¸ªå¥å­ï¼Œå½“chunkçš„é•¿åº¦å¤§äºtargetçš„é•¿åº¦ï¼ˆæ­¤å¤„targetçš„é•¿åº¦ä¸€èˆ¬æ˜¯<code>max_seq_length</code>ï¼Œä½†æ˜¯ä¸ºäº†åŒ¹é…ä¸‹æ¸¸ä»»åŠ¡ï¼Œtargetçš„é•¿åº¦å¯ä»¥è®¾ç½®ä¸€å®šæ¯”ä¾‹<code>short_seq_prob</code>çš„é•¿åº¦å°‘äº<code>max_seq_length</code>ï¼‰çš„æ—¶å€™ï¼Œéšæœºé€‰æ‹©ä¸€ä¸ªæŸä¸ªå¥å­ä½œä¸ºåˆ†å‰²ç‚¹ï¼Œå‰é¢çš„ä½œä¸ºå¥å­Aï¼Œåé¢çš„ä½œä¸ºå¥å­Bã€‚ chunk &#x3D; [Sentence1, Sentence2,â€¦, SentenceN], æˆ‘ä»¬éšæœºé€‰æ‹©é€‰æ‹©ä¸€ä¸ªå¥å­ä½œä¸ºå¥å­Açš„ç»“å°¾ï¼Œä¾‹å¦‚2ä½œä¸ºå¥å­ç»“å°¾ï¼Œåˆ™å¥å­Aä¸º&#x3D;[Sentence1, Sentence2]ã€‚æˆ‘ä»¬æœ‰50%çš„å‡ ç‡é€‰æ‹©å‰©ä¸‹çš„å¥å­[Sentence3,â€¦SentenceN]ä½œä¸ºå¥å­Bï¼Œæˆ–è€…50%çš„å‡ ç‡æ—¶çš„å¥å­Bæ˜¯ä»å…¶ä»–æ–‡æ¡£ä¸­çš„å¦å¤–å¤šä¸ªå¥å­ã€‚</p><p>è¿™æ—¶å€™å¯èƒ½ä¼šå¯¼è‡´æˆ‘ä»¬çš„è®­ç»ƒæ ·æœ¬çš„æ€»é•¿åº¦<code>len(input_ids)</code>å¤§äºæˆ–è€…å°äºæˆ‘ä»¬çš„éœ€è¦çš„è®­ç»ƒæ ·æœ¬é•¿åº¦<code>max_seq_length</code>ã€‚</p><ul><li>å¦‚æœ<code>len(input_ids) &gt; max_seq_length</code>, å…·ä½“çš„åšæ³•æ˜¯åˆ†åˆ«åˆ é™¤æ¯”è¾ƒé•¿çš„ä¸€ä¸ªå¥å­ä¸­çš„å¤´(50%)æˆ–å°¾(50%)çš„token</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">truncate_seq_pair</span>(<span class="hljs-params">tokens_a, tokens_b, max_num_tokens, rng</span>):<br><span class="hljs-string">&quot;&quot;&quot;Truncates a pair of sequences to a maximum sequence length.&quot;&quot;&quot;</span><br>  <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>    total_length = <span class="hljs-built_in">len</span>(tokens_a) + <span class="hljs-built_in">len</span>(tokens_b)<br>    <span class="hljs-keyword">if</span> total_length &lt;= max_num_tokens:<br>      <span class="hljs-keyword">break</span><br><br>    trunc_tokens = tokens_a <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(tokens_a) &gt; <span class="hljs-built_in">len</span>(tokens_b) <span class="hljs-keyword">else</span> tokens_b<br>    <span class="hljs-keyword">assert</span> <span class="hljs-built_in">len</span>(trunc_tokens) &gt;= <span class="hljs-number">1</span><br><br>    <span class="hljs-comment"># We want to sometimes truncate from the front and sometimes from the</span><br>    <span class="hljs-comment"># back to add more randomness and avoid biases.</span><br>    <span class="hljs-keyword">if</span> rng.random() &lt; <span class="hljs-number">0.5</span>:<br>      <span class="hljs-keyword">del</span> trunc_tokens[<span class="hljs-number">0</span>]<br>    <span class="hljs-keyword">else</span>:<br>      trunc_tokens.pop()<br></code></pre></td></tr></table></figure><ul><li>å¦‚æœ<code>len(input_ids) &lt; max_seq_length</code>, é‡‡ç”¨çš„åšæ³•æ˜¯è¡¥0ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">while</span> <span class="hljs-built_in">len</span>(input_ids) &lt; max_seq_length:<br>   input_ids.append(<span class="hljs-number">0</span>)<br>   input_mask.append(<span class="hljs-number">0</span>)<br>   segment_ids.append(<span class="hljs-number">0</span>)<br></code></pre></td></tr></table></figure><p>æ ¹æ®æˆ‘ä»¬çš„ä¸¤ä¸ªä»»åŠ¡ï¼Œæˆ‘ä»¬é¢„è®­ç»ƒæ¨¡å‹çš„è¾“å…¥ä¸»è¦ç”±ä»¥ä¸‹7ä¸ªç‰¹å¾ç»„æˆã€‚</p><ul><li><code>input_ids</code>: è¾“å…¥çš„tokenå¯¹åº”çš„id</li><li><code>input_mask</code>: è¾“å…¥çš„maskï¼Œ1ä»£è¡¨æ˜¯æ­£å¸¸è¾“å…¥ï¼Œ0ä»£è¡¨çš„æ˜¯paddingçš„è¾“å…¥</li><li><code>segment_ids</code>: è¾“å…¥çš„0ï¼šä»£è¡¨å¥å­Aæˆ–è€…paddingå¥å­ï¼Œ1ä»£è¡¨å¥å­B</li><li><code>masked_lm_positions</code>ï¼šæˆ‘ä»¬maskçš„tokençš„ä½ç½®</li><li><code>masked_lm_ids</code>ï¼šæˆ‘ä»¬maskçš„tokençš„å¯¹åº”id</li><li><code>masked_lm_weights</code>ï¼šæˆ‘ä»¬maskçš„tokençš„æƒé‡ï¼Œ1ä»£è¡¨æ˜¯çœŸå®maskçš„ï¼Œ0ä»£è¡¨çš„æ˜¯paddingçš„mask</li><li><code>next_sentence_labels</code>ï¼šå¥å­Aå’ŒBæ˜¯å¦æ˜¯ä¸Šä¸‹å¥</li></ul><h3 id="2-2-å¾®è°ƒ"><a href="#2-2-å¾®è°ƒ" class="headerlink" title="2.2 å¾®è°ƒ"></a>2.2 å¾®è°ƒ</h3><p>åœ¨Fine-Tuningé˜¶æ®µçš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥ç®€å•çš„pluginä»»åŠ¡ç‰¹å®šçš„è¾“å…¥å’Œè¾“å‡ºï¼Œä½œä¸ºè®­ç»ƒã€‚ ä¾‹å¦‚ï¼š</p><ul><li>2å¥å­ pairsï¼š ç›¸ä¼¼åº¦ä»»åŠ¡,</li><li>å‡è®¾-å‰æ pairsï¼š æ¨ç†ä»»åŠ¡,</li><li>é—®é¢˜-æ–‡ç«  pairs ï¼š QAä»»åŠ¡</li><li>textâˆ’âˆ… pairï¼š æ–‡æœ¬åˆ†ç±» or åºåˆ—æ ‡æ³¨.</li></ul><p>[CLS] representation è¢«å–‚åˆ° æœ€åä¸€å±‚ä½œä¸ºclassiï¬cationçš„ç»“æœä¾‹å¦‚ æ¨ç†ä»»åŠ¡æˆ–è€… æƒ…æ„Ÿåˆ†æä»»åŠ¡ã€‚</p><p>åœ¨è¿™ä¸ªä»»åŠ¡ä¸­ï¼Œå°±ä¸éœ€è¦MLMä»»åŠ¡ä»¥åŠNSPä»»åŠ¡æ‰€éœ€è¦çš„è¾“å…¥äº†ï¼Œæ‰€ä»¥å°±åªæœ‰å›ºå®šè¾“å…¥features(<code>input_ids</code>, <code>input_mask</code>, <code>segment_ids</code>)ä»¥åŠä»»åŠ¡ç‰¹å®šfeatures</p><p>ä¾‹å¦‚åˆ†ç±»ä»»åŠ¡çš„è¾“å…¥ç‰¹å¾ï¼š</p><ul><li><code>input_ids</code>: è¾“å…¥çš„tokenå¯¹åº”çš„id</li><li><code>input_mask</code>: è¾“å…¥çš„maskï¼Œ1ä»£è¡¨æ˜¯æ­£å¸¸è¾“å…¥ï¼Œ0ä»£è¡¨çš„æ˜¯paddingçš„è¾“å…¥</li><li><code>segment_ids</code>: è¾“å…¥çš„0ï¼šä»£è¡¨å¥å­Aæˆ–è€…paddingå¥å­ï¼Œ1ä»£è¡¨å¥å­B</li><li><code>label_ids</code>ï¼šè¾“å…¥çš„æ ·æœ¬çš„label</li></ul>]]></content>
    
    
    <categories>
      
      <category>AI Ê¢áµ•á´—áµ•Ê¡</category>
      
      <category>NLP</category>
      
      <category>NLPåŸºç¡€çŸ¥è¯†</category>
      
      <category>NLPæ¨¡å‹</category>
      
    </categories>
    
    
    <tags>
      
      <tag>AI</tag>
      
      <tag>NLP</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>transformerè¯­è¨€ç¿»è¯‘!ğŸŒ</title>
    <link href="/2024/03/19/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/Pytorch/%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/transformer%E8%AF%AD%E8%A8%80%E7%BF%BB%E8%AF%91/"/>
    <url>/2024/03/19/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/Pytorch/%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/transformer%E8%AF%AD%E8%A8%80%E7%BF%BB%E8%AF%91/</url>
    
    <content type="html"><![CDATA[<h1 id="transformerè¯­è¨€ç¿»è¯‘"><a href="#transformerè¯­è¨€ç¿»è¯‘" class="headerlink" title="transformerè¯­è¨€ç¿»è¯‘"></a>transformerè¯­è¨€ç¿»è¯‘</h1><h2 id="1-æ•°æ®æ¥æºå’Œå¤„ç†"><a href="#1-æ•°æ®æ¥æºå’Œå¤„ç†" class="headerlink" title="1.æ•°æ®æ¥æºå’Œå¤„ç†"></a>1.æ•°æ®æ¥æºå’Œå¤„ç†</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><code class="hljs python">SRC_LANGUAGE = <span class="hljs-string">&#x27;de&#x27;</span><br>TGT_LANGUAGE = <span class="hljs-string">&#x27;en&#x27;</span><br><br>token_transform = &#123;&#125;<br>vocab_transform = &#123;&#125;<br><br>token_transform[SRC_LANGUAGE] = get_tokenizer(<span class="hljs-string">&#x27;spacy&#x27;</span>, language=<span class="hljs-string">&#x27;de_core_news_md-3.7.0&#x27;</span>)<br>token_transform[TGT_LANGUAGE] = get_tokenizer(<span class="hljs-string">&#x27;spacy&#x27;</span>, language=<span class="hljs-string">&#x27;en_core_web_md-3.7.1&#x27;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">yield_tokens</span>(<span class="hljs-params">data_iter: Iterable, language: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-type">List</span>[<span class="hljs-built_in">str</span>]:<br>    language_index = &#123;SRC_LANGUAGE: <span class="hljs-number">0</span>, TGT_LANGUAGE: <span class="hljs-number">1</span>&#125;<br><br>    <span class="hljs-keyword">for</span> data_sample <span class="hljs-keyword">in</span> data_iter:<br>        tokenized_text = token_transform[language](data_sample[language_index[language]])<br>        <span class="hljs-comment"># print(tokenized_text)</span><br>        <span class="hljs-keyword">yield</span> tokenized_text<br><br><br>UNK_IDX, PAD_IDX, BOS_IDX, EOS_IDX = <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span><br><br>special_symbols = [<span class="hljs-string">&#x27;&lt;unk&gt;&#x27;</span>, <span class="hljs-string">&#x27;&lt;pad&gt;&#x27;</span>, <span class="hljs-string">&#x27;&lt;bos&gt;&#x27;</span>, <span class="hljs-string">&#x27;&lt;eos&gt;&#x27;</span>]<br><br>train_path_en = <span class="hljs-string">&#x27;train.en&#x27;</span><br>train_path_de = <span class="hljs-string">&#x27;train.de&#x27;</span><br>data_pipe_train_en = dp.<span class="hljs-built_in">iter</span>.IterableWrapper([train_path_en])<br>data_pipe_train_de = dp.<span class="hljs-built_in">iter</span>.IterableWrapper([train_path_de])<br><br>train_src_data_dp = dp.<span class="hljs-built_in">iter</span>.FileOpener(data_pipe_train_de, encoding=<span class="hljs-string">&quot;utf-8&quot;</span>).readlines(<br>    return_path=<span class="hljs-literal">False</span>, strip_newline=<span class="hljs-literal">True</span><br>)<br><br>train_tgt_data_dp = dp.<span class="hljs-built_in">iter</span>.FileOpener(data_pipe_train_en, encoding=<span class="hljs-string">&quot;utf-8&quot;</span>).readlines(<br>    return_path=<span class="hljs-literal">False</span>, strip_newline=<span class="hljs-literal">True</span><br>)<br><br>train_iter = train_src_data_dp.<span class="hljs-built_in">zip</span>(train_tgt_data_dp).shuffle().set_shuffle(<span class="hljs-literal">False</span>).sharding_filter()<br><br><span class="hljs-comment"># for sample in train_iter:</span><br><span class="hljs-comment">#     print(sample)</span><br><br><span class="hljs-keyword">for</span> ln <span class="hljs-keyword">in</span> [SRC_LANGUAGE, TGT_LANGUAGE]:<br>    vocab_transform[ln] = build_vocab_from_iterator(yield_tokens(train_iter, ln),<br>                                                    min_freq=<span class="hljs-number">1</span>,<br>                                                    specials=special_symbols,<br>                                                    special_first=<span class="hljs-literal">True</span>)<br><br><span class="hljs-keyword">for</span> ln <span class="hljs-keyword">in</span> [SRC_LANGUAGE, TGT_LANGUAGE]:<br>    vocab_transform[ln].set_default_index(UNK_IDX)<br><br><span class="hljs-comment"># print(vocab_transform[TGT_LANGUAGE].get_stoi())</span><br></code></pre></td></tr></table></figure><h2 id="2-ä½¿ç”¨-Transformer-çš„-Seq2Seq-ç½‘ç»œ"><a href="#2-ä½¿ç”¨-Transformer-çš„-Seq2Seq-ç½‘ç»œ" class="headerlink" title="2.ä½¿ç”¨ Transformer çš„ Seq2Seq ç½‘ç»œ"></a>2.ä½¿ç”¨ Transformer çš„ Seq2Seq ç½‘ç»œ</h2><h3 id="2-1-ä½ç½®ç¼–ç "><a href="#2-1-ä½ç½®ç¼–ç " class="headerlink" title="2.1 ä½ç½®ç¼–ç "></a>2.1 ä½ç½®ç¼–ç </h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs python">DEVICE = torch.device(<span class="hljs-string">&#x27;cuda&#x27;</span> <span class="hljs-keyword">if</span> torch.cuda.is_available() <span class="hljs-keyword">else</span> <span class="hljs-string">&#x27;cpu&#x27;</span>)<br><br><br><span class="hljs-comment"># print(DEVICE.type)</span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">PositionalEncoding</span>(nn.Module):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self,</span><br><span class="hljs-params">                 emb_size: <span class="hljs-built_in">int</span>,</span><br><span class="hljs-params">                 dropout: <span class="hljs-built_in">float</span>,</span><br><span class="hljs-params">                 maxlen: <span class="hljs-built_in">int</span> = <span class="hljs-number">5000</span></span>):<br>        <span class="hljs-built_in">super</span>().__init__()<br>        <span class="hljs-comment"># (emb_size/2)çš„ä¸€ç»´å¼ é‡</span><br>        den = torch.exp(- torch.arange(<span class="hljs-number">0</span>, emb_size, <span class="hljs-number">2</span>) * math.log(<span class="hljs-number">10000</span>) / emb_size)<br>        <span class="hljs-comment"># (5000, 1)çš„äºŒç»´å¼ é‡</span><br>        pos = torch.arange(<span class="hljs-number">0</span>, maxlen).reshape(maxlen, <span class="hljs-number">1</span>)<br>        <span class="hljs-comment"># (5000, emb_size)çš„äºŒç»´å…¨0å¼ é‡</span><br>        pos_embedding = torch.zeros((maxlen, emb_size))<br>        pos_embedding[:, <span class="hljs-number">0</span>::<span class="hljs-number">2</span>] = torch.sin(pos * den)<br>        pos_embedding[:, <span class="hljs-number">1</span>::<span class="hljs-number">2</span>] = torch.cos(pos * den)<br>        pos_embedding = pos_embedding.unsqueeze(-<span class="hljs-number">2</span>)<br><br>        self.dropout = nn.Dropout(dropout)<br>        self.register_buffer(<span class="hljs-string">&#x27;pos_embedding&#x27;</span>, pos_embedding)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, token_embedding: Tensor</span>):<br>        <span class="hljs-comment"># pos_embedding[:token_embedding.size(0), :]ï¼Œå…¶ä¸­token_embedding.size(0)æ˜¯è·å–è¾“å…¥å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œæ‰€ä»¥åœ¨åˆå§‹pos_embeddingæ—¶ä¼šç”¨maxlençš„å¤§å°</span><br>        <span class="hljs-keyword">return</span> self.dropout(token_embedding + self.pos_embedding[:token_embedding.size(<span class="hljs-number">0</span>), :])<br></code></pre></td></tr></table></figure><p><strong>tipsï¼š</strong></p><p>1.ä¸€æ—¦ä½¿ç”¨ <code>self.register_buffer(&#39;pos_embedding&#39;, pos_embedding)</code> å°† <code>pos_embedding</code> æ³¨å†Œä¸ºæ¨¡å‹çš„ç¼“å†²åŒºï¼Œå°±å¯ä»¥ä½¿ç”¨ <code>self.pos_embedding</code> æ¥è°ƒç”¨å®ƒã€‚</p><p>2.<strong>ä¸ºä»€ä¹ˆè¦æ³¨å†Œåˆ°ç¼“å†²åŒºï¼Ÿ</strong>åœ¨ PyTorch ä¸­ï¼Œæ¨¡å‹çš„å‚æ•°é€šå¸¸æ˜¯é€šè¿‡ <code>nn.Parameter</code> å¯¹è±¡è¿›è¡Œç®¡ç†çš„ï¼Œè¿™äº›å‚æ•°ä¼šéšç€æ¨¡å‹çš„è®­ç»ƒè€Œæ›´æ–°ã€‚ç„¶è€Œï¼Œå¹¶éæ‰€æœ‰çš„æ¨¡å‹å‚æ•°éƒ½éœ€è¦åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­è¢«æ›´æ–°ã€‚æœ‰äº›å‚æ•°æ˜¯åœ¨æ¨¡å‹çš„åˆå§‹åŒ–é˜¶æ®µå°±å›ºå®šä¸‹æ¥çš„ï¼Œæ¯”å¦‚åœ¨ Transformer æ¨¡å‹ä¸­çš„ä½ç½®ç¼–ç ã€‚</p><p>å¯¹äºè¿™ç§ä¸éœ€è¦æ›´æ–°çš„å›ºå®šå‚æ•°ï¼Œå°†å®ƒä»¬æ³¨å†Œä¸ºæ¨¡å‹çš„ç¼“å†²åŒºæ˜¯ä¸€ä¸ªæ¯”è¾ƒå¥½çš„åšæ³•ï¼Œè¿™æ ·åšæœ‰å‡ ä¸ªå¥½å¤„ï¼š</p><ol><li><strong>çŠ¶æ€ä¿å­˜å’ŒåŠ è½½</strong>ï¼šæ³¨å†Œä¸ºç¼“å†²åŒºçš„å‚æ•°ä¼šè¢«åŒ…å«åœ¨æ¨¡å‹çš„çŠ¶æ€å­—å…¸ï¼ˆstate_dictï¼‰ä¸­ï¼Œå› æ­¤åœ¨ä¿å­˜æ¨¡å‹æ—¶ï¼Œè¿™äº›å‚æ•°ä¼šè‡ªåŠ¨ä¿å­˜ã€‚åœ¨åŠ è½½æ¨¡å‹æ—¶ï¼Œè¿™äº›å‚æ•°ä¹Ÿä¼šè¢«è‡ªåŠ¨åŠ è½½ï¼Œè€Œä¸éœ€è¦é¢å¤–çš„å¤„ç†ã€‚</li><li><strong>GPU&#x2F;CPU è½¬ç§»</strong>ï¼šå½“æ¨¡å‹ç§»åŠ¨åˆ° GPU æˆ–è€… CPU ä¸Šæ—¶ï¼Œæ³¨å†Œä¸ºç¼“å†²åŒºçš„å‚æ•°ä¹Ÿä¼šè‡ªåŠ¨è·Ÿç€ç§»åŠ¨ï¼Œè€Œä¸éœ€è¦é¢å¤–çš„å¤„ç†ã€‚è¿™æ ·å¯ä»¥ä½¿å¾—ä»£ç æ›´å…·æœ‰é€šç”¨æ€§ï¼Œä¸éœ€è¦é’ˆå¯¹ä¸åŒè®¾å¤‡ç¼–å†™ä¸åŒçš„é€»è¾‘ã€‚</li><li><strong>ä»£ç å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§</strong>ï¼šé€šè¿‡å°†ä¸éœ€è¦æ›´æ–°çš„å‚æ•°æ³¨å†Œä¸ºç¼“å†²åŒºï¼Œå¯ä»¥æ›´åŠ æ¸…æ™°åœ°è¡¨è¾¾æ¨¡å‹ç»“æ„ã€‚è¿™æ ·å¯ä»¥ä½¿å¾—ä»£ç æ›´æ˜“äºç†è§£å’Œç»´æŠ¤ã€‚</li></ol><p>ç»¼ä¸Šæ‰€è¿°ï¼Œå°†ä¸éœ€è¦æ›´æ–°çš„å›ºå®šå‚æ•°æ³¨å†Œä¸ºæ¨¡å‹çš„ç¼“å†²åŒºæ˜¯ä¸€ç§è‰¯å¥½çš„å®è·µï¼Œèƒ½å¤Ÿæé«˜ä»£ç çš„å¯è¯»æ€§ã€å¯ç»´æŠ¤æ€§ï¼Œå¹¶ä¸”èƒ½å¤Ÿè‡ªåŠ¨å¤„ç†çŠ¶æ€ä¿å­˜ã€åŠ è½½å’Œè®¾å¤‡è½¬ç§»ç­‰é—®é¢˜ã€‚</p><h3 id="2-2-å­—ç¬¦ç¼–ç "><a href="#2-2-å­—ç¬¦ç¼–ç " class="headerlink" title="2.2 å­—ç¬¦ç¼–ç "></a>2.2 å­—ç¬¦ç¼–ç </h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">TokenEmbedding</span>(nn.Module):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, vocab_size: <span class="hljs-built_in">int</span>, emb_size</span>):<br>        <span class="hljs-built_in">super</span>().__init__()<br>        self.embedding = nn.Embedding(vocab_size, emb_size)<br>        self.emb_size = emb_size<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, tokens: Tensor</span>):<br>        <span class="hljs-comment"># embeddingçš„è¾“å…¥æ˜¯ä¸€ä¸ªå¼ é‡</span><br>        <span class="hljs-keyword">return</span> self.embedding(tokens.long()) * math.sqrt(self.emb_size)<br></code></pre></td></tr></table></figure><p><strong>tipsï¼š</strong></p><p>1.<strong>ä¸ºä»€ä¹ˆè¦ç”¨tokens.long()ï¼Ÿ</strong>åœ¨PyTorchä¸­ï¼Œ<code>nn.Embedding</code>å±‚çš„è¾“å…¥éœ€è¦æ˜¯é•¿æ•´å‹ï¼ˆ<code>LongTensor</code>ï¼‰ç±»å‹çš„æ•°æ®ã€‚<code>tokens.long()</code> çš„ä½œç”¨å°±æ˜¯å°†è¾“å…¥çš„ <code>tokens</code> å¼ é‡ä¸­çš„æ•°æ®ç±»å‹è½¬æ¢ä¸ºé•¿æ•´å‹ã€‚è¿™æ˜¯å› ä¸ºåœ¨å®é™…åº”ç”¨ä¸­ï¼Œtokens å¾€å¾€æ˜¯è¡¨ç¤ºè¯æ±‡è¡¨ä¸­æŸä¸ªè¯çš„ç´¢å¼•ï¼Œç´¢å¼•ä¸€èˆ¬æ˜¯æ•´æ•°ç±»å‹ï¼Œå› æ­¤éœ€è¦å°†å…¶è½¬æ¢ä¸ºé•¿æ•´å‹ï¼Œä»¥ä¾¿ä¸ <code>nn.Embedding</code> å±‚å…¼å®¹ã€‚</p><p>2.<strong>ä¸ºä»€ä¹ˆè¦ä¹˜math.sqrt(self.emb_size)ï¼Ÿ</strong><code>math.sqrt(self.emb_size)</code> è¢«ç”¨æ¥å¯¹åµŒå…¥å‘é‡è¿›è¡Œç¼©æ”¾æ“ä½œï¼Œå¯èƒ½æ˜¯ä¸ºäº†æ§åˆ¶åµŒå…¥å‘é‡çš„æ•°å€¼èŒƒå›´æˆ–æ–¹å·®ã€‚</p><h3 id="2-3-Transformer"><a href="#2-3-Transformer" class="headerlink" title="2.3 Transformer"></a>2.3 Transformer</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Seq2SeqTransformer</span>(nn.Module):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self,</span><br><span class="hljs-params">                 num_encoder_layers: <span class="hljs-built_in">int</span>,</span><br><span class="hljs-params">                 num_decoder_layers: <span class="hljs-built_in">int</span>,</span><br><span class="hljs-params">                 emb_size: <span class="hljs-built_in">int</span>,</span><br><span class="hljs-params">                 nhead: <span class="hljs-built_in">int</span>,</span><br><span class="hljs-params">                 src_vocab_size: <span class="hljs-built_in">int</span>,</span><br><span class="hljs-params">                 tgt_vocab_size: <span class="hljs-built_in">int</span>,</span><br><span class="hljs-params">                 dim_feedforward: <span class="hljs-built_in">int</span> = <span class="hljs-number">512</span>,</span><br><span class="hljs-params">                 dropout: <span class="hljs-built_in">float</span> = <span class="hljs-number">0.1</span></span>):<br>        <span class="hljs-built_in">super</span>().__init__()<br>        self.transformer = Transformer(d_model=emb_size,<br>                                       nhead=nhead,<br>                                       num_encoder_layers=num_encoder_layers,<br>                                       num_decoder_layers=num_decoder_layers,<br>                                       dim_feedforward=dim_feedforward,<br>                                       dropout=dropout)<br>        <span class="hljs-comment"># åˆå§‹åŒ–ä¸€ä¸ªçº¿æ€§å±‚ä½œä¸ºç”Ÿæˆå™¨ï¼Œç”¨äºå°† Transformer è¾“å‡ºè½¬æ¢ä¸ºç›®æ ‡è¯­è¨€è¯æ±‡è¡¨çš„å¤§å°ã€‚</span><br>        self.generator = nn.Linear(emb_size, tgt_vocab_size)<br>        self.src_tok_emb = TokenEmbedding(src_vocab_size, emb_size)<br>        self.tgt_tok_emb = TokenEmbedding(tgt_vocab_size, emb_size)<br>        self.positional_encoding = PositionalEncoding(<br>            emb_size, dropout=dropout)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self,</span><br><span class="hljs-params">                src: Tensor,</span><br><span class="hljs-params">                trg: Tensor,</span><br><span class="hljs-params">                src_mask: Tensor,</span><br><span class="hljs-params">                tgt_mask: Tensor,</span><br><span class="hljs-params">                src_padding_mask: Tensor,</span><br><span class="hljs-params">                tgt_padding_mask: Tensor,</span><br><span class="hljs-params">                memory_key_padding_mask: Tensor</span>):<br>        src_emb = self.positional_encoding(self.src_tok_emb(src))<br>        tgt_emb = self.positional_encoding(self.tgt_tok_emb(trg))<br>        outs = self.transformer(src_emb, tgt_emb, src_mask, tgt_mask, <span class="hljs-literal">None</span>,<br>                                src_padding_mask, tgt_padding_mask, memory_key_padding_mask)<br>        <span class="hljs-keyword">return</span> self.generator(outs)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">encode</span>(<span class="hljs-params">self, src: Tensor, src_mask: Tensor</span>):<br>        <span class="hljs-keyword">return</span> self.transformer.encoder(self.positional_encoding(<br>            self.src_tok_emb(src)), src_mask)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">decode</span>(<span class="hljs-params">self, tgt: Tensor, memory: Tensor, tgt_mask: Tensor</span>):<br>        <span class="hljs-keyword">return</span> self.transformer.decoder(self.positional_encoding(<br>            self.tgt_tok_emb(tgt)), memory,<br>            tgt_mask)<br></code></pre></td></tr></table></figure><p><strong>tipsï¼š</strong></p><p>åœ¨ Seq2Seq æ¨¡å‹ä¸­ï¼Œé€šå¸¸åˆ†ä¸ºç¼–ç å™¨ (Encoder) å’Œè§£ç å™¨ (Decoder) ä¸¤ä¸ªéƒ¨åˆ†ã€‚ç¼–ç å™¨è´Ÿè´£å°†è¾“å…¥åºåˆ—ç¼–ç ä¸ºä¸€ä¸ªè¯­ä¹‰ç©ºé—´ä¸­çš„è¡¨ç¤ºï¼Œè€Œè§£ç å™¨åˆ™æ ¹æ®è¿™ä¸ªè¡¨ç¤ºç”Ÿæˆè¾“å‡ºåºåˆ—ã€‚</p><p>è™½ç„¶åœ¨ <code>forward</code> æ–¹æ³•ä¸­å·²ç»è°ƒç”¨äº† Transformer æ¨¡å‹è¿›è¡Œç¼–ç å™¨-è§£ç å™¨çš„å¤„ç†ï¼Œä½†æ˜¯åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦åˆ†åˆ«å¯¹ç¼–ç å™¨å’Œè§£ç å™¨è¿›è¡Œæ“ä½œï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆé¢å¤–å®šä¹‰äº† <code>encode</code> å’Œ <code>decode</code> æ–¹æ³•çš„åŸå› ã€‚</p><ol><li><strong>ç¼–ç å™¨æ“ä½œ</strong>ï¼š<code>encode</code> æ–¹æ³•å…è®¸æˆ‘ä»¬å•ç‹¬å¯¹è¾“å…¥åºåˆ—è¿›è¡Œç¼–ç ï¼Œè€Œä¸éœ€è¦è¿›è¡Œè§£ç å™¨çš„æ“ä½œã€‚è¿™åœ¨æŸäº›æƒ…å†µä¸‹æ˜¯æœ‰ç”¨çš„ï¼Œæ¯”å¦‚å¯¹äºä¸€äº›æ— éœ€ç”Ÿæˆè¾“å‡ºçš„ä»»åŠ¡ï¼Œåªéœ€è¦è¾“å…¥åºåˆ—çš„è¡¨ç¤ºå³å¯ã€‚</li><li><strong>è§£ç å™¨æ“ä½œ</strong>ï¼š<code>decode</code> æ–¹æ³•å…è®¸æˆ‘ä»¬åœ¨ç»™å®šç¼–ç åçš„è®°å¿†çš„æƒ…å†µä¸‹ï¼Œå•ç‹¬å¯¹ç›®æ ‡åºåˆ—è¿›è¡Œè§£ç ã€‚è¿™åœ¨ä¸€äº›åœºæ™¯ä¸‹ä¹Ÿæ˜¯æœ‰ç”¨çš„ï¼Œæ¯”å¦‚åŸºäºå·²æœ‰çš„è¯­ä¹‰è¡¨ç¤ºç”Ÿæˆä¸€äº›è¡¥å……ä¿¡æ¯ï¼Œæˆ–è€…åœ¨è§£ç å™¨è®­ç»ƒä¸­è¿›è¡Œæ¨ç†ã€‚</li></ol><p>é€šè¿‡å°†ç¼–ç å™¨å’Œè§£ç å™¨çš„æ“ä½œåˆ†åˆ«å®šä¹‰æˆæ–¹æ³•ï¼Œå¯ä»¥ä½¿æ¨¡å‹æ›´åŠ çµæ´»ï¼Œå¯ä»¥æ ¹æ®éœ€æ±‚è¿›è¡Œæ›´ç»†ç²’åº¦çš„æ“ä½œã€‚</p><h3 id="2-4-å•è¯æ©ç "><a href="#2-4-å•è¯æ©ç " class="headerlink" title="2.4 å•è¯æ©ç "></a>2.4 å•è¯æ©ç </h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">generate_square_subsequent_mask</span>(<span class="hljs-params">sz</span>):<br>    mask = (torch.triu(torch.ones((sz, sz), device=DEVICE)) == <span class="hljs-number">1</span>).transpose(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>)<br>    mask = mask.<span class="hljs-built_in">float</span>().masked_fill(mask == <span class="hljs-number">0</span>, <span class="hljs-built_in">float</span>(<span class="hljs-string">&#x27;-inf&#x27;</span>)).masked_fill(mask == <span class="hljs-number">1</span>, <span class="hljs-built_in">float</span>(<span class="hljs-number">0.0</span>))<br>    <span class="hljs-keyword">return</span> mask<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">create_mask</span>(<span class="hljs-params">src, tgt</span>):<br>    src_seq_len = src.shape[<span class="hljs-number">0</span>]<br>    tgt_seq_len = tgt.shape[<span class="hljs-number">0</span>]<br><br>    tgt_mask = generate_square_subsequent_mask(tgt_seq_len)<br>    src_mask = torch.zeros((src_seq_len, src_seq_len),device=DEVICE).<span class="hljs-built_in">type</span>(torch.<span class="hljs-built_in">bool</span>)<br><br>    src_padding_mask = (src == PAD_IDX).transpose(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>)<br>    tgt_padding_mask = (tgt == PAD_IDX).transpose(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>)<br>    <span class="hljs-keyword">return</span> src_mask, tgt_mask, src_padding_mask, tgt_padding_mask<br></code></pre></td></tr></table></figure><p>å‡å¦‚ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">src = torch.tensor([[<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>], [<span class="hljs-number">4</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>], [<span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">5</span>, <span class="hljs-number">0</span>]])<br>tgt = torch.tensor([[<span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>], [<span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">4</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>]])<br></code></pre></td></tr></table></figure><p>åˆ™è¾“å‡ºç»“æœä¸ºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs python">tensor([[<span class="hljs-number">0.</span>, -inf, -inf, -inf],<br>        [<span class="hljs-number">0.</span>, <span class="hljs-number">0.</span>, -inf, -inf],<br>        [<span class="hljs-number">0.</span>, <span class="hljs-number">0.</span>, <span class="hljs-number">0.</span>, -inf],<br>        [<span class="hljs-number">0.</span>, <span class="hljs-number">0.</span>, <span class="hljs-number">0.</span>, <span class="hljs-number">0.</span>]], device=<span class="hljs-string">&#x27;cuda:0&#x27;</span>)<br>src_mask:<br> tensor([[<span class="hljs-literal">False</span>, <span class="hljs-literal">False</span>, <span class="hljs-literal">False</span>],<br>        [<span class="hljs-literal">False</span>, <span class="hljs-literal">False</span>, <span class="hljs-literal">False</span>],<br>        [<span class="hljs-literal">False</span>, <span class="hljs-literal">False</span>, <span class="hljs-literal">False</span>]], device=<span class="hljs-string">&#x27;cuda:0&#x27;</span>)<br><br>tgt_mask:<br> tensor([[<span class="hljs-number">0.</span>, -inf],<br>        [<span class="hljs-number">0.</span>, <span class="hljs-number">0.</span>]], device=<span class="hljs-string">&#x27;cuda:0&#x27;</span>)<br><br>src_padding_mask:<br> tensor([[<span class="hljs-literal">False</span>, <span class="hljs-literal">False</span>, <span class="hljs-literal">False</span>],<br>        [<span class="hljs-literal">False</span>, <span class="hljs-literal">False</span>, <span class="hljs-literal">False</span>],<br>        [<span class="hljs-literal">False</span>,  <span class="hljs-literal">True</span>,  <span class="hljs-literal">True</span>],<br>        [ <span class="hljs-literal">True</span>, <span class="hljs-literal">False</span>, <span class="hljs-literal">False</span>],<br>        [<span class="hljs-literal">False</span>, <span class="hljs-literal">False</span>, <span class="hljs-literal">False</span>]])<br><br>tgt_padding_mask:<br> tensor([[<span class="hljs-literal">False</span>, <span class="hljs-literal">False</span>],<br>        [<span class="hljs-literal">False</span>,  <span class="hljs-literal">True</span>],<br>        [<span class="hljs-literal">False</span>, <span class="hljs-literal">False</span>],<br>        [ <span class="hljs-literal">True</span>, <span class="hljs-literal">False</span>],<br>        [<span class="hljs-literal">False</span>, <span class="hljs-literal">False</span>]])<br></code></pre></td></tr></table></figure><h3 id="2-5-å®ä¾‹åŒ–"><a href="#2-5-å®ä¾‹åŒ–" class="headerlink" title="2.5 å®ä¾‹åŒ–"></a>2.5 å®ä¾‹åŒ–</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs python">torch.manual_seed(<span class="hljs-number">0</span>)<br><br>SRC_VOCAB_SIZE = <span class="hljs-built_in">len</span>(vocab_transform[SRC_LANGUAGE])<br>TGT_VOCAB_SIZE = <span class="hljs-built_in">len</span>(vocab_transform[TGT_LANGUAGE])<br>EMB_SIZE = <span class="hljs-number">512</span><br>NHEAD = <span class="hljs-number">8</span><br>FFN_HID_DIM = <span class="hljs-number">512</span><br>BATCH_SIZE = <span class="hljs-number">128</span><br>NUM_ENCODER_LAYERS = <span class="hljs-number">3</span><br>NUM_DECODER_LAYERS = <span class="hljs-number">3</span><br><br>transformer = Seq2SeqTransformer(NUM_ENCODER_LAYERS, NUM_DECODER_LAYERS, EMB_SIZE,<br>                                 NHEAD, SRC_VOCAB_SIZE, TGT_VOCAB_SIZE, FFN_HID_DIM)<br><br><span class="hljs-comment"># æƒé‡åˆå§‹åŒ–</span><br><span class="hljs-keyword">for</span> p <span class="hljs-keyword">in</span> transformer.parameters():<br>    <span class="hljs-keyword">if</span> p.dim() &gt; <span class="hljs-number">1</span>:<br>        nn.init.xavier_uniform_(p)<br><br>transformer = transformer.to(DEVICE)<br><br>loss_fn = torch.nn.CrossEntropyLoss(ignore_index=PAD_IDX)<br><br>optimizer = torch.optim.Adam(transformer.parameters(), lr=<span class="hljs-number">0.0001</span>, betas=(<span class="hljs-number">0.9</span>, <span class="hljs-number">0.98</span>), eps=<span class="hljs-number">1e-9</span>)<br></code></pre></td></tr></table></figure><p><strong>tipsï¼š</strong></p><p>æƒé‡åˆå§‹åŒ–æ—¶ï¼Œè¿™æ®µä»£ç éå†äº† Transformer æ¨¡å‹ä¸­çš„æ‰€æœ‰å‚æ•°ï¼Œå¦‚æœå‚æ•°çš„ç»´åº¦å¤§äº 1ï¼ˆå³ä¸æ˜¯åç½®é¡¹ï¼‰ï¼Œåˆ™ä½¿ç”¨ Xavier å‡åŒ€åˆ†å¸ƒè¿›è¡Œåˆå§‹åŒ–ã€‚Xavier åˆå§‹åŒ–æ—¨åœ¨ä½¿å¾—æ¯ä¸€å±‚çš„è¾“å‡ºæ–¹å·®ä¿æŒç›¸ç­‰ï¼Œä»è€Œé¿å…æ¢¯åº¦æ¶ˆå¤±æˆ–çˆ†ç‚¸é—®é¢˜ï¼Œæœ‰åŠ©äºåŠ é€Ÿæ¨¡å‹çš„æ”¶æ•›ã€‚</p><h2 id="3-æ•´ç†"><a href="#3-æ•´ç†" class="headerlink" title="3.æ•´ç†"></a>3.æ•´ç†</h2><h3 id="3-1-æ•°æ®è½¬æ¢"><a href="#3-1-æ•°æ®è½¬æ¢" class="headerlink" title="3.1 æ•°æ®è½¬æ¢"></a>3.1 æ•°æ®è½¬æ¢</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs python"><br><span class="hljs-keyword">from</span> torch.nn.utils.rnn <span class="hljs-keyword">import</span> pad_sequence<br><br><span class="hljs-comment"># å¯¹è¾“å…¥çš„å­—ç¬¦ä¸²è¿›è¡Œè½¬åŒ–ï¼Œ*transformsåˆ†åˆ«è¡¨ç¤ºè¿›è¡Œåˆ†è¯ï¼Œæ•°å­—åŒ–å¹¶ä¸”æ·»åŠ å¼€å§‹ç¬¦å’Œç»“æŸç¬¦</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">sequential_transforms</span>(<span class="hljs-params">*transforms</span>):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">func</span>(<span class="hljs-params">txt_input</span>):<br>        <span class="hljs-keyword">for</span> transform <span class="hljs-keyword">in</span> transforms:<br>            txt_input = transform(txt_input)<br>        <span class="hljs-keyword">return</span> txt_input<br>    <span class="hljs-keyword">return</span> func<br><br><span class="hljs-comment"># æ·»åŠ å¼€å§‹ç¬¦å’Œç»“æŸç¬¦</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">tensor_transform</span>(<span class="hljs-params">token_ids: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>):<br>    <span class="hljs-keyword">return</span> torch.cat((torch.tensor([BOS_IDX]),<br>                      torch.tensor(token_ids),<br>                      torch.tensor([EOS_IDX])))<br><br><span class="hljs-comment"># å¯¹æºå­—ç¬¦ä¸²å’Œç›®æ ‡å­—ç¬¦ä¸²è¿›è¡Œè½¬æ¢</span><br>text_transform = &#123;&#125;<br><span class="hljs-keyword">for</span> ln <span class="hljs-keyword">in</span> [SRC_LANGUAGE, TGT_LANGUAGE]:<br>    text_transform[ln] = sequential_transforms(token_transform[ln], <span class="hljs-comment"># åˆ†è¯</span><br>                                               vocab_transform[ln], <span class="hljs-comment"># æ•°å­—åŒ–</span><br>                                               tensor_transform) <span class="hljs-comment"># æ·»åŠ å¼€å§‹å’Œç»ˆæ­¢ç¬¦</span><br><br><br><span class="hljs-comment"># å¯¹æ‰¹é‡çš„æ•°æ®è¿›è¡Œå¡«å……ï¼Œå¡«å……çš„é•¿åº¦æŒ‰æ‰¹æ¬¡ä¸­æœ€å¤§é•¿åº¦è¿›è¡Œå¤„ç†</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">collate_fn</span>(<span class="hljs-params">batch</span>):<br>    src_batch, tgt_batch = [], []<br>    <span class="hljs-keyword">for</span> src_sample, tgt_sample <span class="hljs-keyword">in</span> batch:<br>        src_batch.append(text_transform[SRC_LANGUAGE](src_sample.rstrip(<span class="hljs-string">&quot;\n&quot;</span>)))<br>        tgt_batch.append(text_transform[TGT_LANGUAGE](tgt_sample.rstrip(<span class="hljs-string">&quot;\n&quot;</span>)))<br><br>    src_batch = pad_sequence(src_batch, padding_value=PAD_IDX)<br>    tgt_batch = pad_sequence(tgt_batch, padding_value=PAD_IDX)<br>    <span class="hljs-keyword">return</span> src_batch, tgt_batch<br><br><span class="hljs-comment"># å°†æ•°æ®é›†ç”¨æ•°æ®åŠ è½½å™¨åŒ…è£¹</span><br>train_dataloader = DataLoader(train_iter, batch_size=BATCH_SIZE, collate_fn=collate_fn)<br><br><span class="hljs-comment"># è¾“å‡ºç¬¬ä¸€ä¸ªæ‰¹æ¬¡çš„ç»“æœ</span><br><span class="hljs-keyword">for</span> src, tgt <span class="hljs-keyword">in</span> train_dataloader:<br>    <span class="hljs-built_in">print</span>(src)<br>    <span class="hljs-built_in">print</span>(tgt)<br>    <span class="hljs-built_in">print</span>(src.shape, tgt.shape)<br>    <span class="hljs-keyword">break</span><br></code></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python">tensor([[ <span class="hljs-number">2</span>,  <span class="hljs-number">2</span>,  <span class="hljs-number">2</span>,  ...,  <span class="hljs-number">2</span>,  <span class="hljs-number">2</span>,  <span class="hljs-number">2</span>],<br>        [<span class="hljs-number">21</span>, <span class="hljs-number">84</span>,  <span class="hljs-number">5</span>,  ..., <span class="hljs-number">21</span>, <span class="hljs-number">14</span>, <span class="hljs-number">14</span>],<br>        [<span class="hljs-number">85</span>, <span class="hljs-number">31</span>, <span class="hljs-number">69</span>,  ..., <span class="hljs-number">46</span>, <span class="hljs-number">38</span>, <span class="hljs-number">17</span>],<br>        ...,<br>        [ <span class="hljs-number">1</span>,  <span class="hljs-number">1</span>,  <span class="hljs-number">1</span>,  ...,  <span class="hljs-number">1</span>,  <span class="hljs-number">1</span>,  <span class="hljs-number">1</span>],<br>        [ <span class="hljs-number">1</span>,  <span class="hljs-number">1</span>,  <span class="hljs-number">1</span>,  ...,  <span class="hljs-number">1</span>,  <span class="hljs-number">1</span>,  <span class="hljs-number">1</span>],<br>        [ <span class="hljs-number">1</span>,  <span class="hljs-number">1</span>,  <span class="hljs-number">1</span>,  ...,  <span class="hljs-number">1</span>,  <span class="hljs-number">1</span>,  <span class="hljs-number">1</span>]])<br>tensor([[  <span class="hljs-number">2</span>,   <span class="hljs-number">2</span>,   <span class="hljs-number">2</span>,  ...,   <span class="hljs-number">2</span>,   <span class="hljs-number">2</span>,   <span class="hljs-number">2</span>],<br>        [ <span class="hljs-number">19</span>, <span class="hljs-number">165</span>,   <span class="hljs-number">6</span>,  ...,  <span class="hljs-number">19</span>,   <span class="hljs-number">6</span>,   <span class="hljs-number">6</span>],<br>        [ <span class="hljs-number">25</span>,  <span class="hljs-number">36</span>,  <span class="hljs-number">61</span>,  ...,  <span class="hljs-number">52</span>,  <span class="hljs-number">39</span>,  <span class="hljs-number">16</span>],<br>        ...,<br>        [  <span class="hljs-number">1</span>,   <span class="hljs-number">1</span>,   <span class="hljs-number">1</span>,  ...,   <span class="hljs-number">1</span>,   <span class="hljs-number">1</span>,   <span class="hljs-number">1</span>],<br>        [  <span class="hljs-number">1</span>,   <span class="hljs-number">1</span>,   <span class="hljs-number">1</span>,  ...,   <span class="hljs-number">1</span>,   <span class="hljs-number">1</span>,   <span class="hljs-number">1</span>],<br>        [  <span class="hljs-number">1</span>,   <span class="hljs-number">1</span>,   <span class="hljs-number">1</span>,  ...,   <span class="hljs-number">1</span>,   <span class="hljs-number">1</span>,   <span class="hljs-number">1</span>]])<br>torch.Size([<span class="hljs-number">27</span>, <span class="hljs-number">128</span>]) torch.Size([<span class="hljs-number">24</span>, <span class="hljs-number">128</span>])<br></code></pre></td></tr></table></figure><p><strong>tips:</strong></p><p>å¦‚æœ<code>padded_sequences</code>ä¸­æ²¡åŠ  <code>batch_first=True</code>ï¼Œåˆ™å¡«å……è¿‡ç¨‹ä¸­å¼ é‡ä¼šå‘ç”Ÿè½¬ç½®ã€‚</p><p>ä¸¾ä¾‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> torch<br><span class="hljs-keyword">from</span> torch.nn.utils.rnn <span class="hljs-keyword">import</span> pad_sequence<br><br><span class="hljs-comment"># å‡è®¾æˆ‘ä»¬æœ‰ä¸€ç»„åºåˆ—å¼ é‡</span><br>sequences = [torch.tensor([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]),<br>             torch.tensor([<span class="hljs-number">4</span>, <span class="hljs-number">5</span>]),<br>             torch.tensor([<span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>])]<br><br><span class="hljs-comment"># ä½¿ç”¨pad_sequenceè¿›è¡Œå¡«å……</span><br>padded_sequences = pad_sequence(sequences, padding_value=<span class="hljs-number">0</span>)<br><br><span class="hljs-built_in">print</span>(padded_sequences)<br><br><span class="hljs-comment"># æ²¡æœ‰ batch_first=True çš„è¾“å‡º</span><br>tensor([[<span class="hljs-number">1</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>],<br>        [<span class="hljs-number">2</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>],<br>        [<span class="hljs-number">3</span>, <span class="hljs-number">0</span>, <span class="hljs-number">8</span>],<br>        [<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">9</span>]])<br><br><span class="hljs-comment"># æœ‰ batch_first=True çš„è¾“å‡º</span><br>padded_sequences = pad_sequence(sequences, batch_first=<span class="hljs-literal">True</span>, padding_value=<span class="hljs-number">0</span>)<br><br>tensor([[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">0</span>],<br>        [<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>],<br>        [<span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>]])<br></code></pre></td></tr></table></figure><h3 id="3-2-è®­ç»ƒ"><a href="#3-2-è®­ç»ƒ" class="headerlink" title="3.2 è®­ç»ƒ"></a>3.2 è®­ç»ƒ</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">train_epoch</span>(<span class="hljs-params">model, optimizer</span>):<br>    model.train()<br>    losses = <span class="hljs-number">0</span><br>    train_iter = Multi30k(split=<span class="hljs-string">&#x27;train&#x27;</span>, language_pair=(SRC_LANGUAGE, TGT_LANGUAGE))<br>    train_dataloader = DataLoader(train_iter, batch_size=BATCH_SIZE, collate_fn=collate_fn)<br><br>    <span class="hljs-keyword">for</span> src, tgt <span class="hljs-keyword">in</span> train_dataloader:<br>        src = src.to(DEVICE)<br>        tgt = tgt.to(DEVICE)<br>        <br>        <span class="hljs-comment"># è§£ç å™¨çš„è¾“å…¥ï¼Œè¾“å…¥åºåˆ—æ˜¯åŒ…æ‹¬å¼€å§‹ç¬¦ä½†ä¸åŒ…æ‹¬ç»“æŸç¬¦</span><br>        tgt_input = tgt[:-<span class="hljs-number">1</span>, :]<br><br>        src_mask, tgt_mask, src_padding_mask, tgt_padding_mask = create_mask(src, tgt_input)<br><br>        logits = model(src, tgt_input, src_mask, tgt_mask,src_padding_mask, tgt_padding_mask, src_padding_mask)<br><br>        optimizer.zero_grad()<br><br>        <span class="hljs-comment"># è§£ç å™¨çš„è¾“å‡ºï¼Œè¾“å‡ºåŒ…æ‹¬ç»ˆæ­¢ç¬¦ä½†ä¸åŒ…æ‹¬å¼€å§‹ç¬¦</span><br>        tgt_out = tgt[<span class="hljs-number">1</span>:, :]<br>        <br>        <span class="hljs-comment"># å°†æ¨¡å‹çš„è¾“å‡ºå’Œåº”è¯¥æœ‰çš„è¾“å‡ºè¿›è¡ŒæŸå¤±çš„è®¡ç®—</span><br>        loss = loss_fn(logits.reshape(-<span class="hljs-number">1</span>, logits.shape[-<span class="hljs-number">1</span>]), tgt_out.reshape(-<span class="hljs-number">1</span>))<br>        loss.backward()<br><br>        optimizer.step()<br>        losses += loss.item()<br><br>    <span class="hljs-keyword">return</span> losses / <span class="hljs-built_in">len</span>(<span class="hljs-built_in">list</span>(train_dataloader))<br></code></pre></td></tr></table></figure><p><strong>tipsï¼š</strong></p><p>1.<code>logits</code>çš„shapeä¸ºtorch.Size([23, 128, 10837])ï¼Œä¹Ÿå°±æ˜¯ç»è¿‡ä¸€ä¸ªçº¿æ€§å±‚ä¹‹åï¼Œä¼šè¾“å‡º10837çš„ç»´åº¦ï¼Œä¹Ÿå°±æ˜¯è¾“å‡ºè¯è¡¨çš„é•¿åº¦ã€‚</p><p>2.<strong>ä¸ºä»€ä¹ˆæœ€åä¸€å±‚ä¸ç”¨softmaxï¼Ÿ</strong>é€šå¸¸ï¼Œåœ¨ä½¿ç”¨äº¤å‰ç†µæŸå¤±å‡½æ•°æ—¶ï¼Œsoftmax æ“ä½œä¼šè¢«åŒ…å«åœ¨æŸå¤±å‡½æ•°ä¸­ã€‚å› æ­¤ï¼Œåœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸ä¸éœ€è¦æ˜¾å¼åœ°åœ¨æ¨¡å‹ä¸­åŠ å…¥ softmax æ“ä½œã€‚</p><p>ä¸¾ä¾‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> torch<br><span class="hljs-keyword">import</span> torch.nn <span class="hljs-keyword">as</span> nn<br><br><span class="hljs-comment"># å‡è®¾æ¨¡å‹è¾“å‡ºçš„ logits æ˜¯ä¸€ä¸ªåŒ…å«ä¸‰ä¸ªç±»åˆ«çš„å‘é‡</span><br>logits = torch.tensor([[<span class="hljs-number">2.0</span>, <span class="hljs-number">1.0</span>, <span class="hljs-number">0.1</span>], [<span class="hljs-number">0.9</span>, <span class="hljs-number">2.0</span>, <span class="hljs-number">1.0</span>]])<br><br><span class="hljs-comment"># å‡è®¾ç›®æ ‡æ ‡ç­¾æ˜¯ [0, 2]</span><br>targets = torch.tensor([<span class="hljs-number">0</span>, <span class="hljs-number">2</span>])<br><br><span class="hljs-comment"># åˆ›å»ºäº¤å‰ç†µæŸå¤±å‡½æ•°</span><br>loss_function = nn.CrossEntropyLoss()<br><br><span class="hljs-comment"># è®¡ç®—æŸå¤±</span><br>loss = loss_function(logits, targets)<br><br><span class="hljs-built_in">print</span>(loss)<br></code></pre></td></tr></table></figure><p>åœ¨ä¸Šè¿°ç¤ºä¾‹ä¸­ï¼Œ<code>logits</code> æ˜¯æ¨¡å‹çš„è¾“å‡ºï¼Œ<code>targets</code> æ˜¯ç›®æ ‡æ ‡ç­¾ã€‚åœ¨è®¡ç®—æŸå¤±æ—¶ï¼Œæˆ‘ä»¬åªéœ€è¦å°† logits å’Œ targets ä¼ é€’ç»™äº¤å‰ç†µæŸå¤±å‡½æ•° <code>nn.CrossEntropyLoss()</code>ï¼Œè€Œä¸éœ€è¦æ˜¾å¼åœ°åœ¨æ¨¡å‹ä¸­ä½¿ç”¨ softmax æ¿€æ´»å‡½æ•°ã€‚äº¤å‰ç†µæŸå¤±å‡½æ•°å†…éƒ¨å°† logits åº”ç”¨ softmax æ“ä½œï¼Œå¹¶è®¡ç®—æŸå¤±ã€‚</p><h3 id="3-3-è¯„ä¼°"><a href="#3-3-è¯„ä¼°" class="headerlink" title="3.3 è¯„ä¼°"></a>3.3 è¯„ä¼°</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">evaluate</span>(<span class="hljs-params">model</span>):<br>    model.<span class="hljs-built_in">eval</span>()<br>    losses = <span class="hljs-number">0</span><br><br>    val_iter = Multi30k(split=<span class="hljs-string">&#x27;valid&#x27;</span>, language_pair=(SRC_LANGUAGE, TGT_LANGUAGE))<br>    val_dataloader = DataLoader(val_iter, batch_size=BATCH_SIZE, collate_fn=collate_fn)<br><br>    <span class="hljs-keyword">for</span> src, tgt <span class="hljs-keyword">in</span> val_dataloader:<br>        src = src.to(DEVICE)<br>        tgt = tgt.to(DEVICE)<br><br>        tgt_input = tgt[:-<span class="hljs-number">1</span>, :]<br><br>        src_mask, tgt_mask, src_padding_mask, tgt_padding_mask = create_mask(src, tgt_input)<br><br>        logits = model(src, tgt_input, src_mask, tgt_mask,src_padding_mask, tgt_padding_mask, src_padding_mask)<br><br>        tgt_out = tgt[<span class="hljs-number">1</span>:, :]<br>        loss = loss_fn(logits.reshape(-<span class="hljs-number">1</span>, logits.shape[-<span class="hljs-number">1</span>]), tgt_out.reshape(-<span class="hljs-number">1</span>))<br>        losses += loss.item()<br><br>    <span class="hljs-keyword">return</span> losses / <span class="hljs-built_in">len</span>(<span class="hljs-built_in">list</span>(val_dataloader))<br></code></pre></td></tr></table></figure><h2 id="4-å¼€å§‹"><a href="#4-å¼€å§‹" class="headerlink" title="4.å¼€å§‹"></a>4.å¼€å§‹</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> timeit <span class="hljs-keyword">import</span> default_timer <span class="hljs-keyword">as</span> timer<br>NUM_EPOCHS = <span class="hljs-number">18</span><br><br><span class="hljs-keyword">for</span> epoch <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, NUM_EPOCHS+<span class="hljs-number">1</span>):<br>    start_time = timer()<br>    train_loss = train_epoch(transformer, optimizer)<br>    end_time = timer()<br>    val_loss = evaluate(transformer)<br>    <span class="hljs-built_in">print</span>((<span class="hljs-string">f&quot;Epoch: <span class="hljs-subst">&#123;epoch&#125;</span>, Train loss: <span class="hljs-subst">&#123;train_loss:<span class="hljs-number">.3</span>f&#125;</span>, Val loss: <span class="hljs-subst">&#123;val_loss:<span class="hljs-number">.3</span>f&#125;</span>, &quot;</span><span class="hljs-string">f&quot;Epoch time = <span class="hljs-subst">&#123;(end_time - start_time):<span class="hljs-number">.3</span>f&#125;</span>s&quot;</span>))<br><br><br><span class="hljs-comment"># function to generate output sequence using greedy algorithm</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">greedy_decode</span>(<span class="hljs-params">model, src, src_mask, max_len, start_symbol</span>):<br>    src = src.to(DEVICE)<br>    src_mask = src_mask.to(DEVICE)<br><br>    memory = model.encode(src, src_mask)<br>    ys = torch.ones(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>).fill_(start_symbol).<span class="hljs-built_in">type</span>(torch.long).to(DEVICE)<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(max_len-<span class="hljs-number">1</span>):<br>        memory = memory.to(DEVICE)<br>        tgt_mask = (generate_square_subsequent_mask(ys.size(<span class="hljs-number">0</span>))<br>                    .<span class="hljs-built_in">type</span>(torch.<span class="hljs-built_in">bool</span>)).to(DEVICE)<br>        out = model.decode(ys, memory, tgt_mask)<br>        out = out.transpose(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>)<br>        prob = model.generator(out[:, -<span class="hljs-number">1</span>])<br>        _, next_word = torch.<span class="hljs-built_in">max</span>(prob, dim=<span class="hljs-number">1</span>)<br>        next_word = next_word.item()<br><br>        ys = torch.cat([ys,<br>                        torch.ones(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>).type_as(src.data).fill_(next_word)], dim=<span class="hljs-number">0</span>)<br>        <span class="hljs-keyword">if</span> next_word == EOS_IDX:<br>            <span class="hljs-keyword">break</span><br>    <span class="hljs-keyword">return</span> ys<br><br><br><span class="hljs-comment"># actual function to translate input sentence into target language</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">translate</span>(<span class="hljs-params">model: torch.nn.Module, src_sentence: <span class="hljs-built_in">str</span></span>):<br>    model.<span class="hljs-built_in">eval</span>()<br>    src = text_transform[SRC_LANGUAGE](src_sentence).view(-<span class="hljs-number">1</span>, <span class="hljs-number">1</span>)<br>    num_tokens = src.shape[<span class="hljs-number">0</span>]<br>    src_mask = (torch.zeros(num_tokens, num_tokens)).<span class="hljs-built_in">type</span>(torch.<span class="hljs-built_in">bool</span>)<br>    tgt_tokens = greedy_decode(<br>        model,  src, src_mask, max_len=num_tokens + <span class="hljs-number">5</span>, start_symbol=BOS_IDX).flatten()<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot; &quot;</span>.join(vocab_transform[TGT_LANGUAGE].lookup_tokens(<span class="hljs-built_in">list</span>(tgt_tokens.cpu().numpy()))).replace(<span class="hljs-string">&quot;&lt;bos&gt;&quot;</span>, <span class="hljs-string">&quot;&quot;</span>).replace(<span class="hljs-string">&quot;&lt;eos&gt;&quot;</span>, <span class="hljs-string">&quot;&quot;</span>)<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>AI Ê¢áµ•á´—áµ•Ê¡</category>
      
      <category>Pytorch</category>
      
      <category>Pytorché¡¹ç›®å®æˆ˜</category>
      
    </categories>
    
    
    <tags>
      
      <tag>AI</tag>
      
      <tag>Pytorch</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>gensimåº“çš„ä½¿ç”¨ï¼ğŸˆ</title>
    <link href="/2024/03/13/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/NLP/%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/gensim%E5%BA%93/"/>
    <url>/2024/03/13/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/NLP/%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/gensim%E5%BA%93/</url>
    
    <content type="html"><![CDATA[<h1 id="gensimåº“çš„ä½¿ç”¨"><a href="#gensimåº“çš„ä½¿ç”¨" class="headerlink" title="gensimåº“çš„ä½¿ç”¨"></a>gensimåº“çš„ä½¿ç”¨</h1><h2 id="1-æ–‡æœ¬ç›¸ä¼¼åº¦"><a href="#1-æ–‡æœ¬ç›¸ä¼¼åº¦" class="headerlink" title="1.æ–‡æœ¬ç›¸ä¼¼åº¦"></a>1.æ–‡æœ¬ç›¸ä¼¼åº¦</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> gensim.models <span class="hljs-keyword">import</span> KeyedVectors<br><span class="hljs-keyword">import</span> jieba<br><br><span class="hljs-comment"># åŠ è½½é¢„è®­ç»ƒçš„ Word2Vec æ¨¡å‹</span><br>word2vec_model_path = <span class="hljs-string">&#x27;path_to_pretrained_word2vec_model.bin&#x27;</span>  <span class="hljs-comment"># æ›¿æ¢ä¸ºä½ çš„é¢„è®­ç»ƒæ¨¡å‹è·¯å¾„</span><br>word2vec_model = KeyedVectors.load_word2vec_format(word2vec_model_path, binary=<span class="hljs-literal">True</span>)<br><br><span class="hljs-comment"># åˆ†è¯å‡½æ•°</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">tokenize</span>(<span class="hljs-params">text</span>):<br>    <span class="hljs-keyword">return</span> [word <span class="hljs-keyword">for</span> word <span class="hljs-keyword">in</span> jieba.cut(text)]<br><br><span class="hljs-comment"># è®¡ç®—ä¸¤ä¸ªå¥å­çš„ç›¸ä¼¼åº¦</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">sentence_similarity</span>(<span class="hljs-params">sentence1, sentence2</span>):<br>    <span class="hljs-comment"># åˆ†è¯</span><br>    tokens1 = tokenize(sentence1)<br>    tokens2 = tokenize(sentence2)<br><br>    <span class="hljs-comment"># ç§»é™¤åœç”¨è¯</span><br>    tokens1 = [word <span class="hljs-keyword">for</span> word <span class="hljs-keyword">in</span> tokens1 <span class="hljs-keyword">if</span> word <span class="hljs-keyword">in</span> word2vec_model.vocab]<br>    tokens2 = [word <span class="hljs-keyword">for</span> word <span class="hljs-keyword">in</span> tokens2 <span class="hljs-keyword">if</span> word <span class="hljs-keyword">in</span> word2vec_model.vocab]<br><br>    <span class="hljs-comment"># è®¡ç®—å¥å­çš„å‘é‡è¡¨ç¤º</span><br>    vector1 = word2vec_model[tokens1].mean(axis=<span class="hljs-number">0</span>)<br>    vector2 = word2vec_model[tokens2].mean(axis=<span class="hljs-number">0</span>)<br><br>    <span class="hljs-comment"># è®¡ç®—ä½™å¼¦ç›¸ä¼¼åº¦</span><br>    similarity = word2vec_model.similarity(<span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>)<br><br>    <span class="hljs-keyword">return</span> similarity<br><br><span class="hljs-comment"># æµ‹è¯•å¥å­ç›¸ä¼¼åº¦</span><br>sentence1 = <span class="hljs-string">&#x27;æˆ‘å–œæ¬¢åƒæ°´æœ&#x27;</span><br>sentence2 = <span class="hljs-string">&#x27;æ°´æœæ˜¯æˆ‘å–œæ¬¢åƒçš„&#x27;</span><br>similarity_score = sentence_similarity(sentence1, sentence2)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;ä¸¤ä¸ªå¥å­çš„ç›¸ä¼¼åº¦ï¼š&quot;</span>, similarity_score)<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>AI Ê¢áµ•á´—áµ•Ê¡</category>
      
      <category>NLP</category>
      
      <category>NLPåº“çš„ä½¿ç”¨</category>
      
    </categories>
    
    
    <tags>
      
      <tag>AI</tag>
      
      <tag>NLP</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Transformerä»‹ç»ï¼ğŸ’</title>
    <link href="/2024/03/13/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/NLP/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/NLP%E6%A8%A1%E5%9E%8B/Transformer/"/>
    <url>/2024/03/13/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/NLP/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/NLP%E6%A8%A1%E5%9E%8B/Transformer/</url>
    
    <content type="html"><![CDATA[<h1 id="Transformerä»‹ç»"><a href="#Transformerä»‹ç»" class="headerlink" title="Transformerä»‹ç»"></a>Transformerä»‹ç»</h1><h2 id="1-æ•´ä½“ç»“æ„"><a href="#1-æ•´ä½“ç»“æ„" class="headerlink" title="1.æ•´ä½“ç»“æ„"></a>1.æ•´ä½“ç»“æ„</h2><p><img src="/2024/03/13/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/NLP/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/NLP%E6%A8%A1%E5%9E%8B/Transformer/1.png"></p><h2 id="2-è¾“å…¥"><a href="#2-è¾“å…¥" class="headerlink" title="2.è¾“å…¥"></a>2.è¾“å…¥</h2><p>Transformer ä¸­å•è¯çš„è¾“å…¥è¡¨ç¤º <strong>x</strong>ç”±<strong>å•è¯ Embedding</strong> å’Œ<strong>ä½ç½® Embedding</strong> ï¼ˆPositional Encodingï¼‰ç›¸åŠ å¾—åˆ°ã€‚</p><p><img src="/2024/03/13/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/NLP/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/NLP%E6%A8%A1%E5%9E%8B/Transformer/2.png"></p><h3 id="2-1-å•è¯-Embedding"><a href="#2-1-å•è¯-Embedding" class="headerlink" title="2.1 å•è¯ Embedding"></a>2.1 å•è¯ Embedding</h3><p>å•è¯çš„ Embedding æœ‰å¾ˆå¤šç§æ–¹å¼å¯ä»¥è·å–ï¼Œä¾‹å¦‚å¯ä»¥é‡‡ç”¨ Word2Vecã€Glove ç­‰ç®—æ³•é¢„è®­ç»ƒå¾—åˆ°ï¼Œä¹Ÿå¯ä»¥åœ¨ Transformer ä¸­è®­ç»ƒå¾—åˆ°ã€‚</p><h3 id="2-2-ä½ç½®-Embedding"><a href="#2-2-ä½ç½®-Embedding" class="headerlink" title="2.2 ä½ç½® Embedding"></a>2.2 ä½ç½® Embedding</h3><p>Transformer ä¸­é™¤äº†å•è¯çš„ Embeddingï¼Œè¿˜éœ€è¦ä½¿ç”¨ä½ç½® Embedding è¡¨ç¤ºå•è¯å‡ºç°åœ¨å¥å­ä¸­çš„ä½ç½®ã€‚<strong>å› ä¸º Transformer ä¸é‡‡ç”¨ RNN çš„ç»“æ„ï¼Œè€Œæ˜¯ä½¿ç”¨å…¨å±€ä¿¡æ¯ï¼Œä¸èƒ½åˆ©ç”¨å•è¯çš„é¡ºåºä¿¡æ¯ï¼Œè€Œè¿™éƒ¨åˆ†ä¿¡æ¯å¯¹äº NLP æ¥è¯´éå¸¸é‡è¦ã€‚</strong>æ‰€ä»¥ Transformer ä¸­ä½¿ç”¨ä½ç½® Embedding ä¿å­˜å•è¯åœ¨åºåˆ—ä¸­çš„ç›¸å¯¹æˆ–ç»å¯¹ä½ç½®ã€‚</p><p>ä½ç½® Embedding ç”¨ <strong>PE</strong>è¡¨ç¤ºï¼Œ<strong>PE</strong> çš„ç»´åº¦ä¸å•è¯ Embedding æ˜¯ä¸€æ ·çš„ã€‚PE å¯ä»¥é€šè¿‡è®­ç»ƒå¾—åˆ°ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨æŸç§å…¬å¼è®¡ç®—å¾—åˆ°ã€‚åœ¨ Transformer ä¸­é‡‡ç”¨äº†åè€…ï¼Œè®¡ç®—å…¬å¼å¦‚ä¸‹ï¼š</p><p><img src="/2024/03/13/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/NLP/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/NLP%E6%A8%A1%E5%9E%8B/Transformer/3.png"></p><p>å…¶ä¸­ï¼Œpos è¡¨ç¤ºå•è¯åœ¨å¥å­ä¸­çš„ä½ç½®ï¼Œd è¡¨ç¤º PEçš„ç»´åº¦ (ä¸è¯ Embedding ä¸€æ ·)ï¼Œ2i è¡¨ç¤ºå¶æ•°çš„ç»´åº¦ï¼Œ2i+1 è¡¨ç¤ºå¥‡æ•°ç»´åº¦ (å³ 2iâ‰¤d, 2i+1â‰¤d)ã€‚ä½¿ç”¨è¿™ç§å…¬å¼è®¡ç®— PE æœ‰ä»¥ä¸‹çš„å¥½å¤„ï¼š</p><ul><li>ä½¿ PE èƒ½å¤Ÿé€‚åº”æ¯”è®­ç»ƒé›†é‡Œé¢æ‰€æœ‰å¥å­æ›´é•¿çš„å¥å­ï¼Œå‡è®¾è®­ç»ƒé›†é‡Œé¢æœ€é•¿çš„å¥å­æ˜¯æœ‰ 20 ä¸ªå•è¯ï¼Œçªç„¶æ¥äº†ä¸€ä¸ªé•¿åº¦ä¸º 21 çš„å¥å­ï¼Œåˆ™ä½¿ç”¨å…¬å¼è®¡ç®—çš„æ–¹æ³•å¯ä»¥è®¡ç®—å‡ºç¬¬ 21 ä½çš„ Embeddingã€‚</li><li>å¯ä»¥è®©æ¨¡å‹å®¹æ˜“åœ°è®¡ç®—å‡ºç›¸å¯¹ä½ç½®ï¼Œå¯¹äºå›ºå®šé•¿åº¦çš„é—´è· kï¼Œ<strong>PE(pos+k)</strong> å¯ä»¥ç”¨ <strong>PE(pos)</strong> è®¡ç®—å¾—åˆ°ã€‚å› ä¸º Sin(A+B) &#x3D; Sin(A)Cos(B) + Cos(A)Sin(B), Cos(A+B) &#x3D; Cos(A)Cos(B) - Sin(A)Sin(B)ã€‚</li></ul><p>å°†å•è¯çš„è¯ Embedding å’Œä½ç½® Embedding ç›¸åŠ ï¼Œå°±å¯ä»¥å¾—åˆ°å•è¯çš„è¡¨ç¤ºå‘é‡ <strong>x</strong>ï¼Œ<strong>x</strong> å°±æ˜¯ Transformer çš„è¾“å…¥ã€‚</p><h2 id="3-Encoder"><a href="#3-Encoder" class="headerlink" title="3.Encoder"></a>3.Encoder</h2><p><img src="/2024/03/13/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/NLP/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/NLP%E6%A8%A1%E5%9E%8B/Transformer/4.png"></p><h3 id="3-1-Add-Norm"><a href="#3-1-Add-Norm" class="headerlink" title="3.1 Add &amp; Norm"></a>3.1 Add &amp; Norm</h3><p>Add &amp; Norm å±‚ç”± Add å’Œ Norm ä¸¤éƒ¨åˆ†ç»„æˆï¼Œå…¶è®¡ç®—å…¬å¼å¦‚ä¸‹ï¼š</p><p><img src="/2024/03/13/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/NLP/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/NLP%E6%A8%A1%E5%9E%8B/Transformer/5.png"></p><p>å…¶ä¸­ <strong>X</strong>è¡¨ç¤º Multi-Head Attention æˆ–è€… Feed Forward çš„è¾“å…¥ï¼ŒMultiHeadAttention(<strong>X</strong>) å’Œ FeedForward(<strong>X</strong>) è¡¨ç¤ºè¾“å‡º (è¾“å‡ºä¸è¾“å…¥ <strong>X</strong> ç»´åº¦æ˜¯ä¸€æ ·çš„ï¼Œæ‰€ä»¥å¯ä»¥ç›¸åŠ )ã€‚</p><p><strong>Add</strong>æŒ‡ <strong>X</strong>+MultiHeadAttention(<strong>X</strong>)ï¼Œæ˜¯ä¸€ç§æ®‹å·®è¿æ¥ï¼Œé€šå¸¸ç”¨äºè§£å†³å¤šå±‚ç½‘ç»œè®­ç»ƒçš„é—®é¢˜ï¼Œå¯ä»¥è®©ç½‘ç»œåªå…³æ³¨å½“å‰å·®å¼‚çš„éƒ¨åˆ†ï¼Œåœ¨ ResNet ä¸­ç»å¸¸ç”¨åˆ°ï¼š</p><p><img src="/2024/03/13/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/NLP/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/NLP%E6%A8%A1%E5%9E%8B/Transformer/6.png"></p><p><strong>Norm</strong>æŒ‡ Layer Normalizationï¼Œé€šå¸¸ç”¨äº RNN ç»“æ„ï¼ŒLayer Normalization ä¼šå°†æ¯ä¸€å±‚ç¥ç»å…ƒçš„è¾“å…¥éƒ½è½¬æˆå‡å€¼æ–¹å·®éƒ½ä¸€æ ·çš„ï¼Œè¿™æ ·å¯ä»¥åŠ å¿«æ”¶æ•›ã€‚</p><h3 id="3-2-Feed-Forward"><a href="#3-2-Feed-Forward" class="headerlink" title="3.2 Feed Forward"></a>3.2 Feed Forward</h3><p>Feed Forward å±‚æ¯”è¾ƒç®€å•ï¼Œæ˜¯ä¸€ä¸ªä¸¤å±‚çš„å…¨è¿æ¥å±‚ï¼Œç¬¬ä¸€å±‚çš„æ¿€æ´»å‡½æ•°ä¸º Reluï¼Œç¬¬äºŒå±‚ä¸ä½¿ç”¨æ¿€æ´»å‡½æ•°ï¼Œå¯¹åº”çš„å…¬å¼å¦‚ä¸‹ã€‚</p><p><img src="/2024/03/13/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/NLP/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/NLP%E6%A8%A1%E5%9E%8B/Transformer/7.png"></p><p><strong>X</strong>æ˜¯è¾“å…¥ï¼ŒFeed Forward æœ€ç»ˆå¾—åˆ°çš„è¾“å‡ºçŸ©é˜µçš„ç»´åº¦ä¸<strong>X</strong>ä¸€è‡´ã€‚</p><h3 id="3-3-ç»„æˆ-Encoder"><a href="#3-3-ç»„æˆ-Encoder" class="headerlink" title="3.3 ç»„æˆ Encoder"></a>3.3 ç»„æˆ Encoder</h3><p>é€šè¿‡ä¸Šé¢æè¿°çš„ Multi-Head Attention, Feed Forward, Add &amp; Norm å°±å¯ä»¥æ„é€ å‡ºä¸€ä¸ª Encoder blockï¼ŒEncoder block æ¥æ”¶è¾“å…¥çŸ©é˜µ X(nÃ—d) ï¼Œå¹¶è¾“å‡ºä¸€ä¸ªçŸ©é˜µ O(nÃ—d) ã€‚é€šè¿‡å¤šä¸ª Encoder block å åŠ å°±å¯ä»¥ç»„æˆ Encoderã€‚</p><p>ç¬¬ä¸€ä¸ª Encoder block çš„è¾“å…¥ä¸ºå¥å­å•è¯çš„è¡¨ç¤ºå‘é‡çŸ©é˜µï¼Œåç»­ Encoder block çš„è¾“å…¥æ˜¯å‰ä¸€ä¸ª Encoder block çš„è¾“å‡ºï¼Œæœ€åä¸€ä¸ª Encoder block è¾“å‡ºçš„çŸ©é˜µå°±æ˜¯<strong>ç¼–ç ä¿¡æ¯çŸ©é˜µ C</strong>ï¼Œè¿™ä¸€çŸ©é˜µåç»­ä¼šç”¨åˆ° Decoder ä¸­ã€‚</p><p><img src="/2024/03/13/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/NLP/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/NLP%E6%A8%A1%E5%9E%8B/Transformer/8.png"></p><h2 id="4-Decoder"><a href="#4-Decoder" class="headerlink" title="4.Decoder"></a>4.Decoder</h2><p>ä¸ Encoder block ç›¸ä¼¼ï¼Œä½†æ˜¯å­˜åœ¨ä¸€äº›åŒºåˆ«ï¼š</p><ul><li>åŒ…å«ä¸¤ä¸ª Multi-Head Attention å±‚ã€‚</li><li>ç¬¬ä¸€ä¸ª Multi-Head Attention å±‚é‡‡ç”¨äº† Masked æ“ä½œã€‚</li><li>ç¬¬äºŒä¸ª Multi-Head Attention å±‚çš„<strong>K, V</strong>çŸ©é˜µä½¿ç”¨ Encoder çš„<strong>ç¼–ç ä¿¡æ¯çŸ©é˜µC</strong>è¿›è¡Œè®¡ç®—ï¼Œè€Œ<strong>Q</strong>ä½¿ç”¨ä¸Šä¸€ä¸ª Decoder block çš„è¾“å‡ºè®¡ç®—ã€‚</li><li>æœ€åæœ‰ä¸€ä¸ª Softmax å±‚è®¡ç®—ä¸‹ä¸€ä¸ªç¿»è¯‘å•è¯çš„æ¦‚ç‡ã€‚</li></ul><h3 id="4-1-First-Multi-Head-Attention"><a href="#4-1-First-Multi-Head-Attention" class="headerlink" title="4.1 First Multi-Head Attention"></a>4.1 First Multi-Head Attention</h3><p>Decoder block çš„ç¬¬ä¸€ä¸ª Multi-Head Attention é‡‡ç”¨äº† Masked æ“ä½œï¼Œå› ä¸ºåœ¨ç¿»è¯‘çš„è¿‡ç¨‹ä¸­æ˜¯é¡ºåºç¿»è¯‘çš„ï¼Œå³ç¿»è¯‘å®Œç¬¬ i ä¸ªå•è¯ï¼Œæ‰å¯ä»¥ç¿»è¯‘ç¬¬ i+1 ä¸ªå•è¯ã€‚é€šè¿‡ Masked æ“ä½œå¯ä»¥é˜²æ­¢ç¬¬ i ä¸ªå•è¯çŸ¥é“ i+1 ä¸ªå•è¯ä¹‹åçš„ä¿¡æ¯ã€‚</p><p>Decoder å¯ä»¥åœ¨è®­ç»ƒçš„è¿‡ç¨‹ä¸­ä½¿ç”¨ Teacher Forcing å¹¶ä¸”å¹¶è¡ŒåŒ–è®­ç»ƒï¼Œå³å°†æ­£ç¡®çš„å•è¯åºåˆ— (<Begin> I have a cat) å’Œå¯¹åº”è¾“å‡º (I have a cat <end>) ä¼ é€’åˆ° Decoderã€‚é‚£ä¹ˆåœ¨é¢„æµ‹ç¬¬ i ä¸ªè¾“å‡ºæ—¶ï¼Œå°±è¦å°†ç¬¬ i+1 ä¹‹åçš„å•è¯æ©ç›–ä½ï¼Œ<strong>æ³¨æ„ Mask æ“ä½œæ˜¯åœ¨ Self-Attention çš„ Softmax ä¹‹å‰ä½¿ç”¨çš„ï¼Œä¸‹é¢ç”¨ 0 1 2 3 4 5 åˆ†åˆ«è¡¨ç¤º â€œ<Begin> I have a cat <end>â€œã€‚</strong></p><p><strong>ç¬¬ä¸€æ­¥ï¼š</strong>æ˜¯ Decoder çš„è¾“å…¥çŸ©é˜µå’Œ <strong>Mask</strong> çŸ©é˜µï¼Œè¾“å…¥çŸ©é˜µåŒ…å« â€œ&lt;Begin&gt; I have a catâ€ (0, 1, 2, 3, 4) äº”ä¸ªå•è¯çš„è¡¨ç¤ºå‘é‡ï¼Œ<strong>Mask</strong> æ˜¯ä¸€ä¸ª 5Ã—5 çš„çŸ©é˜µã€‚åœ¨ <strong>Mask</strong> å¯ä»¥å‘ç°å•è¯ 0 åªèƒ½ä½¿ç”¨å•è¯ 0 çš„ä¿¡æ¯ï¼Œè€Œå•è¯ 1 å¯ä»¥ä½¿ç”¨å•è¯ 0, 1 çš„ä¿¡æ¯ï¼Œå³åªèƒ½ä½¿ç”¨ä¹‹å‰çš„ä¿¡æ¯ã€‚</p><p><img src="/2024/03/13/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/NLP/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/NLP%E6%A8%A1%E5%9E%8B/Transformer/9.png"></p><p><strong>ç¬¬äºŒæ­¥ï¼š</strong>æ¥ä¸‹æ¥çš„æ“ä½œå’Œä¹‹å‰çš„ Self-Attention ä¸€æ ·ï¼Œé€šè¿‡è¾“å…¥çŸ©é˜µ<strong>X</strong>è®¡ç®—å¾—åˆ°<strong>Q,K,V</strong>çŸ©é˜µã€‚ç„¶åè®¡ç®—<strong>Q</strong>å’Œ KT çš„ä¹˜ç§¯ QKT ã€‚</p><p><img src="/2024/03/13/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/NLP/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/NLP%E6%A8%A1%E5%9E%8B/Transformer/10.png"></p><p><strong>ç¬¬ä¸‰æ­¥ï¼š</strong>åœ¨å¾—åˆ° QKT ä¹‹åéœ€è¦è¿›è¡Œ Softmaxï¼Œè®¡ç®— attention scoreï¼Œæˆ‘ä»¬åœ¨ Softmax ä¹‹å‰éœ€è¦ä½¿ç”¨<strong>Mask</strong>çŸ©é˜µé®æŒ¡ä½æ¯ä¸€ä¸ªå•è¯ä¹‹åçš„ä¿¡æ¯ï¼Œé®æŒ¡æ“ä½œå¦‚ä¸‹ï¼š</p><p><img src="/2024/03/13/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/NLP/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/NLP%E6%A8%A1%E5%9E%8B/Transformer/11.png"></p><p>å¾—åˆ° <strong>Mask</strong> QKT ä¹‹ååœ¨ <strong>Mask</strong> QKTä¸Šè¿›è¡Œ Softmaxï¼Œæ¯ä¸€è¡Œçš„å’Œéƒ½ä¸º 1ã€‚ä½†æ˜¯å•è¯ 0 åœ¨å•è¯ 1, 2, 3, 4 ä¸Šçš„ attention score éƒ½ä¸º 0ã€‚</p><p><strong>ç¬¬å››æ­¥ï¼š</strong>ä½¿ç”¨ <strong>Mask</strong> QKTä¸çŸ©é˜µ <strong>V</strong>ç›¸ä¹˜ï¼Œå¾—åˆ°è¾“å‡º <strong>Z</strong>ï¼Œåˆ™å•è¯ 1 çš„è¾“å‡ºå‘é‡ Z1 æ˜¯åªåŒ…å«å•è¯ 1 ä¿¡æ¯çš„ã€‚</p><p><img src="/2024/03/13/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/NLP/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/NLP%E6%A8%A1%E5%9E%8B/Transformer/12.png"></p><p><strong>ç¬¬äº”æ­¥ï¼š</strong>é€šè¿‡ä¸Šè¿°æ­¥éª¤å°±å¯ä»¥å¾—åˆ°ä¸€ä¸ª Mask Self-Attention çš„è¾“å‡ºçŸ©é˜µ Zi ï¼Œç„¶åå’Œ Encoder ç±»ä¼¼ï¼Œé€šè¿‡ Multi-Head Attention æ‹¼æ¥å¤šä¸ªè¾“å‡ºZi ç„¶åè®¡ç®—å¾—åˆ°ç¬¬ä¸€ä¸ª Multi-Head Attention çš„è¾“å‡º<strong>Z</strong>ï¼Œ<strong>Z</strong>ä¸è¾“å…¥<strong>X</strong>ç»´åº¦ä¸€æ ·ã€‚</p><h3 id="4-2-Second-Multi-Head-Attention"><a href="#4-2-Second-Multi-Head-Attention" class="headerlink" title="4.2 Second Multi-Head Attention"></a>4.2 Second Multi-Head Attention</h3><p>Decoder block ç¬¬äºŒä¸ª Multi-Head Attention å˜åŒ–ä¸å¤§ï¼Œ ä¸»è¦çš„åŒºåˆ«åœ¨äºå…¶ä¸­ Self-Attention çš„ <strong>K, V</strong>çŸ©é˜µä¸æ˜¯ä½¿ç”¨ ä¸Šä¸€ä¸ª Decoder block çš„è¾“å‡ºè®¡ç®—çš„ï¼Œè€Œæ˜¯ä½¿ç”¨ <strong>Encoder çš„ç¼–ç ä¿¡æ¯çŸ©é˜µ C</strong> è®¡ç®—çš„ã€‚</p><p>æ ¹æ® Encoder çš„è¾“å‡º <strong>C</strong>è®¡ç®—å¾—åˆ° <strong>K, V</strong>ï¼Œæ ¹æ®ä¸Šä¸€ä¸ª Decoder block çš„è¾“å‡º <strong>Z</strong> è®¡ç®— <strong>Q</strong> (å¦‚æœæ˜¯ç¬¬ä¸€ä¸ª Decoder block åˆ™ä½¿ç”¨è¾“å…¥çŸ©é˜µ <strong>X</strong> è¿›è¡Œè®¡ç®—)ï¼Œåç»­çš„è®¡ç®—æ–¹æ³•ä¸ä¹‹å‰æè¿°çš„ä¸€è‡´ã€‚</p><p>è¿™æ ·åšçš„å¥½å¤„æ˜¯åœ¨ Decoder çš„æ—¶å€™ï¼Œæ¯ä¸€ä½å•è¯éƒ½å¯ä»¥åˆ©ç”¨åˆ° Encoder æ‰€æœ‰å•è¯çš„ä¿¡æ¯ (è¿™äº›ä¿¡æ¯æ— éœ€ <strong>Mask</strong>)ã€‚</p><h3 id="4-3-Softmax-é¢„æµ‹è¾“å‡ºå•è¯"><a href="#4-3-Softmax-é¢„æµ‹è¾“å‡ºå•è¯" class="headerlink" title="4.3 Softmax é¢„æµ‹è¾“å‡ºå•è¯"></a>4.3 Softmax é¢„æµ‹è¾“å‡ºå•è¯</h3><p>Decoder block æœ€åçš„éƒ¨åˆ†æ˜¯åˆ©ç”¨ Softmax é¢„æµ‹ä¸‹ä¸€ä¸ªå•è¯ï¼Œåœ¨ä¹‹å‰çš„ç½‘ç»œå±‚æˆ‘ä»¬å¯ä»¥å¾—åˆ°ä¸€ä¸ªæœ€ç»ˆçš„è¾“å‡º Zï¼Œå› ä¸º Mask çš„å­˜åœ¨ï¼Œä½¿å¾—å•è¯ 0 çš„è¾“å‡º Z0 åªåŒ…å«å•è¯ 0 çš„ä¿¡æ¯ï¼Œå¦‚ä¸‹ï¼š</p><p><img src="/2024/03/13/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/NLP/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/NLP%E6%A8%A1%E5%9E%8B/Transformer/13.png"></p><p>Softmax æ ¹æ®è¾“å‡ºçŸ©é˜µçš„æ¯ä¸€è¡Œé¢„æµ‹ä¸‹ä¸€ä¸ªå•è¯ï¼š</p><p><img src="/2024/03/13/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/NLP/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/NLP%E6%A8%A1%E5%9E%8B/Transformer/14.png"></p><p>è¿™å°±æ˜¯ Decoder block çš„å®šä¹‰ï¼Œä¸ Encoder ä¸€æ ·ï¼ŒDecoder æ˜¯ç”±å¤šä¸ª Decoder block ç»„åˆè€Œæˆã€‚</p>]]></content>
    
    
    <categories>
      
      <category>AI Ê¢áµ•á´—áµ•Ê¡</category>
      
      <category>NLP</category>
      
      <category>NLPåŸºç¡€çŸ¥è¯†</category>
      
      <category>NLPæ¨¡å‹</category>
      
    </categories>
    
    
    <tags>
      
      <tag>AI</tag>
      
      <tag>NLP</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>word2vecä»‹ç»ï¼ğŸ’</title>
    <link href="/2024/03/13/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/NLP/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/NLP%E6%A8%A1%E5%9E%8B/word2vec/"/>
    <url>/2024/03/13/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/NLP/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/NLP%E6%A8%A1%E5%9E%8B/word2vec/</url>
    
    <content type="html"><![CDATA[<h1 id="word2vecä»‹ç»"><a href="#word2vecä»‹ç»" class="headerlink" title="word2vecä»‹ç»"></a>word2vecä»‹ç»</h1><h2 id="1-è¯å‘é‡"><a href="#1-è¯å‘é‡" class="headerlink" title="1.è¯å‘é‡"></a>1.è¯å‘é‡</h2><p>è¯å‘é‡å°±æ˜¯ç”¨æ¥å°†è¯­è¨€ä¸­çš„è¯è¿›è¡Œæ•°å­¦åŒ–çš„ä¸€ç§æ–¹å¼ï¼Œé¡¾åæ€ä¹‰ï¼Œè¯å‘é‡å°±æ˜¯æŠŠä¸€ä¸ªè¯è¡¨ç¤ºæˆä¸€ä¸ªå‘é‡ã€‚ æˆ‘ä»¬éƒ½çŸ¥é“è¯åœ¨é€åˆ°ç¥ç»ç½‘ç»œè®­ç»ƒä¹‹å‰éœ€è¦å°†å…¶ç¼–ç æˆæ•°å€¼å˜é‡ï¼Œå¸¸è§çš„ç¼–ç æ–¹å¼æœ‰ä¸¤ç§ï¼šOne-Hot Representation å’Œ Distributed Representationã€‚</p><h3 id="1-1-One-Hotç¼–ç "><a href="#1-1-One-Hotç¼–ç " class="headerlink" title="1.1 One-Hotç¼–ç "></a>1.1 One-Hotç¼–ç </h3><p>One-Hotç¼–ç  ï¼Œå°±æ˜¯ç”¨ä¸€ä¸ªå¾ˆé•¿çš„å‘é‡æ¥è¡¨ç¤ºä¸€ä¸ªè¯ï¼Œå‘é‡çš„é•¿åº¦ä¸ºè¯å…¸çš„å¤§å°ï¼Œå‘é‡ä¸­åªæœ‰ä¸€ä¸ª 1 ï¼Œ å…¶ä»–å…¨ä¸º 0 ï¼Œ1 çš„ä½ç½®å¯¹åº”è¯¥è¯åœ¨è¯å…¸ä¸­çš„ä½ç½®ã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼šI like writing codeï¼Œé‚£ä¹ˆè½¬æ¢æˆç‹¬çƒ­ç¼–ç å°±æ˜¯:</p><p>**I **1 0 0 0 <strong>like</strong> 0 1 0 0 <strong>writing</strong> 0 0 1 0 <strong>code</strong> 0 0 0 1</p><p>ç¼ºç‚¹ï¼š</p><p>1.å®¹æ˜“å—ç»´æ•°ç¾éš¾çš„å›°æ‰°ï¼Œå°¤å…¶æ˜¯å°†å…¶ç”¨äº Deep Learningçš„ä¸€äº›ç®—æ³•æ—¶</p><p>2.è¯æ±‡é¸¿æ²Ÿï¼Œä¸èƒ½å¾ˆå¥½åœ°åˆ»ç”»è¯ä¸è¯ä¹‹é—´çš„ç›¸ä¼¼æ€§</p><p>3.å¼ºç¨€ç–æ€§</p><h3 id="1-2-Distributedç¼–ç "><a href="#1-2-Distributedç¼–ç " class="headerlink" title="1.2 Distributedç¼–ç "></a>1.2 <strong>Distributed</strong>ç¼–ç </h3><p>å…¶åŸºæœ¬æƒ³æ³•æ˜¯ï¼šé€šè¿‡è®­ç»ƒå°†æŸç§è¯­è¨€ä¸­çš„æ¯ä¸€ä¸ªè¯ æ˜ å°„æˆä¸€ä¸ªå›ºå®šé•¿åº¦çš„çŸ­å‘é‡ï¼ˆå½“ç„¶è¿™é‡Œçš„â€œçŸ­â€æ˜¯ç›¸å¯¹äºOne-Hot Representationçš„â€œé•¿â€è€Œè¨€çš„ï¼‰ï¼Œæ‰€æœ‰è¿™äº›å‘é‡æ„æˆä¸€ä¸ªè¯å‘é‡ç©ºé—´ï¼Œè€Œæ¯ä¸€ä¸ªå‘é‡åˆ™å¯è§†ä¸º è¯¥ç©ºé—´ä¸­çš„ä¸€ä¸ªç‚¹ï¼Œåœ¨è¿™ä¸ªç©ºé—´ä¸Šå¼•å…¥â€œè·ç¦»â€ï¼Œå°±å¯ä»¥æ ¹æ®è¯ä¹‹é—´çš„è·ç¦»æ¥åˆ¤æ–­å®ƒä»¬ä¹‹é—´çš„è¯­æ³•ã€è¯­ä¹‰ä¸Šçš„ç›¸ä¼¼æ€§äº†ã€‚</p><h2 id="2-Word2Vecçš„ç½‘ç»œç»“æ„"><a href="#2-Word2Vecçš„ç½‘ç»œç»“æ„" class="headerlink" title="2.Word2Vecçš„ç½‘ç»œç»“æ„"></a>2.<strong>Word2Vecçš„ç½‘ç»œç»“æ„</strong></h2><p>Word2Vecæ˜¯è½»é‡çº§çš„ç¥ç»ç½‘ç»œï¼Œå…¶æ¨¡å‹ä»…ä»…åŒ…æ‹¬è¾“å…¥å±‚ã€éšè—å±‚å’Œè¾“å‡ºå±‚ï¼Œæ¨¡å‹æ¡†æ¶æ ¹æ®è¾“å…¥è¾“å‡ºçš„ä¸åŒï¼Œä¸»è¦åŒ…æ‹¬CBOWå’ŒSkip-gramæ¨¡å‹ã€‚</p><p><img src="/2024/03/13/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/NLP/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/NLP%E6%A8%A1%E5%9E%8B/word2vec/1.png"></p><h3 id="2-1-CBOW"><a href="#2-1-CBOW" class="headerlink" title="2.1 CBOW"></a>2.1 <strong>CBOW</strong></h3><h4 id="2-1-1-Simple-CBOW-Model"><a href="#2-1-1-Simple-CBOW-Model" class="headerlink" title="2.1.1 Simple CBOW Model"></a>2.1.1 <strong>Simple CBOW Model</strong></h4><p>ä¸ºäº†æ›´å¥½çš„äº†è§£æ¨¡å‹æ·±å¤„çš„åŸç†ï¼Œæˆ‘ä»¬å…ˆä»Simple CBOW modelï¼ˆä»…è¾“å…¥ä¸€ä¸ªè¯ï¼Œè¾“å‡ºä¸€ä¸ªè¯ï¼‰æ¡†æ¶è¯´èµ·ã€‚</p><p><img src="/2024/03/13/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/NLP/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/NLP%E6%A8%A1%E5%9E%8B/word2vec/2.png"></p><p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼š</p><ul><li>input layerè¾“å…¥çš„Xæ˜¯å•è¯çš„one-hot representationï¼ˆè€ƒè™‘ä¸€ä¸ªè¯è¡¨Vï¼Œé‡Œé¢çš„æ¯ä¸€ä¸ªè¯ x éƒ½æœ‰ä¸€ä¸ªç¼–å·iâˆˆ{1,â€¦,|V|}ï¼Œé‚£ä¹ˆè¯ x çš„one-hotè¡¨ç¤ºå°±æ˜¯ä¸€ä¸ªç»´åº¦ä¸º|V|çš„å‘é‡ï¼Œå…¶ä¸­ç¬¬iä¸ªå…ƒç´ å€¼éé›¶ï¼Œå…¶ä½™å…ƒç´ å…¨ä¸º0ï¼Œä¾‹å¦‚ï¼š x2&#x3D;[0,1,0,â€¦,0]T ï¼‰ï¼›</li><li>è¾“å…¥å±‚åˆ°éšè—å±‚ä¹‹é—´æœ‰ä¸€ä¸ªæƒé‡çŸ©é˜µWï¼Œéšè—å±‚å¾—åˆ°çš„å€¼æ˜¯ç”±è¾“å…¥Xä¹˜ä¸Šæƒé‡çŸ©é˜µå¾—åˆ°çš„ï¼ˆç»†å¿ƒçš„äººä¼šå‘ç°ï¼Œ0-1å‘é‡ä¹˜ä¸Šä¸€ä¸ªçŸ©é˜µï¼Œå°±ç›¸å½“äºé€‰æ‹©äº†æƒé‡çŸ©é˜µçš„æŸä¸€è¡Œï¼Œå¦‚å›¾ï¼šè¾“å…¥çš„å‘é‡Xæ˜¯[0ï¼Œ0ï¼Œ1ï¼Œ0ï¼Œ0ï¼Œ0]ï¼ŒWçš„è½¬ç½®ä¹˜ä¸ŠXå°±ç›¸å½“äºä»çŸ©é˜µä¸­é€‰æ‹©ç¬¬3è¡Œ[2,1,3]ä½œä¸ºéšè—å±‚çš„å€¼ï¼‰;</li><li>éšè—å±‚åˆ°è¾“å‡ºå±‚ä¹Ÿæœ‰ä¸€ä¸ªæƒé‡çŸ©é˜µWâ€™ï¼Œå› æ­¤ï¼Œè¾“å‡ºå±‚å‘é‡yçš„æ¯ä¸€ä¸ªå€¼ï¼Œå…¶å®å°±æ˜¯éšè—å±‚çš„å‘é‡ç‚¹ä¹˜æƒé‡å‘é‡Wâ€™çš„æ¯ä¸€åˆ—ï¼Œæ¯”å¦‚è¾“å‡ºå±‚çš„ç¬¬ä¸€ä¸ªæ•°7ï¼Œå°±æ˜¯å‘é‡[2,1,3]å’Œåˆ—å‘é‡[1ï¼Œ2ï¼Œ1]ç‚¹ä¹˜ä¹‹åçš„ç»“æœï¼›</li><li>æœ€ç»ˆçš„è¾“å‡ºéœ€è¦ç»è¿‡softmaxå‡½æ•°ï¼Œå°†è¾“å‡ºå‘é‡ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ å½’ä¸€åŒ–åˆ°0-1ä¹‹é—´çš„æ¦‚ç‡ï¼Œæ¦‚ç‡æœ€å¤§çš„ï¼Œå°±æ˜¯é¢„æµ‹çš„è¯ã€‚</li></ul><h4 id="2-1-2-CBOW-Multi-Word-Context-Model"><a href="#2-1-2-CBOW-Multi-Word-Context-Model" class="headerlink" title="2.1.2 CBOW Multi-Word Context Model"></a>2.1.2 <strong>CBOW Multi-Word Context Model</strong></h4><p><img src="/2024/03/13/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/NLP/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/NLP%E6%A8%A1%E5%9E%8B/word2vec/3.png"></p><p>äº†è§£äº†Simple CBOW modelä¹‹åï¼Œæ‰©å±•åˆ°CBOWå°±å¾ˆå®¹æ˜“äº†ï¼Œåªæ˜¯æŠŠå•ä¸ªè¾“å…¥æ¢æˆå¤šä¸ªè¾“å…¥ç½¢äº†ï¼ˆåˆ’çº¢çº¿éƒ¨åˆ†ï¼‰ã€‚</p><p><strong>hæ˜¯æ±‚å¹³å‡å€¼åçš„ç»“æœã€‚</strong></p><h3 id="2-2-Skip-gram"><a href="#2-2-Skip-gram" class="headerlink" title="2.2 Skip-gram"></a>2.2 <strong>Skip-gram</strong></h3><p><img src="/2024/03/13/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/NLP/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/NLP%E6%A8%A1%E5%9E%8B/word2vec/4.png"></p><p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼ŒSkip-gram modelæ˜¯é€šè¿‡è¾“å…¥ä¸€ä¸ªè¯å»é¢„æµ‹å¤šä¸ªè¯çš„æ¦‚ç‡ã€‚è¾“å…¥å±‚åˆ°éšè—å±‚çš„åŸç†å’Œsimple CBOWä¸€æ ·ï¼Œä¸åŒçš„æ˜¯éšè—å±‚åˆ°è¾“å‡ºå±‚ï¼ŒæŸå¤±å‡½æ•°å˜æˆäº†Cä¸ªè¯æŸå¤±å‡½æ•°çš„æ€»å’Œï¼Œæƒé‡çŸ©é˜µWâ€™è¿˜æ˜¯å…±äº«çš„ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>AI Ê¢áµ•á´—áµ•Ê¡</category>
      
      <category>NLP</category>
      
      <category>NLPåŸºç¡€çŸ¥è¯†</category>
      
      <category>NLPæ¨¡å‹</category>
      
    </categories>
    
    
    <tags>
      
      <tag>AI</tag>
      
      <tag>NLP</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>torchtexté¢„å¤„ç†è‡ªå®šä¹‰æ–‡æœ¬æ•°æ®é›†ï¼ğŸŒ</title>
    <link href="/2024/03/12/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/Pytorch/%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/torchtext%E9%A2%84%E5%A4%84%E7%90%86%E8%87%AA%E5%AE%9A%E4%B9%89%E6%96%87%E6%9C%AC%E6%95%B0%E6%8D%AE%E9%9B%86/"/>
    <url>/2024/03/12/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/Pytorch/%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/torchtext%E9%A2%84%E5%A4%84%E7%90%86%E8%87%AA%E5%AE%9A%E4%B9%89%E6%96%87%E6%9C%AC%E6%95%B0%E6%8D%AE%E9%9B%86/</url>
    
    <content type="html"><![CDATA[<h1 id="torchtexté¢„å¤„ç†è‡ªå®šä¹‰æ–‡æœ¬æ•°æ®é›†"><a href="#torchtexté¢„å¤„ç†è‡ªå®šä¹‰æ–‡æœ¬æ•°æ®é›†" class="headerlink" title="torchtexté¢„å¤„ç†è‡ªå®šä¹‰æ–‡æœ¬æ•°æ®é›†"></a>torchtexté¢„å¤„ç†è‡ªå®šä¹‰æ–‡æœ¬æ•°æ®é›†</h1><h2 id="1-è®¾ç½®"><a href="#1-è®¾ç½®" class="headerlink" title="1.è®¾ç½®"></a>1.è®¾ç½®</h2><p>å¯¼å…¥å¿…è¦çš„åŒ…ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> torchdata.datapipes <span class="hljs-keyword">as</span> dp<br><span class="hljs-keyword">import</span> torchtext.transforms <span class="hljs-keyword">as</span> T<br><span class="hljs-keyword">import</span> spacy<br><span class="hljs-keyword">from</span> torchtext.vocab <span class="hljs-keyword">import</span> build_vocab_from_iterator<br></code></pre></td></tr></table></figure><p>ä¸‹è½½åˆ†è¯çš„æ¨¡å‹ï¼š</p><p><img src="/2024/03/12/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/Pytorch/%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/torchtext%E9%A2%84%E5%A4%84%E7%90%86%E8%87%AA%E5%AE%9A%E4%B9%89%E6%96%87%E6%9C%AC%E6%95%B0%E6%8D%AE%E9%9B%86/1.png"></p><p>åŠ è½½æ¨¡å‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">eng = spacy.load(<span class="hljs-string">&quot;en_core_web_md-3.7.1&quot;</span>)  <span class="hljs-comment"># Load the English model to tokenize English text</span><br>zh = spacy.load(<span class="hljs-string">&quot;zh_core_web_md-3.7.0&quot;</span>)<br></code></pre></td></tr></table></figure><p>åŠ è½½æ•°æ®é›†ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python">FILE_PATH = <span class="hljs-string">&#x27;cmn.txt&#x27;</span><br>data_pipe = dp.<span class="hljs-built_in">iter</span>.IterableWrapper([FILE_PATH])<br>data_pipe = dp.<span class="hljs-built_in">iter</span>.FileOpener(data_pipe, mode=<span class="hljs-string">&#x27;rb&#x27;</span>)<br>data_pipe = data_pipe.parse_csv(skip_lines=<span class="hljs-number">0</span>, delimiter=<span class="hljs-string">&#x27;\t&#x27;</span>, as_tuple=<span class="hljs-literal">True</span>)<br></code></pre></td></tr></table></figure><ol><li>åœ¨ç¬¬ 2 è¡Œï¼Œæˆ‘ä»¬æ­£åœ¨åˆ›å»ºæ–‡ä»¶åçš„å¯è¿­ä»£å¯¹è±¡</li><li>åœ¨ç¬¬ 3 è¡Œï¼Œæˆ‘ä»¬å°†å¯è¿­ä»£å¯¹è±¡ä¼ é€’ç»™ FileOpenerï¼Œç„¶å FileOpener ä»¥è¯»å–æ¨¡å¼æ‰“å¼€æ–‡ä»¶</li><li>åœ¨ç¬¬ 4 è¡Œï¼Œæˆ‘ä»¬è°ƒç”¨ä¸€ä¸ªå‡½æ•°æ¥è§£ææ–‡ä»¶ï¼Œè¯¥å‡½æ•°å†æ¬¡è¿”å›ä¸€ä¸ªå…ƒç»„çš„å¯è¿­ä»£å¯¹è±¡ï¼Œè¡¨ç¤ºåˆ¶è¡¨ç¬¦åˆ†éš”æ–‡ä»¶çš„æ¯ä¸€è¡Œ</li></ol><p><strong>DataPipes å¯ä»¥è¢«è®¤ä¸ºæ˜¯ä¸€ä¸ªæ•°æ®é›†å¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å®ƒä¸Šé¢æ‰§è¡Œå„ç§æ“ä½œã€‚</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">removeAttribution</span>(<span class="hljs-params">row</span>):<br>    <span class="hljs-keyword">return</span> row[:<span class="hljs-number">2</span>]<br><br><br>data_pipe = data_pipe.<span class="hljs-built_in">map</span>(removeAttribution)<br></code></pre></td></tr></table></figure><p><strong>map å‡½æ•°å¯ç”¨äºå¯¹data_pipeçš„æ¯ä¸ªå…ƒç´ åº”ç”¨ä¸€äº›å‡½æ•°ã€‚</strong></p><p>åˆ†è¯ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">engTokenize</span>(<span class="hljs-params">text</span>):<br>    engTokenList = [token.text <span class="hljs-keyword">for</span> token <span class="hljs-keyword">in</span> eng.tokenizer(text)]<br>    <span class="hljs-keyword">return</span> engTokenList<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">zhTokenize</span>(<span class="hljs-params">text</span>):<br>    <span class="hljs-keyword">return</span> [token.text <span class="hljs-keyword">for</span> token <span class="hljs-keyword">in</span> zh.tokenizer(text)]<br></code></pre></td></tr></table></figure><h2 id="2-å»ºç«‹è¯æ±‡è¡¨"><a href="#2-å»ºç«‹è¯æ±‡è¡¨" class="headerlink" title="2.å»ºç«‹è¯æ±‡è¡¨"></a>2.å»ºç«‹è¯æ±‡è¡¨</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">getTokens</span>(<span class="hljs-params">data_iter, place</span>):<br>    <span class="hljs-keyword">for</span> english, chinese <span class="hljs-keyword">in</span> data_iter:<br>        <span class="hljs-keyword">if</span> place == <span class="hljs-number">0</span>:<br>            <span class="hljs-keyword">yield</span> engTokenize(english)<br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-keyword">yield</span> zhTokenize(chinese)<br><br><br><br>source_vocab = build_vocab_from_iterator(<br>    getTokens(data_pipe, <span class="hljs-number">0</span>),<br>    min_freq=<span class="hljs-number">2</span>,<br>    specials=[<span class="hljs-string">&#x27;&lt;pad&gt;&#x27;</span>, <span class="hljs-string">&#x27;&lt;sos&gt;&#x27;</span>, <span class="hljs-string">&#x27;&lt;eos&gt;&#x27;</span>, <span class="hljs-string">&#x27;&lt;unk&gt;&#x27;</span>],<br>    special_first=<span class="hljs-literal">True</span><br>)<br>source_vocab.set_default_index(source_vocab[<span class="hljs-string">&#x27;&lt;unk&gt;&#x27;</span>])<br><br>target_vocab = build_vocab_from_iterator(<br>    getTokens(data_pipe, <span class="hljs-number">1</span>),<br>    min_freq=<span class="hljs-number">2</span>,<br>    specials=[<span class="hljs-string">&#x27;&lt;pad&gt;&#x27;</span>, <span class="hljs-string">&#x27;&lt;sos&gt;&#x27;</span>, <span class="hljs-string">&#x27;&lt;eos&gt;&#x27;</span>, <span class="hljs-string">&#x27;&lt;unk&gt;&#x27;</span>],<br>    special_first=<span class="hljs-literal">True</span><br>)<br>target_vocab.set_default_index(target_vocab[<span class="hljs-string">&#x27;&lt;unk&gt;&#x27;</span>])<br><br><span class="hljs-built_in">print</span>(source_vocab.get_itos()[:<span class="hljs-number">9</span>])<br></code></pre></td></tr></table></figure><p><strong>source_vocab.get_itosï¼ˆï¼‰ è¿”å›ä¸€ä¸ªåˆ—è¡¨ï¼Œå…¶ä¸­åŒ…å«åŸºäºè¯æ±‡çš„ç´¢å¼•ä¸­çš„æ ‡è®°ã€‚</strong></p><h2 id="3-ä½¿ç”¨è¯æ±‡å¯¹å¥å­è¿›è¡Œæ•°å­—åŒ–"><a href="#3-ä½¿ç”¨è¯æ±‡å¯¹å¥å­è¿›è¡Œæ•°å­—åŒ–" class="headerlink" title="3.ä½¿ç”¨è¯æ±‡å¯¹å¥å­è¿›è¡Œæ•°å­—åŒ–"></a>3.ä½¿ç”¨è¯æ±‡å¯¹å¥å­è¿›è¡Œæ•°å­—åŒ–</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">getTransform</span>(<span class="hljs-params">vocab</span>):<br>    text_tranform = T.Sequential(<br>        T.VocabTransform(vocab=vocab),<br>        T.AddToken(<span class="hljs-number">1</span>, begin=<span class="hljs-literal">True</span>),<br>        T.AddToken(<span class="hljs-number">2</span>, begin=<span class="hljs-literal">False</span>)<br>    )<br>    <span class="hljs-keyword">return</span> text_tranform<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">applyTransform</span>(<span class="hljs-params">sequence_pair</span>):<br>    <span class="hljs-keyword">return</span> (<br>        getTransform(source_vocab)(engTokenize(sequence_pair[<span class="hljs-number">0</span>])),<br>        getTransform(target_vocab)(zhTokenize(sequence_pair[<span class="hljs-number">1</span>]))<br>    )<br><br><br>data_pipe = data_pipe.<span class="hljs-built_in">map</span>(applyTransform)<br></code></pre></td></tr></table></figure><h2 id="4-åˆ¶ä½œæ‰¹æ¬¡"><a href="#4-åˆ¶ä½œæ‰¹æ¬¡" class="headerlink" title="4.åˆ¶ä½œæ‰¹æ¬¡"></a>4.åˆ¶ä½œæ‰¹æ¬¡</h2><p>é€šå¸¸ï¼Œæˆ‘ä»¬åˆ†æ‰¹è®­ç»ƒæ¨¡å‹ã€‚åœ¨å¤„ç†åºåˆ—åˆ°åºåˆ—æ¨¡å‹æ—¶ï¼Œå»ºè®®ä¿æŒæ‰¹æ¬¡ä¸­åºåˆ—çš„é•¿åº¦ç›¸ä¼¼ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ data_pipe çš„ bucketbatch å‡½æ•°ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">sortBucket</span>(<span class="hljs-params">bucket</span>):<br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">sorted</span>(bucket, key=<span class="hljs-keyword">lambda</span> x: (<span class="hljs-built_in">len</span>(x[<span class="hljs-number">0</span>]), <span class="hljs-built_in">len</span>(x[<span class="hljs-number">1</span>])))<br><br><br>data_pipe = data_pipe.bucketbatch(<br>    batch_size=<span class="hljs-number">4</span>, batch_num=<span class="hljs-number">5</span>, bucket_num=<span class="hljs-number">1</span>,<br>    use_in_batch_shuffle=<span class="hljs-literal">False</span>, sort_key=sortBucket<br>)<br></code></pre></td></tr></table></figure><p>data_pipeä¸­çš„ä¸€æ‰¹æ˜¯ <code>[ï¼ˆX_1ï¼Œy_1ï¼‰ã€ï¼ˆX_2ï¼Œy_2ï¼‰ã€ï¼ˆX_3ï¼Œy_3ï¼‰ã€ï¼ˆX_4ï¼Œy_4ï¼‰]</code></p><p>å› æ­¤ï¼Œæˆ‘ä»¬ç°åœ¨å°†å®ƒä»¬è½¬æ¢ä¸ºä»¥ä¸‹å½¢å¼ï¼š<code>ï¼ˆï¼ˆX_1ï¼ŒX_2ï¼ŒX_3ï¼ŒX_4ï¼‰ï¼Œ ï¼ˆy_1ï¼Œy_2ï¼Œy_3ï¼Œy_4ï¼‰ï¼‰</code>ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬å°†ç¼–å†™ä¸€ä¸ªå°å‡½æ•°ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">separateSourceTarget</span>(<span class="hljs-params">sequence_pairs</span>):<br>    sources, targets = <span class="hljs-built_in">zip</span>(*sequence_pairs)<br>    <span class="hljs-keyword">return</span> sources, targets<br><br><br>data_pipe = data_pipe.<span class="hljs-built_in">map</span>(separateSourceTarget)<br></code></pre></td></tr></table></figure><h2 id="5-å¡«å……"><a href="#5-å¡«å……" class="headerlink" title="5.å¡«å……"></a>5.å¡«å……</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">applyPadding</span>(<span class="hljs-params">pair_of_sequences</span>):<br>    <span class="hljs-keyword">return</span> (T.ToTensor(<span class="hljs-number">0</span>)(<span class="hljs-built_in">list</span>(pair_of_sequences[<span class="hljs-number">0</span>])), T.ToTensor(<span class="hljs-number">0</span>)(<span class="hljs-built_in">list</span>(pair_of_sequences[<span class="hljs-number">1</span>])))<br><br><br>data_pipe = data_pipe.<span class="hljs-built_in">map</span>(applyPadding)<br><br>source_index_to_string = source_vocab.get_itos()<br>target_index_to_string = target_vocab.get_itos()<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">showSomeTransformedSentences</span>(<span class="hljs-params">data_pipe</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    Function to show how the sentences look like after applying all transforms.</span><br><span class="hljs-string">    Here we try to print actual words instead of corresponding index</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    <span class="hljs-keyword">for</span> sources, targets <span class="hljs-keyword">in</span> data_pipe:<br>        <span class="hljs-keyword">if</span> sources[<span class="hljs-number">0</span>][-<span class="hljs-number">1</span>] != <span class="hljs-number">0</span>:<br>            <span class="hljs-keyword">continue</span>  <span class="hljs-comment"># Just to visualize padding of shorter sentences</span><br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">4</span>):<br>            source = <span class="hljs-string">&quot;&quot;</span><br>            <span class="hljs-keyword">for</span> token <span class="hljs-keyword">in</span> sources[i]:<br>                source += <span class="hljs-string">&quot; &quot;</span> + source_index_to_string[token]<br>            target = <span class="hljs-string">&quot;&quot;</span><br>            <span class="hljs-keyword">for</span> token <span class="hljs-keyword">in</span> targets[i]:<br>                target += <span class="hljs-string">&quot; &quot;</span> + target_index_to_string[token]<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Source: <span class="hljs-subst">&#123;source&#125;</span>&quot;</span>)<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Traget: <span class="hljs-subst">&#123;target&#125;</span>&quot;</span>)<br>        <span class="hljs-keyword">break</span><br><br><br>showSomeTransformedSentences(data_pipe)<br></code></pre></td></tr></table></figure><p>è¿”å›ç»“æœï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python">Source:  &lt;sos&gt; &lt;unk&gt; ! &lt;eos&gt; &lt;pad&gt;<br>Traget:  &lt;sos&gt; å®Œç¾ ï¼ &lt;eos&gt;<br>Source:  &lt;sos&gt; Hold on . &lt;eos&gt;<br>Traget:  &lt;sos&gt; åšæŒ ã€‚ &lt;eos&gt;<br>Source:  &lt;sos&gt; See you . &lt;eos&gt;<br>Traget:  &lt;sos&gt; å†è§ ï¼ &lt;eos&gt;<br>Source:  &lt;sos&gt; Shut up ! &lt;eos&gt;<br>Traget:  &lt;sos&gt; &lt;unk&gt; ï¼ &lt;eos&gt;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>AI Ê¢áµ•á´—áµ•Ê¡</category>
      
      <category>Pytorch</category>
      
      <category>Pytorché¡¹ç›®å®æˆ˜</category>
      
    </categories>
    
    
    <tags>
      
      <tag>AI</tag>
      
      <tag>Pytorch</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>collectionsåº“çš„ä½¿ç”¨ï¼â˜ƒï¸</title>
    <link href="/2024/03/12/%E7%AE%97%E6%B3%95/python/python%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/python%E4%B8%ADcollections%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
    <url>/2024/03/12/%E7%AE%97%E6%B3%95/python/python%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/python%E4%B8%ADcollections%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/</url>
    
    <content type="html"><![CDATA[<h1 id="collectionsåº“çš„ä½¿ç”¨"><a href="#collectionsåº“çš„ä½¿ç”¨" class="headerlink" title="collectionsåº“çš„ä½¿ç”¨"></a>collectionsåº“çš„ä½¿ç”¨</h1><p>åœ¨Pythonä¸­ï¼Œ<code>collections</code> æ¨¡å—æä¾›äº†è®¸å¤šæœ‰ç”¨çš„æ•°æ®ç»“æ„ï¼Œç”¨äºæ‰©å±•å†…ç½®çš„å®¹å™¨ç±»å‹ï¼ˆå¦‚åˆ—è¡¨ã€å…ƒç»„ã€å­—å…¸ç­‰ï¼‰ï¼Œä»¥æ»¡è¶³å„ç§ç¼–ç¨‹éœ€æ±‚ã€‚è¿™äº›æ•°æ®ç»“æ„åœ¨å¤„ç†ç‰¹å®šä»»åŠ¡æ—¶æ¯”å†…ç½®ç±»å‹æ›´é«˜æ•ˆï¼Œå¹¶ä¸”æä¾›äº†é¢å¤–çš„åŠŸèƒ½ã€‚</p><p>ä»¥ä¸‹æ˜¯ <code>collections</code> æ¨¡å—ä¸­ä¸€äº›å¸¸ç”¨çš„æ•°æ®ç»“æ„ï¼š</p><h2 id="1-Counter"><a href="#1-Counter" class="headerlink" title="1.Counter"></a>1.Counter</h2><p>ç”¨äºè®¡æ•°å¯å“ˆå¸Œå¯¹è±¡ï¼Œæ˜¯å­—å…¸çš„å­ç±»ã€‚æä¾›äº†å¿«é€Ÿè®¡æ•°å’Œé›†åˆæ“ä½œçš„åŠŸèƒ½ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> collections <span class="hljs-keyword">import</span> Counter<br><br><span class="hljs-comment"># åˆ›å»ºCounterå¯¹è±¡</span><br>c = Counter([<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>])<br><span class="hljs-built_in">print</span>(c)  <span class="hljs-comment"># è¾“å‡º: Counter(&#123;&#x27;a&#x27;: 3, &#x27;b&#x27;: 2, &#x27;c&#x27;: 1&#125;)</span><br><br><span class="hljs-comment"># è®¿é—®å…ƒç´ çš„è®¡æ•°</span><br><span class="hljs-built_in">print</span>(c[<span class="hljs-string">&#x27;a&#x27;</span>])  <span class="hljs-comment"># è¾“å‡º: 3</span><br><br><span class="hljs-comment"># å…ƒç´ è®¡æ•°çš„é›†åˆæ“ä½œ</span><br>d = Counter([<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>])<br><span class="hljs-built_in">print</span>(c + d)  <span class="hljs-comment"># è¾“å‡º: Counter(&#123;&#x27;a&#x27;: 4, &#x27;b&#x27;: 3, &#x27;c&#x27;: 1, &#x27;d&#x27;: 1&#125;)</span><br></code></pre></td></tr></table></figure><h3 id="1-1-Counter-update"><a href="#1-1-Counter-update" class="headerlink" title="1.1 Counter.update"></a>1.1 Counter.update</h3><p> <code>update()</code> æ–¹æ³•ç”¨äºå°†å¦ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ä¸­çš„å…ƒç´ è®¡æ•°æ·»åŠ åˆ°å½“å‰ <code>Counter</code> ä¸­ã€‚å¦‚æœæ²¡æœ‰æŒ‡å®šå¯è¿­ä»£å¯¹è±¡ï¼Œåˆ™ä¸ä¼šè¿›è¡Œä»»ä½•æ“ä½œã€‚è¿™ä¸ªæ–¹æ³•å¯ä»¥ç”¨äºæ›´æ–°è®¡æ•°å™¨çš„å†…å®¹ï¼Œä¾‹å¦‚åˆå¹¶ä¸¤ä¸ªè®¡æ•°å™¨ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> collections <span class="hljs-keyword">import</span> Counter<br><br><span class="hljs-comment"># åˆ›å»ºä¸¤ä¸ªCounterå¯¹è±¡</span><br>c1 = Counter(&#123;<span class="hljs-string">&#x27;a&#x27;</span>: <span class="hljs-number">3</span>, <span class="hljs-string">&#x27;b&#x27;</span>: <span class="hljs-number">2</span>&#125;)<br>c2 = Counter(&#123;<span class="hljs-string">&#x27;a&#x27;</span>: <span class="hljs-number">1</span>, <span class="hljs-string">&#x27;b&#x27;</span>: <span class="hljs-number">4</span>, <span class="hljs-string">&#x27;c&#x27;</span>: <span class="hljs-number">2</span>&#125;)<br><br><span class="hljs-comment"># ä½¿ç”¨updateæ–¹æ³•åˆå¹¶ä¸¤ä¸ªCounterå¯¹è±¡</span><br>c1.update(c2)<br><br><span class="hljs-built_in">print</span>(c1)<br><span class="hljs-comment"># è¾“å‡º: Counter(&#123;&#x27;a&#x27;: 4, &#x27;b&#x27;: 6, &#x27;c&#x27;: 2&#125;)</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>ç®—æ³• Ê•â‰§á´¥â‰¦Ê”</category>
      
      <category>Python</category>
      
      <category>Pythonåº“</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>loggingåº“çš„ä½¿ç”¨ï¼â˜ƒï¸</title>
    <link href="/2024/02/27/%E7%AE%97%E6%B3%95/python/python%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/python%E4%B8%ADlogging%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
    <url>/2024/02/27/%E7%AE%97%E6%B3%95/python/python%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/python%E4%B8%ADlogging%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/</url>
    
    <content type="html"><![CDATA[<h1 id="loggingåº“çš„ä½¿ç”¨"><a href="#loggingåº“çš„ä½¿ç”¨" class="headerlink" title="loggingåº“çš„ä½¿ç”¨"></a>loggingåº“çš„ä½¿ç”¨</h1><h2 id="1-Formatter"><a href="#1-Formatter" class="headerlink" title="1.Formatter"></a>1.Formatter</h2><p>åœ¨Pythonä¸­ï¼Œ<code>logging.Formatter</code>æ˜¯ç”¨äºé…ç½®æ—¥å¿—æ¶ˆæ¯çš„æ ¼å¼çš„ç±»ã€‚å®ƒå…è®¸ä½ æŒ‡å®šæ—¥å¿—æ¶ˆæ¯çš„è¾“å‡ºæ ¼å¼ã€‚<code>logging.Formatter</code>ç±»æœ‰ä¸¤ä¸ªä¸»è¦å‚æ•°ï¼š</p><ol><li><code>fmt</code>ï¼šè¿™æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œç”¨äºæŒ‡å®šæ—¥å¿—æ¶ˆæ¯çš„è¾“å‡ºæ ¼å¼ã€‚å¯ä»¥ä½¿ç”¨æ ¼å¼åŒ–ä»£ç æ¥åŒ…å«æ—¥å¿—è®°å½•ä¸­çš„å„ç§ä¿¡æ¯ï¼Œä¾‹å¦‚æ—¶é—´æˆ³ã€æ—¥å¿—çº§åˆ«ã€æ¶ˆæ¯å†…å®¹ç­‰ã€‚</li><li><code>datefmt</code>ï¼šè¿™æ˜¯ä¸€ä¸ªå¯é€‰å‚æ•°ï¼Œç”¨äºæŒ‡å®šæ—¶é—´æˆ³çš„æ ¼å¼ã€‚å¦‚æœæ—¥å¿—æ¶ˆæ¯ä¸­åŒ…å«æ—¥æœŸå’Œæ—¶é—´ä¿¡æ¯ï¼Œå¯ä»¥ä½¿ç”¨è¿™ä¸ªå‚æ•°æ¥æŒ‡å®šè¾“å‡ºçš„æ—¶é—´æˆ³æ ¼å¼ã€‚</li></ol><p>ä¾‹å¦‚ï¼Œä½¿ç”¨<code>logging.Formatter</code>ç±»è®¾ç½®æ—¥å¿—æ¶ˆæ¯çš„æ ¼å¼çš„ç¤ºä¾‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> logging<br><br><span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªFormatterå¯¹è±¡</span><br>formatter = logging.Formatter(fmt=<span class="hljs-string">&#x27;%(asctime)s - %(levelname)s - %(message)s&#x27;</span>, datefmt=<span class="hljs-string">&#x27;%Y-%m-%d %H:%M:%S&#x27;</span>)<br><br><span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªStreamHandlerï¼Œå¹¶è®¾ç½®å…¶Formatter</span><br>stream_handler = logging.StreamHandler()<br>stream_handler.setFormatter(formatter)<br><br><span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªLoggerå¯¹è±¡</span><br>logger = logging.getLogger(<span class="hljs-string">&#x27;example&#x27;</span>)<br>logger.setLevel(logging.DEBUG)<br><br><span class="hljs-comment"># å°†StreamHandleræ·»åŠ åˆ°Loggerä¸­</span><br>logger.addHandler(stream_handler)<br><br><span class="hljs-comment"># è¾“å‡ºæ—¥å¿—æ¶ˆæ¯</span><br>logger.debug(<span class="hljs-string">&#x27;This is a debug message.&#x27;</span>)<br>logger.info(<span class="hljs-string">&#x27;This is an info message.&#x27;</span>)<br>logger.warning(<span class="hljs-string">&#x27;This is a warning message.&#x27;</span>)<br>logger.error(<span class="hljs-string">&#x27;This is an error message.&#x27;</span>)<br>logger.critical(<span class="hljs-string">&#x27;This is a critical message.&#x27;</span>)<br></code></pre></td></tr></table></figure><p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œ<code>fmt</code>å‚æ•°æŒ‡å®šäº†æ—¥å¿—æ¶ˆæ¯çš„è¾“å‡ºæ ¼å¼ï¼Œå…¶ä¸­åŒ…å«äº†æ—¶é—´æˆ³ã€æ—¥å¿—çº§åˆ«å’Œæ¶ˆæ¯å†…å®¹ï¼›<code>datefmt</code>å‚æ•°æŒ‡å®šäº†æ—¶é—´æˆ³çš„æ ¼å¼ä¸ºå¹´-æœˆ-æ—¥ æ—¶:åˆ†:ç§’ã€‚</p><p>tipsï¼š</p><p>1.æ—¥å¿—æ¶ˆæ¯çš„è¾“å‡ºæ ¼å¼ï¼š</p><ul><li><code>%(asctime)-15s</code>: è¿™ä¸ªéƒ¨åˆ†è¡¨ç¤ºæ—¥å¿—è®°å½•çš„æ—¶é—´ï¼Œæ ¼å¼ä¸ºæ—¥å¿—æ¶ˆæ¯è¢«åˆ›å»ºçš„æ—¶é—´ï¼Œé€šè¿‡ <code>asctime</code> å±æ€§æä¾›ã€‚<code>-15s</code> æŒ‡å®šäº†ä¸€ä¸ªæœ€å°å®½åº¦ä¸º 15 ä¸ªå­—ç¬¦çš„å­—æ®µï¼Œå¹¶ä¸”å·¦å¯¹é½å¡«å……ç©ºç™½ã€‚è¿™æ„å‘³ç€æ— è®ºå®é™…æ—¶é—´å­—ç¬¦ä¸²çš„é•¿åº¦æ˜¯å¤šå°‘ï¼Œéƒ½ä¼šè¢«å¡«å……åˆ° 15 ä¸ªå­—ç¬¦çš„å®½åº¦ï¼Œå¹¶å‘å·¦å¯¹é½ã€‚</li><li><code>%(levelname)s</code>: è¿™ä¸ªéƒ¨åˆ†è¡¨ç¤ºæ—¥å¿—çº§åˆ«ï¼Œå³æ—¥å¿—æ¶ˆæ¯çš„é‡è¦æ€§ç­‰çº§ï¼Œä¾‹å¦‚ DEBUGã€INFOã€WARNINGã€ERROR æˆ– CRITICALã€‚</li><li><code>%(message)s</code>: è¿™ä¸ªéƒ¨åˆ†è¡¨ç¤ºå®é™…çš„æ—¥å¿—æ¶ˆæ¯å†…å®¹ï¼Œå³è¦è®°å½•çš„ä¿¡æ¯æ–‡æœ¬ã€‚</li></ul><p>2.æ—¶é—´æˆ³çš„æ ¼å¼ï¼š</p><ul><li><code>%a</code>: æ˜ŸæœŸçš„ç¼©å†™ï¼Œä¾‹å¦‚ â€œMonâ€, â€œTueâ€ ç­‰ã€‚</li><li><code>%d</code>: æ—¥æœŸï¼Œå³æœˆä¸­çš„ç¬¬å‡ å¤©ï¼ˆ1-31ï¼‰ã€‚</li><li><code>%b</code>: æœˆä»½çš„ç¼©å†™ï¼Œä¾‹å¦‚ â€œJanâ€, â€œFebâ€ ç­‰ã€‚</li><li><code>%Y</code>: å››ä½æ•°çš„å¹´ä»½ï¼ˆä¾‹å¦‚ï¼š1998, 2004, 2022ï¼‰ã€‚</li><li><code>%H</code>: å°æ—¶ï¼ˆ24å°æ—¶åˆ¶ï¼Œ00-23ï¼‰ã€‚</li><li><code>%M</code>: åˆ†é’Ÿï¼ˆ00-59ï¼‰ã€‚</li><li><code>%S</code>: ç§’ï¼ˆ00-59ï¼‰ã€‚</li></ul><h2 id="2-Level"><a href="#2-Level" class="headerlink" title="2.Level"></a>2.Level</h2><h3 id="2-1-æ—¥å¿—çº§åˆ«"><a href="#2-1-æ—¥å¿—çº§åˆ«" class="headerlink" title="2.1 æ—¥å¿—çº§åˆ«"></a>2.1 æ—¥å¿—çº§åˆ«</h3><p>åœ¨ Python çš„ logging æ¨¡å—ä¸­ï¼Œå®šä¹‰äº†ä»¥ä¸‹å‡ ä¸ªæ—¥å¿—çº§åˆ«ï¼ˆæŒ‰ç…§ä¸¥é‡ç¨‹åº¦é€’å¢çš„é¡ºåºï¼‰ï¼š</p><ol><li><strong>DEBUG</strong>: æœ€è¯¦ç»†çš„æ—¥å¿—çº§åˆ«ï¼Œç”¨äºæä¾›å…³äºç¨‹åºè¿è¡ŒçŠ¶æ€çš„è¯¦ç»†ä¿¡æ¯ï¼Œé€šå¸¸ç”¨äºè°ƒè¯•ç›®çš„ã€‚</li><li><strong>INFO</strong>: æä¾›ç¨‹åºè¿è¡ŒçŠ¶æ€çš„ä¸€èˆ¬ä¿¡æ¯ï¼Œè¡¨æ˜ç¨‹åºæ­£åœ¨æ­£å¸¸å·¥ä½œã€‚</li><li><strong>WARNING</strong>: è¡¨ç¤ºå¯èƒ½å‡ºç°é—®é¢˜çš„æƒ…å†µï¼Œä½†ä¸ä¼šå½±å“ç¨‹åºçš„æ­£å¸¸è¿è¡Œã€‚</li><li><strong>ERROR</strong>: è¡¨ç¤ºå·²ç»å‘ç”Ÿäº†é”™è¯¯ï¼Œä½†æ˜¯ä¸ä¼šå¯¼è‡´ç¨‹åºåœæ­¢è¿è¡Œã€‚</li><li><strong>CRITICAL</strong>: è¡¨ç¤ºä¸¥é‡çš„é”™è¯¯ï¼Œå¯èƒ½å¯¼è‡´ç¨‹åºæ— æ³•ç»§ç»­è¿è¡Œã€‚</li></ol><p>è¿™äº›æ—¥å¿—çº§åˆ«åœ¨ logging æ¨¡å—ä¸­é€šè¿‡å¯¹åº”çš„æ–¹æ³•æ¥è®°å½•æ—¥å¿—æ¶ˆæ¯ï¼Œåˆ†åˆ«æ˜¯ <code>debug()</code>, <code>info()</code>, <code>warning()</code>, <code>error()</code>, å’Œ <code>critical()</code> æ–¹æ³•ã€‚å½“è®¾ç½®æ—¥å¿—è®°å½•å™¨çš„çº§åˆ«æ—¶ï¼Œé«˜äºæˆ–ç­‰äºè¯¥çº§åˆ«çš„æ—¥å¿—æ¶ˆæ¯å°†è¢«è®°å½•ï¼Œä½äºè¯¥çº§åˆ«çš„æ—¥å¿—æ¶ˆæ¯å°†è¢«å¿½ç•¥ã€‚</p><h3 id="2-2-setLevel"><a href="#2-2-setLevel" class="headerlink" title="2.2 setLevel"></a>2.2 setLevel</h3><p><code>setLevel</code> æ˜¯ Python logging æ¨¡å—ä¸­ç”¨äºè®¾ç½®æ—¥å¿—è®°å½•å™¨çš„æ—¥å¿—çº§åˆ«çš„æ–¹æ³•ã€‚é€šè¿‡è¿™ä¸ªæ–¹æ³•ï¼Œå¯ä»¥æ§åˆ¶æ—¥å¿—è®°å½•å™¨è®°å½•æ—¥å¿—æ¶ˆæ¯çš„æœ€ä½çº§åˆ«ã€‚</p><p>ä¾‹å¦‚ï¼Œå¦‚æœä½ è®¾ç½®äº†ä¸€ä¸ªæ—¥å¿—è®°å½•å™¨ <code>logger</code>ï¼Œä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼è®¾ç½®å…¶è®°å½•çš„æœ€ä½çº§åˆ«ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> logging<br><br><span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªæ—¥å¿—è®°å½•å™¨</span><br>logger = logging.getLogger(<span class="hljs-string">&#x27;example_logger&#x27;</span>)<br><br><span class="hljs-comment"># è®¾ç½®æ—¥å¿—è®°å½•å™¨çš„çº§åˆ«ä¸ºDEBUG</span><br>logger.setLevel(logging.DEBUG)<br></code></pre></td></tr></table></figure><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>setLevel(logging.DEBUG)</code> å°†ä¼šä½¿å¾—æ—¥å¿—è®°å½•å™¨ <code>logger</code> è®°å½•æ‰€æœ‰çº§åˆ«çš„æ—¥å¿—æ¶ˆæ¯ï¼ŒåŒ…æ‹¬ DEBUGã€INFOã€WARNINGã€ERROR å’Œ CRITICALã€‚å¦‚æœä½ å¸Œæœ›æ—¥å¿—è®°å½•å™¨åªè®°å½•è­¦å‘Šçº§åˆ«åŠä»¥ä¸Šçš„æ—¥å¿—æ¶ˆæ¯ï¼Œå¯ä»¥å°†çº§åˆ«è®¾ç½®ä¸º <code>logging.WARNING</code>ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">logger.setLevel(logging.WARNING)<br></code></pre></td></tr></table></figure><p>è¿™æ ·ï¼ŒDEBUG å’Œ INFO çº§åˆ«çš„æ—¥å¿—æ¶ˆæ¯å°±ä¸ä¼šè¢«è®°å½•äº†ã€‚<code>setLevel</code> æ–¹æ³•è®¾ç½®çš„çº§åˆ«ä¼šåº”ç”¨åˆ°è¯¥æ—¥å¿—è®°å½•å™¨ä»¥åŠå…¶æ‰€æœ‰å­è®°å½•å™¨ä¸Šï¼Œé™¤éå­è®°å½•å™¨å•ç‹¬è®¾ç½®äº†ä¸åŒçš„çº§åˆ«ã€‚</p><h2 id="3-Handler"><a href="#3-Handler" class="headerlink" title="3.Handler"></a>3.Handler</h2><h3 id="3-1-FileHandler"><a href="#3-1-FileHandler" class="headerlink" title="3.1 FileHandler"></a>3.1 FileHandler</h3><p><code>logging.FileHandler</code> æ˜¯ Python logging æ¨¡å—ä¸­ç”¨äºå°†æ—¥å¿—æ¶ˆæ¯è®°å½•åˆ°æ–‡ä»¶çš„å¤„ç†å™¨ï¼ˆhandlerï¼‰ã€‚å®ƒå…è®¸ä½ æŒ‡å®šä¸€ä¸ªæ–‡ä»¶åï¼Œå°†æ—¥å¿—æ¶ˆæ¯å†™å…¥åˆ°è¯¥æ–‡ä»¶ä¸­ã€‚</p><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ï¼Œæ¼”ç¤ºå¦‚ä½•ä½¿ç”¨ <code>FileHandler</code> å°†æ—¥å¿—æ¶ˆæ¯è®°å½•åˆ°æ–‡ä»¶ä¸­ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> logging<br><br><span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªæ—¥å¿—è®°å½•å™¨</span><br>logger = logging.getLogger(<span class="hljs-string">&#x27;example_logger&#x27;</span>)<br>logger.setLevel(logging.DEBUG)<br><br><span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤„ç†å™¨ï¼Œå°†æ—¥å¿—æ¶ˆæ¯è®°å½•åˆ°æ–‡ä»¶ä¸­</span><br>file_handler = logging.FileHandler(<span class="hljs-string">&#x27;example.log&#x27;</span>)<br><br><span class="hljs-comment"># è®¾ç½®æ–‡ä»¶å¤„ç†å™¨çš„æ—¥å¿—çº§åˆ«ä¸ºDEBUG</span><br>file_handler.setLevel(logging.DEBUG)<br><br><span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªæ ¼å¼åŒ–å™¨</span><br>formatter = logging.Formatter(<span class="hljs-string">&#x27;%(asctime)s - %(name)s - %(levelname)s - %(message)s&#x27;</span>)<br><br><span class="hljs-comment"># å°†æ ¼å¼åŒ–å™¨åº”ç”¨åˆ°æ–‡ä»¶å¤„ç†å™¨ä¸Š</span><br>file_handler.setFormatter(formatter)<br><br><span class="hljs-comment"># å°†æ–‡ä»¶å¤„ç†å™¨æ·»åŠ åˆ°æ—¥å¿—è®°å½•å™¨ä¸­</span><br>logger.addHandler(file_handler)<br><br><span class="hljs-comment"># è®°å½•ä¸€äº›æ—¥å¿—æ¶ˆæ¯</span><br>logger.debug(<span class="hljs-string">&#x27;This is a debug message&#x27;</span>)<br>logger.info(<span class="hljs-string">&#x27;This is an info message&#x27;</span>)<br>logger.warning(<span class="hljs-string">&#x27;This is a warning message&#x27;</span>)<br>logger.error(<span class="hljs-string">&#x27;This is an error message&#x27;</span>)<br>logger.critical(<span class="hljs-string">&#x27;This is a critical message&#x27;</span>)<br></code></pre></td></tr></table></figure><h3 id="3-2-StreamHandler"><a href="#3-2-StreamHandler" class="headerlink" title="3.2 StreamHandler"></a>3.2 StreamHandler</h3><p><code>logging.StreamHandler</code> æ˜¯ Python logging æ¨¡å—ä¸­ç”¨äºå°†æ—¥å¿—æ¶ˆæ¯è¾“å‡ºåˆ°æµï¼ˆä¾‹å¦‚æ ‡å‡†è¾“å‡ºæµï¼‰çš„å¤„ç†å™¨ï¼ˆhandlerï¼‰ã€‚å®ƒå…è®¸ä½ æŒ‡å®šä¸€ä¸ªæµå¯¹è±¡ï¼Œå°†æ—¥å¿—æ¶ˆæ¯å†™å…¥åˆ°è¯¥æµä¸­ï¼Œé€šå¸¸ç”¨äºå°†æ—¥å¿—æ¶ˆæ¯è¾“å‡ºåˆ°æ§åˆ¶å°æˆ–è€…å…¶ä»–æ ‡å‡†è¾“å‡ºè®¾å¤‡ä¸Šã€‚</p><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ï¼Œæ¼”ç¤ºå¦‚ä½•ä½¿ç”¨ <code>StreamHandler</code> å°†æ—¥å¿—æ¶ˆæ¯è¾“å‡ºåˆ°æ§åˆ¶å°ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> logging<br><br><span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªæ—¥å¿—è®°å½•å™¨</span><br>logger = logging.getLogger(<span class="hljs-string">&#x27;example_logger&#x27;</span>)<br>logger.setLevel(logging.DEBUG)<br><br><span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªæµå¤„ç†å™¨ï¼Œå°†æ—¥å¿—æ¶ˆæ¯è¾“å‡ºåˆ°æ§åˆ¶å°</span><br>stream_handler = logging.StreamHandler()<br><br><span class="hljs-comment"># è®¾ç½®æµå¤„ç†å™¨çš„æ—¥å¿—çº§åˆ«ä¸ºDEBUG</span><br>stream_handler.setLevel(logging.DEBUG)<br><br><span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªæ ¼å¼åŒ–å™¨</span><br>formatter = logging.Formatter(<span class="hljs-string">&#x27;%(asctime)s - %(name)s - %(levelname)s - %(message)s&#x27;</span>)<br><br><span class="hljs-comment"># å°†æ ¼å¼åŒ–å™¨åº”ç”¨åˆ°æµå¤„ç†å™¨ä¸Š</span><br>stream_handler.setFormatter(formatter)<br><br><span class="hljs-comment"># å°†æµå¤„ç†å™¨æ·»åŠ åˆ°æ—¥å¿—è®°å½•å™¨ä¸­</span><br>logger.addHandler(stream_handler)<br><br><span class="hljs-comment"># è®°å½•ä¸€äº›æ—¥å¿—æ¶ˆæ¯</span><br>logger.debug(<span class="hljs-string">&#x27;This is a debug message&#x27;</span>)<br>logger.info(<span class="hljs-string">&#x27;This is an info message&#x27;</span>)<br>logger.warning(<span class="hljs-string">&#x27;This is a warning message&#x27;</span>)<br>logger.error(<span class="hljs-string">&#x27;This is an error message&#x27;</span>)<br>logger.critical(<span class="hljs-string">&#x27;This is a critical message&#x27;</span>)<br></code></pre></td></tr></table></figure><h2 id="4-basicConfig"><a href="#4-basicConfig" class="headerlink" title="4.basicConfig"></a>4.basicConfig</h2><p><code>logging.basicConfig()</code> æ˜¯ Python logging æ¨¡å—ä¸­ç”¨äºç®€åŒ–é…ç½®æ—¥å¿—ç³»ç»Ÿçš„æ–¹æ³•ã€‚å®ƒå…è®¸ä½ é€šè¿‡ä¸€æ¬¡è°ƒç”¨æ¥è®¾ç½®æ—¥å¿—ç³»ç»Ÿçš„ä¸€äº›åŸºæœ¬é…ç½®ï¼ŒåŒ…æ‹¬æ—¥å¿—çº§åˆ«ã€è¾“å‡ºæ ¼å¼ã€è¾“å‡ºç›®æ ‡ç­‰ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python">logging.basicConfig(<br>        level=level,<br>        handlers=[fh, sh]<br>    )<br></code></pre></td></tr></table></figure><h2 id="5-åˆå§‹åŒ–"><a href="#5-åˆå§‹åŒ–" class="headerlink" title="5.åˆå§‹åŒ–"></a>5.åˆå§‹åŒ–</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">logger = logging.getLogger()<br>logger.info(<span class="hljs-string">&#x27;å…·ä½“å†…å®¹&#x27;</span>)<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>ç®—æ³• Ê•â‰§á´¥â‰¦Ê”</category>
      
      <category>Python</category>
      
      <category>Pythonåº“</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>pythonç‰¹æ®Šå˜é‡ï¼ğŸ©</title>
    <link href="/2024/02/27/%E7%AE%97%E6%B3%95/python/python%E6%96%B9%E6%B3%95%E5%92%8C%E6%8A%80%E5%B7%A7/python%E7%89%B9%E6%AE%8A%E5%8F%98%E9%87%8F/"/>
    <url>/2024/02/27/%E7%AE%97%E6%B3%95/python/python%E6%96%B9%E6%B3%95%E5%92%8C%E6%8A%80%E5%B7%A7/python%E7%89%B9%E6%AE%8A%E5%8F%98%E9%87%8F/</url>
    
    <content type="html"><![CDATA[<h1 id="pythonç‰¹æ®Šå˜é‡"><a href="#pythonç‰¹æ®Šå˜é‡" class="headerlink" title="pythonç‰¹æ®Šå˜é‡"></a>pythonç‰¹æ®Šå˜é‡</h1><h2 id="1-file"><a href="#1-file" class="headerlink" title="1.__file__"></a>1.__file__</h2><p>åœ¨Pythonä¸­ï¼Œ<code>__file__</code> æ˜¯ä¸€ä¸ªå†…ç½®çš„å˜é‡ï¼Œå®ƒåŒ…å«ç€å½“å‰æ­£åœ¨æ‰§è¡Œçš„ Python è„šæœ¬çš„æ–‡ä»¶è·¯å¾„ã€‚å½“ä½ åœ¨ä¸€ä¸ª Python è„šæœ¬ä¸­è®¿é—® <code>__file__</code> å˜é‡æ—¶ï¼Œå®ƒå°†è¿”å›åŒ…å«è¯¥è„šæœ¬çš„æ–‡ä»¶è·¯å¾„çš„å­—ç¬¦ä¸²ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>ç®—æ³• Ê•â‰§á´¥â‰¦Ê”</category>
      
      <category>Python</category>
      
      <category>Pythonæ–¹æ³•å’ŒæŠ€å·§</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>mwptoolkitå…¨å±€æ¦‚è§ˆï¼ğŸº</title>
    <link href="/2024/02/26/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/NLP/%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/MWP/MWP_toolkit/mwptoolkit/"/>
    <url>/2024/02/26/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/NLP/%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/MWP/MWP_toolkit/mwptoolkit/</url>
    
    <content type="html"><![CDATA[]]></content>
    
    
    <categories>
      
      <category>AI Ê¢áµ•á´—áµ•Ê¡</category>
      
      <category>NLP</category>
      
      <category>NLPé¡¹ç›®å®æˆ˜</category>
      
      <category>MWP</category>
      
      <category>MWPToolkit</category>
      
    </categories>
    
    
    <tags>
      
      <tag>AI</tag>
      
      <tag>NLP</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>torchtextåº“çš„ä½¿ç”¨ï¼ğŸ¦”</title>
    <link href="/2024/02/25/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/Pytorch/%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/pytorch%E4%B8%ADtorchtext%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
    <url>/2024/02/25/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/Pytorch/%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/pytorch%E4%B8%ADtorchtext%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/</url>
    
    <content type="html"><![CDATA[<h1 id="torchtextåº“çš„ä½¿ç”¨"><a href="#torchtextåº“çš„ä½¿ç”¨" class="headerlink" title="torchtextåº“çš„ä½¿ç”¨"></a>torchtextåº“çš„ä½¿ç”¨</h1><h2 id="1-vocab"><a href="#1-vocab" class="headerlink" title="1.vocab"></a>1.vocab</h2><h3 id="1-1-build-vocab-from-iterator"><a href="#1-1-build-vocab-from-iterator" class="headerlink" title="1.1 build_vocab_from_iterator"></a>1.1 build_vocab_from_iterator</h3><p><code>build_vocab_from_iterator</code>æ˜¯TorchTextåº“ä¸­ç”¨äºæ„å»ºè¯æ±‡è¡¨ï¼ˆvocabularyï¼‰çš„æ–¹æ³•ä¹‹ä¸€ã€‚å®ƒå…è®¸ä½ ä»ä¸€ä¸ªè¿­ä»£å™¨ä¸­æ„å»ºè¯æ±‡è¡¨ï¼Œè€Œä¸æ˜¯ä»ä¸€ä¸ªå·²æœ‰çš„æ•°æ®é›†ä¸­ã€‚</p><p>ä¸‹é¢æ˜¯ä½¿ç”¨<code>build_vocab_from_iterator</code>æ–¹æ³•çš„ä¸€ä¸ªç®€å•ç¤ºä¾‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> torchtext.vocab <span class="hljs-keyword">import</span> Vocab<br><span class="hljs-keyword">from</span> collections <span class="hljs-keyword">import</span> Counter<br><br><span class="hljs-comment"># å‡è®¾ä½ æœ‰ä¸€ä¸ªæ–‡æœ¬æ•°æ®çš„è¿­ä»£å™¨ï¼Œæ¯ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªå¥å­æˆ–æ–‡æœ¬æ®µè½</span><br><span class="hljs-comment"># è¿™é‡Œæˆ‘ä»¬ç®€å•åœ°ç”¨ä¸€ä¸ªåˆ—è¡¨æ¨¡æ‹Ÿäº†ä¸€ä¸ªæ–‡æœ¬è¿­ä»£å™¨</span><br>text_iterator = [<br>    [<span class="hljs-string">&quot;I&quot;</span>, <span class="hljs-string">&quot;love&quot;</span>, <span class="hljs-string">&quot;natural&quot;</span>, <span class="hljs-string">&quot;language&quot;</span>, <span class="hljs-string">&quot;processing&quot;</span>],<br>    [<span class="hljs-string">&quot;TorchText&quot;</span>, <span class="hljs-string">&quot;is&quot;</span>, <span class="hljs-string">&quot;great&quot;</span>, <span class="hljs-string">&quot;for&quot;</span>, <span class="hljs-string">&quot;NLP&quot;</span>, <span class="hljs-string">&quot;tasks&quot;</span>],<br>    [<span class="hljs-string">&quot;I&quot;</span>, <span class="hljs-string">&quot;want&quot;</span>, <span class="hljs-string">&quot;to&quot;</span>, <span class="hljs-string">&quot;learn&quot;</span>, <span class="hljs-string">&quot;more&quot;</span>, <span class="hljs-string">&quot;about&quot;</span>, <span class="hljs-string">&quot;TorchText&quot;</span>]<br>]<br><br><span class="hljs-comment"># é¦–å…ˆï¼Œæˆ‘ä»¬ä½¿ç”¨Counteræ¥è®¡ç®—è¯é¢‘</span><br>counter = Counter()<br><span class="hljs-keyword">for</span> text <span class="hljs-keyword">in</span> text_iterator:<br>    counter.update(text)<br><br><span class="hljs-comment"># ç„¶åï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨build_vocab_from_iteratoræ¥æ„å»ºè¯æ±‡è¡¨</span><br>vocab = Vocab(counter, specials=[<span class="hljs-string">&#x27;&lt;unk&gt;&#x27;</span>, <span class="hljs-string">&#x27;&lt;pad&gt;&#x27;</span>, <span class="hljs-string">&#x27;&lt;sos&gt;&#x27;</span>, <span class="hljs-string">&#x27;&lt;eos&gt;&#x27;</span>])<br><br><span class="hljs-comment"># æŸ¥çœ‹è¯æ±‡è¡¨ä¸­çš„å‰å‡ ä¸ªè¯</span><br><span class="hljs-built_in">print</span>(vocab.itos[:<span class="hljs-number">10</span>])<br><br><span class="hljs-comment"># æŸ¥çœ‹è¯æ±‡è¡¨çš„å¤§å°</span><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">len</span>(vocab))<br></code></pre></td></tr></table></figure><p><strong>tips:</strong></p><p><code>build_vocab_from_iterator</code>æ–¹æ³•çš„å…·ä½“å‚æ•°å«ä¹‰å¦‚ä¸‹ï¼š</p><ul><li><strong>iterator</strong>ï¼šä¸€ä¸ªè¿­ä»£å™¨ï¼Œå®ƒäº§ç”Ÿæ–‡æœ¬æ•°æ®çš„åºåˆ—ï¼Œæ¯ä¸ªåºåˆ—å¯ä»¥æ˜¯ä¸€ä¸ªå¥å­æˆ–æ–‡æœ¬æ®µè½ã€‚</li><li><strong>min_freq</strong>ï¼šä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºè¯æ±‡è¡¨ä¸­è¯çš„æœ€å°å‡ºç°é¢‘ç‡ã€‚ä½äºè¿™ä¸ªé¢‘ç‡çš„è¯å°†è¢«è§†ä¸ºæœªçŸ¥è¯ï¼ˆ<unk>ï¼‰ã€‚</li><li><strong>cut_under</strong>ï¼šä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦åœ¨æ„å»ºè¯æ±‡è¡¨ä¹‹å‰å°†ä½äº<code>min_freq</code>çš„è¯å‰ªæ‰ã€‚å¦‚æœä¸º<code>True</code>ï¼Œåˆ™ä¼šå‰ªæ‰ä½é¢‘è¯ï¼›å¦‚æœä¸º<code>False</code>ï¼Œåˆ™ä¸ä¼šå‰ªæ‰ã€‚</li><li><strong>specials</strong>ï¼šä¸€ä¸ªåŒ…å«ç‰¹æ®Šæ ‡è®°çš„åˆ—è¡¨ï¼Œå¦‚<code>&lt;unk&gt;</code>ï¼ˆæœªçŸ¥è¯ï¼‰ã€<code>&lt;pad&gt;</code>ï¼ˆå¡«å……ï¼‰ã€<code>&lt;bos&gt;</code>ï¼ˆå¼€å§‹æ ‡è®°ï¼‰ã€<code>&lt;eos&gt;</code>ï¼ˆç»“æŸæ ‡è®°ï¼‰ã€‚è¿™äº›ç‰¹æ®Šæ ‡è®°å°†å§‹ç»ˆåŒ…å«åœ¨è¯æ±‡è¡¨ä¸­ã€‚</li><li><strong>special_first</strong>ï¼šä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦å°†ç‰¹æ®Šæ ‡è®°æ”¾åœ¨è¯æ±‡è¡¨çš„å¼€å¤´ã€‚å¦‚æœä¸º<code>True</code>ï¼Œåˆ™ç‰¹æ®Šæ ‡è®°ä¼šæ”¾åœ¨è¯æ±‡è¡¨çš„æœ€å‰é¢ï¼›å¦‚æœä¸º<code>False</code>ï¼Œåˆ™ä¼šæŒ‰ç…§è¯é¢‘çš„é¡ºåºæ”¾ç½®ã€‚</li><li><strong>min_size</strong>ï¼šä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºè¯æ±‡è¡¨çš„æœ€å°å¤§å°ã€‚å¦‚æœæŒ‡å®šäº†è¿™ä¸ªå‚æ•°ï¼Œå¹¶ä¸”è¯æ±‡è¡¨çš„å¤§å°å°äº<code>min_size</code>ï¼Œåˆ™ä¼šç”¨æœªçŸ¥è¯å¡«å……è¯æ±‡è¡¨ï¼Œç›´åˆ°è¯æ±‡è¡¨çš„å¤§å°è¾¾åˆ°<code>min_size</code>ã€‚è¿™æ„å‘³ç€<pad>å°†è·å¾—ç´¢å¼• 1ã€ <sos> ç´¢å¼• 2ã€ <eos> ç´¢å¼• 3ï¼Œå¹¶å°†<unk>åœ¨è¯æ±‡è¡¨ä¸­è·å¾—ç´¢å¼• 0ã€‚</li></ul><h3 id="1-2-set-default-index"><a href="#1-2-set-default-index" class="headerlink" title="1.2 set_default_index"></a>1.2 set_default_index</h3><p><code>set_default_index</code>æ˜¯<code>torchtext.vocab.Vocab</code>ç±»ä¸­çš„ä¸€ä¸ªæ–¹æ³•ã€‚å®ƒç”¨äºè®¾ç½®é»˜è®¤çš„æœªçŸ¥è¯ç´¢å¼•ã€‚</p><p>åœ¨ä½¿ç”¨TorchTextæ„å»ºè¯æ±‡è¡¨æ—¶ï¼Œå¦‚æœç»™å®šçš„è¯æ±‡è¡¨ä¸­åŒ…å«æœªçŸ¥è¯ï¼ˆå³åœ¨æ–‡æœ¬æ•°æ®ä¸­å‡ºç°ä½†æœªåœ¨è¯æ±‡è¡¨ä¸­æ‰¾åˆ°çš„è¯ï¼‰ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œè¿™äº›æœªçŸ¥è¯çš„ç´¢å¼•ä¼šè¢«è®¾ç½®ä¸º0ã€‚ä½†æ˜¯ï¼Œä½ å¯ä»¥ä½¿ç”¨<code>set_default_index</code>æ–¹æ³•æ¥æ”¹å˜è¿™ä¸ªé»˜è®¤ç´¢å¼•ã€‚è¿™åœ¨æŸäº›æƒ…å†µä¸‹å¯èƒ½å¾ˆæœ‰ç”¨ï¼Œç‰¹åˆ«æ˜¯å½“ä½ å¸Œæœ›å°†æœªçŸ¥è¯çš„ç´¢å¼•è®¾ç½®ä¸ºè¯æ±‡è¡¨ä¸­çš„ä¸€ä¸ªç‰¹æ®Šæ ‡è®°çš„ç´¢å¼•æ—¶ã€‚</p><p>ä»¥ä¸‹æ˜¯<code>set_default_index</code>æ–¹æ³•çš„ä½¿ç”¨ç¤ºä¾‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> torchtext.vocab <span class="hljs-keyword">import</span> Vocab<br><br><span class="hljs-comment"># å‡è®¾ä½ å·²ç»æœ‰ä¸€ä¸ªè¯æ±‡è¡¨ vocabï¼Œå¹¶ä¸”å·²ç»æ„å»ºå¥½äº†</span><br>vocab = Vocab(counter)<br><br><span class="hljs-comment"># è®¾ç½®é»˜è®¤çš„æœªçŸ¥è¯ç´¢å¼•ä¸ºç‰¹æ®Šæ ‡è®° &#x27;&lt;unk&gt;&#x27; çš„ç´¢å¼•</span><br>vocab.set_default_index(vocab[<span class="hljs-string">&#x27;&lt;unk&gt;&#x27;</span>])<br></code></pre></td></tr></table></figure><p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆåˆ›å»ºäº†ä¸€ä¸ªè¯æ±‡è¡¨å¯¹è±¡<code>vocab</code>ï¼Œç„¶åä½¿ç”¨<code>set_default_index</code>æ–¹æ³•å°†é»˜è®¤çš„æœªçŸ¥è¯ç´¢å¼•è®¾ç½®ä¸ºè¯æ±‡è¡¨ä¸­ç‰¹æ®Šæ ‡è®°<code>&#39;&lt;unk&gt;&#39;</code>çš„ç´¢å¼•ã€‚è¿™æ ·ï¼Œå½“è¯æ±‡è¡¨ä¸­é‡åˆ°æœªçŸ¥è¯æ—¶ï¼Œå…¶ç´¢å¼•å°†è¢«è®¾ç½®ä¸º<code>&#39;&lt;unk&gt;&#39;</code>çš„ç´¢å¼•ã€‚</p><h3 id="1-3-get-itos"><a href="#1-3-get-itos" class="headerlink" title="1.3 get_itos"></a>1.3 get_itos</h3><p>source_vocab.get_itosï¼ˆï¼‰ è¿”å›ä¸€ä¸ªåˆ—è¡¨ï¼Œå…¶ä¸­åŒ…å«åŸºäºè¯æ±‡çš„ç´¢å¼•ä¸­çš„æ ‡è®°ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">print</span>(source_vocab.get_itos()[:<span class="hljs-number">9</span>])<br></code></pre></td></tr></table></figure><p>è¿”å›ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">[<span class="hljs-string">&#x27;&lt;pad&gt;&#x27;</span>, <span class="hljs-string">&#x27;&lt;sos&gt;&#x27;</span>, <span class="hljs-string">&#x27;&lt;eos&gt;&#x27;</span>, <span class="hljs-string">&#x27;&lt;unk&gt;&#x27;</span>, <span class="hljs-string">&#x27;.&#x27;</span>, <span class="hljs-string">&#x27;I&#x27;</span>, <span class="hljs-string">&#x27;Tom&#x27;</span>, <span class="hljs-string">&#x27;to&#x27;</span>, <span class="hljs-string">&#x27;you&#x27;</span>]<br></code></pre></td></tr></table></figure><p>åœ¨æ„å»ºè¯æ±‡è¡¨æ—¶ï¼Œé¦–å…ˆä¼šå¯¹è®­ç»ƒæ•°æ®è¿›è¡Œåˆ†æï¼Œç»Ÿè®¡æ¯ä¸ªå•è¯åœ¨æ•°æ®é›†ä¸­å‡ºç°çš„æ¬¡æ•°ï¼Œç„¶åæŒ‰ç…§å•è¯å‡ºç°çš„é¢‘ç‡è¿›è¡Œæ’åºï¼Œå‡ºç°é¢‘ç‡è¾ƒé«˜çš„å•è¯å°†æ’åœ¨è¯æ±‡è¡¨ä¸­çš„é å‰ä½ç½®ã€‚</p><h3 id="1-4-get-stoi"><a href="#1-4-get-stoi" class="headerlink" title="1.4 get_stoi"></a>1.4 get_stoi</h3><p><code>source_vocab.get_stoi()</code> æ˜¯ä¸€ä¸ªæ–¹æ³•è°ƒç”¨ï¼Œç”¨äºè·å–æºè¯­è¨€è¯æ±‡è¡¨ï¼ˆsource vocabularyï¼‰ä¸­è¯è¯­åˆ°ç´¢å¼•çš„æ˜ å°„ã€‚åœ¨æœºå™¨ç¿»è¯‘ä»»åŠ¡ä¸­ï¼Œé€šå¸¸ä¼šæ„å»ºæºè¯­è¨€å’Œç›®æ ‡è¯­è¨€çš„è¯æ±‡è¡¨ï¼Œä»¥ä¾¿å°†å•è¯è½¬æ¢ä¸ºå¯¹åº”çš„ç´¢å¼•ï¼Œä¾¿äºåœ¨æ¨¡å‹ä¸­è¿›è¡Œå¤„ç†ã€‚</p><p>è¿™ä¸ªæ–¹æ³•è¿”å›ä¸€ä¸ªå­—å…¸ï¼Œå…¶ä¸­é”®æ˜¯è¯è¯­ï¼ˆæˆ–è€…è¯´æ˜¯å•è¯ï¼‰ï¼Œå€¼æ˜¯è¯¥è¯è¯­åœ¨è¯æ±‡è¡¨ä¸­å¯¹åº”çš„ç´¢å¼•å·ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæºè¯­è¨€è¯æ±‡è¡¨ä¸­åŒ…å«å•è¯ â€œhelloâ€ï¼Œå¹¶ä¸”å®ƒåœ¨è¯æ±‡è¡¨ä¸­çš„ç´¢å¼•å·ä¸º 5ï¼Œé‚£ä¹ˆè°ƒç”¨ <code>source_vocab.get_stoi()</code> æ–¹æ³•åä¼šå¾—åˆ°ä¸€ä¸ªå­—å…¸ï¼Œå…¶ä¸­åŒ…å«é”®å€¼å¯¹ <code>&#123;&#39;hello&#39;: 5&#125;</code>ã€‚</p><p>è¿™ä¸ªæ–¹æ³•çš„è°ƒç”¨æ˜¯ç”¨äºåœ¨æºè¯­è¨€è¯æ±‡è¡¨ä¸­æŸ¥è¯¢å•è¯å¯¹åº”çš„ç´¢å¼•å·ï¼Œä»¥ä¾¿åœ¨è®­ç»ƒæˆ–æ¨æ–­æ—¶å°†å•è¯è½¬æ¢ä¸ºç´¢å¼•å·è¿›è¡Œå¤„ç†ã€‚</p><h2 id="2-transforms"><a href="#2-transforms" class="headerlink" title="2.transforms"></a>2.transforms</h2><p><code>torchtext.transforms</code>æ¨¡å—æä¾›äº†ä¸€ç³»åˆ—ç”¨äºæ•°æ®è½¬æ¢å’Œå¤„ç†çš„ç±»å’Œå‡½æ•°ï¼Œå®ƒä»¬å¯ç”¨äºé¢„å¤„ç†æ–‡æœ¬æ•°æ®æˆ–åº”ç”¨ç‰¹å®šçš„è½¬æ¢ã€‚è¿™äº›è½¬æ¢åŒ…æ‹¬æ–‡æœ¬æ ‡è®°åŒ–ã€è½¬æ¢ä¸ºå°å†™ã€å»é™¤ç‰¹å®šå­—ç¬¦ã€æˆªæ–­æˆ–å¡«å……æ–‡æœ¬åºåˆ—ç­‰ã€‚</p><h3 id="2-1-AddToken"><a href="#2-1-AddToken" class="headerlink" title="2.1 AddToken"></a>2.1 AddToken</h3><p>å…·ä½“ç”¨æ³•ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> torchtext.transforms <span class="hljs-keyword">as</span> T<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">getTransform</span>(<span class="hljs-params">vocab</span>):<br>    text_tranform = T.Sequential(<br>        T.VocabTransform(vocab=vocab),<br>        T.AddToken(<span class="hljs-number">1</span>, begin=<span class="hljs-literal">True</span>),<br>        T.AddToken(<span class="hljs-number">2</span>, begin=<span class="hljs-literal">False</span>)<br>    )<br>    <span class="hljs-keyword">return</span> text_tranform<br><br>transformed_sentence = getTransform(source_vocab)(engTokenize(some_sentence))<br></code></pre></td></tr></table></figure><p>è¿”å›ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">[<span class="hljs-number">1</span>, <span class="hljs-number">90</span>, <span class="hljs-number">1089</span>, <span class="hljs-number">4</span>, <span class="hljs-number">2</span>]<br></code></pre></td></tr></table></figure><p>è¿™æ®µä»£ç å®šä¹‰äº†ä¸€ä¸ªåä¸º <code>getTransform</code> çš„å‡½æ•°ï¼Œè¯¥å‡½æ•°æ¥å—ä¸€ä¸ªè¯æ±‡è¡¨ <code>vocab</code> ä½œä¸ºå‚æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ªç”±ä¸‰ä¸ªè½¬æ¢ç»„æˆçš„åºåˆ—ã€‚ä¸‹é¢æ˜¯å¯¹æ¯ä¸ªè½¬æ¢çš„è§£é‡Šï¼š</p><ol><li><code>T.VocabTransform(vocab=vocab)</code>ï¼šæ­¤è½¬æ¢å°†æ–‡æœ¬æ•°æ®æ˜ å°„åˆ°è¯æ±‡è¡¨ä¸­çš„ç´¢å¼•ã€‚<code>vocab</code>å‚æ•°æ˜¯ä¸€ä¸ªè¯æ±‡è¡¨å¯¹è±¡ï¼Œå®ƒå°†ç”¨äºå°†æ–‡æœ¬è½¬æ¢ä¸ºç´¢å¼•åºåˆ—ã€‚</li><li><code>T.AddToken(1, begin=True)</code>ï¼šæ­¤è½¬æ¢å°†åœ¨æ¯ä¸ªæ ·æœ¬çš„å¼€å¤´æ·»åŠ ä¸€ä¸ªç‰¹æ®Šçš„æ ‡è®°ã€‚<code>1</code> æ˜¯è¦æ·»åŠ çš„æ ‡è®°çš„ç´¢å¼•ï¼Œ<code>begin=True</code> è¡¨ç¤ºè¿™ä¸ªæ ‡è®°åº”è¯¥æ·»åŠ åœ¨åºåˆ—çš„å¼€å¤´ã€‚</li><li><code>T.AddToken(2, begin=False)</code>ï¼šç±»ä¼¼åœ°ï¼Œæ­¤è½¬æ¢å°†åœ¨æ¯ä¸ªæ ·æœ¬çš„æœ«å°¾æ·»åŠ ä¸€ä¸ªç‰¹æ®Šçš„æ ‡è®°ã€‚<code>2</code> æ˜¯è¦æ·»åŠ çš„æ ‡è®°çš„ç´¢å¼•ï¼Œ<code>begin=False</code> è¡¨ç¤ºè¿™ä¸ªæ ‡è®°åº”è¯¥æ·»åŠ åœ¨åºåˆ—çš„æœ«å°¾ã€‚</li></ol><h3 id="2-2-ToTensor"><a href="#2-2-ToTensor" class="headerlink" title="2.2 ToTensor"></a>2.2 ToTensor</h3><p><code>T.ToTensor(0)</code> æ˜¯ä¸€ä¸ª TorchText ä¸­çš„è½¬æ¢æ“ä½œï¼Œå®ƒä¸ä»…å°†åºåˆ—è½¬æ¢ä¸ºå¼ é‡å½¢å¼ï¼Œè¿˜ä¼šåº”ç”¨å¡«å……æ“ä½œã€‚åœ¨è¿™é‡Œï¼Œ<code>0</code> è¢«ä¼ é€’ç»™æ„é€ å‡½æ•°ï¼Œç”¨äºæŒ‡å®šè¯æ±‡è¡¨ä¸­ <code>&lt;pad&gt;</code> æ ‡è®°çš„ç´¢å¼•ä½ç½®ã€‚</p><p>å…·ä½“ç”¨æ³•ï¼š</p><p><code>T.ToTensor(1)</code>å’Œ<code>T.ToTensor(0)</code>åŒºåˆ«ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">applyPadding</span>(<span class="hljs-params">pair_of_sequences</span>):<br>    <span class="hljs-keyword">return</span> (T.ToTensor(<span class="hljs-number">1</span>)(<span class="hljs-built_in">list</span>(pair_of_sequences[<span class="hljs-number">0</span>])), T.ToTensor(<span class="hljs-number">0</span>)(<span class="hljs-built_in">list</span>(pair_of_sequences[<span class="hljs-number">1</span>])))<br><br>data_pipe = data_pipe.<span class="hljs-built_in">map</span>(applyPadding)<br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">list</span>(data_pipe)[<span class="hljs-number">0</span>])<br></code></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python">(tensor([[   <span class="hljs-number">1</span>,    <span class="hljs-number">3</span>,  <span class="hljs-number">126</span>,    <span class="hljs-number">2</span>,    <span class="hljs-number">1</span> <span class="hljs-comment">#è¿™é‡Œæ˜¯1],</span><br><br>å¦‚æœæ˜¯T.ToTensor(<span class="hljs-number">0</span>)<br>tensor([[   <span class="hljs-number">1</span>, <span class="hljs-number">4020</span>,    <span class="hljs-number">4</span>,    <span class="hljs-number">2</span>,    <span class="hljs-number">0</span> <span class="hljs-comment">#è¿™é‡Œä¼šç”¨0æ¥å¡«å……]</span><br></code></pre></td></tr></table></figure><h2 id="3-data"><a href="#3-data" class="headerlink" title="3.data"></a>3.data</h2><h3 id="3-1-utils"><a href="#3-1-utils" class="headerlink" title="3.1 utils"></a>3.1 utils</h3><h4 id="3-1-1-get-tokenizer"><a href="#3-1-1-get-tokenizer" class="headerlink" title="3.1.1 get_tokenizer"></a>3.1.1 get_tokenizer</h4><p><code>get_tokenizer</code> å‡½æ•°æ˜¯ TorchText åº“ä¸­çš„ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºå°†æ–‡æœ¬æ•°æ®è¿›è¡Œåˆ†è¯ï¼Œé€šå¸¸ç”¨äºè‡ªç„¶è¯­è¨€å¤„ç†ä»»åŠ¡ã€‚ç„¶è€Œï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ TorchText æ˜¯ä¸€ä¸ªä¸ PyTorch ç»“åˆä½¿ç”¨çš„åº“ï¼Œä¸»è¦ç”¨äºå¤„ç†è‡ªç„¶è¯­è¨€å¤„ç†ä»»åŠ¡ã€‚</p><p>åœ¨ TorchText ä¸­ï¼Œä»¥ä¸‹æ˜¯ä¸€äº›å¸¸ç”¨çš„åˆ†è¯å™¨æ¨¡å‹ï¼š</p><ol><li><code>&#39;basic_english&#39;</code>ï¼šåŸºæœ¬è‹±æ–‡åˆ†è¯å™¨ï¼Œé€‚ç”¨äºè‹±æ–‡æ–‡æœ¬æ•°æ®çš„ç®€å•åˆ†è¯ã€‚</li><li><code>&#39;spacy&#39;</code>ï¼šSpaCy åˆ†è¯å™¨ï¼Œé€šè¿‡ SpaCy åº“æä¾›çš„åˆ†è¯åŠŸèƒ½è¿›è¡Œåˆ†è¯ã€‚éœ€è¦å®‰è£… SpaCy åº“ä»¥åŠç›¸åº”çš„è¯­è¨€æ¨¡å‹ã€‚</li><li><code>&#39;moses&#39;</code>ï¼šMoses åˆ†è¯å™¨ï¼Œä½¿ç”¨ Moses å·¥å…·åŒ…æä¾›çš„åˆ†è¯åŠŸèƒ½è¿›è¡Œåˆ†è¯ã€‚</li><li><code>&#39;bert-base-uncased&#39;</code>ï¼šBERT åˆ†è¯å™¨ï¼Œä½¿ç”¨ BERT æ¨¡å‹è¿›è¡Œåˆ†è¯ã€‚éœ€è¦å®‰è£… Transformers åº“ã€‚</li></ol>]]></content>
    
    
    <categories>
      
      <category>AI Ê¢áµ•á´—áµ•Ê¡</category>
      
      <category>Pytorch</category>
      
      <category>Pytorchåº“çš„ä½¿ç”¨</category>
      
    </categories>
    
    
    <tags>
      
      <tag>AI</tag>
      
      <tag>Pytorch</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>torchdataåº“çš„ä½¿ç”¨ï¼ğŸ¦”</title>
    <link href="/2024/02/25/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/Pytorch/%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/pytorch%E4%B8%ADtorchdata%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
    <url>/2024/02/25/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/Pytorch/%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/pytorch%E4%B8%ADtorchdata%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/</url>
    
    <content type="html"><![CDATA[<h1 id="torchdataåº“çš„ä½¿ç”¨"><a href="#torchdataåº“çš„ä½¿ç”¨" class="headerlink" title="torchdataåº“çš„ä½¿ç”¨"></a>torchdataåº“çš„ä½¿ç”¨</h1><h2 id="1-datapipes"><a href="#1-datapipes" class="headerlink" title="1.datapipes"></a>1.datapipes</h2><h3 id="1-1-iter"><a href="#1-1-iter" class="headerlink" title="1.1 iter"></a>1.1 iter</h3><h4 id="1-1-1-IterableWrapper"><a href="#1-1-1-IterableWrapper" class="headerlink" title="1.1.1 IterableWrapper"></a>1.1.1 IterableWrapper</h4><p>åœ¨ TorchData ä¸­ï¼Œ<code>torchdata.datapipes.iter.IterableWrapper</code> æ˜¯ä¸€ä¸ªç”¨äºå°è£…è¿­ä»£å™¨çš„ç±»ã€‚å®ƒå…è®¸ä½ å°†æ™®é€šçš„ Python è¿­ä»£å™¨åŒ…è£…æˆä¸€ä¸ª TorchData å¯ç”¨çš„æ•°æ®ç®¡é“ï¼ˆDataPipeï¼‰ï¼Œä»¥ä¾¿è¿›è¡Œæ›´åŠ çµæ´»çš„æ•°æ®å¤„ç†å’Œè½¬æ¢ã€‚</p><p><code>IterableWrapper</code> æ–¹æ³•çš„ä¸»è¦ä½œç”¨æ˜¯å°† Python ä¸­çš„è¿­ä»£å™¨åŒ…è£…ä¸º TorchData ä¸­çš„æ•°æ®ç®¡é“ï¼Œä½¿å…¶å¯ä»¥åœ¨ TorchData çš„æ•°æ®å¤„ç†æµç¨‹ä¸­è¢«ä½¿ç”¨ã€‚è¿™ä¸ªæ–¹æ³•æ¥å—ä¸€ä¸ªè¿­ä»£å™¨ä½œä¸ºå‚æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ªå®ç°äº† TorchData æ•°æ®ç®¡é“æ¥å£çš„å¯¹è±¡ï¼Œä½¿å¾—ä½ å¯ä»¥åœ¨ TorchData çš„ç®¡é“ä¸­åº”ç”¨å„ç§æ•°æ®è½¬æ¢å’Œæ“ä½œã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">FILE_PATH = <span class="hljs-string">&#x27;cmn.txt&#x27;</span><br>data_pipe = dp.<span class="hljs-built_in">iter</span>.IterableWrapper([FILE_PATH])<br></code></pre></td></tr></table></figure><p>æ€»çš„æ¥è¯´ï¼Œ<code>IterableWrapper</code> æ–¹æ³•ä¸º TorchData æä¾›äº†ä¸€ç§ä¾¿æ·çš„æ–¹å¼æ¥å°†æ™®é€šçš„ Python è¿­ä»£å™¨è½¬æ¢ä¸ºå¯ä»¥åœ¨ TorchData æ•°æ®å¤„ç†æµç¨‹ä¸­ä½¿ç”¨çš„æ•°æ®ç®¡é“ã€‚</p><h4 id="1-1-2-FileOpener"><a href="#1-1-2-FileOpener" class="headerlink" title="1.1.2 FileOpener"></a>1.1.2 FileOpener</h4><p>åœ¨ TorchData ä¸­ï¼Œ<code>torchdata.datapipes.iter.FileOpener</code> æ˜¯ç”¨äºæ‰“å¼€æ–‡ä»¶å¹¶ç”Ÿæˆå¯è¿­ä»£å¯¹è±¡çš„ç±»ã€‚å®ƒå¯ä»¥å°†æ–‡ä»¶æ“ä½œè½¬æ¢ä¸º TorchData ä¸­çš„æ•°æ®ç®¡é“ï¼Œä½¿å¾—å¯ä»¥è½»æ¾åœ°åœ¨æ•°æ®å¤„ç†æµç¨‹ä¸­ä½¿ç”¨æ–‡ä»¶æ•°æ®ã€‚</p><p><code>FileOpener</code> ä¸»è¦ç”¨äºå¤„ç†æ–‡ä»¶æ•°æ®ï¼Œä¾‹å¦‚è¯»å–æ–‡æœ¬æ–‡ä»¶ã€å›¾åƒæ–‡ä»¶ç­‰ç­‰ã€‚å®ƒæ¥å—æ–‡ä»¶è·¯å¾„ä½œä¸ºå‚æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ªå®ç°äº† TorchData æ•°æ®ç®¡é“æ¥å£çš„å¯¹è±¡ï¼Œä½¿å¾—å¯ä»¥åœ¨ TorchData çš„ç®¡é“ä¸­å¯¹æ–‡ä»¶æ•°æ®è¿›è¡Œå„ç§æ“ä½œå’Œè½¬æ¢ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">data_pipe = dp.<span class="hljs-built_in">iter</span>.FileOpener(data_pipe, mode=<span class="hljs-string">&#x27;rb&#x27;</span>)<br></code></pre></td></tr></table></figure><h4 id="1-1-3-CSVParser"><a href="#1-1-3-CSVParser" class="headerlink" title="1.1.3 CSVParser"></a>1.1.3 CSVParser</h4><p>æ¥å—ç”±æ–‡ä»¶åå’Œ CSV æ•°æ®æµç»„æˆçš„ DataPipeï¼Œä¸€æ¬¡è¯»å–å¹¶è¿”å› CSV æ–‡ä»¶ä¸­çš„å†…å®¹ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> torchdata.datapipes.<span class="hljs-built_in">iter</span> <span class="hljs-keyword">import</span> IterableWrapper, FileOpener<br><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_name</span>(<span class="hljs-params">path_and_stream</span>):<br>    <span class="hljs-keyword">return</span> os.path.basename(path_and_stream[<span class="hljs-number">0</span>]), path_and_stream[<span class="hljs-number">1</span>]<br>datapipe1 = IterableWrapper([<span class="hljs-string">&quot;1.csv&quot;</span>, <span class="hljs-string">&quot;empty.csv&quot;</span>, <span class="hljs-string">&quot;empty2.csv&quot;</span>])<br>datapipe2 = FileOpener(datapipe1, mode=<span class="hljs-string">&quot;b&quot;</span>)<br>datapipe3 = datapipe2.<span class="hljs-built_in">map</span>(get_name)<br>csv_parser_dp = datapipe3.parse_csv()<br><span class="hljs-built_in">list</span>(csv_parser_dp)<br><br><span class="hljs-comment"># è¾“å‡º</span><br>[[<span class="hljs-string">&#x27;key&#x27;</span>, <span class="hljs-string">&#x27;item&#x27;</span>], [<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;1&#x27;</span>], [<span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;2&#x27;</span>], []]<br></code></pre></td></tr></table></figure><h3 id="1-2-map"><a href="#1-2-map" class="headerlink" title="1.2 map"></a>1.2 map</h3><h4 id="1-2-1-MapDataPipe"><a href="#1-2-1-MapDataPipe" class="headerlink" title="1.2.1 MapDataPipe"></a>1.2.1 MapDataPipe</h4><p>Map æ ·å¼çš„ DataPipe æ˜¯å®ç° <code>__getitem__()</code> and <code>__len__()</code> åè®®çš„ DataPipeï¼Œå®ƒè¡¨ç¤ºä»ï¼ˆå¯èƒ½æ˜¯éæ•´å‹ï¼‰ç´¢å¼•&#x2F;é”®åˆ°æ•°æ®æ ·æœ¬çš„æ˜ å°„ã€‚è¿™ä¸ PyTorch æ ¸å¿ƒåº“ä¸­çš„ <code>Dataset</code> ç±»ä¼¼ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># xdoctest: +SKIP</span><br><span class="hljs-keyword">from</span> torchdata.datapipes.<span class="hljs-built_in">map</span> <span class="hljs-keyword">import</span> SequenceWrapper, Mapper<br>dp = SequenceWrapper(<span class="hljs-built_in">range</span>(<span class="hljs-number">10</span>))<br>map_dp_1 = dp.<span class="hljs-built_in">map</span>(<span class="hljs-keyword">lambda</span> x: x + <span class="hljs-number">1</span>)  <span class="hljs-comment"># Using functional form (recommended)</span><br><span class="hljs-built_in">list</span>(map_dp_1)<br><br><span class="hljs-comment"># è¾“å‡º</span><br>[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>]<br>map_dp_2 = Mapper(dp, <span class="hljs-keyword">lambda</span> x: x + <span class="hljs-number">1</span>)  <span class="hljs-comment"># Using class constructor</span><br><span class="hljs-built_in">list</span>(map_dp_2)<br><br><span class="hljs-comment"># è¾“å‡º</span><br>[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>]<br>batch_dp = map_dp_1.batch(batch_size=<span class="hljs-number">2</span>)<br><span class="hljs-built_in">list</span>(batch_dp)<br><br><span class="hljs-comment"># è¾“å‡º</span><br>[[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>], [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>], [<span class="hljs-number">5</span>, <span class="hljs-number">6</span>], [<span class="hljs-number">7</span>, <span class="hljs-number">8</span>], [<span class="hljs-number">9</span>, <span class="hljs-number">10</span>]]<br></code></pre></td></tr></table></figure><h3 id="1-3-bucketbatch"><a href="#1-3-bucketbatch" class="headerlink" title="1.3 bucketbatch"></a>1.3 bucketbatch</h3><p><code>bucketbatch</code> æ˜¯ TorchText ä¸­ç”¨äºå°†æ•°æ®é›†åˆ†ç»„æˆæ¡¶ï¼ˆbucketsï¼‰å¹¶ç”Ÿæˆæ‰¹æ¬¡æ•°æ®çš„å‡½æ•°ã€‚è¿™ä¸ªå‡½æ•°é€šå¸¸åœ¨æ•°æ®å¤„ç†å’Œå‡†å¤‡é˜¶æ®µä½¿ç”¨ï¼Œç‰¹åˆ«æ˜¯åœ¨åºåˆ—åˆ°åºåˆ—ï¼ˆsequence-to-sequenceï¼‰æ¨¡å‹ä¸­ã€‚</p><p><code>bucketbatch</code> çš„ä½œç”¨æ˜¯å°†å…·æœ‰ç›¸ä¼¼é•¿åº¦çš„æ ·æœ¬åˆ†ç»„åˆ°åŒä¸€ä¸ªæ¡¶ä¸­ï¼Œå¹¶ä¸”å¯ä»¥é€‰æ‹©æ˜¯å¦å¯¹è¿™äº›æ¡¶è¿›è¡ŒéšæœºåŒ–ã€‚éšåï¼Œå¯¹æ¯ä¸ªæ¡¶ä¸­çš„æ ·æœ¬è¿›è¡Œæ’åºï¼Œä»¥ä¾¿èƒ½å¤Ÿäº§ç”Ÿé•¿åº¦ç›¸ä¼¼çš„åºåˆ—ï¼Œå¹¶ä¸”å¯ä»¥æœ‰æ•ˆåœ°åˆ©ç”¨å¡«å……ï¼ˆpaddingï¼‰ä»¥æé«˜æ‰¹æ¬¡å¤„ç†æ•ˆç‡ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python">data_pipe = data_pipe.bucketbatch(<br>    batch_size = <span class="hljs-number">4</span>, batch_num=<span class="hljs-number">5</span>,  bucket_num=<span class="hljs-number">1</span>,<br>    use_in_batch_shuffle=<span class="hljs-literal">False</span>, sort_key=sortBucket<br>)<br></code></pre></td></tr></table></figure><ul><li>æˆ‘ä»¬ä¿æŒæ‰¹é‡å¤§å° &#x3D; 4ã€‚</li><li>batch_num æ˜¯è¦ä¿ç•™åœ¨å­˜å‚¨æ¡¶ä¸­çš„æ‰¹æ¬¡æ•°</li><li>bucket_num æ˜¯æ± ä¸­ç”¨äºæ´—ç‰Œçš„å­˜å‚¨æ¡¶æ•°</li><li>sort_keyæŒ‡å®šè·å–å­˜å‚¨æ¡¶å¹¶å¯¹å…¶è¿›è¡Œæ’åºçš„å‡½æ•°</li></ul>]]></content>
    
    
    <categories>
      
      <category>AI Ê¢áµ•á´—áµ•Ê¡</category>
      
      <category>Pytorch</category>
      
      <category>Pytorchåº“çš„ä½¿ç”¨</category>
      
    </categories>
    
    
    <tags>
      
      <tag>AI</tag>
      
      <tag>Pytorch</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>spacyåº“çš„ä½¿ç”¨ï¼ğŸˆ</title>
    <link href="/2024/02/24/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/NLP/%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/pytorch%E4%B8%ADspacy%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
    <url>/2024/02/24/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/NLP/%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/pytorch%E4%B8%ADspacy%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/</url>
    
    <content type="html"><![CDATA[<h1 id="spacyåº“çš„ä½¿ç”¨"><a href="#spacyåº“çš„ä½¿ç”¨" class="headerlink" title="spacyåº“çš„ä½¿ç”¨"></a>spacyåº“çš„ä½¿ç”¨</h1><h2 id="1-ä¸‹è½½æ¨¡å‹"><a href="#1-ä¸‹è½½æ¨¡å‹" class="headerlink" title="1.ä¸‹è½½æ¨¡å‹"></a>1.ä¸‹è½½æ¨¡å‹</h2><p>ä¸‹è½½å¯¹åº”çš„githubåœ°å€ä¸º<a href="https://blog.51cto.com/transfer?https://github.com/explosion/spacy-models/tags">https://blog.51cto.com/transfer?https://github.com/explosion/spacy-models/tags</a></p><h2 id="2-åŠ è½½æ¨¡å‹"><a href="#2-åŠ è½½æ¨¡å‹" class="headerlink" title="2.åŠ è½½æ¨¡å‹"></a>2.åŠ è½½æ¨¡å‹</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">eng = spacy.load(<span class="hljs-string">&quot;en_core_web_md-3.7.1&quot;</span>)  <span class="hljs-comment"># Load the English model to tokenize English text</span><br>zh = spacy.load(<span class="hljs-string">&quot;zh_core_web_md-3.7.0&quot;</span>)<br></code></pre></td></tr></table></figure><h2 id="3-ä½¿ç”¨æ¨¡å‹"><a href="#3-ä½¿ç”¨æ¨¡å‹" class="headerlink" title="3.ä½¿ç”¨æ¨¡å‹"></a>3.ä½¿ç”¨æ¨¡å‹</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">engTokenize</span>(<span class="hljs-params">text</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    Tokenize an English text and return a list of tokens</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    engTokenList = [token.text <span class="hljs-keyword">for</span> token <span class="hljs-keyword">in</span> eng.tokenizer(text)]<br>    <span class="hljs-keyword">return</span> engTokenList<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">zhTokenize</span>(<span class="hljs-params">text</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    Tokenize a German text and return a list of tokens</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    <span class="hljs-keyword">return</span> [token.text <span class="hljs-keyword">for</span> token <span class="hljs-keyword">in</span> zh.tokenizer(text)]<br><br><br><span class="hljs-built_in">print</span>(engTokenize(<span class="hljs-string">&quot;Have a good day!!!&quot;</span>))<br><span class="hljs-built_in">print</span>(zhTokenize(<span class="hljs-string">&quot;æˆ‘ä»Šå¤©è¿‡çš„å¾ˆå¼€å¿ƒï¼Œè°­å›½å†›å»å“ªç© !!!&quot;</span>))<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>AI Ê¢áµ•á´—áµ•Ê¡</category>
      
      <category>NLP</category>
      
      <category>NLPåº“çš„ä½¿ç”¨</category>
      
    </categories>
    
    
    <tags>
      
      <tag>AI</tag>
      
      <tag>NLP</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>numpyåº“çš„ä½¿ç”¨ï¼â˜ƒï¸</title>
    <link href="/2024/02/21/%E7%AE%97%E6%B3%95/python/python%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/python%E4%B8%ADnumpy%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
    <url>/2024/02/21/%E7%AE%97%E6%B3%95/python/python%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/python%E4%B8%ADnumpy%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/</url>
    
    <content type="html"><![CDATA[<h1 id="numpyåº“çš„ä½¿ç”¨"><a href="#numpyåº“çš„ä½¿ç”¨" class="headerlink" title="numpyåº“çš„ä½¿ç”¨"></a>numpyåº“çš„ä½¿ç”¨</h1><p>è·å–æŒ‡å®šçš„è¡Œåˆ—è§„åˆ™:</p><p>1.é€—å·éš”å¼€ç»´åº¦ã€‚</p><p>2.åˆ†å·é€‰æ‹©æŸä¸€ç»´åº¦ä¸­çš„èŒƒå›´ï¼Œ<strong>ä¸å¯çœç•¥åˆ†å·</strong>ï¼Œåªèƒ½çœç•¥èŒƒå›´å€¼ã€‚</p><p>3.çœç•¥å·ç­‰äºå¤šä¸ªåˆ†å·ï¼Œ<strong>ä¸€ä¸ªç´¢å¼•ä¸­åªèƒ½å‡ºç°ä¸€ä¸ªçœç•¥å·</strong>ã€‚</p><p>ä¸¾ä¾‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br>arr = np.random.rand(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>)<br><span class="hljs-built_in">print</span>(arr)<br><br><span class="hljs-comment"># è·å–æ‰€æœ‰ç¬¬ä¸€ä¸ªç»´åº¦ã€ç¬¬äºŒä¸ªç»´åº¦ä¸­çš„å‰ä¸¤ä¸ªå…ƒç´ ï¼Œä»¥åŠç¬¬ä¸‰ä¸ªç»´åº¦ä¸­çš„æ‰€æœ‰å…ƒç´ </span><br>result = arr[..., :<span class="hljs-number">2</span>,:]<br><br><span class="hljs-built_in">print</span>(result)  <span class="hljs-comment"># è¾“å‡º (2, 3, 2, 5)ï¼Œå…¶ä¸­æ˜¯çœç•¥å·ä»£è¡¨å‰ä¸¤ä¸ªç»´åº¦ï¼Œç¬¬ä¸‰ä¸ªç»´åº¦çœç•¥èµ·å§‹å€¼0ï¼Œæœ€åä¸€ä¸ªç»´åº¦çœç•¥èµ·å§‹å€¼å’Œç»ˆæ­¢å€¼ã€‚</span><br></code></pre></td></tr></table></figure><h2 id="1-np-zeros"><a href="#1-np-zeros" class="headerlink" title="1.np.zeros"></a>1.np.zeros</h2><p><code>np.zeros()</code> æ˜¯ NumPy ä¸­çš„ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºåˆ›å»ºä¸€ä¸ªç”±é›¶ç»„æˆçš„æ•°ç»„ã€‚å…¶è¯­æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">numpy.zeros(shape, dtype=<span class="hljs-built_in">float</span>, order=<span class="hljs-string">&#x27;C&#x27;</span>)<br></code></pre></td></tr></table></figure><p>å‚æ•°è¯´æ˜ï¼š</p><ul><li><code>shape</code>ï¼šç”Ÿæˆæ•°ç»„çš„å½¢çŠ¶ï¼Œå¯ä»¥æ˜¯ä¸€ä¸ªæ•´æ•°æˆ–è€…ä¸€ä¸ªå…ƒç»„ã€‚</li><li><code>dtype</code>ï¼ˆå¯é€‰ï¼‰ï¼šç”Ÿæˆæ•°ç»„çš„æ•°æ®ç±»å‹ï¼Œé»˜è®¤ä¸º <code>float</code>ã€‚</li><li><code>order</code>ï¼ˆå¯é€‰ï¼‰ï¼šæ•°ç»„çš„å­˜å‚¨é¡ºåºï¼Œå¯ä»¥æ˜¯ <code>&#39;C&#39;</code>ï¼ˆC é£æ ¼ï¼ŒæŒ‰è¡Œå­˜å‚¨ï¼‰æˆ–è€… <code>&#39;F&#39;</code>ï¼ˆFortran é£æ ¼ï¼ŒæŒ‰åˆ—å­˜å‚¨ï¼‰ï¼Œé»˜è®¤ä¸º <code>&#39;C&#39;</code>ã€‚</li></ul><p>ç¤ºä¾‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br><span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªå½¢çŠ¶ä¸º (3, 3) çš„é›¶æ•°ç»„</span><br>arr = np.zeros((<span class="hljs-number">3</span>, <span class="hljs-number">3</span>))<br><span class="hljs-built_in">print</span>(arr)<br></code></pre></td></tr></table></figure><p>ç»“æœï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br><span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªå½¢çŠ¶ä¸º (3, 3) çš„é›¶æ•°ç»„</span><br>arr = np.zeros((<span class="hljs-number">3</span>, <span class="hljs-number">3</span>))<br><span class="hljs-built_in">print</span>(arr)<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>ç®—æ³• Ê•â‰§á´¥â‰¦Ê”</category>
      
      <category>Python</category>
      
      <category>Pythonåº“</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>pytorchä¸­æ•°æ®çš„åŠ è½½!ğŸ§</title>
    <link href="/2024/02/21/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/Pytorch/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/pytorch%E4%B8%AD%E6%95%B0%E6%8D%AE%E7%9A%84%E5%8A%A0%E8%BD%BD/"/>
    <url>/2024/02/21/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/Pytorch/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/pytorch%E4%B8%AD%E6%95%B0%E6%8D%AE%E7%9A%84%E5%8A%A0%E8%BD%BD/</url>
    
    <content type="html"><![CDATA[<h1 id="pytorchä¸­æ•°æ®çš„åŠ è½½"><a href="#pytorchä¸­æ•°æ®çš„åŠ è½½" class="headerlink" title="pytorchä¸­æ•°æ®çš„åŠ è½½"></a>pytorchä¸­æ•°æ®çš„åŠ è½½</h1><h2 id="1-TensorDataset"><a href="#1-TensorDataset" class="headerlink" title="1.TensorDataset"></a>1.TensorDataset</h2><p><code>TensorDataset</code>æ˜¯PyTorchä¸­çš„ä¸€ä¸ªç±»ï¼Œç”¨äºåˆ›å»ºä¸€ä¸ªå¼ é‡æ•°æ®é›†ï¼Œå®ƒå¯ä»¥å°†å¤šä¸ªå¼ é‡æ‰“åŒ…æˆä¸€ä¸ªæ•°æ®é›†ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œè¿™ä¸ªæ•°æ®é›†ä¼šç”¨äºæ•°æ®åŠ è½½å™¨ï¼ˆ<code>DataLoader</code>ï¼‰ä¸­ï¼Œä»¥ä¾¿äºå¯¹å¼ é‡æ•°æ®è¿›è¡Œæ‰¹å¤„ç†ã€éšæœºé‡‡æ ·ç­‰æ“ä½œã€‚</p><p><code>TensorDataset</code>çš„å¸¸è§ç”¨æ³•æ˜¯å°†ç‰¹å¾å¼ é‡å’Œæ ‡ç­¾å¼ é‡æ‰“åŒ…åœ¨ä¸€èµ·ï¼Œç„¶åå°†å®ƒä»¬ä¼ é€’ç»™<code>DataLoader</code>ï¼Œä»¥ä¾¿äºå¯¹æ•°æ®è¿›è¡Œè¿­ä»£è®¿é—®ã€‚åœ¨æ¯æ¬¡è¿­ä»£ä¸­ï¼Œ<code>DataLoader</code>ä¼šè¿”å›ä¸€ä¸ªæ‰¹é‡çš„ç‰¹å¾å¼ é‡å’Œå¯¹åº”çš„æ ‡ç­¾å¼ é‡ã€‚</p><p>ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ä»£ç ï¼Œæ¼”ç¤ºäº†å¦‚ä½•ä½¿ç”¨<code>TensorDataset</code>ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> torch<br><span class="hljs-keyword">from</span> torch.utils.data <span class="hljs-keyword">import</span> TensorDataset, DataLoader<br><br><span class="hljs-comment"># å‡è®¾æœ‰ç‰¹å¾å¼ é‡ features å’Œæ ‡ç­¾å¼ é‡ labels</span><br>features = torch.randn(<span class="hljs-number">100</span>, <span class="hljs-number">5</span>)  <span class="hljs-comment"># 100ä¸ªæ ·æœ¬ï¼Œæ¯ä¸ªæ ·æœ¬åŒ…å«5ä¸ªç‰¹å¾</span><br>labels = torch.randint(<span class="hljs-number">0</span>, <span class="hljs-number">2</span>, (<span class="hljs-number">100</span>,))  <span class="hljs-comment"># 100ä¸ªæ ·æœ¬çš„äºŒå…ƒæ ‡ç­¾</span><br><br><span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªTensorDatasetå¯¹è±¡ï¼Œå°†ç‰¹å¾å¼ é‡å’Œæ ‡ç­¾å¼ é‡æ‰“åŒ…åœ¨ä¸€èµ·</span><br>dataset = TensorDataset(features, labels)<br><br><span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªDataLoaderï¼Œç”¨äºå¯¹æ•°æ®è¿›è¡Œæ‰¹å¤„ç†å’Œéšæœºé‡‡æ ·</span><br>batch_size = <span class="hljs-number">32</span><br>data_loader = DataLoader(dataset, batch_size=batch_size, shuffle=<span class="hljs-literal">True</span>)<br><br><span class="hljs-comment"># éå†æ•°æ®åŠ è½½å™¨ï¼Œå¯¹æ•°æ®è¿›è¡Œè¿­ä»£è®¿é—®</span><br><span class="hljs-keyword">for</span> batch_features, batch_labels <span class="hljs-keyword">in</span> data_loader:<br>    <span class="hljs-comment"># è¿™é‡Œå¯ä»¥å¯¹æ¯ä¸ªæ‰¹é‡çš„ç‰¹å¾å’Œæ ‡ç­¾è¿›è¡Œå¤„ç†</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Batch Features:&quot;</span>, batch_features.shape)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Batch Labels:&quot;</span>, batch_labels.shape)<br></code></pre></td></tr></table></figure><p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œ<code>TensorDataset</code>è¢«ç”¨æ¥å°†ç‰¹å¾å¼ é‡å’Œæ ‡ç­¾å¼ é‡æ‰“åŒ…åœ¨ä¸€èµ·ï¼Œç„¶åé€šè¿‡<code>DataLoader</code>å¯¹æ•°æ®è¿›è¡Œæ‰¹å¤„ç†å’Œéšæœºé‡‡æ ·ã€‚<code>DataLoader</code>æ¯æ¬¡è¿”å›ä¸€ä¸ªç”±ç‰¹å¾å’Œæ ‡ç­¾ç»„æˆçš„æ‰¹é‡ã€‚</p><p>ç»“æœï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python">Batch Features: torch.Size([<span class="hljs-number">32</span>, <span class="hljs-number">5</span>])<br>Batch Labels: torch.Size([<span class="hljs-number">32</span>])<br>Batch Features: torch.Size([<span class="hljs-number">32</span>, <span class="hljs-number">5</span>])<br>Batch Labels: torch.Size([<span class="hljs-number">32</span>])<br>Batch Features: torch.Size([<span class="hljs-number">32</span>, <span class="hljs-number">5</span>])<br>Batch Labels: torch.Size([<span class="hljs-number">32</span>])<br>Batch Features: torch.Size([<span class="hljs-number">4</span>, <span class="hljs-number">5</span>])<br>Batch Labels: torch.Size([<span class="hljs-number">4</span>])<br></code></pre></td></tr></table></figure><h2 id="2-RandomSampler"><a href="#2-RandomSampler" class="headerlink" title="2.RandomSampler"></a>2.RandomSampler</h2><p>RandomSampleræ˜¯PyTorchä¸­çš„ä¸€ä¸ªé‡‡æ ·å™¨ï¼ˆSamplerï¼‰ï¼Œç”¨äºåœ¨æ•°æ®é›†ä¸­è¿›è¡Œéšæœºé‡‡æ ·ã€‚åœ¨PyTorchä¸­ï¼Œå®ƒé€šå¸¸ä¸DataLoaderä¸€èµ·ä½¿ç”¨ï¼Œç”¨äºç”Ÿæˆmini-batchesï¼Œä»¥ä¾¿è¿›è¡Œè®­ç»ƒæˆ–è¯„ä¼°ã€‚</p><p>RandomSamplerçš„å·¥ä½œåŸç†å¦‚ä¸‹ï¼š</p><ol><li>åˆå§‹åŒ–æ—¶ï¼ŒRandomSampleræ¥æ”¶ä¸€ä¸ªæ•°æ®é›†ï¼ˆå¦‚PyTorchçš„Datasetå¯¹è±¡ï¼‰ä½œä¸ºå‚æ•°ï¼Œå¹¶ç¡®å®šè¦é‡‡æ ·çš„æ•°æ®é›†å¤§å°ï¼ˆå³æ•°æ®é›†çš„é•¿åº¦ï¼‰ã€‚</li><li>åœ¨æ¯ä¸ªepochå¼€å§‹æ—¶ï¼ŒRandomSamplerä¼šéšæœºæ‰“ä¹±æ•°æ®é›†çš„ç´¢å¼•ã€‚</li><li>åœ¨è®­ç»ƒæˆ–è¯„ä¼°è¿‡ç¨‹ä¸­ï¼Œå½“DataLoaderä»æ•°æ®é›†ä¸­è·å–mini-batchæ—¶ï¼Œå®ƒä¼šä½¿ç”¨RandomSamplerç”Ÿæˆçš„éšæœºç´¢å¼•æ¥é€‰æ‹©æ•°æ®æ ·æœ¬ã€‚è¿™æ ·å¯ä»¥ç¡®ä¿æ¯ä¸ªepochä¸­çš„mini-batcheséƒ½æ˜¯éšæœºçš„ï¼Œä»è€Œå¢åŠ æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›å’Œè®­ç»ƒçš„å¤šæ ·æ€§ã€‚</li></ol><p>æ€»ä¹‹ï¼ŒRandomSampleré€šè¿‡åœ¨æ¯ä¸ªepochå¼€å§‹æ—¶é‡æ–°æ‰“ä¹±æ•°æ®é›†ç´¢å¼•ï¼Œä»¥ç¡®ä¿æ¯ä¸ªmini-batchçš„æ ·æœ¬æ˜¯éšæœºé€‰æ‹©çš„ï¼Œä»è€Œå¸®åŠ©æ¨¡å‹æ›´å¥½åœ°å­¦ä¹ æ•°æ®çš„åˆ†å¸ƒç‰¹å¾ã€‚</p><p>å…·ä½“ç”¨æ³•ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python">train_data = TensorDataset(torch.LongTensor(input_ids).to(device),<br>                               torch.LongTensor(target_ids).to(device))<br><br>    train_sampler = RandomSampler(train_data)<br>    train_dataloader = DataLoader(train_data, sampler=train_sampler, batch_size=batch_size)<br>    <span class="hljs-keyword">return</span> input_lang, output_lang, train_dataloader<br></code></pre></td></tr></table></figure><h2 id="3-DataLoader"><a href="#3-DataLoader" class="headerlink" title="3.DataLoader"></a>3.DataLoader</h2><p>åœ¨ PyTorch ä¸­ï¼ŒDataLoader æ˜¯ä¸€ä¸ªç”¨äºåŠ è½½æ•°æ®çš„å®ç”¨å·¥å…·ï¼Œé€šå¸¸ç”¨äºè®­ç»ƒç¥ç»ç½‘ç»œæ¨¡å‹æ—¶ã€‚å®ƒå¯ä»¥è‡ªåŠ¨æ‰¹å¤„ç†ã€å¹¶è¡ŒåŠ è½½æ•°æ®ä»¥åŠæ•°æ®æ‰“ä¹±ï¼Œæé«˜äº†æ•°æ®åŠ è½½çš„æ•ˆç‡ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ï¼Œæ¼”ç¤ºå¦‚ä½•ä½¿ç”¨ DataLoaderï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> torch<br><span class="hljs-keyword">from</span> torch.utils.data <span class="hljs-keyword">import</span> DataLoader, Dataset<br><br><span class="hljs-comment"># å‡è®¾ä½ æœ‰ä¸€ä¸ªè‡ªå®šä¹‰çš„æ•°æ®é›†ç±»</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomDataset</span>(<span class="hljs-title class_ inherited__">Dataset</span>):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, data</span>):<br>        self.data = data<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__len__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">len</span>(self.data)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__getitem__</span>(<span class="hljs-params">self, index</span>):<br>        <span class="hljs-keyword">return</span> self.data[index]<br><br><span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªç¤ºä¾‹æ•°æ®é›†</span><br>data = [i <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">100</span>)]<br><br><span class="hljs-comment"># åˆ›å»ºæ•°æ®é›†å®ä¾‹</span><br>dataset = CustomDataset(data)<br><br><span class="hljs-comment"># å®šä¹‰ DataLoader å‚æ•°</span><br>batch_size = <span class="hljs-number">10</span><br>shuffle = <span class="hljs-literal">True</span><br><br><span class="hljs-comment"># åˆ›å»º DataLoader å®ä¾‹</span><br>dataloader = DataLoader(dataset, batch_size=batch_size, shuffle=shuffle)<br><br><span class="hljs-comment"># éå† DataLoader è·å–æ•°æ®æ‰¹æ¬¡</span><br><span class="hljs-keyword">for</span> batch <span class="hljs-keyword">in</span> dataloader:<br>    <span class="hljs-built_in">print</span>(batch)<br></code></pre></td></tr></table></figure><p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼š</p><ul><li>é¦–å…ˆå®šä¹‰äº†ä¸€ä¸ª <code>CustomDataset</code> ç±»ï¼Œè¯¥ç±»ç»§æ‰¿è‡ª <code>torch.utils.data.Dataset</code>ï¼Œå¹¶å®ç°äº† <code>__len__</code> å’Œ <code>__getitem__</code> æ–¹æ³•ï¼Œå…¶ä¸­ <code>__len__</code> è¿”å›æ•°æ®é›†çš„å¤§å°ï¼Œ<code>__getitem__</code> æ ¹æ®ç»™å®šç´¢å¼•è¿”å›å¯¹åº”çš„æ•°æ®æ ·æœ¬ã€‚</li><li>åˆ›å»ºäº†ä¸€ä¸ªç¤ºä¾‹æ•°æ®é›† <code>data</code>ï¼Œå¹¶ä½¿ç”¨ <code>CustomDataset</code> ç±»åˆ›å»ºäº†ä¸€ä¸ªæ•°æ®é›†å®ä¾‹ <code>dataset</code>ã€‚</li><li>å®šä¹‰äº† <code>DataLoader</code> çš„å‚æ•°ï¼ŒåŒ…æ‹¬ <code>batch_size</code>ï¼ˆæ‰¹é‡å¤§å°ï¼‰å’Œ <code>shuffle</code>ï¼ˆæ˜¯å¦åœ¨æ¯ä¸ª epoch ä¸­æ‰“ä¹±æ•°æ®ï¼‰ã€‚</li><li>ä½¿ç”¨ <code>DataLoader</code> ç±»åˆ›å»ºäº†ä¸€ä¸ªæ•°æ®åŠ è½½å™¨å®ä¾‹ <code>dataloader</code>ã€‚</li><li>æœ€åï¼Œé€šè¿‡éå† <code>dataloader</code>ï¼Œå¯ä»¥é€æ‰¹è·å–æ•°æ®ã€‚</li></ul><p><strong>tipsï¼š</strong></p><p>åœ¨ PyTorch ä¸­ï¼Œ<code>sampler</code> å’Œ <code>shuffle</code> æ˜¯ DataLoader çš„ä¸¤ä¸ªé‡è¦å‚æ•°ï¼Œå®ƒä»¬åœ¨æ§åˆ¶æ•°æ®åŠ è½½æ—¶èµ·ç€ä¸åŒçš„ä½œç”¨ã€‚</p><ol><li><strong>shuffle</strong>ï¼š<ul><li><code>shuffle</code> å‚æ•°æ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œç”¨äºæŒ‡å®šæ˜¯å¦åœ¨æ¯ä¸ª epoch ä¸­å¯¹æ•°æ®è¿›è¡Œéšæœºæ‰“ä¹±ã€‚</li><li>å½“ <code>shuffle=True</code> æ—¶ï¼Œæ•°æ®ä¼šåœ¨æ¯ä¸ª epoch å¼€å§‹æ—¶è¢«éšæœºæ‰“ä¹±ï¼Œè¿™æœ‰åŠ©äºæ¨¡å‹æ›´å¥½åœ°å­¦ä¹ æ•°æ®çš„åˆ†å¸ƒï¼Œé˜²æ­¢æ¨¡å‹å¯¹æ•°æ®çš„é¡ºåºäº§ç”Ÿä¾èµ–ã€‚</li><li>å¦‚æœ <code>shuffle=False</code>ï¼Œåˆ™æ•°æ®ä¸ä¼šè¢«æ‰“ä¹±ï¼ŒæŒ‰ç…§åŸå§‹é¡ºåºè¢«åŠ è½½ã€‚</li></ul></li><li><strong>sampler</strong>ï¼š<ul><li><code>sampler</code> å‚æ•°ç”¨äºæŒ‡å®šæ•°æ®é‡‡æ ·å™¨å¯¹è±¡ï¼Œå…è®¸ç”¨æˆ·è‡ªå®šä¹‰æ•°æ®çš„é‡‡æ ·æ–¹å¼ã€‚</li><li>é»˜è®¤æƒ…å†µä¸‹ï¼Œå½“æ²¡æœ‰æŒ‡å®š <code>sampler</code> å‚æ•°æ—¶ï¼ŒDataLoader ä¼šä½¿ç”¨ <code>SequentialSampler</code>ï¼Œå®ƒæŒ‰é¡ºåºè¿”å›æ•°æ®æ ·æœ¬çš„ç´¢å¼•ã€‚</li><li>å¦ä¸€æ–¹é¢ï¼Œå¦‚æœä½ æƒ³è¦è‡ªå®šä¹‰é‡‡æ ·é€»è¾‘ï¼Œæ¯”å¦‚å®ç°è‡ªå·±çš„é‡‡æ ·å™¨å¯¹è±¡æˆ–è€…ä½¿ç”¨å¸¦æƒé‡çš„é‡‡æ ·æ–¹å¼ï¼Œä½ å¯ä»¥é€šè¿‡æŒ‡å®š <code>sampler</code> å‚æ•°æ¥å®ç°è¿™ä¸€ç›®çš„ã€‚</li></ul></li></ol><p>åœ¨å®è·µä¸­ï¼Œé€šå¸¸æƒ…å†µä¸‹ä¼šå°† <code>shuffle=True</code> ä»¥æ‰“ä¹±æ•°æ®é¡ºåºï¼Œä»è€Œå¢åŠ æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›ï¼Œç‰¹åˆ«æ˜¯åœ¨è®­ç»ƒæ·±åº¦å­¦ä¹ æ¨¡å‹æ—¶ã€‚è€Œ <code>sampler</code> å‚æ•°åˆ™å…è®¸æ›´è¿›ä¸€æ­¥çš„è‡ªå®šä¹‰æ•°æ®åŠ è½½æ–¹å¼ï¼Œæ¯”å¦‚å¤„ç†ä¸å‡è¡¡çš„æ•°æ®é›†æˆ–è€…å®ç°ç‰¹æ®Šçš„é‡‡æ ·é€»è¾‘ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>AI Ê¢áµ•á´—áµ•Ê¡</category>
      
      <category>Pytorch</category>
      
      <category>PytorchåŸºç¡€çŸ¥è¯†</category>
      
    </categories>
    
    
    <tags>
      
      <tag>AI</tag>
      
      <tag>Pytorch</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å¸¸ç”¨torchæ–¹æ³•ï¼ğŸ§</title>
    <link href="/2024/02/21/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/Pytorch/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E5%B8%B8%E7%94%A8torch%E6%96%B9%E6%B3%95/"/>
    <url>/2024/02/21/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/Pytorch/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E5%B8%B8%E7%94%A8torch%E6%96%B9%E6%B3%95/</url>
    
    <content type="html"><![CDATA[<h1 id="å¸¸ç”¨torchæ–¹æ³•"><a href="#å¸¸ç”¨torchæ–¹æ³•" class="headerlink" title="å¸¸ç”¨torchæ–¹æ³•"></a>å¸¸ç”¨torchæ–¹æ³•</h1><h2 id="1-cat"><a href="#1-cat" class="headerlink" title="1.cat"></a>1.cat</h2><p><code>torch.cat</code> æ˜¯ PyTorch ä¸­çš„ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºæ²¿æŒ‡å®šçš„ç»´åº¦æ‹¼æ¥ï¼ˆè¿æ¥ï¼‰å¤šä¸ªå¼ é‡ã€‚</p><p>å…·ä½“è€Œè¨€ï¼Œ<code>Tensor.cat</code> å‡½æ•°å°†å¤šä¸ªå¼ é‡æ²¿ç€æŒ‡å®šçš„ç»´åº¦è¿æ¥åœ¨ä¸€èµ·ï¼Œå½¢æˆä¸€ä¸ªæ–°çš„å¼ é‡ã€‚è¿æ¥çš„ç»´åº¦ç§°ä¸ºâ€œæ‹¼æ¥ç»´åº¦â€ã€‚å‡½æ•°çš„ç­¾åé€šå¸¸å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">output_tensor = torch.cat(tensors, dim=<span class="hljs-number">0</span>, out=<span class="hljs-literal">None</span>)<br></code></pre></td></tr></table></figure><p>å…¶ä¸­ï¼š</p><ul><li><code>tensors</code> æ˜¯ä¸€ä¸ªå¼ é‡åˆ—è¡¨ï¼ŒåŒ…å«äº†è¦è¿æ¥çš„å¼ é‡ã€‚</li><li><code>dim</code> æ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ²¿ç€å“ªä¸ªç»´åº¦è¿›è¡Œè¿æ¥ã€‚é»˜è®¤ä¸º 0ã€‚</li><li><code>out</code> æ˜¯ä¸€ä¸ªå¯é€‰çš„è¾“å‡ºå¼ é‡ã€‚</li></ul><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> torch<br><br><span class="hljs-comment"># åˆ›å»ºä¸¤ä¸ªç¤ºä¾‹å¼ é‡</span><br>tensor1 = torch.tensor([[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>], [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>]])<br>tensor2 = torch.tensor([[<span class="hljs-number">5</span>, <span class="hljs-number">6</span>], [<span class="hljs-number">7</span>, <span class="hljs-number">8</span>]])<br><br><span class="hljs-comment"># åœ¨ç¬¬0ç»´åº¦ä¸Šæ‹¼æ¥è¿™ä¸¤ä¸ªå¼ é‡</span><br>concatenated_tensor = torch.cat((tensor1, tensor2), dim=<span class="hljs-number">0</span>)<br><span class="hljs-built_in">print</span>(concatenated_tensor)<br></code></pre></td></tr></table></figure><p>ç»“æœï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python">tensor([[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>],<br>        [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>],<br>        [<span class="hljs-number">5</span>, <span class="hljs-number">6</span>],<br>        [<span class="hljs-number">7</span>, <span class="hljs-number">8</span>]])<br></code></pre></td></tr></table></figure><p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬æ²¿ç€ç¬¬0ç»´åº¦æ‹¼æ¥äº†ä¸¤ä¸ªäºŒç»´å¼ é‡ï¼Œå› æ­¤ç¬¬ä¸€ä¸ªå¼ é‡çš„ä¸¤è¡Œä¸ç¬¬äºŒä¸ªå¼ é‡çš„ä¸¤è¡ŒæŒ‰é¡ºåºè¿æ¥åœ¨ä¸€èµ·ï¼Œå½¢æˆäº†ä¸€ä¸ªæ–°çš„å¼ é‡ã€‚</p><h2 id="2-empty"><a href="#2-empty" class="headerlink" title="2.empty"></a>2.empty</h2><p><code>torch.empty()</code> æ˜¯ä¸€ä¸ªç”¨äºåˆ›å»ºä¸€ä¸ªæœªåˆå§‹åŒ–çš„å¼ é‡çš„å‡½æ•°ï¼Œå…¶å…·ä½“çš„ç­¾åå¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">torch.empty(*size, *, out=<span class="hljs-literal">None</span>, dtype=<span class="hljs-literal">None</span>, layout=torch.strided, device=<span class="hljs-literal">None</span>, requires_grad=<span class="hljs-literal">False</span>)<br></code></pre></td></tr></table></figure><p>è¿™ä¸ªå‡½æ•°åˆ›å»ºä¸€ä¸ªæŒ‡å®šå¤§å°çš„å¼ é‡ï¼Œä½†æ˜¯ä¸ä¼šå¯¹å¼ é‡è¿›è¡Œåˆå§‹åŒ–ï¼Œå³å¼ é‡çš„å…ƒç´ å€¼æ˜¯æœªå®šä¹‰çš„ï¼Œå–å†³äºå†…å­˜çš„çŠ¶æ€ã€‚</p><p>ç¤ºä¾‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> torch<br><br><span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªå½¢çŠ¶ä¸º 2x3 çš„æœªåˆå§‹åŒ–çš„å¼ é‡</span><br>empty_tensor = torch.empty(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Empty Tensor:&quot;</span>)<br><span class="hljs-built_in">print</span>(empty_tensor)<br><br><span class="hljs-comment"># æŒ‡å®šæ•°æ®ç±»å‹ä¸º float32</span><br>empty_float_tensor = torch.empty(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, dtype=torch.float32)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;\nEmpty Float32 Tensor:&quot;</span>)<br><span class="hljs-built_in">print</span>(empty_float_tensor)<br></code></pre></td></tr></table></figure><h2 id="3-tanh"><a href="#3-tanh" class="headerlink" title="3.tanh"></a>3.tanh</h2><p><code>torch.tanh()</code> æ˜¯ PyTorch ä¸­çš„ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºè®¡ç®—å¼ é‡ä¸­æ¯ä¸ªå…ƒç´ çš„åŒæ›²æ­£åˆ‡å€¼ã€‚åŒæ›²æ­£åˆ‡å‡½æ•°æ˜¯ä¸€ç§å¸¸è§çš„éçº¿æ€§æ¿€æ´»å‡½æ•°ï¼Œé€šå¸¸ç”¨äºç¥ç»ç½‘ç»œä¸­ã€‚</p><p>è¯¥å‡½æ•°çš„è¾“å‡ºèŒƒå›´æ˜¯ <code>(âˆ’1,1)</code>ï¼Œå½“è¾“å…¥æ¥è¿‘æ­£æ— ç©·æ—¶ï¼Œè¾“å‡ºæ¥è¿‘äº 1ï¼Œå½“è¾“å…¥æ¥è¿‘è´Ÿæ— ç©·æ—¶ï¼Œè¾“å‡ºæ¥è¿‘äº -1ï¼Œå½“è¾“å…¥ä¸º 0 æ—¶ï¼Œè¾“å‡ºä¸º 0ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> torch<br><br><span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªå¼ é‡</span><br>tensor = torch.tensor([-<span class="hljs-number">1.0</span>, <span class="hljs-number">0.0</span>, <span class="hljs-number">1.0</span>])<br><br><span class="hljs-comment"># è®¡ç®—å¼ é‡ä¸­æ¯ä¸ªå…ƒç´ çš„åŒæ›²æ­£åˆ‡å€¼</span><br>result = torch.tanh(tensor)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Original Tensor:&quot;</span>)<br><span class="hljs-built_in">print</span>(tensor)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;\nTanh Result:&quot;</span>)<br><span class="hljs-built_in">print</span>(result)<br></code></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python">Original Tensor:<br>tensor([-<span class="hljs-number">1.</span>,  <span class="hljs-number">0.</span>,  <span class="hljs-number">1.</span>])<br><br>Tanh Result:<br>tensor([-<span class="hljs-number">0.7616</span>,  <span class="hljs-number">0.0000</span>,  <span class="hljs-number">0.7616</span>])<br></code></pre></td></tr></table></figure><h2 id="4-bmm"><a href="#4-bmm" class="headerlink" title="4.bmm"></a>4.bmm</h2><p><code>torch.bmm</code> æ˜¯ PyTorch ä¸­ç”¨äºæ‰¹é‡çŸ©é˜µä¹˜æ³•ï¼ˆBatch Matrix Multiplicationï¼‰çš„å‡½æ•°ã€‚å‡è®¾ä½ æœ‰ä¸¤ä¸ªå¼ é‡ <code>A</code> å’Œ <code>B</code>ï¼Œå®ƒä»¬çš„å½¢çŠ¶åˆ†åˆ«ä¸º <code>(batch_size, n, m)</code> å’Œ <code>(batch_size, m, p)</code>ã€‚<code>torch.bmm</code> å°†æ‰§è¡Œæ‰¹é‡çš„çŸ©é˜µä¹˜æ³•ï¼Œå³å¯¹äºæ¯ä¸ªæ‰¹æ¬¡ä¸­çš„çŸ©é˜µå¯¹ï¼Œè®¡ç®—çŸ©é˜µä¹˜ç§¯ã€‚</p><p>è¾“å‡ºçš„ç»“æœå°†æ˜¯ä¸€ä¸ªå½¢çŠ¶ä¸º <code>(batch_size, n, p)</code> çš„å¼ é‡ï¼Œå…¶ä¸­æ¯ä¸ªæ‰¹æ¬¡çš„ä¹˜ç§¯å°†ä¼šè¢«è®¡ç®—ã€‚</p><p>ä¸¾ä¾‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> torch<br><br><span class="hljs-comment"># å‡è®¾ A å’Œ B æ˜¯å…·ä½“çš„å¼ é‡ï¼Œéœ€è¦ç¡®ä¿å®ƒä»¬çš„å½¢çŠ¶åŒ¹é…</span><br><span class="hljs-comment"># ä¾‹å¦‚ï¼ŒAçš„æœ€åä¸€ä¸ªç»´åº¦ï¼ˆmï¼‰åº”è¯¥ä¸Bçš„å€’æ•°ç¬¬äºŒä¸ªç»´åº¦ï¼ˆmï¼‰ç›¸åŒ</span><br>A = torch.tensor([[[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>],<br>                   [<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>]],<br><br>                  [[<span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>],<br>                   [<span class="hljs-number">10</span>, <span class="hljs-number">11</span>, <span class="hljs-number">12</span>]]])<br><br>B = torch.tensor([[[<span class="hljs-number">2</span>, <span class="hljs-number">3</span>],<br>                   [<span class="hljs-number">4</span>, <span class="hljs-number">5</span>],<br>                   [<span class="hljs-number">6</span>, <span class="hljs-number">7</span>]],<br><br>                  [[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>],<br>                   [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>],<br>                   [<span class="hljs-number">5</span>, <span class="hljs-number">6</span>]]])<br><br><span class="hljs-comment"># è®¡ç®—çŸ©é˜µä¹˜ç§¯</span><br>C = torch.bmm(A, B)<br><br><span class="hljs-built_in">print</span>(C)<br></code></pre></td></tr></table></figure><p>ç»“æœï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python">tensor([[[ <span class="hljs-number">28</span>,  <span class="hljs-number">34</span>],<br>         [ <span class="hljs-number">64</span>,  <span class="hljs-number">79</span>]],<br><br>        [[ <span class="hljs-number">76</span>, <span class="hljs-number">100</span>],<br>         [<span class="hljs-number">103</span>, <span class="hljs-number">136</span>]]])<br></code></pre></td></tr></table></figure><p>å³è®©æ¯ä¸ªæ‰¹æ¬¡çš„å¼ é‡ç›¸ä¹˜ã€‚</p><h2 id="5-randn"><a href="#5-randn" class="headerlink" title="5.randn"></a>5.randn</h2><p><code>torch.randn()</code> æ˜¯ PyTorch ä¸­çš„ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºç”Ÿæˆå…·æœ‰æ ‡å‡†æ­£æ€åˆ†å¸ƒï¼ˆå‡å€¼ä¸º0ï¼Œæ ‡å‡†å·®ä¸º1ï¼‰çš„éšæœºå¼ é‡ã€‚å…¶è¯­æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">torch.randn(*size, dtype=<span class="hljs-literal">None</span>, device=<span class="hljs-literal">None</span>, requires_grad=<span class="hljs-literal">False</span>)<br></code></pre></td></tr></table></figure><p>å‚æ•°è¯´æ˜ï¼š</p><ul><li><code>*size</code>ï¼šç”Ÿæˆå¼ é‡çš„å½¢çŠ¶ï¼Œå¯ä»¥æ˜¯ä¸€ä¸ªæ•´æ•°æˆ–è€…å…ƒç»„ã€‚</li><li><code>dtype</code>ï¼ˆå¯é€‰ï¼‰ï¼šç”Ÿæˆå¼ é‡çš„æ•°æ®ç±»å‹ï¼Œé»˜è®¤ä¸º <code>torch.float32</code>ã€‚</li><li><code>device</code>ï¼ˆå¯é€‰ï¼‰ï¼šç”Ÿæˆå¼ é‡æ‰€åœ¨çš„è®¾å¤‡ï¼Œé»˜è®¤ä¸º <code>None</code>ï¼Œè¡¨ç¤ºä½¿ç”¨å½“å‰çš„é»˜è®¤è®¾å¤‡ã€‚</li><li><code>requires_grad</code>ï¼ˆå¯é€‰ï¼‰ï¼šæŒ‡å®šæ˜¯å¦éœ€è¦è®¡ç®—æ¢¯åº¦ï¼Œé»˜è®¤ä¸º <code>False</code>ã€‚</li></ul><p>ç¤ºä¾‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> torch<br><br><span class="hljs-comment"># ç”Ÿæˆä¸€ä¸ªå½¢çŠ¶ä¸º (3, 3) çš„éšæœºå¼ é‡ï¼Œæ»¡è¶³æ ‡å‡†æ­£æ€åˆ†å¸ƒ</span><br>x = torch.randn(<span class="hljs-number">3</span>, <span class="hljs-number">3</span>)<br><span class="hljs-built_in">print</span>(x)<br></code></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">tensor([[-<span class="hljs-number">0.6848</span>, -<span class="hljs-number">0.3440</span>,  <span class="hljs-number">1.1301</span>],<br>        [-<span class="hljs-number">0.1869</span>,  <span class="hljs-number">1.0607</span>, -<span class="hljs-number">1.0181</span>],<br>        [ <span class="hljs-number">0.5477</span>, -<span class="hljs-number">0.1585</span>, -<span class="hljs-number">0.3474</span>]])<br></code></pre></td></tr></table></figure><h2 id="6-randint"><a href="#6-randint" class="headerlink" title="6.randint"></a>6.randint</h2><p><code>torch.randint()</code> æ˜¯ PyTorch ä¸­çš„ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºç”Ÿæˆå…·æœ‰ç¦»æ•£å‡åŒ€åˆ†å¸ƒçš„éšæœºæ•´æ•°å¼ é‡ã€‚å…¶è¯­æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">torch.randint(low, high, size, dtype=<span class="hljs-literal">None</span>, device=<span class="hljs-literal">None</span>, requires_grad=<span class="hljs-literal">False</span>)<br></code></pre></td></tr></table></figure><p>å‚æ•°è¯´æ˜ï¼š</p><ul><li><code>low</code>ï¼šç”Ÿæˆéšæœºæ•´æ•°çš„ä¸‹ç•Œï¼ˆé—­åŒºé—´ï¼‰ã€‚</li><li><code>high</code>ï¼šç”Ÿæˆéšæœºæ•´æ•°çš„ä¸Šç•Œï¼ˆå¼€åŒºé—´ï¼‰ã€‚</li><li><code>size</code>ï¼šç”Ÿæˆå¼ é‡çš„å½¢çŠ¶ï¼Œå¯ä»¥æ˜¯ä¸€ä¸ªæ•´æ•°æˆ–è€…å…ƒç»„ã€‚</li><li><code>dtype</code>ï¼ˆå¯é€‰ï¼‰ï¼šç”Ÿæˆå¼ é‡çš„æ•°æ®ç±»å‹ï¼Œé»˜è®¤ä¸º <code>torch.int64</code>ã€‚</li><li><code>device</code>ï¼ˆå¯é€‰ï¼‰ï¼šç”Ÿæˆå¼ é‡æ‰€åœ¨çš„è®¾å¤‡ï¼Œé»˜è®¤ä¸º <code>None</code>ï¼Œè¡¨ç¤ºä½¿ç”¨å½“å‰çš„é»˜è®¤è®¾å¤‡ã€‚</li><li><code>requires_grad</code>ï¼ˆå¯é€‰ï¼‰ï¼šæŒ‡å®šæ˜¯å¦éœ€è¦è®¡ç®—æ¢¯åº¦ï¼Œé»˜è®¤ä¸º <code>False</code>ã€‚</li></ul><p>ç¤ºä¾‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> torch<br><br><span class="hljs-comment"># ç”Ÿæˆä¸€ä¸ªå½¢çŠ¶ä¸º (3, 3) çš„éšæœºæ•´æ•°å¼ é‡ï¼ŒèŒƒå›´åœ¨ [0, 10) å†…</span><br>x = torch.randint(<span class="hljs-number">0</span>, <span class="hljs-number">10</span>, (<span class="hljs-number">3</span>, <span class="hljs-number">3</span>))<br><span class="hljs-built_in">print</span>(x)<br></code></pre></td></tr></table></figure><p>ç»“æœï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">tensor([[<span class="hljs-number">7</span>, <span class="hljs-number">5</span>, <span class="hljs-number">1</span>],<br>        [<span class="hljs-number">9</span>, <span class="hljs-number">4</span>, <span class="hljs-number">9</span>],<br>        [<span class="hljs-number">8</span>, <span class="hljs-number">6</span>, <span class="hljs-number">2</span>]])<br></code></pre></td></tr></table></figure><h2 id="7-manual-seed"><a href="#7-manual-seed" class="headerlink" title="7.manual_seed"></a>7.manual_seed</h2><p><code>torch.manual_seed(seed)</code> æ˜¯ PyTorch ä¸­çš„ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºè®¾ç½®éšæœºæ•°ç§å­ã€‚éšæœºæ•°ç§å­å¯¹äºæ·±åº¦å­¦ä¹ ä»»åŠ¡ä¸­çš„éšæœºæ€§æ“ä½œæ˜¯éå¸¸é‡è¦çš„ï¼Œæ¯”å¦‚æƒé‡åˆå§‹åŒ–ã€æ•°æ®æ‰°åŠ¨ç­‰ã€‚</p><p>é€šè¿‡è°ƒç”¨ <code>torch.manual_seed(seed)</code> å‡½æ•°ï¼Œå¯ä»¥åœ¨æ¯æ¬¡è¿è¡Œä»£ç æ—¶ç”Ÿæˆç›¸åŒçš„éšæœºæ•°åºåˆ—ï¼Œè¿™æ ·å¯ä»¥ç¡®ä¿å®éªŒçš„å¯å¤ç°æ€§ã€‚<code>seed</code> å‚æ•°æ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œå®ƒæ˜¯éšæœºæ•°ç”Ÿæˆå™¨çš„ç§å­å€¼ã€‚</p><p>ç¤ºä¾‹ç”¨æ³•ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> torch<br><br><span class="hljs-comment"># è®¾ç½®éšæœºæ•°ç§å­ä¸ºå›ºå®šå€¼ 42</span><br>torch.manual_seed(<span class="hljs-number">42</span>)<br><br><span class="hljs-comment"># ä¸‹é¢çš„æ“ä½œå°†ä½¿ç”¨ç›¸åŒçš„éšæœºæ•°ç§å­ç”Ÿæˆéšæœºæ•°</span><br>a = torch.randn(<span class="hljs-number">3</span>, <span class="hljs-number">3</span>)<br>b = torch.randn(<span class="hljs-number">3</span>, <span class="hljs-number">3</span>)<br><br><span class="hljs-comment"># æ‰“å°ç»“æœ</span><br><span class="hljs-built_in">print</span>(a)<br><span class="hljs-built_in">print</span>(b)<br></code></pre></td></tr></table></figure><p>åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œé€šè¿‡è®¾ç½®éšæœºæ•°ç§å­ä¸º 42ï¼Œæ¯æ¬¡è¿è¡Œä»£ç æ—¶ï¼Œç”Ÿæˆçš„éšæœºæ•°å°†æ˜¯ç›¸åŒçš„ã€‚è¿™æœ‰åŠ©äºå®éªŒç»“æœçš„å¯é‡ç°æ€§ã€‚</p><h2 id="8-exp"><a href="#8-exp" class="headerlink" title="8.exp"></a>8.exp</h2><p><code>torch.exp</code> æ˜¯ PyTorch ä¸­çš„ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºè®¡ç®—è¾“å…¥å¼ é‡çš„æŒ‡æ•°å‡½æ•°ã€‚è¯¥å‡½æ•°çš„è¾“å…¥å¯ä»¥æ˜¯ä¸€ä¸ªå¼ é‡æˆ–è€…ä¸€ä¸ªæ•°å€¼ã€‚å¯¹äºå¼ é‡è¾“å…¥ï¼Œ<code>torch.exp</code> ä¼šå¯¹å¼ é‡ä¸­çš„æ¯ä¸ªå…ƒç´ è¿›è¡ŒæŒ‡æ•°è¿ç®—ï¼Œå³å°†æ¯ä¸ªå…ƒç´ å–è‡ªç„¶æŒ‡æ•°ã€‚å¯¹äºæ•°å€¼è¾“å…¥ï¼Œå‡½æ•°è¿”å›è¾“å…¥çš„æŒ‡æ•°å€¼ã€‚</p><p>ä»¥ä¸‹æ˜¯ <code>torch.exp</code> çš„åŸºæœ¬ä½¿ç”¨æ–¹æ³•ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> torch<br><br><span class="hljs-comment"># å¯¹æ•°å€¼è¿›è¡ŒæŒ‡æ•°è¿ç®—</span><br>x = <span class="hljs-number">2.0</span><br>exp_x = torch.exp(x)<br><span class="hljs-built_in">print</span>(exp_x)  <span class="hljs-comment"># è¾“å‡º: tensor(7.3891)</span><br><br><span class="hljs-comment"># å¯¹å¼ é‡è¿›è¡ŒæŒ‡æ•°è¿ç®—</span><br>tensor_x = torch.tensor([<span class="hljs-number">1.0</span>, <span class="hljs-number">2.0</span>, <span class="hljs-number">3.0</span>])<br>exp_tensor_x = torch.exp(tensor_x)<br><span class="hljs-built_in">print</span>(exp_tensor_x)  <span class="hljs-comment"># è¾“å‡º: tensor([ 2.7183,  7.3891, 20.0855])</span><br></code></pre></td></tr></table></figure><p><strong>tips:</strong></p><p>å½“ x ä¸ºä»»æ„å®æ•°æ—¶ï¼Œexp(<em>x</em>) çš„å€¼ç­‰äº e çš„ x æ¬¡æ–¹ã€‚</p><h2 id="9-arrange"><a href="#9-arrange" class="headerlink" title="9.arrange"></a>9.arrange</h2><p><code>torch.arange</code> æ˜¯ PyTorch ä¸­çš„ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºåˆ›å»ºä¸€ä¸ªåŒ…å«ç­‰é—´éš”å€¼çš„ä¸€ç»´å¼ é‡ã€‚å®ƒçš„è¯­æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">torch.arange(start=<span class="hljs-number">0</span>, end, step=<span class="hljs-number">1</span>, dtype=<span class="hljs-literal">None</span>, layout=torch.strided, device=<span class="hljs-literal">None</span>, requires_grad=<span class="hljs-literal">False</span>)<br></code></pre></td></tr></table></figure><p><code>torch.arange</code> æ˜¯ PyTorch ä¸­çš„ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºåˆ›å»ºä¸€ä¸ªåŒ…å«ç­‰é—´éš”å€¼çš„ä¸€ç»´å¼ é‡ã€‚å®ƒçš„è¯­æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">pythonCopy code<br>torch.arange(start=<span class="hljs-number">0</span>, end, step=<span class="hljs-number">1</span>, dtype=<span class="hljs-literal">None</span>, layout=torch.strided, device=<span class="hljs-literal">None</span>, requires_grad=<span class="hljs-literal">False</span>)<br></code></pre></td></tr></table></figure><p>å‚æ•°è¯´æ˜ï¼š</p><ul><li><code>start</code>ï¼šèµ·å§‹å€¼ï¼ˆé»˜è®¤ä¸º 0ï¼‰ã€‚</li><li><code>end</code>ï¼šç»ˆæ­¢å€¼ï¼ˆä¸åŒ…å«åœ¨ç»“æœä¸­ï¼‰ã€‚</li><li><code>step</code>ï¼šæ­¥é•¿ï¼ˆé»˜è®¤ä¸º 1ï¼‰ã€‚</li><li><code>dtype</code>ï¼šç»“æœå¼ é‡çš„æ•°æ®ç±»å‹ï¼ˆé»˜è®¤ä¸º Noneï¼Œå³æ ¹æ®ä¸Šä¸‹æ–‡æ¨æ–­ï¼‰ã€‚</li><li><code>layout</code>ï¼šç»“æœå¼ é‡çš„å¸ƒå±€ï¼ˆé»˜è®¤ä¸º torch.stridedï¼‰ã€‚</li><li><code>device</code>ï¼šç»“æœå¼ é‡æ‰€åœ¨çš„è®¾å¤‡ï¼ˆé»˜è®¤ä¸º Noneï¼Œå³ä½¿ç”¨å½“å‰è®¾å¤‡ï¼‰ã€‚</li><li><code>requires_grad</code>ï¼šç»“æœå¼ é‡æ˜¯å¦éœ€è¦æ¢¯åº¦ï¼ˆé»˜è®¤ä¸º Falseï¼‰ã€‚</li></ul><p><code>torch.arange</code> è¿”å›ä¸€ä¸ªä» <code>start</code> åˆ° <code>end</code>ï¼ˆä¸åŒ…å« <code>end</code>ï¼‰çš„ä¸€ç»´å¼ é‡ï¼Œæ­¥é•¿ä¸º <code>step</code>ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> torch<br><br><span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªä» 0 åˆ° 9ï¼ˆä¸åŒ…å« 10ï¼‰çš„ä¸€ç»´å¼ é‡</span><br>tensor = torch.arange(<span class="hljs-number">10</span>)<br><span class="hljs-built_in">print</span>(tensor)  <span class="hljs-comment"># è¾“å‡º: tensor([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])</span><br><br><span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªä» 5 åˆ° 15ï¼ˆä¸åŒ…å« 15ï¼‰çš„ä¸€ç»´å¼ é‡ï¼Œæ­¥é•¿ä¸º 2</span><br>tensor = torch.arange(<span class="hljs-number">5</span>, <span class="hljs-number">15</span>, <span class="hljs-number">2</span>)<br><span class="hljs-built_in">print</span>(tensor)  <span class="hljs-comment"># è¾“å‡º: tensor([ 5,  7,  9, 11, 13])</span><br></code></pre></td></tr></table></figure><h2 id="10-triu"><a href="#10-triu" class="headerlink" title="10.triu"></a>10.triu</h2><p><code>torch.triu</code> æ˜¯ PyTorch ä¸­çš„ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºç”Ÿæˆä¸€ä¸ªå¼ é‡ï¼Œè¯¥å¼ é‡åŒ…å«ç»™å®šè¾“å…¥å¼ é‡çš„ä¸Šä¸‰è§’éƒ¨åˆ†ï¼ˆåŒ…æ‹¬å¯¹è§’çº¿ï¼‰ã€‚åœ¨æ•°å­¦ä¸Šï¼Œä¸Šä¸‰è§’çŸ©é˜µæ˜¯ä¸€ä¸ªæ‰€æœ‰ä½äºä¸»å¯¹è§’çº¿åŠå…¶ä»¥ä¸Šçš„å…ƒç´ éƒ½ä¸ä¸ºé›¶çš„çŸ©é˜µã€‚</p><p>ä»¥ä¸‹æ˜¯ <code>torch.triu</code> çš„ä¸­æ–‡è§£é‡Šï¼š</p><ul><li>å‡½æ•°åï¼š<code>torch.triu</code></li><li>åŠŸèƒ½ï¼šè¿”å›è¾“å…¥å¼ é‡çš„ä¸Šä¸‰è§’éƒ¨åˆ†ã€‚</li><li>å‚æ•°ï¼š<ul><li><code>input</code>ï¼šï¼ˆå¼ é‡ï¼‰è¦å¤„ç†çš„è¾“å…¥å¼ é‡ã€‚</li><li><code>diagonal</code>ï¼šï¼ˆæ•´æ•°ï¼Œå¯é€‰ï¼‰å¯¹è§’çº¿çš„åç§»é‡ã€‚é»˜è®¤å€¼ä¸º0ï¼Œè¡¨ç¤ºä¸»å¯¹è§’çº¿ï¼›æ­£å€¼è¡¨ç¤ºä¸Šé¢çš„å¯¹è§’çº¿ï¼Œè´Ÿå€¼è¡¨ç¤ºä¸‹é¢çš„å¯¹è§’çº¿ã€‚</li></ul></li><li>è¿”å›å€¼ï¼šä¸€ä¸ªå¼ é‡ï¼ŒåŒ…å«è¾“å…¥å¼ é‡çš„ä¸Šä¸‰è§’éƒ¨åˆ†ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> torch<br><br>x = torch.tensor([[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>],<br>                  [<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>],<br>                  [<span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>]])<br><br>result = torch.triu(x)<br><span class="hljs-built_in">print</span>(result)<br></code></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">tensor([[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>],<br>        [<span class="hljs-number">0</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>],<br>        [<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">9</span>]])<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>AI Ê¢áµ•á´—áµ•Ê¡</category>
      
      <category>Pytorch</category>
      
      <category>PytorchåŸºç¡€çŸ¥è¯†</category>
      
    </categories>
    
    
    <tags>
      
      <tag>AI</tag>
      
      <tag>Pytorch</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>attentionä»‹ç»ï¼ğŸ’</title>
    <link href="/2024/02/20/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/NLP/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/NLP%E6%A8%A1%E5%9E%8B/attention/"/>
    <url>/2024/02/20/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/NLP/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/NLP%E6%A8%A1%E5%9E%8B/attention/</url>
    
    <content type="html"><![CDATA[<h1 id="attentionä»‹ç»"><a href="#attentionä»‹ç»" class="headerlink" title="attentionä»‹ç»"></a>attentionä»‹ç»</h1><p>å¦‚æœä»…åœ¨ç¼–ç å™¨å’Œè§£ç å™¨ä¹‹é—´ä¼ é€’ä¸Šä¸‹æ–‡å‘é‡ï¼Œåˆ™è¯¥å•ä¸ªå‘é‡æ‰¿æ‹…å¯¹æ•´ä¸ªå¥å­è¿›è¡Œç¼–ç çš„è´Ÿæ‹…ã€‚æ³¨æ„åŠ›å…è®¸è§£ç å™¨ç½‘ç»œâ€œèšç„¦â€åœ¨ç¼–ç å™¨è¾“å‡ºçš„ä¸åŒéƒ¨åˆ†ï¼Œç”¨äºè§£ç å™¨è‡ªèº«è¾“å‡ºçš„æ¯ä¸€æ­¥ã€‚</p><h2 id="1-soft-attention"><a href="#1-soft-attention" class="headerlink" title="1.soft attention"></a>1.soft attention</h2><p>**query:**è§£ç å™¨ä¸­å¯¹ä¸‹ä¸€ä¸ªé¢„æµ‹ç›®æ ‡ä½œä¸ºè¾“å…¥çš„hiddenå€¼ã€‚</p><p>**key:**ç¼–ç å™¨çš„è¾“å‡ºå€¼ã€‚</p><p>å…·ä½“ä¸ºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">BahdanauAttention</span>(nn.Module):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, hidden_size</span>):<br>        <span class="hljs-built_in">super</span>(BahdanauAttention, self).__init__()<br>        self.Wa = nn.Linear(hidden_size, hidden_size)<br>        self.Ua = nn.Linear(hidden_size, hidden_size)<br>        self.Va = nn.Linear(hidden_size, <span class="hljs-number">1</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, query, keys</span>):<br>        scores = self.Va(torch.tanh(self.Wa(query) + self.Ua(keys)))<br>        scores = scores.squeeze(<span class="hljs-number">2</span>).unsqueeze(<span class="hljs-number">1</span>)<br><br>        weights = F.softmax(scores, dim=-<span class="hljs-number">1</span>)<br>        context = torch.bmm(weights, keys)<br><br>        <span class="hljs-keyword">return</span> context, weights<br></code></pre></td></tr></table></figure><p>æ³¨æ„åŠ›æœºåˆ¶æ˜¯å°†æ³¨æ„åŠ›ä¸Šä¸‹æ–‡ä¸decoderçš„è¾“å…¥å€¼è¿›è¡Œç»“åˆï¼ŒåŠ ä¸Šå‰ä¸€ä¸ªè§£ç ç›®æ ‡è¾“å‡ºçš„éšè—å€¼ä½œä¸ºæ–°çš„è§£ç ç›®æ ‡çš„è¾“å…¥ã€‚åœ¨è§£ç å™¨ä¸­å…·ä½“åº”ç”¨åœ¨ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">forward_step</span>(<span class="hljs-params">self, <span class="hljs-built_in">input</span>, hidden, encoder_outputs</span>):<br>        embedded =  self.dropout(self.embedding(<span class="hljs-built_in">input</span>))<br><br>        query = hidden.permute(<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">2</span>)<br>        context, attn_weights = self.attention(query, encoder_outputs)<br>        input_gru = torch.cat((embedded, context), dim=<span class="hljs-number">2</span>)<br><br>        output, hidden = self.gru(input_gru, hidden)<br>        output = self.out(output)<br><br>        <span class="hljs-keyword">return</span> output, hidden, attn_weights<br></code></pre></td></tr></table></figure><p>å› ä¸ºæ˜¯æ±‚ä¸€ä¸ªè§£ç ç›®æ ‡çš„æ³¨æ„åŠ›ä¸Šä¸‹æ–‡ï¼Œæ‰€ä»¥è¯¥ä¸Šä¸‹æ–‡ä¸€å®šæ˜¯å’Œå‰ä¸€ä¸ªè§£ç ç›®æ ‡ç›¸å…³ä¸”æœ‰ä¸€ä¸ªç‹¬ç«‹çš„æƒé‡æ¥å’Œç¼–ç å†…å®¹è¿›è¡ŒåŠ æƒã€‚</p><p>å› æ­¤æ³¨æ„åŠ›ç½‘ç»œéœ€è¦å°†queryå’Œkeyä½œä¸ºè¾“å…¥ï¼Œäº§ç”Ÿæƒé‡å€¼ä¹‹åè¿›è¡Œæ¢¯åº¦ä¼˜åŒ–ã€‚</p><p>Waï¼ŒUaï¼ŒVaçš„åˆå§‹å€¼ä¹Ÿæ˜¯éšæœºçš„ï¼Œåœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ä¸æ–­è¿›è¡Œæ¢¯åº¦ä¼˜åŒ–ï¼Œå¾—åˆ°åˆé€‚çš„æƒé‡å€¼ã€‚</p><p><strong>tipsï¼š</strong></p><p>ä¸ºä»€ä¹ˆéœ€è¦å•ç‹¬å¯¹queryå’Œkeyéƒ½è¿›è¡Œæ³¨æ„åŠ›ç©ºé—´çš„æ˜ å°„ï¼Ÿå¦‚æœä¸æ˜ å°„çš„è¯ï¼Œé‚£ä¹ˆä»key*Vaè¿™ä¸€éƒ¨åˆ†çš„å€¼å°±æ˜¯å›ºå®šçš„ï¼Œæ— æ³•è·å–å¥½çš„ç‰¹å¾ã€‚</p><h2 id="2-self-attention"><a href="#2-self-attention" class="headerlink" title="2.self attention"></a>2.self attention</h2><p><img src="/2024/02/20/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/NLP/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/NLP%E6%A8%A1%E5%9E%8B/attention/1.png"></p><p>å¦‚å›¾æ‰€ç¤ºï¼Œæ¯ä¸€ä¸ªè¾“å…¥å€¼éƒ½ä¼šæ˜ å°„åˆ°ä¸‰ä¸ªç©ºé—´Q,K,V</p><p><strong>Qçš„ä½œç”¨ï¼š</strong>å’Œsoft attentionä¸­çš„queryä¸€æ ·ï¼Œç”¨ä½œæŒ‡å®šè§£ç ç›®æ ‡çš„å‚æ•°ï¼Œåœ¨è‡ªæ³¨æ„åŠ›æœºåˆ¶ä¸­ï¼Œå› ä¸ºæ¯ä¸€ä¸ªè§£ç ç›®æ ‡çš„ç‰¹å¼‚æ€§å‚æ•°æ˜¯è‡ªå·±æœ¬èº«ï¼Œæ‰€ä»¥éœ€è¦ä¸€ä¸ªQçš„æ˜ å°„ã€‚</p><p><strong>Kçš„ä½œç”¨ï¼š</strong>å’Œsoft attentionä¸­çš„keyä¸€æ ·ï¼Œç”¨æ¥è·å–æ¯ä¸€ä¸ªè¯å¯¹è‡ªèº«çš„å½±å“ã€‚</p><p><strong>Vçš„ä½œç”¨ï¼š</strong>å’Œsoft attentionä¸­æ±‚åŠ æƒå€¼æ—¶å’Œæƒé‡ç›¸ä¹˜çš„å€¼ä¸€æ ·ï¼Œåªä¸è¿‡åœ¨soft attentionä¸­å€¼æ˜¯åŸæ¥çš„encoder_outputï¼Œè€Œåœ¨è‡ªæ³¨æ„åŠ›æœºåˆ¶ä¸­ä¸­éœ€è¦å¤šæ˜ å°„åˆ°ä¸€ä¸ªå€¼ç©ºé—´ä¸­å»ã€‚</p><p><img src="/2024/02/20/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/NLP/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/NLP%E6%A8%A1%E5%9E%8B/attention/2.png"></p><p><img src="/2024/02/20/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/NLP/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/NLP%E6%A8%A1%E5%9E%8B/attention/3.png"></p><p>å…·ä½“æµç¨‹:</p><h3 id="2-1-Q-K-V-çš„è®¡ç®—"><a href="#2-1-Q-K-V-çš„è®¡ç®—" class="headerlink" title="2.1 Q, K, V çš„è®¡ç®—"></a>2.1 Q, K, V çš„è®¡ç®—</h3><p>Self-Attention çš„è¾“å…¥ç”¨çŸ©é˜µXè¿›è¡Œè¡¨ç¤ºï¼Œåˆ™å¯ä»¥ä½¿ç”¨çº¿æ€§å˜é˜µçŸ©é˜µ<strong>WQ,WK,WV</strong>è®¡ç®—å¾—åˆ°<strong>Q,K,V</strong>ã€‚è®¡ç®—å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œ<strong>æ³¨æ„ X, Q, K, V çš„æ¯ä¸€è¡Œéƒ½è¡¨ç¤ºä¸€ä¸ªå•è¯ã€‚</strong></p><p><img src="/2024/02/20/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/NLP/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/NLP%E6%A8%A1%E5%9E%8B/attention/4.png"></p><h3 id="2-2-Self-Attention-çš„è¾“å‡º"><a href="#2-2-Self-Attention-çš„è¾“å‡º" class="headerlink" title="2.2 Self-Attention çš„è¾“å‡º"></a>2.2 Self-Attention çš„è¾“å‡º</h3><p>å¾—åˆ°çŸ©é˜µ Q, K, Vä¹‹åå°±å¯ä»¥è®¡ç®—å‡º Self-Attention çš„è¾“å‡ºäº†ï¼Œè®¡ç®—çš„å…¬å¼å¦‚ä¸‹ï¼š</p><p><img src="/2024/02/20/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/NLP/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/NLP%E6%A8%A1%E5%9E%8B/attention/5.png"></p><p>å…¬å¼ä¸­è®¡ç®—çŸ©é˜µ<strong>Q</strong>å’Œ<strong>K</strong>æ¯ä¸€è¡Œå‘é‡çš„å†…ç§¯ï¼Œä¸ºäº†é˜²æ­¢å†…ç§¯è¿‡å¤§ï¼Œå› æ­¤é™¤ä»¥ dk çš„å¹³æ–¹æ ¹ã€‚<strong>Q</strong>ä¹˜ä»¥<strong>K</strong>çš„è½¬ç½®åï¼Œå¾—åˆ°çš„çŸ©é˜µè¡Œåˆ—æ•°éƒ½ä¸º nï¼Œn ä¸ºå¥å­å•è¯æ•°ï¼Œè¿™ä¸ªçŸ©é˜µå¯ä»¥è¡¨ç¤ºå•è¯ä¹‹é—´çš„ attention å¼ºåº¦ã€‚ä¸‹å›¾ä¸º<strong>Q</strong>ä¹˜ä»¥KT ï¼Œ1234 è¡¨ç¤ºçš„æ˜¯å¥å­ä¸­çš„å•è¯ã€‚</p><p><img src="/2024/02/20/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/NLP/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/NLP%E6%A8%A1%E5%9E%8B/attention/6.png"></p><p>å¾—åˆ°QKT ä¹‹åï¼Œä½¿ç”¨ Softmax è®¡ç®—æ¯ä¸€ä¸ªå•è¯å¯¹äºå…¶ä»–å•è¯çš„ attention ç³»æ•°ï¼Œå…¬å¼ä¸­çš„ Softmax æ˜¯å¯¹çŸ©é˜µçš„æ¯ä¸€è¡Œè¿›è¡Œ Softmaxï¼Œå³æ¯ä¸€è¡Œçš„å’Œéƒ½å˜ä¸º 1.</p><p><img src="/2024/02/20/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/NLP/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/NLP%E6%A8%A1%E5%9E%8B/attention/7.png"></p><p>å¾—åˆ° Softmax çŸ©é˜µä¹‹åå¯ä»¥å’Œ<strong>V</strong>ç›¸ä¹˜ï¼Œå¾—åˆ°æœ€ç»ˆçš„è¾“å‡º<strong>Z</strong>ã€‚</p><p><img src="/2024/02/20/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/NLP/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/NLP%E6%A8%A1%E5%9E%8B/attention/8.png"></p><p>ä¸Šå›¾ä¸­ Softmax çŸ©é˜µçš„ç¬¬ 1 è¡Œè¡¨ç¤ºå•è¯ 1 ä¸å…¶ä»–æ‰€æœ‰å•è¯çš„ attention ç³»æ•°ï¼Œæœ€ç»ˆå•è¯ 1 çš„è¾“å‡º ï¿½1 ç­‰äºæ‰€æœ‰å•è¯ i çš„å€¼ ï¿½ï¿½ æ ¹æ® attention ç³»æ•°çš„æ¯”ä¾‹åŠ åœ¨ä¸€èµ·å¾—åˆ°ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="/2024/02/20/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/NLP/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/NLP%E6%A8%A1%E5%9E%8B/attention/9.png"></p><h2 id="3-Multi-Head-Attention"><a href="#3-Multi-Head-Attention" class="headerlink" title="3.Multi-Head Attention"></a>3.Multi-Head Attention</h2><p>åœ¨ä¸Šä¸€æ­¥ï¼Œæˆ‘ä»¬å·²ç»çŸ¥é“æ€ä¹ˆé€šè¿‡ Self-Attention è®¡ç®—å¾—åˆ°è¾“å‡ºçŸ©é˜µ Zï¼Œè€Œ Multi-Head Attention æ˜¯ç”±å¤šä¸ª Self-Attention ç»„åˆå½¢æˆçš„ï¼Œä¸‹å›¾æ˜¯è®ºæ–‡ä¸­ Multi-Head Attention çš„ç»“æ„å›¾ã€‚</p><p><img src="/2024/02/20/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/NLP/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/NLP%E6%A8%A1%E5%9E%8B/attention/10.png"></p><p>ä»ä¸Šå›¾å¯ä»¥çœ‹åˆ° Multi-Head Attention åŒ…å«å¤šä¸ª Self-Attention å±‚ï¼Œé¦–å…ˆå°†è¾“å…¥<strong>X</strong>åˆ†åˆ«ä¼ é€’åˆ° h ä¸ªä¸åŒçš„ Self-Attention ä¸­ï¼Œè®¡ç®—å¾—åˆ° h ä¸ªè¾“å‡ºçŸ©é˜µ<strong>Z</strong>ã€‚ä¸‹å›¾æ˜¯ h&#x3D;8 æ—¶å€™çš„æƒ…å†µï¼Œæ­¤æ—¶ä¼šå¾—åˆ° 8 ä¸ªè¾“å‡ºçŸ©é˜µ<strong>Z</strong>ã€‚</p><p><img src="/2024/02/20/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/NLP/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/NLP%E6%A8%A1%E5%9E%8B/attention/11.png"></p><p>å¾—åˆ° 8 ä¸ªè¾“å‡ºçŸ©é˜µ Z1 åˆ° Z8 ä¹‹åï¼ŒMulti-Head Attention å°†å®ƒä»¬æ‹¼æ¥åœ¨ä¸€èµ· <strong>(Concat)<strong>ï¼Œç„¶åä¼ å…¥ä¸€ä¸ª</strong>Linear</strong>å±‚ï¼Œå¾—åˆ° Multi-Head Attention æœ€ç»ˆçš„è¾“å‡º<strong>Z</strong>ã€‚</p><p><img src="/2024/02/20/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/NLP/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/NLP%E6%A8%A1%E5%9E%8B/attention/12.png"></p><p>å¯ä»¥çœ‹åˆ° Multi-Head Attention è¾“å‡ºçš„çŸ©é˜µ<strong>Z</strong>ä¸å…¶è¾“å…¥çš„çŸ©é˜µ<strong>X</strong>çš„ç»´åº¦æ˜¯ä¸€æ ·çš„ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>AI Ê¢áµ•á´—áµ•Ê¡</category>
      
      <category>NLP</category>
      
      <category>NLPåŸºç¡€çŸ¥è¯†</category>
      
      <category>NLPæ¨¡å‹</category>
      
    </categories>
    
    
    <tags>
      
      <tag>AI</tag>
      
      <tag>NLP</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>seq2seqä»‹ç»ï¼ğŸ’</title>
    <link href="/2024/02/20/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/NLP/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/NLP%E6%A8%A1%E5%9E%8B/seq2seq/"/>
    <url>/2024/02/20/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/NLP/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/NLP%E6%A8%A1%E5%9E%8B/seq2seq/</url>
    
    <content type="html"><![CDATA[<h1 id="seq2seqä»‹ç»"><a href="#seq2seqä»‹ç»" class="headerlink" title="seq2seqä»‹ç»"></a>seq2seqä»‹ç»</h1><p><img src="/2024/02/20/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/NLP/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/NLP%E6%A8%A1%E5%9E%8B/seq2seq/1.png"></p><p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œå·¦è¾¹çš„è§£ç å™¨å°†å•ä¸ªçš„å•è¯ä½œä¸ºè¾“å…¥ï¼Œæ¯ä¸€ä¸ªå•è¯éƒ½æœ‰ä¸€ä¸ªè¾“å‡ºå’Œéšè—å€¼ï¼ŒåŸºæœ¬åŸç†åŒRNNï¼Œè€Œæœ€åä¸€ä¸ªéšè—å€¼ä½œä¸ºä¸Šä¸‹æ–‡å‘é‡è¾“å…¥åˆ°è§£ç å™¨ï¼Œä½œä¸ºè§£ç å™¨ç¬¬ä¸€ä¸ªå€¼çš„éšè—å€¼ï¼Œè§£ç å™¨çš„ç¬¬ä¸€ä¸ªè¾“å…¥å€¼æ˜¯<SOS>,è¾“å‡ºçš„å†…å®¹ä½œä¸ºæ–°çš„è¾“å…¥ä¸æ–­é€’å½’ã€‚</p><h2 id="1-ç¼–ç å™¨"><a href="#1-ç¼–ç å™¨" class="headerlink" title="1.ç¼–ç å™¨"></a>1.ç¼–ç å™¨</h2><p>å›¾ç¤ºï¼š</p><p><img src="/2024/02/20/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/NLP/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/NLP%E6%A8%A1%E5%9E%8B/seq2seq/2.png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">EncoderRNN</span>(nn.Module):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, input_size, hidden_size, dropout_p=<span class="hljs-number">0.1</span></span>):<br>        <span class="hljs-built_in">super</span>(EncoderRNN, self).__init__()<br>        self.hidden_size = hidden_size<br><br>        self.embedding = nn.Embedding(input_size, hidden_size)<br>        self.gru = nn.GRU(hidden_size, hidden_size, batch_first=<span class="hljs-literal">True</span>)<br>        self.dropout = nn.Dropout(dropout_p)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, <span class="hljs-built_in">input</span></span>):<br>        embedded = self.dropout(self.embedding(<span class="hljs-built_in">input</span>))<br>        output, hidden = self.gru(embedded)<br>        <span class="hljs-keyword">return</span> output, hidden<br></code></pre></td></tr></table></figure><h2 id="2-è§£ç å™¨"><a href="#2-è§£ç å™¨" class="headerlink" title="2.è§£ç å™¨"></a>2.è§£ç å™¨</h2><p>å›¾ç¤ºï¼š</p><p><img src="/2024/02/20/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/NLP/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/NLP%E6%A8%A1%E5%9E%8B/seq2seq/3.png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">DecoderRNN</span>(nn.Module):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, hidden_size, output_size</span>):<br>        <span class="hljs-built_in">super</span>(DecoderRNN, self).__init__()<br>        self.embedding = nn.Embedding(output_size, hidden_size)<br>        self.gru = nn.GRU(hidden_size, hidden_size, batch_first=<span class="hljs-literal">True</span>)<br>        self.out = nn.Linear(hidden_size, output_size)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, encoder_outputs, encoder_hidden, target_tensor=<span class="hljs-literal">None</span></span>):<br>        batch_size = encoder_outputs.size(<span class="hljs-number">0</span>)<br>        decoder_input = torch.empty(batch_size, <span class="hljs-number">1</span>, dtype=torch.long, device=device).fill_(SOS_token)<br>        decoder_hidden = encoder_hidden<br>        decoder_outputs = []<br><br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(MAX_LENGTH):<br>            decoder_output, decoder_hidden  = self.forward_step(decoder_input, decoder_hidden)<br>            decoder_outputs.append(decoder_output)<br><br>            <span class="hljs-keyword">if</span> target_tensor <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>:<br>                <span class="hljs-comment"># Teacher forcing: Feed the target as the next input</span><br>                decoder_input = target_tensor[:, i].unsqueeze(<span class="hljs-number">1</span>) <span class="hljs-comment"># Teacher forcing</span><br>            <span class="hljs-keyword">else</span>:<br>                <span class="hljs-comment"># Without teacher forcing: use its own predictions as the next input</span><br>                _, topi = decoder_output.topk(<span class="hljs-number">1</span>)<br>                decoder_input = topi.squeeze(-<span class="hljs-number">1</span>).detach()  <span class="hljs-comment"># detach from history as input</span><br><br>        decoder_outputs = torch.cat(decoder_outputs, dim=<span class="hljs-number">1</span>)<br>        decoder_outputs = F.log_softmax(decoder_outputs, dim=-<span class="hljs-number">1</span>)<br>        <span class="hljs-keyword">return</span> decoder_outputs, decoder_hidden, <span class="hljs-literal">None</span> <span class="hljs-comment"># We return `None` for consistency in the training loop</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward_step</span>(<span class="hljs-params">self, <span class="hljs-built_in">input</span>, hidden</span>):<br>        output = self.embedding(<span class="hljs-built_in">input</span>)<br>        output = F.relu(output)<br>        output, hidden = self.gru(output, hidden)<br>        output = self.out(output)<br>        <span class="hljs-keyword">return</span> output, hidden<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>AI Ê¢áµ•á´—áµ•Ê¡</category>
      
      <category>NLP</category>
      
      <category>NLPåŸºç¡€çŸ¥è¯†</category>
      
      <category>NLPæ¨¡å‹</category>
      
    </categories>
    
    
    <tags>
      
      <tag>AI</tag>
      
      <tag>NLP</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>timeåº“çš„ä½¿ç”¨ï¼â˜ƒï¸</title>
    <link href="/2024/02/16/%E7%AE%97%E6%B3%95/python/python%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/python%E4%B8%ADtime%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
    <url>/2024/02/16/%E7%AE%97%E6%B3%95/python/python%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/python%E4%B8%ADtime%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/</url>
    
    <content type="html"><![CDATA[<h1 id="timeåº“çš„ä½¿ç”¨"><a href="#timeåº“çš„ä½¿ç”¨" class="headerlink" title="timeåº“çš„ä½¿ç”¨"></a>timeåº“çš„ä½¿ç”¨</h1><h2 id="1-å…·ä½“ä½¿ç”¨æ–¹æ³•"><a href="#1-å…·ä½“ä½¿ç”¨æ–¹æ³•" class="headerlink" title="1.å…·ä½“ä½¿ç”¨æ–¹æ³•"></a>1.å…·ä½“ä½¿ç”¨æ–¹æ³•</h2><p>åœ¨Pythonä¸­ï¼Œ<code>time</code>åº“æ˜¯ç”¨äºå¤„ç†æ—¶é—´çš„æ ‡å‡†åº“ä¹‹ä¸€ã€‚å®ƒæä¾›äº†è®¸å¤šå‡½æ•°æ¥è·å–å½“å‰æ—¶é—´ã€æ ¼å¼åŒ–æ—¶é—´ã€ç­‰å¾…ä¸€æ®µæ—¶é—´ç­‰åŠŸèƒ½ã€‚ä¸‹é¢æ˜¯ä¸€äº›<code>time</code>åº“ä¸­å¸¸ç”¨çš„å‡½æ•°å’Œç¤ºä¾‹ç”¨æ³•ï¼š</p><h3 id="1-1-time"><a href="#1-1-time" class="headerlink" title="1.1 time()"></a>1.1 <code>time()</code></h3><p>å‡½æ•°çš„ç»“æœæ˜¯å½“å‰æ—¶é—´çš„æ—¶é—´æˆ³</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> time<br><br>current_time = time.time()<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;å½“å‰æ—¶é—´æˆ³:&quot;</span>, current_time)<br></code></pre></td></tr></table></figure><p>ç»“æœï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">å½“å‰æ—¶é—´æˆ³: <span class="hljs-number">1645049140.4448426</span><br></code></pre></td></tr></table></figure><h3 id="1-2-ctime"><a href="#1-2-ctime" class="headerlink" title="1.2 ctime()"></a>1.2 <code>ctime()</code></h3><p>å‡½æ•°å°†æ—¶é—´æˆ³è½¬æ¢ä¸ºå¯è¯»çš„æ—¶é—´å­—ç¬¦ä¸²</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> time<br><br>current_time = time.time()<br>readable_time = time.ctime(current_time)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;å½“å‰æ—¶é—´:&quot;</span>, readable_time)<br></code></pre></td></tr></table></figure><p>ç»“æœï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs pyhon">å½“å‰æ—¶é—´: Tue Feb 16 13:39:00 2024<br></code></pre></td></tr></table></figure><h3 id="1-3-sleep"><a href="#1-3-sleep" class="headerlink" title="1.3 sleep()"></a>1.3 <code>sleep()</code></h3><p>å‡½æ•°è®©ç¨‹åºä¼‘çœ æŒ‡å®šçš„æ—¶é—´</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> time<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;å¼€å§‹ä¼‘çœ ...&quot;</span>)<br>time.sleep(<span class="hljs-number">3</span>)  <span class="hljs-comment"># ä¼‘çœ 3ç§’</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;ä¼‘çœ ç»“æŸã€‚&quot;</span>)<br></code></pre></td></tr></table></figure><h3 id="1-4-strftime"><a href="#1-4-strftime" class="headerlink" title="1.4 strftime()"></a>1.4 <code>strftime()</code></h3><p>å‡½æ•°æ ¼å¼åŒ–æ—¶é—´å­—ç¬¦ä¸²</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> time<br><br>current_time = time.localtime()<br>formatted_time = time.strftime(<span class="hljs-string">&quot;%Y-%m-%d %H:%M:%S&quot;</span>, current_time)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æ ¼å¼åŒ–åçš„æ—¶é—´:&quot;</span>, formatted_time)<br></code></pre></td></tr></table></figure><p>ç»“æœï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">æ ¼å¼åŒ–åçš„æ—¶é—´: <span class="hljs-number">2024</span>-02-<span class="hljs-number">16</span> <span class="hljs-number">13</span>:<span class="hljs-number">39</span>:<span class="hljs-number">00</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>ç®—æ³• Ê•â‰§á´¥â‰¦Ê”</category>
      
      <category>Python</category>
      
      <category>Pythonåº“</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>seq2seqå’Œæ³¨æ„åŠ›æœºåˆ¶çš„ç¿»è¯‘ï¼ğŸŒ</title>
    <link href="/2024/02/16/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/Pytorch/%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/seq2seq%E5%92%8C%E6%B3%A8%E6%84%8F%E5%8A%9B%E6%9C%BA%E5%88%B6%E7%9A%84%E7%BF%BB%E8%AF%91/"/>
    <url>/2024/02/16/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/Pytorch/%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/seq2seq%E5%92%8C%E6%B3%A8%E6%84%8F%E5%8A%9B%E6%9C%BA%E5%88%B6%E7%9A%84%E7%BF%BB%E8%AF%91/</url>
    
    <content type="html"><![CDATA[<h1 id="seq2seqå’Œæ³¨æ„åŠ›æœºåˆ¶çš„ç¿»è¯‘"><a href="#seq2seqå’Œæ³¨æ„åŠ›æœºåˆ¶çš„ç¿»è¯‘" class="headerlink" title="seq2seqå’Œæ³¨æ„åŠ›æœºåˆ¶çš„ç¿»è¯‘"></a>seq2seqå’Œæ³¨æ„åŠ›æœºåˆ¶çš„ç¿»è¯‘</h1><h2 id="1-åŠ è½½æ•°æ®æ–‡ä»¶"><a href="#1-åŠ è½½æ•°æ®æ–‡ä»¶" class="headerlink" title="1.åŠ è½½æ•°æ®æ–‡ä»¶"></a>1.åŠ è½½æ•°æ®æ–‡ä»¶</h2><p>ä¸å­—ç¬¦çº§ RNN æ•™ç¨‹ä¸­ä½¿ç”¨çš„å­—ç¬¦ç¼–ç ç±»ä¼¼ï¼Œæˆ‘ä»¬å°†è¯­è¨€ä¸­çš„æ¯ä¸ªå•è¯è¡¨ç¤ºä¸ºä¸€ä¸ªçƒ­å‘é‡ï¼Œæˆ–é™¤å•ä¸ª 0 ä¹‹å¤–çš„å·¨å¤§å‘é‡ï¼ˆåœ¨å•è¯çš„ç´¢å¼•å¤„ï¼‰ã€‚ä¸ä¸€ç§è¯­è¨€ä¸­å¯èƒ½å­˜åœ¨çš„æ•°åä¸ªå­—ç¬¦ç›¸æ¯”ï¼Œå•è¯è¦å¤šå¾—å¤šï¼Œå› æ­¤ç¼–ç å‘é‡è¦å¤§å¾—å¤šã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬å°†è¿›è¡Œä¸€äº›ä½œå¼Šï¼Œå¹¶å°†æ•°æ®ä¿®å‰ªä¸ºæ¯ç§è¯­è¨€ä»…ä½¿ç”¨å‡ åƒä¸ªå•è¯ã€‚</p><p>æˆ‘ä»¬éœ€è¦æ¯ä¸ªå•è¯çš„å”¯ä¸€ç´¢å¼•ï¼Œä»¥ä¾¿ç¨åç”¨ä½œç½‘ç»œçš„è¾“å…¥å’Œç›®æ ‡ã€‚ä¸ºäº†è·Ÿè¸ªæ‰€æœ‰è¿™äº›ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä¸€ä¸ªåä¸ºçš„ <code>Lang</code> å¸®åŠ©ç¨‹åºç±»ï¼Œè¯¥ç±»å…·æœ‰å•è¯â†’ç´¢å¼• ï¼ˆ <code>word2index</code> ï¼‰ å’Œç´¢å¼• â†’ å•è¯ ï¼ˆ <code>index2word</code> ï¼‰ å­—å…¸ï¼Œä»¥åŠæ¯ä¸ªå•è¯ <code>word2count</code> çš„è®¡æ•°ï¼Œç¨åå°†ç”¨äºæ›¿æ¢ç”Ÿåƒ»è¯ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs python">SOS_token = <span class="hljs-number">0</span><br>EOS_token = <span class="hljs-number">1</span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Lang</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, name</span>):<br>        self.name = name<br>        self.word2index = &#123;&#125;<br>        self.word2count = &#123;&#125;<br>        self.index2word = &#123;<span class="hljs-number">0</span>: <span class="hljs-string">&quot;SOS&quot;</span>, <span class="hljs-number">1</span>: <span class="hljs-string">&quot;EOS&quot;</span>&#125;<br>        self.n_words = <span class="hljs-number">2</span>  <span class="hljs-comment"># Count SOS and EOS</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">addSentence</span>(<span class="hljs-params">self, sentence</span>):<br>        <span class="hljs-keyword">for</span> word <span class="hljs-keyword">in</span> sentence.split(<span class="hljs-string">&#x27; &#x27;</span>):<br>            self.addWord(word)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">addWord</span>(<span class="hljs-params">self, word</span>):<br>        <span class="hljs-keyword">if</span> word <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> self.word2index:<br>            self.word2index[word] = self.n_words<br>            self.word2count[word] = <span class="hljs-number">1</span><br>            self.index2word[self.n_words] = word<br>            self.n_words += <span class="hljs-number">1</span><br>        <span class="hljs-keyword">else</span>:<br>            self.word2count[word] += <span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><p>è¿™äº›æ–‡ä»¶éƒ½æ˜¯Unicodeæ ¼å¼ï¼Œä¸ºäº†ç®€åŒ–èµ·è§ï¼Œæˆ‘ä»¬å°†Unicodeå­—ç¬¦è½¬æ¢ä¸ºASCIIï¼Œä½¿æ‰€æœ‰å†…å®¹éƒ½å°å†™ï¼Œå¹¶ä¿®å‰ªå¤§å¤šæ•°æ ‡ç‚¹ç¬¦å·ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Turn a Unicode string to plain ASCII, thanks to</span><br><span class="hljs-comment"># https://stackoverflow.com/a/518232/2809427</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">unicodeToAscii</span>(<span class="hljs-params">s</span>):<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;&#x27;</span>.join(<br>        c <span class="hljs-keyword">for</span> c <span class="hljs-keyword">in</span> unicodedata.normalize(<span class="hljs-string">&#x27;NFD&#x27;</span>, s)<br>        <span class="hljs-keyword">if</span> unicodedata.category(c) != <span class="hljs-string">&#x27;Mn&#x27;</span><br>    )<br><br><span class="hljs-comment"># Lowercase, trim, and remove non-letter characters</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">normalizeString</span>(<span class="hljs-params">s</span>):<br>    s = unicodeToAscii(s.lower().strip())<br>    s = re.sub(<span class="hljs-string">r&quot;([.!?])&quot;</span>, <span class="hljs-string">r&quot; \1&quot;</span>, s)<br>    s = re.sub(<span class="hljs-string">r&quot;[^a-zA-Z!?]+&quot;</span>, <span class="hljs-string">r&quot; &quot;</span>, s)<br>    <span class="hljs-keyword">return</span> s.strip()<br></code></pre></td></tr></table></figure><p>è¦è¯»å–æ•°æ®æ–‡ä»¶ï¼Œæˆ‘ä»¬å°†æ–‡ä»¶æ‹†åˆ†ä¸ºè¡Œï¼Œç„¶åå°†è¡Œæ‹†åˆ†ä¸ºæˆå¯¹ã€‚è¿™äº›æ–‡ä»¶éƒ½æ˜¯è‹±è¯­â†’å…¶ä»–è¯­è¨€ï¼Œæ‰€ä»¥å¦‚æœæˆ‘ä»¬æƒ³ä»å…¶ä»–è¯­è¨€ç¿»è¯‘â†’è‹±è¯­ï¼Œæˆ‘æ·»åŠ äº† <code>reverse</code> æ ‡å¿—æ¥åè½¬å¯¹ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">readLangs</span>(<span class="hljs-params">lang1, lang2, reverse=<span class="hljs-literal">False</span></span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Reading lines...&quot;</span>)<br><br>    <span class="hljs-comment"># Read the file and split into lines</span><br>    lines = <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;data/%s-%s.txt&#x27;</span> % (lang1, lang2), encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>).\<br>        read().strip().split(<span class="hljs-string">&#x27;\n&#x27;</span>)<br><br>    <span class="hljs-comment"># Split every line into pairs and normalize</span><br>    pairs = [[normalizeString(s) <span class="hljs-keyword">for</span> s <span class="hljs-keyword">in</span> l.split(<span class="hljs-string">&#x27;\t&#x27;</span>)] <span class="hljs-keyword">for</span> l <span class="hljs-keyword">in</span> lines]<br><br>    <span class="hljs-comment"># Reverse pairs, make Lang instances</span><br>    <span class="hljs-keyword">if</span> reverse:<br>        pairs = [<span class="hljs-built_in">list</span>(<span class="hljs-built_in">reversed</span>(p)) <span class="hljs-keyword">for</span> p <span class="hljs-keyword">in</span> pairs]<br>        input_lang = Lang(lang2)<br>        output_lang = Lang(lang1)<br>    <span class="hljs-keyword">else</span>:<br>        input_lang = Lang(lang1)<br>        output_lang = Lang(lang2)<br><br>    <span class="hljs-keyword">return</span> input_lang, output_lang, pairs<br></code></pre></td></tr></table></figure><p>ç”±äºæœ‰å¾ˆå¤šä¾‹å¥ï¼Œå¹¶ä¸”æˆ‘ä»¬æƒ³å¿«é€Ÿè®­ç»ƒä¸€äº›ä¸œè¥¿ï¼Œå› æ­¤æˆ‘ä»¬å°†æ•°æ®é›†ä¿®å‰ªä¸ºä»…ç›¸å¯¹ç®€çŸ­å’Œç®€å•çš„å¥å­ã€‚è¿™é‡Œçš„æœ€å¤§é•¿åº¦æ˜¯ 10 ä¸ªå•è¯ï¼ˆåŒ…æ‹¬ç»“æŸæ ‡ç‚¹ç¬¦å·ï¼‰ï¼Œæˆ‘ä»¬æ­£åœ¨è¿‡æ»¤åˆ°ç¿»è¯‘ä¸ºâ€œæˆ‘æ˜¯â€æˆ–â€œä»–æ˜¯â€ç­‰å½¢å¼çš„å¥å­ï¼ˆè€ƒè™‘åˆ°å‰é¢æ›¿æ¢çš„æ’‡å·ï¼‰ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs python">MAX_LENGTH = <span class="hljs-number">10</span><br><br>eng_prefixes = (<br>    <span class="hljs-string">&quot;i am &quot;</span>, <span class="hljs-string">&quot;i m &quot;</span>,<br>    <span class="hljs-string">&quot;he is&quot;</span>, <span class="hljs-string">&quot;he s &quot;</span>,<br>    <span class="hljs-string">&quot;she is&quot;</span>, <span class="hljs-string">&quot;she s &quot;</span>,<br>    <span class="hljs-string">&quot;you are&quot;</span>, <span class="hljs-string">&quot;you re &quot;</span>,<br>    <span class="hljs-string">&quot;we are&quot;</span>, <span class="hljs-string">&quot;we re &quot;</span>,<br>    <span class="hljs-string">&quot;they are&quot;</span>, <span class="hljs-string">&quot;they re &quot;</span><br>)<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">filterPair</span>(<span class="hljs-params">p</span>):<br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">len</span>(p[<span class="hljs-number">0</span>].split(<span class="hljs-string">&#x27; &#x27;</span>)) &lt; MAX_LENGTH <span class="hljs-keyword">and</span> \<br>        <span class="hljs-built_in">len</span>(p[<span class="hljs-number">1</span>].split(<span class="hljs-string">&#x27; &#x27;</span>)) &lt; MAX_LENGTH <span class="hljs-keyword">and</span> \<br>        p[<span class="hljs-number">1</span>].startswith(eng_prefixes)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">filterPairs</span>(<span class="hljs-params">pairs</span>):<br>    <span class="hljs-keyword">return</span> [pair <span class="hljs-keyword">for</span> pair <span class="hljs-keyword">in</span> pairs <span class="hljs-keyword">if</span> filterPair(pair)]<br></code></pre></td></tr></table></figure><p>å‡†å¤‡æ•°æ®ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">prepareData</span>(<span class="hljs-params">lang1, lang2, reverse=<span class="hljs-literal">False</span></span>):<br>    input_lang, output_lang, pairs = readLangs(lang1, lang2, reverse)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Read %s sentence pairs&quot;</span> % <span class="hljs-built_in">len</span>(pairs))<br>    pairs = filterPairs(pairs)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Trimmed to %s sentence pairs&quot;</span> % <span class="hljs-built_in">len</span>(pairs))<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Counting words...&quot;</span>)<br>    <span class="hljs-keyword">for</span> pair <span class="hljs-keyword">in</span> pairs:<br>        input_lang.addSentence(pair[<span class="hljs-number">0</span>])<br>        output_lang.addSentence(pair[<span class="hljs-number">1</span>])<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Counted words:&quot;</span>)<br>    <span class="hljs-built_in">print</span>(input_lang.name, input_lang.n_words)<br>    <span class="hljs-built_in">print</span>(output_lang.name, output_lang.n_words)<br>    <span class="hljs-keyword">return</span> input_lang, output_lang, pairs<br><br>input_lang, output_lang, pairs = prepareData(<span class="hljs-string">&#x27;eng&#x27;</span>, <span class="hljs-string">&#x27;fra&#x27;</span>, <span class="hljs-literal">True</span>)<br><span class="hljs-built_in">print</span>(random.choice(pairs))<br></code></pre></td></tr></table></figure><p>ç»“æœï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python">Reading lines...<br>Read <span class="hljs-number">135842</span> sentence pairs<br>Trimmed to <span class="hljs-number">11445</span> sentence pairs<br>Counting words...<br>Counted words:<br>fra <span class="hljs-number">4601</span><br>eng <span class="hljs-number">2991</span><br>[<span class="hljs-string">&#x27;tu preches une convaincue&#x27;</span>, <span class="hljs-string">&#x27;you re preaching to the choir&#x27;</span>]<br></code></pre></td></tr></table></figure><h2 id="2-Seq2Seqæ¨¡å‹"><a href="#2-Seq2Seqæ¨¡å‹" class="headerlink" title="2.Seq2Seqæ¨¡å‹"></a>2.Seq2Seqæ¨¡å‹</h2><h3 id="2-1-ç¼–ç å™¨"><a href="#2-1-ç¼–ç å™¨" class="headerlink" title="2.1 ç¼–ç å™¨"></a>2.1 ç¼–ç å™¨</h3><p>seq2seq ç½‘ç»œçš„ç¼–ç å™¨æ˜¯ä¸€ä¸ª RNNï¼Œå®ƒä¸ºè¾“å…¥å¥å­ä¸­çš„æ¯ä¸ªå•è¯è¾“å‡ºä¸€äº›å€¼ã€‚å¯¹äºæ¯ä¸ªè¾“å…¥å­—ï¼Œç¼–ç å™¨è¾“å‡ºä¸€ä¸ªå‘é‡å’Œä¸€ä¸ªéšè—çŠ¶æ€ï¼Œå¹¶å°†éšè—çŠ¶æ€ç”¨äºä¸‹ä¸€ä¸ªè¾“å…¥å­—ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">EncoderRNN</span>(nn.Module):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, input_size, hidden_size, dropout_p=<span class="hljs-number">0.1</span></span>):<br>        <span class="hljs-built_in">super</span>(EncoderRNN, self).__init__()<br>        self.hidden_size = hidden_size<br><br>        self.embedding = nn.Embedding(input_size, hidden_size)<br>        self.gru = nn.GRU(hidden_size, hidden_size, batch_first=<span class="hljs-literal">True</span>)<br>        self.dropout = nn.Dropout(dropout_p)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, <span class="hljs-built_in">input</span></span>):<br>        embedded = self.dropout(self.embedding(<span class="hljs-built_in">input</span>))<br>        output, hidden = self.gru(embedded)<br>        <span class="hljs-keyword">return</span> output, hidden<br></code></pre></td></tr></table></figure><p><strong>tipsï¼š</strong></p><p><code>nn.Embedding</code>ä¸­ç¬¬ä¸€ä¸ªå‚æ•°ä»£è¡¨è¯è¡¨çš„ä¸ªæ•°èŒƒå›´ï¼Œæ¯”å¦‚æœ‰1000ä¸ªä¸­æ–‡è¯è¯­ï¼Œé‚£ä¹ˆç¬¬ä¸€ä¸ªå‚æ•°å°±ä¸º1000ï¼Œæ¥ä¸‹æ¥çš„inputä¸­å°±ä¸èƒ½æœ‰è¶…è¿‡1000çš„å€¼ï¼Œå› ä¸ºinputä»£è¡¨çš„æ˜¯è¯è¡¨çš„ç´¢å¼•åˆ—è¡¨ï¼Œåˆ—è¡¨çš„é•¿åº¦æ˜¯éœ€è¦åµŒå…¥çš„è¯è¯­ä¸ªæ•°ã€‚ç¬¬äºŒä¸ªå‚æ•°æ˜¯æ¯ä¸€ä¸ªè¯æ˜ å°„åçš„ç»´åº¦ã€‚ä¾‹å¦‚<code>embedding = nn.Embedding(8, 10)</code></p><ul><li>å¦‚æœinputä¸º<code>torch.LongTensor([1, 2, 3])</code>ï¼Œè¾“å‡ºsizeæ˜¯<code>torch.Size([3, 10])</code></li><li>å¦‚æœinputä¸º<code>torch.LongTensor([[1, 2, 3], [4, 5, 6]])</code>ï¼Œè¾“å‡ºsizeæ˜¯<code>torch.Size([2, 3, 10])</code></li></ul><h3 id="2-2-è§£ç å™¨"><a href="#2-2-è§£ç å™¨" class="headerlink" title="2.2 è§£ç å™¨"></a>2.2 è§£ç å™¨</h3><h4 id="2-2-1-ç®€å•è§£ç å™¨"><a href="#2-2-1-ç®€å•è§£ç å™¨" class="headerlink" title="2.2.1 ç®€å•è§£ç å™¨"></a>2.2.1 ç®€å•è§£ç å™¨</h4><p>åœ¨æœ€ç®€å•çš„ seq2seq è§£ç å™¨ä¸­ï¼Œæˆ‘ä»¬åªä½¿ç”¨ç¼–ç å™¨çš„æœ€åä¸€ä¸ªè¾“å‡ºã€‚æœ€åä¸€ä¸ªè¾“å‡ºæœ‰æ—¶ç§°ä¸ºä¸Šä¸‹æ–‡å‘é‡ï¼Œå› ä¸ºå®ƒå¯¹æ•´ä¸ªåºåˆ—ä¸­çš„ä¸Šä¸‹æ–‡è¿›è¡Œç¼–ç ã€‚æ­¤ä¸Šä¸‹æ–‡å‘é‡ç”¨ä½œè§£ç å™¨çš„åˆå§‹éšè—çŠ¶æ€ã€‚</p><p>åœ¨è§£ç çš„æ¯ä¸€æ­¥ä¸­ï¼Œè§£ç å™¨éƒ½ä¼šè¢«èµ‹äºˆè¾“å…¥ä»¤ç‰Œå’Œéšè—çŠ¶æ€ã€‚åˆå§‹è¾“å…¥æ ‡è®°æ˜¯å­—ç¬¦ä¸² <code>&lt;SOS&gt;</code> å¼€å¤´æ ‡è®°ï¼Œç¬¬ä¸€ä¸ªéšè—çŠ¶æ€æ˜¯ä¸Šä¸‹æ–‡å‘é‡ï¼ˆç¼–ç å™¨çš„æœ€åä¸€ä¸ªéšè—çŠ¶æ€ï¼‰ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">DecoderRNN</span>(nn.Module):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, hidden_size, output_size</span>):<br>        <span class="hljs-built_in">super</span>(DecoderRNN, self).__init__()<br>        self.embedding = nn.Embedding(output_size, hidden_size)<br>        self.gru = nn.GRU(hidden_size, hidden_size, batch_first=<span class="hljs-literal">True</span>)<br>        self.out = nn.Linear(hidden_size, output_size)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, encoder_outputs, encoder_hidden, target_tensor=<span class="hljs-literal">None</span></span>):<br>        batch_size = encoder_outputs.size(<span class="hljs-number">0</span>)<br>        decoder_input = torch.empty(batch_size, <span class="hljs-number">1</span>, dtype=torch.long, device=device).fill_(SOS_token)<br>        decoder_hidden = encoder_hidden<br>        decoder_outputs = []<br><br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(MAX_LENGTH):<br>            decoder_output, decoder_hidden  = self.forward_step(decoder_input, decoder_hidden)<br>            decoder_outputs.append(decoder_output)<br><br>            <span class="hljs-keyword">if</span> target_tensor <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>:<br>                <span class="hljs-comment"># Teacher forcing: Feed the target as the next input</span><br>                decoder_input = target_tensor[:, i].unsqueeze(<span class="hljs-number">1</span>) <span class="hljs-comment"># Teacher forcing</span><br>            <span class="hljs-keyword">else</span>:<br>                <span class="hljs-comment"># Without teacher forcing: use its own predictions as the next input</span><br>                _, topi = decoder_output.topk(<span class="hljs-number">1</span>)<br>                decoder_input = topi.squeeze(-<span class="hljs-number">1</span>).detach()  <span class="hljs-comment"># detach from history as input</span><br><br>        decoder_outputs = torch.cat(decoder_outputs, dim=<span class="hljs-number">1</span>)<br>        decoder_outputs = F.log_softmax(decoder_outputs, dim=-<span class="hljs-number">1</span>)<br>        <span class="hljs-keyword">return</span> decoder_outputs, decoder_hidden, <span class="hljs-literal">None</span> <span class="hljs-comment"># We return `None` for consistency in the training loop</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward_step</span>(<span class="hljs-params">self, <span class="hljs-built_in">input</span>, hidden</span>):<br>        output = self.embedding(<span class="hljs-built_in">input</span>)<br>        output = F.relu(output)<br>        output, hidden = self.gru(output, hidden)<br>        output = self.out(output)<br>        <span class="hljs-keyword">return</span> output, hidden<br></code></pre></td></tr></table></figure><p><strong>tips:</strong></p><p>å‡è®¾batch_sizeä¸º3ï¼Œ<code>decoder_input = torch.empty(3, 1, dtype=torch.long).fill_(0)</code>çš„è¾“å‡ºç»“æœæ˜¯<code>tensor([[0]ï¼Œ[0], [0]])</code>,<code>decoder_input = target_tensor[:, 0].unsqueeze(1)</code>çš„ç›®çš„æ˜¯ä¸ºäº†ä¿è¯sizeä¸€è‡´ã€‚</p><p>æµ‹è¯•ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python">target_tensor = torch.LongTensor([[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>],<br>                               [<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>],<br>                               [<span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>]])<br>decoder_input = target_tensor[:, <span class="hljs-number">0</span>].unsqueeze(<span class="hljs-number">1</span>)<br><span class="hljs-built_in">print</span>(decoder_input)<br><br>decoder_input = torch.empty(<span class="hljs-number">3</span>, <span class="hljs-number">1</span>, dtype=torch.long).fill_(<span class="hljs-number">0</span>)<br><span class="hljs-built_in">print</span>(decoder_input)<br></code></pre></td></tr></table></figure><p>ç»“æœï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python">tensor([[<span class="hljs-number">1</span>],<br>        [<span class="hljs-number">4</span>],<br>        [<span class="hljs-number">7</span>]])<br>tensor([[<span class="hljs-number">0</span>],<br>        [<span class="hljs-number">0</span>],<br>        [<span class="hljs-number">0</span>]])<br></code></pre></td></tr></table></figure><h4 id="2-2-2-æ³¨æ„åŠ›è§£ç å™¨"><a href="#2-2-2-æ³¨æ„åŠ›è§£ç å™¨" class="headerlink" title="2.2.2 æ³¨æ„åŠ›è§£ç å™¨"></a>2.2.2 æ³¨æ„åŠ›è§£ç å™¨</h4><p>å¦‚æœä»…åœ¨ç¼–ç å™¨å’Œè§£ç å™¨ä¹‹é—´ä¼ é€’ä¸Šä¸‹æ–‡å‘é‡ï¼Œåˆ™è¯¥å•ä¸ªå‘é‡æ‰¿æ‹…å¯¹æ•´ä¸ªå¥å­è¿›è¡Œç¼–ç çš„è´Ÿæ‹…ã€‚</p><p>æ³¨æ„åŠ›å…è®¸è§£ç å™¨ç½‘ç»œâ€œèšç„¦â€åœ¨ç¼–ç å™¨è¾“å‡ºçš„ä¸åŒéƒ¨åˆ†ï¼Œç”¨äºè§£ç å™¨è‡ªèº«è¾“å‡ºçš„æ¯ä¸€æ­¥ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬è®¡ç®—ä¸€ç»„æ³¨æ„åŠ›æƒé‡ã€‚è¿™äº›å°†ä¹˜ä»¥ç¼–ç å™¨è¾“å‡ºå‘é‡ä»¥åˆ›å»ºåŠ æƒç»„åˆã€‚ç»“æœï¼ˆåœ¨ä»£ç ä¸­è°ƒç”¨ <code>attn_applied</code> ï¼‰åº”åŒ…å«æœ‰å…³è¾“å…¥åºåˆ—çš„ç‰¹å®šéƒ¨åˆ†çš„ä¿¡æ¯ï¼Œä»è€Œå¸®åŠ©è§£ç å™¨é€‰æ‹©æ­£ç¡®çš„è¾“å‡ºå­—ã€‚</p><p>æ³¨æ„åŠ›æƒé‡çš„è®¡ç®—æ˜¯ç”¨å¦ä¸€ä¸ªå‰é¦ˆå±‚ <code>attn</code> å®Œæˆçš„ï¼Œä½¿ç”¨è§£ç å™¨çš„è¾“å…¥å’Œéšè—çŠ¶æ€ä½œä¸ºè¾“å…¥ã€‚ç”±äºè®­ç»ƒæ•°æ®ä¸­æœ‰å„ç§å¤§å°çš„å¥å­ï¼Œå› æ­¤è¦å®é™…åˆ›å»ºå’Œè®­ç»ƒæ­¤å±‚ï¼Œæˆ‘ä»¬å¿…é¡»é€‰æ‹©å®ƒå¯ä»¥åº”ç”¨çš„æœ€å¤§å¥å­é•¿åº¦ï¼ˆç¼–ç å™¨è¾“å‡ºçš„è¾“å…¥é•¿åº¦ï¼‰ã€‚æœ€å¤§é•¿åº¦çš„å¥å­å°†ä½¿ç”¨æ‰€æœ‰æ³¨æ„åŠ›æƒé‡ï¼Œè€Œè¾ƒçŸ­çš„å¥å­å°†ä»…ä½¿ç”¨å‰å‡ ä¸ªã€‚</p><p>Bahdanau æ³¨æ„åŠ›ï¼Œä¹Ÿç§°ä¸ºåŠ æ³•æ³¨æ„åŠ›ï¼Œæ˜¯åºåˆ—åˆ°åºåˆ—æ¨¡å‹ä¸­å¸¸ç”¨çš„æ³¨æ„åŠ›æœºåˆ¶ï¼Œå°¤å…¶æ˜¯åœ¨ç¥ç»æœºå™¨ç¿»è¯‘ä»»åŠ¡ä¸­ã€‚Bahdanauç­‰äººåœ¨ä»–ä»¬çš„è®ºæ–‡ä¸­ä»‹ç»äº†å®ƒï¼Œé¢˜ä¸ºâ€œé€šè¿‡å…±åŒå­¦ä¹ å¯¹é½å’Œç¿»è¯‘è¿›è¡Œç¥ç»æœºå™¨ç¿»è¯‘â€ã€‚è¿™ç§æ³¨æ„åŠ›æœºåˆ¶é‡‡ç”¨å­¦ä¹ å¯¹é½æ¨¡å‹æ¥è®¡ç®—ç¼–ç å™¨å’Œè§£ç å™¨éšè—çŠ¶æ€ä¹‹é—´çš„æ³¨æ„åŠ›åˆ†æ•°ã€‚å®ƒåˆ©ç”¨å‰é¦ˆç¥ç»ç½‘ç»œæ¥è®¡ç®—å¯¹é½åˆ†æ•°ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">BahdanauAttention</span>(nn.Module):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, hidden_size</span>):<br>        <span class="hljs-built_in">super</span>(BahdanauAttention, self).__init__()<br>        self.Wa = nn.Linear(hidden_size, hidden_size)<br>        self.Ua = nn.Linear(hidden_size, hidden_size)<br>        self.Va = nn.Linear(hidden_size, <span class="hljs-number">1</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, query, keys</span>):<br>        scores = self.Va(torch.tanh(self.Wa(query) + self.Ua(keys)))<br>        scores = scores.squeeze(<span class="hljs-number">2</span>).unsqueeze(<span class="hljs-number">1</span>)<br><br>        weights = F.softmax(scores, dim=-<span class="hljs-number">1</span>)<br>        context = torch.bmm(weights, keys)<br><br>        <span class="hljs-keyword">return</span> context, weights<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">AttnDecoderRNN</span>(nn.Module):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, hidden_size, output_size, dropout_p=<span class="hljs-number">0.1</span></span>):<br>        <span class="hljs-built_in">super</span>(AttnDecoderRNN, self).__init__()<br>        self.embedding = nn.Embedding(output_size, hidden_size)<br>        self.attention = BahdanauAttention(hidden_size)<br>        self.gru = nn.GRU(<span class="hljs-number">2</span> * hidden_size, hidden_size, batch_first=<span class="hljs-literal">True</span>)<br>        self.out = nn.Linear(hidden_size, output_size)<br>        self.dropout = nn.Dropout(dropout_p)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, encoder_outputs, encoder_hidden, target_tensor=<span class="hljs-literal">None</span></span>):<br>        batch_size = encoder_outputs.size(<span class="hljs-number">0</span>)<br>        decoder_input = torch.empty(batch_size, <span class="hljs-number">1</span>, dtype=torch.long, device=device).fill_(SOS_token)<br>        decoder_hidden = encoder_hidden<br>        decoder_outputs = []<br>        attentions = []<br><br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(MAX_LENGTH):<br>            decoder_output, decoder_hidden, attn_weights = self.forward_step(<br>                decoder_input, decoder_hidden, encoder_outputs<br>            )<br>            decoder_outputs.append(decoder_output)<br>            attentions.append(attn_weights)<br><br>            <span class="hljs-keyword">if</span> target_tensor <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>:<br>                <span class="hljs-comment"># Teacher forcing: Feed the target as the next input</span><br>                decoder_input = target_tensor[:, i].unsqueeze(<span class="hljs-number">1</span>) <span class="hljs-comment"># Teacher forcing</span><br>            <span class="hljs-keyword">else</span>:<br>                <span class="hljs-comment"># Without teacher forcing: use its own predictions as the next input</span><br>                _, topi = decoder_output.topk(<span class="hljs-number">1</span>)<br>                decoder_input = topi.squeeze(-<span class="hljs-number">1</span>).detach()  <span class="hljs-comment"># detach from history as input</span><br><br>        decoder_outputs = torch.cat(decoder_outputs, dim=<span class="hljs-number">1</span>)<br>        decoder_outputs = F.log_softmax(decoder_outputs, dim=-<span class="hljs-number">1</span>)<br>        attentions = torch.cat(attentions, dim=<span class="hljs-number">1</span>)<br><br>        <span class="hljs-keyword">return</span> decoder_outputs, decoder_hidden, attentions<br><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward_step</span>(<span class="hljs-params">self, <span class="hljs-built_in">input</span>, hidden, encoder_outputs</span>):<br>        embedded =  self.dropout(self.embedding(<span class="hljs-built_in">input</span>))<br><br>        query = hidden.permute(<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">2</span>)<br>        context, attn_weights = self.attention(query, encoder_outputs)<br>        input_gru = torch.cat((embedded, context), dim=<span class="hljs-number">2</span>)<br><br>        output, hidden = self.gru(input_gru, hidden)<br>        output = self.out(output)<br><br>        <span class="hljs-keyword">return</span> output, hidden, attn_weights<br></code></pre></td></tr></table></figure><p><strong>tipsï¼š</strong></p><ul><li><strong>ä¸ºä»€ä¹ˆè¦ä½¿ç”¨attention</strong>ï¼šåœ¨è§£ç çš„è¿‡ç¨‹ä¸­æ¯ä¸ªè¢«è§£ç çš„ç›®æ ‡æ‰€éœ€è¦çš„ä¸Šä¸‹æ–‡ä¿¡æ¯æ˜¯ä¸ä¸€æ ·çš„ï¼Œå¯¹åŸæ–‡ä¸­æ¯ä¸ªè¯çš„éœ€æ±‚ç¨‹åº¦ä¸ä¸€æ ·ï¼Œå› æ­¤éœ€è¦ä¸€ä¸ªåŠ æƒçš„æƒé‡æ¥è¿›è¡Œæ³¨æ„åŠ›çš„åˆ†é…ã€‚</li><li><strong>ä¸ºä»€ä¹ˆä¸ç›´æ¥å°†encoder_outputåŠ ä¸€ä¸ªçº¿æ€§å˜æ¢è¿›è¡Œæ¢¯åº¦ä¼˜åŒ–</strong>ï¼šè¿™æ ·æ•´ä¸ªæ¨¡å‹åªæœ‰ä¸€ä¸ªä¼˜åŒ–å‘é‡ï¼Œæ— æ³•æ»¡è¶³é’ˆå¯¹ä¸åŒçš„è§£ç ç›®æ ‡è¿›è¡Œä¸åŒçš„æ³¨æ„åŠ›åˆ†é…ï¼Œå› æ­¤éœ€è¦æ ¹æ®decoder_hiddenå’Œencoder_outputsè¿›è¡Œå…±åŒçš„æ¢¯åº¦ä¼˜åŒ–ã€‚</li><li><strong>ä¸ºä»€ä¹ˆä¸ç›´æ¥å°†queryå’Œkeyç›¸åŠ è¿›è¡Œå˜æ¢å†æ¢¯åº¦ä¼˜åŒ–</strong>ï¼šé€šè¿‡å°†æŸ¥è¯¢å‘é‡å’Œé”®å‘é‡åˆ†åˆ«é€šè¿‡çº¿æ€§å˜æ¢æ˜ å°„åˆ°ä¸€ä¸ªå…±äº«çš„æ³¨æ„åŠ›ç©ºé—´ï¼Œå¯ä»¥<strong>å¢åŠ æ¨¡å‹çš„è¡¨è¾¾èƒ½åŠ›</strong>ï¼Œä½¿å…¶èƒ½å¤Ÿæ›´å¥½åœ°æ•æ‰åˆ°å®ƒä»¬ä¹‹é—´çš„ç›¸å…³æ€§ï¼Œä¸”<strong>å­¦ä¹ åˆ°çš„æ³¨æ„åŠ›æƒé‡æ›´å…·çµæ´»æ€§</strong>ã€‚</li><li><strong>ä¸ºä»€ä¹ˆæ³¨æ„åŠ›åˆ†æ•°ä¸èƒ½ç›´æ¥ä½œä¸ºä¸Šä¸‹æ–‡å‘é‡</strong>ï¼šå› ä¸ºæ³¨æ„åŠ›åˆ†æ•°é€šå¸¸æ˜¯ä¸€ä¸ªæ ‡é‡å€¼ï¼Œå®ƒä»…ä»…åæ˜ äº†æŸ¥è¯¢å‘é‡ä¸å•ä¸ªé”®å‘é‡ä¹‹é—´çš„ç›¸ä¼¼æ€§ï¼Œè€Œæ— æ³•åæ˜ ä¸å…¶ä»–é”®å‘é‡çš„å…³ç³»ã€‚å› æ­¤ï¼Œä½¿ç”¨æ³¨æ„åŠ›åˆ†æ•°ä½œä¸ºä¸Šä¸‹æ–‡å‘é‡å¯èƒ½ä¼šä¸¢å¤±å…¶ä»–é”®å‘é‡çš„ä¿¡æ¯ï¼Œå¯¼è‡´æ¨¡å‹æ— æ³•å……åˆ†åˆ©ç”¨æ‰€æœ‰é”®å‘é‡çš„ä¿¡æ¯ã€‚</li></ul><h2 id="3-è®­ç»ƒ"><a href="#3-è®­ç»ƒ" class="headerlink" title="3.è®­ç»ƒ"></a>3.è®­ç»ƒ</h2><h3 id="3-1-å‡†å¤‡è®­ç»ƒæ•°æ®"><a href="#3-1-å‡†å¤‡è®­ç»ƒæ•°æ®" class="headerlink" title="3.1 å‡†å¤‡è®­ç»ƒæ•°æ®"></a>3.1 å‡†å¤‡è®­ç»ƒæ•°æ®</h3><p>ä¸ºäº†è®­ç»ƒï¼Œå¯¹äºæ¯ä¸€å¯¹ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªè¾“å…¥å¼ é‡ï¼ˆè¾“å…¥å¥å­ä¸­<strong>å•è¯çš„ç´¢å¼•</strong>ï¼‰å’Œç›®æ ‡å¼ é‡ï¼ˆç›®æ ‡å¥å­ä¸­<strong>å•è¯çš„ç´¢å¼•</strong>ï¼‰ã€‚åœ¨åˆ›å»ºè¿™äº›å‘é‡æ—¶ï¼Œæˆ‘ä»¬å°†EOSä»¤ç‰Œé™„åŠ åˆ°ä¸¤ä¸ªåºåˆ—ä¸­ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">indexesFromSentence</span>(<span class="hljs-params">lang, sentence</span>):<br>    <span class="hljs-keyword">return</span> [lang.word2index[word] <span class="hljs-keyword">for</span> word <span class="hljs-keyword">in</span> sentence.split(<span class="hljs-string">&#x27; &#x27;</span>)]<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">tensorFromSentence</span>(<span class="hljs-params">lang, sentence</span>):<br>    indexes = indexesFromSentence(lang, sentence)<br>    indexes.append(EOS_token)<br>    <span class="hljs-keyword">return</span> torch.tensor(indexes, dtype=torch.long, device=device).view(<span class="hljs-number">1</span>, -<span class="hljs-number">1</span>)<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">tensorsFromPair</span>(<span class="hljs-params">pair</span>):<br>    input_tensor = tensorFromSentence(input_lang, pair[<span class="hljs-number">0</span>])<br>    target_tensor = tensorFromSentence(output_lang, pair[<span class="hljs-number">1</span>])<br>    <span class="hljs-keyword">return</span> (input_tensor, target_tensor)<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_dataloader</span>(<span class="hljs-params">batch_size</span>):<br>    input_lang, output_lang, pairs = prepareData(<span class="hljs-string">&#x27;eng&#x27;</span>, <span class="hljs-string">&#x27;fra&#x27;</span>, <span class="hljs-literal">True</span>)<br><br>    n = <span class="hljs-built_in">len</span>(pairs)<br>    input_ids = np.zeros((n, MAX_LENGTH), dtype=np.int32)<br>    target_ids = np.zeros((n, MAX_LENGTH), dtype=np.int32)<br><br>    <span class="hljs-keyword">for</span> idx, (inp, tgt) <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(pairs):<br>        inp_ids = indexesFromSentence(input_lang, inp)<br>        tgt_ids = indexesFromSentence(output_lang, tgt)<br>        inp_ids.append(EOS_token)<br>        tgt_ids.append(EOS_token)<br>        input_ids[idx, :<span class="hljs-built_in">len</span>(inp_ids)] = inp_ids<br>        target_ids[idx, :<span class="hljs-built_in">len</span>(tgt_ids)] = tgt_ids<br><br>    train_data = TensorDataset(torch.LongTensor(input_ids).to(device),<br>                               torch.LongTensor(target_ids).to(device))<br><br>    train_sampler = RandomSampler(train_data)<br>    train_dataloader = DataLoader(train_data, sampler=train_sampler, batch_size=batch_size)<br>    <span class="hljs-keyword">return</span> input_lang, output_lang, train_dataloader<br></code></pre></td></tr></table></figure><p>ä¸Šä¾‹ä¸­è·å–åˆ°çš„ç´¢å¼•å€¼å…ˆæ˜¯ç”¨npåŒ…è£¹æˆä¸€ä¸ª<code>n*MAX_LENGTH</code>çš„äºŒç»´çŸ©é˜µï¼Œç„¶åè½¬æ¢æˆå¼ é‡ï¼Œå¹¶ç”ŸæˆTensorDatasetå®ä¾‹ï¼Œæœ€åç”¨DataLoaderåŠ è½½ã€‚</p><h3 id="3-2-è®­ç»ƒæ¨¡å‹"><a href="#3-2-è®­ç»ƒæ¨¡å‹" class="headerlink" title="3.2 è®­ç»ƒæ¨¡å‹"></a>3.2 è®­ç»ƒæ¨¡å‹</h3><p>ä¸ºäº†è®­ç»ƒï¼Œæˆ‘ä»¬é€šè¿‡ç¼–ç å™¨è¿è¡Œè¾“å…¥å¥å­ï¼Œå¹¶è·Ÿè¸ªæ¯ä¸ªè¾“å‡ºå’Œæœ€æ–°çš„éšè—çŠ¶æ€ã€‚ç„¶åï¼Œä¸ºè§£ç å™¨æä¾› <code>&lt;SOS&gt;</code> ä»¤ç‰Œä½œä¸ºå…¶ç¬¬ä¸€ä¸ªè¾“å…¥ï¼Œå¹¶å°†ç¼–ç å™¨çš„æœ€åä¸€ä¸ªéšè—çŠ¶æ€ä½œä¸ºå…¶ç¬¬ä¸€ä¸ªéšè—çŠ¶æ€ã€‚</p><p><code>â€œTeacher forcingâ€</code>æ˜¯ä½¿ç”¨çœŸå®ç›®æ ‡è¾“å‡ºä½œä¸ºæ¯ä¸ªä¸‹ä¸€ä¸ªè¾“å…¥çš„æ¦‚å¿µï¼Œè€Œä¸æ˜¯ä½¿ç”¨è§£ç å™¨çš„çŒœæµ‹ä½œä¸ºä¸‹ä¸€ä¸ªè¾“å…¥ã€‚ä½¿ç”¨<code>Teacher forcing</code>ä¼šä½¿å…¶æ”¶æ•›å¾—æ›´å¿«ï¼Œä½†å½“è®­ç»ƒå¥½çš„ç½‘ç»œè¢«åˆ©ç”¨æ—¶ï¼Œå®ƒå¯èƒ½ä¼š<strong>è¡¨ç°å‡ºä¸ç¨³å®š</strong>ã€‚</p><p>äº PyTorch çš„ autograd ä¸ºæˆ‘ä»¬æä¾›äº†è‡ªç”±ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç®€å•çš„ if è¯­å¥éšæœºé€‰æ‹©æ˜¯å¦ä½¿ç”¨<code>Teacher forcing</code>ã€‚æ‰“å¼€ <code>teacher_forcing_ratio</code> ä»¥ä½¿ç”¨æ›´å¤šã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">train_epoch</span>(<span class="hljs-params">dataloader, encoder, decoder, encoder_optimizer,</span><br><span class="hljs-params">          decoder_optimizer, criterion</span>):<br><br>    total_loss = <span class="hljs-number">0</span><br>    <span class="hljs-keyword">for</span> data <span class="hljs-keyword">in</span> dataloader:<br>        input_tensor, target_tensor = data<br><br>        encoder_optimizer.zero_grad()<br>        decoder_optimizer.zero_grad()<br><br>        encoder_outputs, encoder_hidden = encoder(input_tensor)<br>        decoder_outputs, _, _ = decoder(encoder_outputs, encoder_hidden, target_tensor)<br><br>        loss = criterion(<br>            decoder_outputs.view(-<span class="hljs-number">1</span>, decoder_outputs.size(-<span class="hljs-number">1</span>)),<br>            target_tensor.view(-<span class="hljs-number">1</span>)<br>        )<br>        loss.backward()<br><br>        encoder_optimizer.step()<br>        decoder_optimizer.step()<br><br>        total_loss += loss.item()<br><br>    <span class="hljs-keyword">return</span> total_loss / <span class="hljs-built_in">len</span>(dataloader)<br></code></pre></td></tr></table></figure><p>æ•´ä¸ªè®­ç»ƒè¿‡ç¨‹å¦‚ä¸‹æ‰€ç¤ºï¼š</p><ul><li>å¯åŠ¨è®¡æ—¶å™¨</li><li>åˆå§‹åŒ–ä¼˜åŒ–å™¨å’Œæ¡ä»¶</li><li>åˆ›å»ºä¸€ç»„è®­ç»ƒå¯¹</li><li>å¯åŠ¨ç”¨äºç»˜å›¾çš„ç©ºæŸå¤±æ•°ç»„</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">train</span>(<span class="hljs-params">train_dataloader, encoder, decoder, n_epochs, learning_rate=<span class="hljs-number">0.001</span>,</span><br><span class="hljs-params">               print_every=<span class="hljs-number">100</span>, plot_every=<span class="hljs-number">100</span></span>):<br>    start = time.time()<br>    plot_losses = []<br>    print_loss_total = <span class="hljs-number">0</span>  <span class="hljs-comment"># Reset every print_every</span><br>    plot_loss_total = <span class="hljs-number">0</span>  <span class="hljs-comment"># Reset every plot_every</span><br><br>    encoder_optimizer = optim.Adam(encoder.parameters(), lr=learning_rate)<br>    decoder_optimizer = optim.Adam(decoder.parameters(), lr=learning_rate)<br>    criterion = nn.NLLLoss()<br><br>    <span class="hljs-keyword">for</span> epoch <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, n_epochs + <span class="hljs-number">1</span>):<br>        loss = train_epoch(train_dataloader, encoder, decoder, encoder_optimizer, decoder_optimizer, criterion)<br>        print_loss_total += loss<br>        plot_loss_total += loss<br><br>        <span class="hljs-keyword">if</span> epoch % print_every == <span class="hljs-number">0</span>:<br>            print_loss_avg = print_loss_total / print_every<br>            print_loss_total = <span class="hljs-number">0</span><br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;%s (%d %d%%) %.4f&#x27;</span> % (timeSince(start, epoch / n_epochs),<br>                                        epoch, epoch / n_epochs * <span class="hljs-number">100</span>, print_loss_avg))<br><br>        <span class="hljs-keyword">if</span> epoch % plot_every == <span class="hljs-number">0</span>:<br>            plot_loss_avg = plot_loss_total / plot_every<br>            plot_losses.append(plot_loss_avg)<br>            plot_loss_total = <span class="hljs-number">0</span><br><br>    showPlot(plot_losses)<br></code></pre></td></tr></table></figure><h2 id="4-è¯„ä¼°"><a href="#4-è¯„ä¼°" class="headerlink" title="4.è¯„ä¼°"></a>4.è¯„ä¼°</h2><p>è¯„ä¼°ä¸è®­ç»ƒåŸºæœ¬ç›¸åŒï¼Œä½†æ²¡æœ‰ç›®æ ‡ï¼Œå› æ­¤æˆ‘ä»¬åªæ˜¯å°†è§£ç å™¨çš„é¢„æµ‹åé¦ˆç»™æ¯ä¸ªæ­¥éª¤ã€‚æ¯å½“å®ƒé¢„æµ‹ä¸€ä¸ªå•è¯æ—¶ï¼Œæˆ‘ä»¬éƒ½ä¼šå°†å…¶æ·»åŠ åˆ°è¾“å‡ºå­—ç¬¦ä¸²ä¸­ï¼Œå¦‚æœå®ƒé¢„æµ‹äº†EOSï¼Œæˆ‘ä»¬å°±åœåœ¨é‚£é‡Œã€‚æˆ‘ä»¬è¿˜å­˜å‚¨è§£ç å™¨çš„æ³¨æ„åŠ›è¾“å‡ºï¼Œä»¥ä¾¿ä»¥åæ˜¾ç¤ºã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">evaluate</span>(<span class="hljs-params">encoder, decoder, sentence, input_lang, output_lang</span>):<br>    <span class="hljs-keyword">with</span> torch.no_grad():<br>        input_tensor = tensorFromSentence(input_lang, sentence)<br><br>        encoder_outputs, encoder_hidden = encoder(input_tensor)<br>        decoder_outputs, decoder_hidden, decoder_attn = decoder(encoder_outputs, encoder_hidden)<br><br>        _, topi = decoder_outputs.topk(<span class="hljs-number">1</span>)<br>        decoded_ids = topi.squeeze()<br><br>        decoded_words = []<br>        <span class="hljs-keyword">for</span> idx <span class="hljs-keyword">in</span> decoded_ids:<br>            <span class="hljs-keyword">if</span> idx.item() == EOS_token:<br>                decoded_words.append(<span class="hljs-string">&#x27;&lt;EOS&gt;&#x27;</span>)<br>                <span class="hljs-keyword">break</span><br>            decoded_words.append(output_lang.index2word[idx.item()])<br>    <span class="hljs-keyword">return</span> decoded_words, decoder_attn<br></code></pre></td></tr></table></figure><p>æˆ‘ä»¬å¯ä»¥è¯„ä¼°è®­ç»ƒé›†ä¸­çš„éšæœºå¥å­ï¼Œå¹¶æ‰“å°å‡ºè¾“å…¥ã€ç›®æ ‡å’Œè¾“å‡ºï¼Œä»¥åšå‡ºä¸€äº›ä¸»è§‚çš„è´¨é‡åˆ¤æ–­ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">evaluateRandomly</span>(<span class="hljs-params">encoder, decoder, n=<span class="hljs-number">10</span></span>):<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):<br>        pair = random.choice(pairs)<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;&gt;&#x27;</span>, pair[<span class="hljs-number">0</span>])<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;=&#x27;</span>, pair[<span class="hljs-number">1</span>])<br>        output_words, _ = evaluate(encoder, decoder, pair[<span class="hljs-number">0</span>], input_lang, output_lang)<br>        output_sentence = <span class="hljs-string">&#x27; &#x27;</span>.join(output_words)<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;&lt;&#x27;</span>, output_sentence)<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br></code></pre></td></tr></table></figure><h2 id="5-æœ€ç»ˆè®­ç»ƒ"><a href="#5-æœ€ç»ˆè®­ç»ƒ" class="headerlink" title="5.æœ€ç»ˆè®­ç»ƒ"></a>5.æœ€ç»ˆè®­ç»ƒ</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python">hidden_size = <span class="hljs-number">128</span><br>batch_size = <span class="hljs-number">32</span><br><br>input_lang, output_lang, train_dataloader = get_dataloader(batch_size)<br><br>encoder = EncoderRNN(input_lang.n_words, hidden_size).to(device)<br>decoder = AttnDecoderRNN(hidden_size, output_lang.n_words).to(device)<br><br>train(train_dataloader, encoder, decoder, <span class="hljs-number">80</span>, print_every=<span class="hljs-number">5</span>, plot_every=<span class="hljs-number">5</span>)<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>AI Ê¢áµ•á´—áµ•Ê¡</category>
      
      <category>Pytorch</category>
      
      <category>Pytorché¡¹ç›®å®æˆ˜</category>
      
    </categories>
    
    
    <tags>
      
      <tag>AI</tag>
      
      <tag>Pytorch</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å­—ç¬¦çº§RNNç”Ÿæˆåç§°ï¼ğŸŒ</title>
    <link href="/2024/02/16/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/Pytorch/%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/%E5%AD%97%E7%AC%A6%E7%BA%A7RNN%E7%94%9F%E6%88%90%E5%90%8D%E7%A7%B0/"/>
    <url>/2024/02/16/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/Pytorch/%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/%E5%AD%97%E7%AC%A6%E7%BA%A7RNN%E7%94%9F%E6%88%90%E5%90%8D%E7%A7%B0/</url>
    
    <content type="html"><![CDATA[<h1 id="å­—ç¬¦çº§RNNç”Ÿæˆåç§°"><a href="#å­—ç¬¦çº§RNNç”Ÿæˆåç§°" class="headerlink" title="å­—ç¬¦çº§RNNç”Ÿæˆåç§°"></a>å­—ç¬¦çº§RNNç”Ÿæˆåç§°</h1><h2 id="1-å‡†å¤‡æ•°æ®"><a href="#1-å‡†å¤‡æ•°æ®" class="headerlink" title="1.å‡†å¤‡æ•°æ®"></a>1.å‡†å¤‡æ•°æ®</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> io <span class="hljs-keyword">import</span> <span class="hljs-built_in">open</span><br><span class="hljs-keyword">import</span> glob<br><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> unicodedata<br><span class="hljs-keyword">import</span> string<br><br>all_letters = string.ascii_letters + <span class="hljs-string">&quot; .,;&#x27;-&quot;</span><br>n_letters = <span class="hljs-built_in">len</span>(all_letters) + <span class="hljs-number">1</span> <span class="hljs-comment"># Plus EOS marker</span><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">findFiles</span>(<span class="hljs-params">path</span>): <span class="hljs-keyword">return</span> glob.glob(path)<br><br><span class="hljs-comment"># Turn a Unicode string to plain ASCII, thanks to https://stackoverflow.com/a/518232/2809427</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">unicodeToAscii</span>(<span class="hljs-params">s</span>):<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;&#x27;</span>.join(<br>        c <span class="hljs-keyword">for</span> c <span class="hljs-keyword">in</span> unicodedata.normalize(<span class="hljs-string">&#x27;NFD&#x27;</span>, s)<br>        <span class="hljs-keyword">if</span> unicodedata.category(c) != <span class="hljs-string">&#x27;Mn&#x27;</span><br>        <span class="hljs-keyword">and</span> c <span class="hljs-keyword">in</span> all_letters<br>    )<br><br><span class="hljs-comment"># Read a file and split into lines</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">readLines</span>(<span class="hljs-params">filename</span>):<br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(filename, encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>) <span class="hljs-keyword">as</span> some_file:<br>        <span class="hljs-keyword">return</span> [unicodeToAscii(line.strip()) <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> some_file]<br><br><span class="hljs-comment"># Build the category_lines dictionary, a list of lines per category</span><br>category_lines = &#123;&#125;<br>all_categories = []<br><span class="hljs-keyword">for</span> filename <span class="hljs-keyword">in</span> findFiles(<span class="hljs-string">&#x27;data/names/*.txt&#x27;</span>):<br>    category = os.path.splitext(os.path.basename(filename))[<span class="hljs-number">0</span>]<br>    all_categories.append(category)<br>    lines = readLines(filename)<br>    category_lines[category] = lines<br><br>n_categories = <span class="hljs-built_in">len</span>(all_categories)<br><br><span class="hljs-keyword">if</span> n_categories == <span class="hljs-number">0</span>:<br>    <span class="hljs-keyword">raise</span> RuntimeError(<span class="hljs-string">&#x27;Data not found. Make sure that you downloaded data &#x27;</span><br>        <span class="hljs-string">&#x27;from https://download.pytorch.org/tutorial/data.zip and extract it to &#x27;</span><br>        <span class="hljs-string">&#x27;the current directory.&#x27;</span>)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;# categories:&#x27;</span>, n_categories, all_categories)<br><span class="hljs-built_in">print</span>(unicodeToAscii(<span class="hljs-string">&quot;O&#x27;NÃ©Ã l&quot;</span>))<br></code></pre></td></tr></table></figure><h2 id="2-åˆ›å»ºç½‘ç»œ"><a href="#2-åˆ›å»ºç½‘ç»œ" class="headerlink" title="2.åˆ›å»ºç½‘ç»œ"></a>2.åˆ›å»ºç½‘ç»œ</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> torch<br><span class="hljs-keyword">import</span> torch.nn <span class="hljs-keyword">as</span> nn<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">RNN</span>(nn.Module):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, input_size, hidden_size, output_size</span>):<br>        <span class="hljs-built_in">super</span>(RNN, self).__init__()<br>        self.hidden_size = hidden_size<br><br>        self.i2h = nn.Linear(n_categories + input_size + hidden_size, hidden_size)<br>        self.i2o = nn.Linear(n_categories + input_size + hidden_size, output_size)<br>        self.o2o = nn.Linear(hidden_size + output_size, output_size)<br>        self.dropout = nn.Dropout(<span class="hljs-number">0.1</span>)<br>        self.softmax = nn.LogSoftmax(dim=<span class="hljs-number">1</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, category, <span class="hljs-built_in">input</span>, hidden</span>):<br>        input_combined = torch.cat((category, <span class="hljs-built_in">input</span>, hidden), <span class="hljs-number">1</span>)<br>        hidden = self.i2h(input_combined)<br>        output = self.i2o(input_combined)<br>        output_combined = torch.cat((hidden, output), <span class="hljs-number">1</span>)<br>        output = self.o2o(output_combined)<br>        output = self.dropout(output)<br>        output = self.softmax(output)<br>        <span class="hljs-keyword">return</span> output, hidden<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">initHidden</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">return</span> torch.zeros(<span class="hljs-number">1</span>, self.hidden_size)<br></code></pre></td></tr></table></figure><p><strong>tIpsï¼š</strong></p><p>è¯¥ç½‘ç»œä¸ä¹‹å‰çš„å®æˆ˜ç½‘ç»œæœ‰ä¸€å®šåŒºåˆ«ã€‚</p><h2 id="3-è®­ç»ƒ"><a href="#3-è®­ç»ƒ" class="headerlink" title="3.è®­ç»ƒ"></a>3.è®­ç»ƒ</h2><p>é¦–å…ˆï¼Œå¸®åŠ©å‡½æ•°è·å–éšæœºå¯¹ï¼ˆç±»åˆ«ï¼Œè¡Œï¼‰ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> random<br><br><span class="hljs-comment"># Random item from a list</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">randomChoice</span>(<span class="hljs-params">l</span>):<br>    <span class="hljs-keyword">return</span> l[random.randint(<span class="hljs-number">0</span>, <span class="hljs-built_in">len</span>(l) - <span class="hljs-number">1</span>)]<br><br><span class="hljs-comment"># Get a random category and random line from that category</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">randomTrainingPair</span>():<br>    category = randomChoice(all_categories)<br>    line = randomChoice(category_lines[category])<br>    <span class="hljs-keyword">return</span> category, line<br></code></pre></td></tr></table></figure><p>å¯¹äºæ¯ä¸ªæ—¶é—´æ­¥ï¼ˆå³ï¼Œå¯¹äºè®­ç»ƒè¯ä¸­çš„æ¯ä¸ªå­—æ¯ï¼‰ï¼Œç½‘ç»œçš„è¾“å…¥å°†æ˜¯<code>(category, current letter, hidden state)</code>,è¾“å‡ºå°†æ˜¯<code>(next letter, next hidden state)</code> ã€‚</p><p><img src="/2024/02/16/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/Pytorch/%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/%E5%AD%97%E7%AC%A6%E7%BA%A7RNN%E7%94%9F%E6%88%90%E5%90%8D%E7%A7%B0/1.png"></p><p>ç±»åˆ«å¼ é‡æ˜¯å¤§å° <code>&lt;1 x n_categories&gt;</code> ä¸º çš„å•çƒ­å¼ é‡ã€‚åœ¨è®­ç»ƒæ—¶ï¼Œæˆ‘ä»¬ä¼šåœ¨æ¯ä¸ªæ—¶é—´æ­¥å°†å…¶é¦ˆé€åˆ°ç½‘ç»œ - è¿™æ˜¯ä¸€ç§è®¾è®¡é€‰æ‹©ï¼Œå®ƒå¯ä»¥ä½œä¸ºåˆå§‹éšè—çŠ¶æ€æˆ–å…¶ä»–ç­–ç•¥çš„ä¸€éƒ¨åˆ†åŒ…å«åœ¨å†…ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># One-hot vector for category</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">categoryTensor</span>(<span class="hljs-params">category</span>):<br>    li = all_categories.index(category)<br>    tensor = torch.zeros(<span class="hljs-number">1</span>, n_categories)<br>    tensor[<span class="hljs-number">0</span>][li] = <span class="hljs-number">1</span><br>    <span class="hljs-keyword">return</span> tensor<br><br><span class="hljs-comment"># One-hot matrix of first to last letters (not including EOS) for input</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">inputTensor</span>(<span class="hljs-params">line</span>):<br>    tensor = torch.zeros(<span class="hljs-built_in">len</span>(line), <span class="hljs-number">1</span>, n_letters)<br>    <span class="hljs-keyword">for</span> li <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(line)):<br>        letter = line[li]<br>        tensor[li][<span class="hljs-number">0</span>][all_letters.find(letter)] = <span class="hljs-number">1</span><br>    <span class="hljs-keyword">return</span> tensor<br><br><span class="hljs-comment"># ``LongTensor`` of second letter to end (EOS) for target</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">targetTensor</span>(<span class="hljs-params">line</span>):<br>    letter_indexes = [all_letters.find(line[li]) <span class="hljs-keyword">for</span> li <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, <span class="hljs-built_in">len</span>(line))]<br>    letter_indexes.append(n_letters - <span class="hljs-number">1</span>) <span class="hljs-comment"># EOS</span><br>    <span class="hljs-keyword">return</span> torch.LongTensor(letter_indexes)<br></code></pre></td></tr></table></figure><p>ä¸ºäº†æ–¹ä¾¿èµ·è§ï¼Œåœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ª <code>randomTrainingExample</code> å‡½æ•°æ¥è·å–éšæœºï¼ˆç±»åˆ«ã€è¡Œï¼‰å¯¹å¹¶å°†å®ƒä»¬è½¬æ¢ä¸ºæ‰€éœ€çš„ï¼ˆç±»åˆ«ã€è¾“å…¥ã€ç›®æ ‡ï¼‰å¼ é‡ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Make category, input, and target tensors from a random category, line pair</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">randomTrainingExample</span>():<br>    category, line = randomTrainingPair()<br>    category_tensor = categoryTensor(category)<br>    input_line_tensor = inputTensor(line)<br>    target_line_tensor = targetTensor(line)<br>    <span class="hljs-keyword">return</span> category_tensor, input_line_tensor, target_line_tensor<br></code></pre></td></tr></table></figure><h2 id="4-è®­ç»ƒç½‘ç»œ"><a href="#4-è®­ç»ƒç½‘ç»œ" class="headerlink" title="4.è®­ç»ƒç½‘ç»œ"></a>4.è®­ç»ƒç½‘ç»œ</h2><p>ä¸ä»…ä½¿ç”¨æœ€åä¸€ä¸ªè¾“å‡ºçš„åˆ†ç±»ç›¸åï¼Œæˆ‘ä»¬åœ¨æ¯ä¸€æ­¥éƒ½è¿›è¡Œé¢„æµ‹ï¼Œå› æ­¤æˆ‘ä»¬æ­£åœ¨è®¡ç®—æ¯ä¸€æ­¥çš„æŸå¤±ã€‚</p><p><strong>autograd çš„é­”åŠ›å…è®¸æ‚¨ç®€å•åœ°å°†æ¯ä¸€æ­¥çš„è¿™äº›æŸå¤±ç›¸åŠ ï¼Œå¹¶åœ¨æœ€åå‘åè°ƒç”¨ã€‚</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs python">criterion = nn.NLLLoss()<br><br>learning_rate = <span class="hljs-number">0.0005</span><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">train</span>(<span class="hljs-params">category_tensor, input_line_tensor, target_line_tensor</span>):<br>    target_line_tensor.unsqueeze_(-<span class="hljs-number">1</span>)<br>    hidden = rnn.initHidden()<br><br>    rnn.zero_grad()<br><br>    loss = torch.Tensor([<span class="hljs-number">0</span>]) <span class="hljs-comment"># you can also just simply use ``loss = 0``</span><br><br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(input_line_tensor.size(<span class="hljs-number">0</span>)):<br>        output, hidden = rnn(category_tensor, input_line_tensor[i], hidden)<br>        l = criterion(output, target_line_tensor[i])<br>        loss += l<br><br>    loss.backward()<br><br>    <span class="hljs-keyword">for</span> p <span class="hljs-keyword">in</span> rnn.parameters():<br>        p.data.add_(p.grad.data, alpha=-learning_rate)<br><br>    <span class="hljs-keyword">return</span> output, loss.item() / input_line_tensor.size(<span class="hljs-number">0</span>)<br></code></pre></td></tr></table></figure><p><strong>tips:</strong></p><p>åœ¨PyTorchä¸­ï¼Œè¦å®ç°å°†å¤šä¸ªæŸå¤±å‡½æ•°ç›¸åŠ ç„¶åä¸€èµ·å‘åä¼ æ’­ï¼Œä½ å¯ä»¥ç®€å•åœ°å°†è¿™äº›æŸå¤±å‡½æ•°çš„ç»“æœç›¸åŠ ï¼Œç„¶åè°ƒç”¨<code>backward()</code>å‡½æ•°æ¥è¿›è¡Œåå‘ä¼ æ’­ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> torch<br><span class="hljs-keyword">import</span> torch.nn <span class="hljs-keyword">as</span> nn<br><span class="hljs-keyword">import</span> torch.optim <span class="hljs-keyword">as</span> optim<br><br><span class="hljs-comment"># å‡è®¾æœ‰ä¸¤ä¸ªæŸå¤±å‡½æ•°</span><br>criterion1 = nn.CrossEntropyLoss()<br>criterion2 = nn.MSELoss()<br><br><span class="hljs-comment"># æ¨¡æ‹Ÿè¾“å…¥æ•°æ®å’Œç›®æ ‡æ•°æ®</span><br>inputs = torch.randn(<span class="hljs-number">10</span>, <span class="hljs-number">5</span>)  <span class="hljs-comment"># ç¤ºä¾‹è¾“å…¥æ•°æ®ï¼Œå‡è®¾æœ‰10ä¸ªæ ·æœ¬ï¼Œæ¯ä¸ªæ ·æœ¬æœ‰5ä¸ªç‰¹å¾</span><br>targets1 = torch.empty(<span class="hljs-number">10</span>, dtype=torch.long).random_(<span class="hljs-number">5</span>)  <span class="hljs-comment"># ç¤ºä¾‹ç›®æ ‡æ•°æ®1</span><br>targets2 = torch.randn(<span class="hljs-number">10</span>, <span class="hljs-number">1</span>)  <span class="hljs-comment"># ç¤ºä¾‹ç›®æ ‡æ•°æ®2</span><br><br><span class="hljs-comment"># å‡è®¾æœ‰ä¸€ä¸ªæ¨¡å‹</span><br>model = nn.Linear(<span class="hljs-number">5</span>, <span class="hljs-number">2</span>)  <span class="hljs-comment"># ç¤ºä¾‹æ¨¡å‹ï¼Œè¾“å…¥ç»´åº¦ä¸º5ï¼Œè¾“å‡ºç»´åº¦ä¸º2</span><br><br><span class="hljs-comment"># å‡è®¾æœ‰ä¸€ä¸ªä¼˜åŒ–å™¨</span><br>optimizer = optim.SGD(model.parameters(), lr=<span class="hljs-number">0.01</span>)<br><br><span class="hljs-comment"># å‰å‘ä¼ æ’­</span><br>outputs = model(inputs)<br><br><span class="hljs-comment"># è®¡ç®—æŸå¤±</span><br>loss1 = criterion1(outputs, targets1)<br>loss2 = criterion2(outputs, targets2)<br><br><span class="hljs-comment"># å°†æŸå¤±ç›¸åŠ </span><br>total_loss = loss1 + loss2<br><br><span class="hljs-comment"># åå‘ä¼ æ’­</span><br>optimizer.zero_grad()<br>total_loss.backward()<br><br><span class="hljs-comment"># æ›´æ–°å‚æ•°</span><br>optimizer.step()<br></code></pre></td></tr></table></figure><p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå°†ä¸¤ä¸ªæŸå¤±å‡½æ•°ç›¸åŠ ç„¶åä¸€èµ·è¿›è¡Œåå‘ä¼ æ’­å’Œåˆ†åˆ«è®¡ç®—æ¯ä¸ªæŸå¤±å‡½æ•°ç„¶ååˆ†å¼€è¿›è¡Œåå‘ä¼ æ’­æ˜¯ä¸å®Œå…¨ä¸€æ ·çš„ã€‚</p><ol><li><strong>å°†ä¸¤ä¸ªæŸå¤±å‡½æ•°ç›¸åŠ ç„¶åä¸€èµ·è¿›è¡Œåå‘ä¼ æ’­</strong>ï¼šè¿™ç§æ–¹æ³•ä¼šå°†ä¸¤ä¸ªæŸå¤±å‡½æ•°çš„æ¢¯åº¦ç›¸åŠ ï¼Œç„¶åä¸€æ¬¡æ€§æ›´æ–°æ¨¡å‹å‚æ•°ã€‚è¿™æ„å‘³ç€æ¨¡å‹çš„å‚æ•°åœ¨ä¸€æ¬¡ä¼˜åŒ–æ­¥éª¤ä¸­åŒæ—¶è€ƒè™‘äº†ä¸¤ä¸ªæŸå¤±å‡½æ•°çš„ä¿¡æ¯ã€‚</li><li><strong>åˆ†åˆ«è®¡ç®—æ¯ä¸ªæŸå¤±å‡½æ•°ç„¶ååˆ†å¼€è¿›è¡Œåå‘ä¼ æ’­</strong>ï¼šè¿™ç§æ–¹æ³•ä¼šåˆ†åˆ«è®¡ç®—æ¯ä¸ªæŸå¤±å‡½æ•°çš„æ¢¯åº¦ï¼Œå¹¶åˆ†åˆ«è°ƒç”¨<code>backward()</code>å‡½æ•°è¿›è¡Œåå‘ä¼ æ’­ï¼Œç„¶åæ ¹æ®æ¯ä¸ªæŸå¤±å‡½æ•°çš„æ¢¯åº¦æ›´æ–°æ¨¡å‹å‚æ•°ã€‚è¿™æ„å‘³ç€æ¨¡å‹çš„å‚æ•°åœ¨æ¯ä¸ªä¼˜åŒ–æ­¥éª¤ä¸­åˆ†åˆ«è€ƒè™‘æ¯ä¸ªæŸå¤±å‡½æ•°çš„ä¿¡æ¯ã€‚</li></ol><p>é€šå¸¸æƒ…å†µä¸‹ï¼Œè¿™ä¸¤ç§æ–¹æ³•å¯èƒ½ä¼šå¾—åˆ°ä¸åŒçš„ç»“æœï¼Œå°¤å…¶æ˜¯åœ¨å­˜åœ¨å‚æ•°å…±äº«æˆ–è€…ä¸åŒæŸå¤±å‡½æ•°çš„æ¢¯åº¦å…·æœ‰ä¸åŒçš„é‡çº§æ—¶ã€‚åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå°†ä¸¤ä¸ªæŸå¤±å‡½æ•°ç›¸åŠ ç„¶åä¸€èµ·è¿›è¡Œåå‘ä¼ æ’­å¯èƒ½ä¼šæ›´åŠ ç¨³å®šå’Œæœ‰æ•ˆã€‚ä½†åœ¨å…¶ä»–æƒ…å†µä¸‹ï¼Œåˆ†åˆ«è®¡ç®—æ¯ä¸ªæŸå¤±å‡½æ•°ç„¶ååˆ†å¼€è¿›è¡Œåå‘ä¼ æ’­å¯èƒ½æ›´åˆé€‚ã€‚è¦é€‰æ‹©åˆé€‚çš„æ–¹æ³•ï¼Œéœ€è¦æ ¹æ®å…·ä½“æƒ…å†µè¿›è¡Œå®éªŒå’Œè¯„ä¼°ã€‚</p><h2 id="5-å¼€å§‹è®­ç»ƒ"><a href="#5-å¼€å§‹è®­ç»ƒ" class="headerlink" title="5.å¼€å§‹è®­ç»ƒ"></a>5.å¼€å§‹è®­ç»ƒ</h2><p>è®­ç»ƒåƒå¾€å¸¸ä¸€æ · - è°ƒç”¨è®­ç»ƒå¤šæ¬¡å¹¶ç­‰å¾…å‡ åˆ†é’Ÿï¼Œæ‰“å°æ¯ä¸ª <code>print_every</code> ç¤ºä¾‹çš„å½“å‰æ—¶é—´å’ŒæŸå¤±ï¼Œå¹¶å­˜å‚¨æ¯ä¸ª <code>plot_every</code> ç¤ºä¾‹çš„å¹³å‡æŸå¤± <code>all_losses</code> ä»¥å¤‡åç”¨ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> time<br><span class="hljs-keyword">import</span> math<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">timeSince</span>(<span class="hljs-params">since</span>):<br>    now = time.time()<br>    s = now - since<br>    m = math.floor(s / <span class="hljs-number">60</span>)<br>    s -= m * <span class="hljs-number">60</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;%dm %ds&#x27;</span> % (m, s)<br>    <br>rnn = RNN(n_letters, <span class="hljs-number">128</span>, n_letters)<br><br>n_iters = <span class="hljs-number">100000</span><br>print_every = <span class="hljs-number">5000</span><br>plot_every = <span class="hljs-number">500</span><br>all_losses = []<br>total_loss = <span class="hljs-number">0</span> <span class="hljs-comment"># Reset every ``plot_every`` ``iters``</span><br><br>start = time.time()<br><br><span class="hljs-keyword">for</span> <span class="hljs-built_in">iter</span> <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, n_iters + <span class="hljs-number">1</span>):<br>    output, loss = train(*randomTrainingExample())<br>    total_loss += loss<br><br>    <span class="hljs-keyword">if</span> <span class="hljs-built_in">iter</span> % print_every == <span class="hljs-number">0</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;%s (%d %d%%) %.4f&#x27;</span> % (timeSince(start), <span class="hljs-built_in">iter</span>, <span class="hljs-built_in">iter</span> / n_iters * <span class="hljs-number">100</span>, loss))<br><br>    <span class="hljs-keyword">if</span> <span class="hljs-built_in">iter</span> % plot_every == <span class="hljs-number">0</span>:<br>        all_losses.append(total_loss / plot_every)<br>        total_loss = <span class="hljs-number">0</span><br></code></pre></td></tr></table></figure><h2 id="6-å¯¹ç½‘ç»œè¿›è¡Œé‡‡æ ·"><a href="#6-å¯¹ç½‘ç»œè¿›è¡Œé‡‡æ ·" class="headerlink" title="6.å¯¹ç½‘ç»œè¿›è¡Œé‡‡æ ·"></a>6.å¯¹ç½‘ç»œè¿›è¡Œé‡‡æ ·</h2><p>ä¸ºäº†å–æ ·ï¼Œæˆ‘ä»¬ç»™ç½‘ç»œä¸€ä¸ªå­—æ¯ï¼Œå¹¶è¯¢é—®ä¸‹ä¸€ä¸ªå­—æ¯æ˜¯ä»€ä¹ˆï¼Œå°†å…¶ä½œä¸ºä¸‹ä¸€ä¸ªå­—æ¯è¾“å…¥ï¼Œç„¶åé‡å¤ç›´åˆ°EOSä»¤ç‰Œã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs python">max_length = <span class="hljs-number">20</span><br><br><span class="hljs-comment"># Sample from a category and starting letter</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">sample</span>(<span class="hljs-params">category, start_letter=<span class="hljs-string">&#x27;A&#x27;</span></span>):<br>    <span class="hljs-keyword">with</span> torch.no_grad():  <span class="hljs-comment"># no need to track history in sampling</span><br>        category_tensor = categoryTensor(category)<br>        <span class="hljs-built_in">input</span> = inputTensor(start_letter)<br>        hidden = rnn.initHidden()<br><br>        output_name = start_letter<br><br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(max_length):<br>            output, hidden = rnn(category_tensor, <span class="hljs-built_in">input</span>[<span class="hljs-number">0</span>], hidden)<br>            topv, topi = output.topk(<span class="hljs-number">1</span>)<br>            topi = topi[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>]<br>            <span class="hljs-keyword">if</span> topi == n_letters - <span class="hljs-number">1</span>:<br>                <span class="hljs-keyword">break</span><br>            <span class="hljs-keyword">else</span>:<br>                letter = all_letters[topi]<br>                output_name += letter<br>            <span class="hljs-built_in">input</span> = inputTensor(letter)<br><br>        <span class="hljs-keyword">return</span> output_name<br><br><span class="hljs-comment"># Get multiple samples from one category and multiple starting letters</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">samples</span>(<span class="hljs-params">category, start_letters=<span class="hljs-string">&#x27;ABC&#x27;</span></span>):<br>    <span class="hljs-keyword">for</span> start_letter <span class="hljs-keyword">in</span> start_letters:<br>        <span class="hljs-built_in">print</span>(sample(category, start_letter))<br><br>samples(<span class="hljs-string">&#x27;Russian&#x27;</span>, <span class="hljs-string">&#x27;RUS&#x27;</span>)<br><br>samples(<span class="hljs-string">&#x27;German&#x27;</span>, <span class="hljs-string">&#x27;GER&#x27;</span>)<br><br>samples(<span class="hljs-string">&#x27;Spanish&#x27;</span>, <span class="hljs-string">&#x27;SPA&#x27;</span>)<br><br>samples(<span class="hljs-string">&#x27;Chinese&#x27;</span>, <span class="hljs-string">&#x27;CHI&#x27;</span>)<br></code></pre></td></tr></table></figure><p><strong>tipsï¼š</strong></p><p>å¦ä¸€ç§ç­–ç•¥æ˜¯ï¼Œåœ¨è®­ç»ƒä¸­åŠ å…¥ä¸€ä¸ªâ€œå­—ç¬¦ä¸²å¼€å¤´â€æ ‡è®°ï¼Œå¹¶è®©ç½‘ç»œé€‰æ‹©è‡ªå·±çš„èµ·å§‹å­—æ¯ï¼Œè€Œä¸æ˜¯ç»™å®ƒä¸€ä¸ªèµ·å§‹å­—æ¯ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>AI Ê¢áµ•á´—áµ•Ê¡</category>
      
      <category>Pytorch</category>
      
      <category>Pytorché¡¹ç›®å®æˆ˜</category>
      
    </categories>
    
    
    <tags>
      
      <tag>AI</tag>
      
      <tag>Pytorch</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>randomåº“çš„ä½¿ç”¨ï¼â˜ƒï¸</title>
    <link href="/2024/02/16/%E7%AE%97%E6%B3%95/python/python%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/python%E4%B8%ADrandom%E5%BA%93/"/>
    <url>/2024/02/16/%E7%AE%97%E6%B3%95/python/python%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/python%E4%B8%ADrandom%E5%BA%93/</url>
    
    <content type="html"><![CDATA[<h1 id="randomåº“çš„ä½¿ç”¨"><a href="#randomåº“çš„ä½¿ç”¨" class="headerlink" title="randomåº“çš„ä½¿ç”¨"></a>randomåº“çš„ä½¿ç”¨</h1><h2 id="1-åŸºæœ¬ä½¿ç”¨æ–¹æ³•"><a href="#1-åŸºæœ¬ä½¿ç”¨æ–¹æ³•" class="headerlink" title="1.åŸºæœ¬ä½¿ç”¨æ–¹æ³•"></a>1.åŸºæœ¬ä½¿ç”¨æ–¹æ³•</h2><p><code>random</code> æ˜¯ Python ä¸­çš„ä¸€ä¸ªæ¨¡å—ï¼Œæä¾›äº†ç”Ÿæˆéšæœºæ•°çš„å‡½æ•°ã€‚ä»¥ä¸‹æ˜¯ <code>random</code> æ¨¡å—ä¸­å¸¸ç”¨çš„ä¸€äº›å‡½æ•°çš„ç®€è¦ä»‹ç»ï¼š</p><ol><li><code>random()</code>: è¿”å›ä¸€ä¸ªåœ¨åŒºé—´ <strong>[0.0, 1.0)</strong> å†…çš„éšæœºæµ®ç‚¹æ•°ã€‚</li><li><code>randint(a, b)</code>: è¿”å›ä¸€ä¸ªåœ¨åŒºé—´ <strong>[a, b]</strong> å†…çš„éšæœºæ•´æ•°ï¼ˆåŒ…æ‹¬è¾¹ç•Œå€¼ï¼‰ã€‚</li><li><code>choice(seq)</code>: ä»éç©ºåºåˆ— <code>seq</code> ä¸­éšæœºé€‰æ‹©ä¸€ä¸ªå…ƒç´ å¹¶è¿”å›ã€‚</li><li><code>shuffle(seq)</code>: å¯¹åºåˆ— <code>seq</code> ä¸­çš„å…ƒç´ è¿›è¡ŒåŸåœ°æ‰“ä¹±ï¼ˆéšæœºæ’åˆ—ï¼‰ã€‚</li><li><code>sample(population, k)</code>: ä»æ€»ä½“ <code>population</code> ä¸­éšæœºé€‰æ‹© <code>k</code> ä¸ªä¸é‡å¤çš„å…ƒç´ ç»„æˆåˆ—è¡¨å¹¶è¿”å›ã€‚</li><li><code>uniform(a, b)</code>: è¿”å›ä¸€ä¸ªåœ¨åŒºé—´ <strong>[a, b)</strong> å†…çš„éšæœºæµ®ç‚¹æ•°ã€‚</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> random<br><br><span class="hljs-comment"># ç”Ÿæˆä¸€ä¸ªåœ¨ 0 åˆ° 1 ä¹‹é—´çš„éšæœºæµ®ç‚¹æ•°</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;éšæœºæµ®ç‚¹æ•°:&quot;</span>, random.random())<br><br><span class="hljs-comment"># ç”Ÿæˆä¸€ä¸ªåœ¨ 1 åˆ° 100 ä¹‹é—´çš„éšæœºæ•´æ•°</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;1 åˆ° 100 ä¹‹é—´çš„éšæœºæ•´æ•°:&quot;</span>, random.randint(<span class="hljs-number">1</span>, <span class="hljs-number">100</span>))<br><br><span class="hljs-comment"># ä»åˆ—è¡¨ä¸­éšæœºé€‰æ‹©ä¸€ä¸ªå…ƒç´ </span><br>my_list = [<span class="hljs-string">&#x27;è‹¹æœ&#x27;</span>, <span class="hljs-string">&#x27;é¦™è•‰&#x27;</span>, <span class="hljs-string">&#x27;æ©™å­&#x27;</span>, <span class="hljs-string">&#x27;è‘¡è„&#x27;</span>]<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;åˆ—è¡¨ä¸­çš„éšæœºé€‰æ‹©:&quot;</span>, random.choice(my_list))<br><br><span class="hljs-comment"># æ‰“ä¹±åˆ—è¡¨ä¸­çš„å…ƒç´ </span><br>random.shuffle(my_list)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æ‰“ä¹±åçš„åˆ—è¡¨:&quot;</span>, my_list)<br><br><span class="hljs-comment"># ä»åˆ—è¡¨ä¸­éšæœºé€‰æ‹©ä¸¤ä¸ªä¸é‡å¤çš„å…ƒç´ </span><br>sampled_elements = random.sample(my_list, <span class="hljs-number">2</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;é€‰å–çš„å…ƒç´ :&quot;</span>, sampled_elements)<br><br><span class="hljs-comment"># ç”Ÿæˆä¸€ä¸ªåœ¨ 5.0 åˆ° 10.0 ä¹‹é—´çš„éšæœºæµ®ç‚¹æ•°</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;5.0 åˆ° 10.0 ä¹‹é—´çš„éšæœºæµ®ç‚¹æ•°:&quot;</span>, random.uniform(<span class="hljs-number">5.0</span>, <span class="hljs-number">10.0</span>))<br></code></pre></td></tr></table></figure><h2 id="2-éšæœºç§å­"><a href="#2-éšæœºç§å­" class="headerlink" title="2.éšæœºç§å­"></a>2.éšæœºç§å­</h2><p>éšæœºç§å­ï¼ˆrandom seedï¼‰åœ¨è®¡ç®—ä¸­æ˜¯ä¸€ä¸ªèµ·å§‹è¾“å…¥å€¼ï¼Œå®ƒç”¨äºåˆå§‹åŒ–éšæœºæ•°ç”Ÿæˆå™¨ã€‚åœ¨ä½¿ç”¨ä¼ªéšæœºæ•°ç”Ÿæˆå™¨ç”Ÿæˆéšæœºæ•°æ—¶ï¼Œå¦‚æœç»™å®šäº†ç›¸åŒçš„éšæœºç§å­ï¼Œé‚£ä¹ˆæ¯æ¬¡ç”Ÿæˆçš„éšæœºæ•°åºåˆ—éƒ½å°†æ˜¯ç›¸åŒçš„ã€‚è¿™ä½¿å¾—éšæœºè¿‡ç¨‹å¯é‡ç°ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœä½ ä½¿ç”¨ç›¸åŒçš„éšæœºç§å­ï¼Œä½ å°†å¾—åˆ°ç›¸åŒçš„ç»“æœï¼Œè¿™åœ¨è®¸å¤šæƒ…å†µä¸‹éƒ½æ˜¯éå¸¸æœ‰ç”¨çš„ã€‚</p><p>ä¸¾ä¾‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> random<br><br><span class="hljs-comment"># è®¾ç½®éšæœºç§å­</span><br>random.seed(<span class="hljs-number">123</span>)<br><br><span class="hljs-comment"># ç”Ÿæˆéšæœºæ•°</span><br>random_number_1 = random.randint(<span class="hljs-number">1</span>, <span class="hljs-number">100</span>)<br>random_number_2 = random.randint(<span class="hljs-number">1</span>, <span class="hljs-number">100</span>)<br>random_number_3 = random.randint(<span class="hljs-number">1</span>, <span class="hljs-number">100</span>)<br><br><span class="hljs-comment"># è¾“å‡ºéšæœºæ•°</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;éšæœºæ•°1:&quot;</span>, random_number_1)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;éšæœºæ•°2:&quot;</span>, random_number_2)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;éšæœºæ•°3:&quot;</span>, random_number_3)<br></code></pre></td></tr></table></figure><p>æ— è®ºè¿è¡Œä¸Šè¿°ä»£ç å¤šå°‘æ¬¡ï¼Œç»“æœéƒ½æ˜¯ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">éšæœºæ•°<span class="hljs-number">1</span>: <span class="hljs-number">7</span><br>éšæœºæ•°<span class="hljs-number">2</span>: <span class="hljs-number">35</span><br>éšæœºæ•°<span class="hljs-number">3</span>: <span class="hljs-number">12</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>ç®—æ³• Ê•â‰§á´¥â‰¦Ê”</category>
      
      <category>Python</category>
      
      <category>Pythonåº“</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>pytorchä¸­nnæ¨¡å—ï¼ğŸ§</title>
    <link href="/2024/02/14/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/Pytorch/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/pytorch%E4%B8%ADnn%E6%A8%A1%E5%9D%97/"/>
    <url>/2024/02/14/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/Pytorch/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/pytorch%E4%B8%ADnn%E6%A8%A1%E5%9D%97/</url>
    
    <content type="html"><![CDATA[<h1 id="pytorchä¸­nnæ¨¡å—"><a href="#pytorchä¸­nnæ¨¡å—" class="headerlink" title="pytorchä¸­nnæ¨¡å—"></a>pytorchä¸­nnæ¨¡å—</h1><h2 id="0-nn-Module"><a href="#0-nn-Module" class="headerlink" title="0.nn.Module"></a>0.nn.Module</h2><h3 id="0-1-register-buffer"><a href="#0-1-register-buffer" class="headerlink" title="0.1 register_buffer"></a>0.1 register_buffer</h3><p><code>register_buffer</code> æ˜¯ PyTorch ä¸­ <code>Module</code> ç±»çš„æ–¹æ³•ä¹‹ä¸€ï¼Œç”¨äºå‘æ¨¡å‹æ³¨å†ŒæŒä¹…æ€§ç¼“å†²åŒºã€‚æŒä¹…æ€§ç¼“å†²åŒºæ˜¯ä¸€ç§ç‰¹æ®Šçš„å¼ é‡ï¼Œå…¶æ•°å€¼åœ¨<strong>è®­ç»ƒè¿‡ç¨‹ä¸­ä¸ä¼šæ›´æ–°</strong>ï¼Œä½†ä¼šè¢«<strong>ä¿å­˜åˆ°æ¨¡å‹çš„çŠ¶æ€å­—å…¸ä¸­</strong>ï¼ˆstate_dictï¼‰ï¼Œä»è€Œå¯ä»¥è¢«ä¿å­˜å’ŒåŠ è½½ã€‚</p><p>å…·ä½“è¯­æ³•ä¸ºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">register_buffer(name, tensor)<br></code></pre></td></tr></table></figure><p>å…¶ä¸­ï¼š</p><ul><li><code>name</code>ï¼šç¼“å†²åŒºçš„åç§°ï¼Œç”¨äºåœ¨æ¨¡å‹ä¸­æ ‡è¯†ç¼“å†²åŒºã€‚</li><li><code>tensor</code>ï¼šè¦æ³¨å†Œä¸ºç¼“å†²åŒºçš„å¼ é‡ã€‚</li></ul><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> torch<br><span class="hljs-keyword">import</span> torch.nn <span class="hljs-keyword">as</span> nn<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyModel</span>(nn.Module):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">super</span>(MyModel, self).__init__()<br>        <br>        self.register_buffer(<span class="hljs-string">&#x27;my_buffer&#x27;</span>, torch.zeros(<span class="hljs-number">3</span>, <span class="hljs-number">3</span>))<br><br>model = MyModel()<br><span class="hljs-built_in">print</span>(model.state_dict())<br></code></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœä¸ºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">OrderedDict([(<span class="hljs-string">&#x27;my_buffer&#x27;</span>, tensor([[<span class="hljs-number">0.</span>, <span class="hljs-number">0.</span>, <span class="hljs-number">0.</span>],<br>                                   [<span class="hljs-number">0.</span>, <span class="hljs-number">0.</span>, <span class="hljs-number">0.</span>],<br>                                   [<span class="hljs-number">0.</span>, <span class="hljs-number">0.</span>, <span class="hljs-number">0.</span>]]))])<br></code></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œåœ¨æ¨¡å‹ä¸­æ³¨å†Œäº†ä¸€ä¸ªåç§°ä¸º <code>&#39;my_buffer&#39;</code> çš„ç¼“å†²åŒºï¼Œå¹¶ä¸”åˆå§‹å€¼ä¸ºå…¨é›¶å¼ é‡ã€‚æ³¨å†Œçš„ç¼“å†²åŒºä¼šå‡ºç°åœ¨æ¨¡å‹çš„çŠ¶æ€å­—å…¸ä¸­ï¼Œå› æ­¤åœ¨ä¿å­˜å’ŒåŠ è½½æ¨¡å‹æ—¶ä¼šè¢«è‡ªåŠ¨å¤„ç†ã€‚</p><p><code>register_buffer</code> æ–¹æ³•é€šå¸¸ç”¨äºå°†æ¨¡å‹ä¸­éœ€è¦æŒä¹…å­˜å‚¨çš„å›ºå®šå‚æ•°ï¼ˆå¦‚å¹³å‡å€¼ã€æ ‡å‡†å·®ç­‰ï¼‰æ³¨å†Œä¸ºç¼“å†²åŒºã€‚</p><h2 id="1-nn-LogSoftmax"><a href="#1-nn-LogSoftmax" class="headerlink" title="1.nn.LogSoftmax"></a>1.nn.LogSoftmax</h2><p>åœ¨PyTorchä¸­ï¼Œ<code>nn.LogSoftmax</code>æ˜¯ä¸€ä¸ªç”¨äºè®¡ç®—å¯¹æ•°softmaxçš„æ¨¡å—ã€‚softmaxå‡½æ•°ç”¨äºå°†ä¸€ä¸ªå‘é‡å˜æ¢æˆæ¦‚ç‡åˆ†å¸ƒï¼Œè€Œlog softmaxå‡½æ•°åˆ™æ˜¯åœ¨softmaxçš„åŸºç¡€ä¸Šå–å¯¹æ•°ã€‚log softmaxå‡½æ•°çš„è¾“å‡ºé€šå¸¸ç”¨ä½œç¥ç»ç½‘ç»œè¾“å‡ºå±‚çš„æ¿€æ´»å‡½æ•°ï¼Œç‰¹åˆ«æ˜¯åœ¨å¤šç±»åˆ«åˆ†ç±»ä»»åŠ¡ä¸­ã€‚</p><p><code>nn.LogSoftmax</code>æ¨¡å—çš„è¾“å…¥æ˜¯ä¸€ä¸ªå¼ é‡ï¼Œé€šå¸¸æ˜¯ç½‘ç»œçš„åŸå§‹è¾“å‡ºï¼ˆæœªç»softmaxå¤„ç†ï¼‰ï¼Œè¾“å‡ºæ˜¯ä¸€ä¸ªå¼ é‡ï¼Œå…¶ä¸­åŒ…å«å¯¹æ•°softmaxçš„ç»“æœã€‚</p><p>ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ï¼Œæ¼”ç¤ºå¦‚ä½•ä½¿ç”¨<code>nn.LogSoftmax</code>æ¨¡å—ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> torch<br><span class="hljs-keyword">import</span> torch.nn <span class="hljs-keyword">as</span> nn<br><br><span class="hljs-comment"># å‡è®¾åŸå§‹è¾“å‡ºä¸º raw_outputï¼Œå½¢çŠ¶ä¸º (batch_size, num_classes)</span><br>raw_output = torch.randn(<span class="hljs-number">32</span>, <span class="hljs-number">10</span>)  <span class="hljs-comment"># å‡è®¾æ‰¹é‡å¤§å°ä¸º32ï¼Œç±»åˆ«æ•°ä¸º10</span><br><br><span class="hljs-comment"># åˆ›å»º LogSoftmax æ¨¡å—</span><br>log_softmax = nn.LogSoftmax(dim=<span class="hljs-number">1</span>)<br><br><span class="hljs-comment"># å¯¹åŸå§‹è¾“å‡ºè¿›è¡Œå¯¹æ•°softmaxè®¡ç®—</span><br>log_probs = log_softmax(raw_output)<br><br><span class="hljs-comment"># è¾“å‡ºç»“æœ</span><br><span class="hljs-built_in">print</span>(log_probs)<br></code></pre></td></tr></table></figure><p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆåˆ›å»ºäº†ä¸€ä¸ªå…·æœ‰éšæœºå€¼çš„åŸå§‹è¾“å‡ºå¼ é‡ <code>raw_output</code>ã€‚ç„¶åï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ª <code>LogSoftmax</code> æ¨¡å—ï¼Œå¹¶åœ¨ <code>dim=1</code> çš„ç»´åº¦ä¸Šå¯¹åŸå§‹è¾“å‡ºè¿›è¡Œäº†å¯¹æ•°softmaxè®¡ç®—ã€‚æœ€åï¼Œæˆ‘ä»¬æ‰“å°äº†å¯¹æ•°softmaxçš„ç»“æœ <code>log_probs</code>ã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¯¹æ•°softmaxçš„è¾“å‡ºæ˜¯ç»è¿‡å¯¹æ•°å¤„ç†çš„æ¦‚ç‡åˆ†å¸ƒï¼Œå› æ­¤å®ƒçš„æ¯ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ªè´Ÿæ•°ã€‚é€šå¸¸åœ¨è®­ç»ƒåˆ†ç±»æ¨¡å‹æ—¶ï¼Œå°†å¯¹æ•°softmaxçš„è¾“å‡ºä¸æ ‡ç­¾è¿›è¡Œæ¯”è¾ƒï¼Œè®¡ç®—æŸå¤±å‡½æ•°ï¼Œä¾‹å¦‚äº¤å‰ç†µæŸå¤±ã€‚</p><p><strong>tipsï¼š</strong></p><p>å–å¯¹æ•°æœ‰å‡ ä¸ªå¥½å¤„ï¼š</p><ol><li><strong>æ•°å€¼ç¨³å®šæ€§</strong>ï¼šåœ¨è®¡ç®—æ¦‚ç‡æ—¶ï¼Œé€šå¸¸ä¼šæ¶‰åŠåˆ°å¤šä¸ªå°æ¦‚ç‡çš„ç›¸ä¹˜ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´æ•°å€¼ä¸‹æº¢ï¼ˆå³ç»“æœæ¥è¿‘äºé›¶ï¼‰ã€‚é€šè¿‡å–å¯¹æ•°ï¼Œå¯ä»¥å°†ç›¸ä¹˜è½¬æ¢ä¸ºç›¸åŠ ï¼Œé¿å…äº†æ•°å€¼ä¸‹æº¢çš„é—®é¢˜ã€‚åŒæ—¶ï¼Œå–å¯¹æ•°ä¹Ÿå¯ä»¥å‡å°‘æ•°å€¼æº¢å‡ºçš„é£é™©ï¼Œç‰¹åˆ«æ˜¯åœ¨è®¡ç®—æŒ‡æ•°æ—¶ã€‚</li><li><strong>ç®€åŒ–è®¡ç®—</strong>ï¼šå–å¯¹æ•°å¯ä»¥å°†å¤æ‚çš„æŒ‡æ•°è¿ç®—è½¬æ¢ä¸ºåŠ æ³•è¿ç®—ï¼Œä»è€Œç®€åŒ–äº†è®¡ç®—è¿‡ç¨‹ã€‚è¿™åœ¨æœºå™¨å­¦ä¹ å’Œæ·±åº¦å­¦ä¹ ä¸­å°¤ä¸ºé‡è¦ï¼Œå› ä¸ºè®¸å¤šä¼˜åŒ–ç®—æ³•ï¼ˆå¦‚æ¢¯åº¦ä¸‹é™ï¼‰éƒ½æ¶‰åŠåˆ°å¯¹æ•°ä¼¼ç„¶æˆ–å¯¹æ•°æŸå¤±çš„è®¡ç®—ã€‚</li><li><strong>è§£é‡Šæ€§</strong>ï¼šåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå¯¹æ•°å¯ä»¥æä¾›æ›´ç›´è§‚å’Œæ˜“è§£é‡Šçš„ç»“æœã€‚ä¾‹å¦‚ï¼Œåœ¨å¯¹æ•°å°ºåº¦ä¸‹ï¼Œä¹˜æ³•æ“ä½œå˜æˆäº†åŠ æ³•æ“ä½œï¼Œè¿™ä½¿å¾—æ•°æ®çš„å˜åŒ–æ›´å®¹æ˜“ç†è§£ã€‚</li><li><strong>ç»Ÿè®¡æ€§è´¨</strong>ï¼šåœ¨ç»Ÿè®¡å­¦ä¸­ï¼Œå¯¹æ•°å˜æ¢å¯ä»¥ä½¿æ•°æ®æ›´ç¬¦åˆæ­£æ€åˆ†å¸ƒæˆ–è€…æ›´æ¥è¿‘çº¿æ€§å…³ç³»ï¼Œä»è€Œä½¿å¾—ä¸€äº›ç»Ÿè®¡åˆ†ææ›´åŠ æœ‰æ•ˆã€‚</li></ol><p>æ€»çš„æ¥è¯´ï¼Œå–å¯¹æ•°å¯ä»¥æé«˜æ•°å€¼ç¨³å®šæ€§ï¼Œç®€åŒ–è®¡ç®—ï¼Œå¹¶åœ¨æŸäº›æƒ…å†µä¸‹æä¾›æ›´å¥½çš„è§£é‡Šå’Œç»Ÿè®¡æ€§è´¨ï¼Œå› æ­¤åœ¨å®é™…åº”ç”¨ä¸­ç»å¸¸è¢«ä½¿ç”¨ã€‚</p><h2 id="2-nn-NLLLoss"><a href="#2-nn-NLLLoss" class="headerlink" title="2.nn.NLLLoss"></a>2.nn.NLLLoss</h2><p><code>nn.NLLLoss</code> æ˜¯PyTorchä¸­çš„ä¸€ä¸ªæŸå¤±å‡½æ•°ï¼Œç”¨äºå¤šåˆ†ç±»é—®é¢˜ä¸­çš„è´Ÿå¯¹æ•°ä¼¼ç„¶æŸå¤±ï¼ˆNegative Log Likelihood Lossï¼‰ã€‚åœ¨PyTorchä¸­ï¼Œé€šå¸¸ä¸LogSoftmaxå±‚ç»“åˆä½¿ç”¨ï¼Œç”¨äºè®­ç»ƒä¸€ä¸ªåˆ†ç±»å™¨ï¼Œè¯¥åˆ†ç±»å™¨çš„è¾“å‡ºæ˜¯ç»è¿‡LogSoftmaxå¤„ç†çš„åŸå§‹è¾“å‡ºã€‚</p><p>å…·ä½“æ¥è¯´ï¼Œ<code>nn.NLLLoss</code> æœŸæœ›è¾“å…¥æ˜¯ç»è¿‡LogSoftmaxå¤„ç†åçš„å¯¹æ•°æ¦‚ç‡åˆ†å¸ƒçš„å¼ é‡ã€‚å®ƒçš„è®¡ç®—æ–¹å¼æ˜¯æ ¹æ®ç›®æ ‡æ ‡ç­¾å’Œæ¨¡å‹é¢„æµ‹çš„å¯¹æ•°æ¦‚ç‡åˆ†å¸ƒæ¥è®¡ç®—æŸå¤±å€¼ï¼Œç„¶åè¿”å›å¹³å‡æŸå¤±å€¼ã€‚</p><p>ä»¥ä¸‹æ˜¯ <code>nn.NLLLoss</code> çš„ä¸€äº›ä¸»è¦å‚æ•°å’Œå®ç°ç»†èŠ‚ï¼š</p><ul><li><strong>å‚æ•°</strong>ï¼š<ul><li><code>weight</code>ï¼šå¯é€‰å‚æ•°ï¼Œå¯ä»¥æŒ‡å®šä¸€ä¸ªå¼ é‡ä½œä¸ºæŸå¤±å‡½æ•°çš„æƒé‡ï¼Œç”¨äºåœ¨æŸäº›ç±»åˆ«ä¸Šæ”¾å¤§æˆ–å‡å°æŸå¤±ã€‚</li><li><code>ignore_index</code>ï¼šå¯é€‰å‚æ•°ï¼ŒæŒ‡å®šä¸€ä¸ªç±»åˆ«ç´¢å¼•ï¼Œå¿½ç•¥è¯¥ç´¢å¼•å¯¹åº”çš„é¢„æµ‹å€¼å’Œç›®æ ‡å€¼ï¼Œä¸è®¡å…¥æŸå¤±è®¡ç®—ä¸­ã€‚</li><li><code>reduction</code>ï¼šå¯é€‰å‚æ•°ï¼ŒæŒ‡å®šæŸå¤±çš„è®¡ç®—æ–¹å¼ï¼Œå¯é€‰å€¼æœ‰<code>&#39;none&#39;</code>ï¼ˆä¸è¿›è¡Œé™ç»´ï¼Œè¿”å›æ¯ä¸ªæ ·æœ¬çš„æŸå¤±å€¼ï¼‰ã€<code>&#39;mean&#39;</code>ï¼ˆå¯¹æ‰€æœ‰æ ·æœ¬çš„æŸå¤±å€¼å–å¹³å‡ï¼‰ã€<code>&#39;sum&#39;</code>ï¼ˆå¯¹æ‰€æœ‰æ ·æœ¬çš„æŸå¤±å€¼æ±‚å’Œï¼‰ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">criterion = nn.NLLLoss()<br>loss = criterion(output, target)<br></code></pre></td></tr></table></figure><p>å…¶ä¸­ï¼Œ<code>output</code> æ˜¯ç»è¿‡LogSoftmaxå¤„ç†åçš„æ¨¡å‹è¾“å‡ºçš„å¼ é‡ï¼Œ<code>target</code> æ˜¯å¯¹åº”çš„ç›®æ ‡æ ‡ç­¾çš„å¼ é‡ã€‚<code>output</code> çš„å½¢çŠ¶ä¸€èˆ¬æ˜¯ <code>(batch_size, num_classes)</code>ï¼Œ<code>target</code> çš„å½¢çŠ¶ä¸€èˆ¬æ˜¯ <code>(batch_size)</code>ï¼Œå…¶ä¸­ <code>batch_size</code> æ˜¯ä¸€ä¸ªæ‰¹æ¬¡çš„æ ·æœ¬æ•°é‡ï¼Œ<code>num_classes</code> æ˜¯åˆ†ç±»çš„ç±»åˆ«æ•°é‡ã€‚</p><p><code>nn.NLLLoss</code> ä¼šå°† <code>output</code> ä¸­çš„æ¯ä¸ªæ ·æœ¬çš„å¯¹æ•°æ¦‚ç‡ä¸ <code>target</code> ä¸­å¯¹åº”æ ·æœ¬çš„æ ‡ç­¾è¿›è¡Œæ¯”è¾ƒï¼Œå¹¶è®¡ç®—æŸå¤±å€¼ã€‚ç„¶åæ ¹æ®æŒ‡å®šçš„ <code>reduction</code> å‚æ•°æ¥è¿›è¡Œé™ç»´æ“ä½œï¼Œå¾—åˆ°ä¸€ä¸ªæ ‡é‡æŸå¤±å€¼ï¼Œå³æœ€ç»ˆçš„æŸå¤±ç»“æœã€‚</p><p>è¿™ä¸ªæŸå¤±å‡½æ•°åœ¨è®­ç»ƒåˆ†ç±»å™¨æ—¶éå¸¸å¸¸ç”¨ï¼Œç‰¹åˆ«æ˜¯åœ¨å¤šåˆ†ç±»é—®é¢˜ä¸­ã€‚ </p><p><strong>tipsï¼š</strong></p><p> <code>batch_size</code> æ˜¯ä¸€ä¸ªæ‰¹æ¬¡çš„æ ·æœ¬æ•°é‡ã€‚æ¯ä¸ªå…ƒç´ è¡¨ç¤ºå¯¹åº”æ ·æœ¬çš„ç±»åˆ«æ ‡ç­¾ï¼Œé€šå¸¸æ˜¯ä¸€ä¸ªæ•´æ•°å€¼ï¼Œè¡¨ç¤ºæ ·æœ¬å±äºå“ªä¸ªç±»åˆ«ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä¸€ä¸ªæ‰¹æ¬¡æœ‰ 32 ä¸ªæ ·æœ¬ï¼Œæ¯ä¸ªæ ·æœ¬çš„ç±»åˆ«æ ‡ç­¾åˆ†åˆ«ä¸º <code>[0, 1, 2, ..., 9]</code>ï¼Œé‚£ä¹ˆ <code>target</code> çš„å½¢çŠ¶å°†æ˜¯ <code>(32,)</code>ã€‚</p><h2 id="3-nn-Dropout"><a href="#3-nn-Dropout" class="headerlink" title="3.nn.Dropout"></a>3.nn.Dropout</h2><p>åœ¨ PyTorch ä¸­ï¼Œ<code>nn.Dropout</code> æ˜¯ä¸€ä¸ªç”¨äºå®ç° dropout æ“ä½œçš„æ¨¡å—ã€‚Dropout æ˜¯ä¸€ç§åœ¨ç¥ç»ç½‘ç»œä¸­ç”¨äºé˜²æ­¢è¿‡æ‹Ÿåˆçš„æ­£åˆ™åŒ–æŠ€æœ¯ã€‚å…¶åŸç†æ˜¯åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œéšæœºå°†ç¥ç»å…ƒçš„è¾“å‡ºè®¾ç½®ä¸ºé›¶ï¼Œä»è€Œå‡å°‘ç¥ç»å…ƒä¹‹é—´çš„ä¾èµ–æ€§ï¼Œä»¥é˜²æ­¢è¿‡æ‹Ÿåˆã€‚</p><p><code>nn.Dropout</code> æ¨¡å—åœ¨æ¯æ¬¡å‰å‘ä¼ æ’­æ—¶ä»¥ä¸€å®šçš„æ¦‚ç‡ï¼ˆé€šå¸¸æ˜¯0.5ï¼‰å°†è¾“å…¥å¼ é‡ä¸­çš„ä¸€äº›å…ƒç´ è®¾ç½®ä¸ºé›¶ã€‚è¿™æ ·åšå¯ä»¥æ¨¡æ‹Ÿåœ¨è®­ç»ƒæœŸé—´éšæœºä¸¢å¼ƒç¥ç»å…ƒçš„æ•ˆæœï¼Œä»è€Œä½¿å¾—ç½‘ç»œæ›´åŠ å¥å£®ã€‚</p><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ï¼Œå±•ç¤ºäº†å¦‚ä½•åœ¨ PyTorch ä¸­ä½¿ç”¨ <code>nn.Dropout</code>ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> torch<br><span class="hljs-keyword">import</span> torch.nn <span class="hljs-keyword">as</span> nn<br><br><span class="hljs-comment"># å®šä¹‰ä¸€ä¸ªç®€å•çš„ç¥ç»ç½‘ç»œ</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">SimpleNet</span>(nn.Module):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">super</span>(SimpleNet, self).__init__()<br>        self.fc1 = nn.Linear(<span class="hljs-number">10</span>, <span class="hljs-number">20</span>)<br>        self.dropout = nn.Dropout(p=<span class="hljs-number">0.5</span>)  <span class="hljs-comment"># è®¾ç½®ä¸¢å¼ƒæ¦‚ç‡ä¸º0.5</span><br>        self.fc2 = nn.Linear(<span class="hljs-number">20</span>, <span class="hljs-number">1</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, x</span>):<br>        x = torch.relu(self.fc1(x))<br>        x = self.dropout(x)  <span class="hljs-comment"># åœ¨ç¬¬ä¸€ä¸ªå…¨è¿æ¥å±‚çš„è¾“å‡ºä¸Šåº”ç”¨dropout</span><br>        x = self.fc2(x)<br>        <span class="hljs-keyword">return</span> x<br><br><span class="hljs-comment"># ä½¿ç”¨ç¤ºä¾‹</span><br>model = SimpleNet()<br>input_tensor = torch.randn(<span class="hljs-number">1</span>, <span class="hljs-number">10</span>)  <span class="hljs-comment"># è¾“å…¥å¼ é‡å¤§å°ä¸º [1, 10]</span><br>output = model(input_tensor)<br><span class="hljs-built_in">print</span>(output)<br></code></pre></td></tr></table></figure><h2 id="4-nn-GRU"><a href="#4-nn-GRU" class="headerlink" title="4.nn.GRU"></a>4.nn.GRU</h2><p><code>nn.GRU</code> æ˜¯ PyTorch æ·±åº¦å­¦ä¹ æ¡†æ¶ä¸­çš„ä¸€ä¸ªæ¨¡å—ï¼Œç”¨äºå®ç°é—¨æ§å¾ªç¯å•å…ƒï¼ˆGated Recurrent Unitï¼ŒGRUï¼‰çš„ç¥ç»ç½‘ç»œå±‚ã€‚GRU æ˜¯ä¸€ç§å¾ªç¯ç¥ç»ç½‘ç»œï¼ˆRecurrent Neural Networkï¼ŒRNNï¼‰çš„å˜ä½“ï¼Œç”¨äºå¤„ç†åºåˆ—æ•°æ®ï¼Œä¾‹å¦‚æ–‡æœ¬ã€æ—¶é—´åºåˆ—ç­‰ã€‚</p><p>GRU ä¸ä¼ ç»Ÿçš„ RNN ä¸åŒä¹‹å¤„åœ¨äºå…¶å¼•å…¥äº†é—¨æ§æœºåˆ¶ï¼Œæœ‰åŠ©äºç¼“è§£é•¿æœŸä¾èµ–é—®é¢˜ï¼Œå¹¶ä¸”å…·æœ‰è¾ƒå°‘çš„å‚æ•°ï¼Œè®­ç»ƒæ›´å¿«ã€‚åœ¨ GRU ä¸­ï¼Œæœ‰ä¸¤ä¸ªé—¨æ§å•å…ƒï¼šæ›´æ–°é—¨ï¼ˆUpdate Gateï¼‰å’Œé‡ç½®é—¨ï¼ˆReset Gateï¼‰ã€‚è¿™äº›é—¨æ§å•å…ƒæœ‰åŠ©äºç½‘ç»œå†³å®šåœ¨æ¯ä¸ªæ—¶é—´æ­¥åº”è¯¥ä¿ç•™å¤šå°‘è¿‡å»çš„ä¿¡æ¯ï¼Œå¹¶å†³å®šåœ¨å½“å‰æ—¶é—´æ­¥åº”è¯¥è€ƒè™‘å¤šå°‘æ–°çš„ä¿¡æ¯ã€‚è¿™ç§æœºåˆ¶æœ‰åŠ©äº GRU æ›´å¥½åœ°æ•è·åºåˆ—ä¸­çš„é•¿æœŸä¾èµ–å…³ç³»ã€‚</p><p>åœ¨ PyTorch ä¸­ï¼Œ<code>nn.GRU</code> æ¨¡å—å®ç°äº†è¿™ç§ GRU ç»“æ„ï¼Œå¹¶æä¾›äº†ä¸€ä¸ªæ–¹ä¾¿çš„æ¥å£ï¼Œä½¿ç”¨æˆ·èƒ½å¤Ÿè½»æ¾åœ°åœ¨è‡ªå·±çš„æ¨¡å‹ä¸­ä½¿ç”¨ GRU å±‚ã€‚é€šå¸¸ï¼Œä½ å¯ä»¥é€šè¿‡å®ä¾‹åŒ– <code>nn.GRU</code> ç±»æ¥åˆ›å»ºä¸€ä¸ª GRU å±‚ï¼Œå¹¶å°†å…¶ç”¨ä½œç¥ç»ç½‘ç»œæ¨¡å‹çš„ä¸€éƒ¨åˆ†ï¼Œç”¨äºå¤„ç†åºåˆ—æ•°æ®çš„å»ºæ¨¡ä»»åŠ¡ã€‚</p><p>ä¸¾ä¾‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> torch<br><span class="hljs-keyword">import</span> torch.nn <span class="hljs-keyword">as</span> nn<br><br><span class="hljs-comment"># å‡è®¾è¯æ±‡è¡¨ä¸­æœ‰10ä¸ªå•è¯ï¼Œæ¯ä¸ªå•è¯ç”¨5ç»´å‘é‡è¡¨ç¤º</span><br>vocab_size = <span class="hljs-number">10</span><br>embedding_dim = <span class="hljs-number">5</span><br><br><span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªè¯åµŒå…¥å±‚</span><br>embedding_layer = nn.Embedding(num_embeddings=vocab_size, embedding_dim=embedding_dim)<br>gru = nn.GRU(<span class="hljs-number">5</span>, <span class="hljs-number">5</span>, batch_first=<span class="hljs-literal">True</span>)<br><br><span class="hljs-comment"># è¾“å…¥çš„ç´¢å¼•åºåˆ—</span><br>input_indices = torch.LongTensor([<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9</span>])<br><br><span class="hljs-comment"># å°†è¾“å…¥ç´¢å¼•ä¼ é€’ç»™è¯åµŒå…¥å±‚ï¼Œå¾—åˆ°å¯¹åº”çš„è¯åµŒå…¥å‘é‡</span><br>embeddings = embedding_layer(input_indices)<br>output, hidden = gru(embeddings)<br><br><br><span class="hljs-built_in">print</span>(embeddings)<br><span class="hljs-built_in">print</span>(output)<br><span class="hljs-built_in">print</span>(hidden)<br></code></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python">tensor([[-<span class="hljs-number">1.7065</span>,  <span class="hljs-number">1.4895</span>, -<span class="hljs-number">1.4307</span>, -<span class="hljs-number">1.3842</span>, -<span class="hljs-number">0.7688</span>],<br>        [-<span class="hljs-number">1.4263</span>, -<span class="hljs-number">0.1287</span>,  <span class="hljs-number">0.2118</span>, -<span class="hljs-number">0.1879</span>,  <span class="hljs-number">1.4776</span>],<br>        [ <span class="hljs-number">0.5036</span>, -<span class="hljs-number">1.5243</span>, -<span class="hljs-number">1.3386</span>, -<span class="hljs-number">1.5916</span>, -<span class="hljs-number">0.6122</span>],<br>        [-<span class="hljs-number">0.2163</span>,  <span class="hljs-number">1.0274</span>,  <span class="hljs-number">0.4618</span>,  <span class="hljs-number">0.6996</span>,  <span class="hljs-number">2.0424</span>],<br>        [-<span class="hljs-number">1.5138</span>,  <span class="hljs-number">1.0113</span>, -<span class="hljs-number">0.9857</span>,  <span class="hljs-number">0.2578</span>,  <span class="hljs-number">0.1028</span>]],<br>       grad_fn=&lt;EmbeddingBackward0&gt;)<br>tensor([[ <span class="hljs-number">0.1186</span>, -<span class="hljs-number">0.3294</span>,  <span class="hljs-number">0.6707</span>,  <span class="hljs-number">0.2636</span>,  <span class="hljs-number">0.0757</span>],<br>        [ <span class="hljs-number">0.3987</span>, -<span class="hljs-number">0.3611</span>,  <span class="hljs-number">0.6153</span>,  <span class="hljs-number">0.1641</span>, -<span class="hljs-number">0.4888</span>],<br>        [ <span class="hljs-number">0.0880</span>,  <span class="hljs-number">0.0423</span>,  <span class="hljs-number">0.6707</span>,  <span class="hljs-number">0.2705</span>, -<span class="hljs-number">0.0653</span>],<br>        [ <span class="hljs-number">0.3424</span>,  <span class="hljs-number">0.0956</span>,  <span class="hljs-number">0.4108</span>, -<span class="hljs-number">0.0138</span>, -<span class="hljs-number">0.6475</span>],<br>        [ <span class="hljs-number">0.4621</span>, -<span class="hljs-number">0.3295</span>,  <span class="hljs-number">0.6419</span>,  <span class="hljs-number">0.0566</span>, -<span class="hljs-number">0.5258</span>]],<br>       grad_fn=&lt;SqueezeBackward1&gt;)<br>tensor([[ <span class="hljs-number">0.4621</span>, -<span class="hljs-number">0.3295</span>,  <span class="hljs-number">0.6419</span>,  <span class="hljs-number">0.0566</span>, -<span class="hljs-number">0.5258</span>]],<br>       grad_fn=&lt;SqueezeBackward1&gt;)<br></code></pre></td></tr></table></figure><p>è¾“å…¥çš„è¯çš„ä¸ªæ•°ä¸º5ï¼Œåˆ™outputçš„ç¬¬ä¸€ä¸ªç»´åº¦ä¹Ÿä¸º5ï¼Œå› ä¸ºgruè¾“å‡ºçš„æ˜¯æ¯ä¸ªè¯çš„outputã€‚</p><h2 id="5-nn-Embedding"><a href="#5-nn-Embedding" class="headerlink" title="5.nn.Embedding"></a>5.nn.Embedding</h2><p><code>nn.Embedding</code> æ˜¯ PyTorch ä¸­çš„ä¸€ä¸ªç±»ï¼Œç”¨äºåˆ›å»ºä¸€ä¸ªå¯è®­ç»ƒçš„è¯åµŒå…¥å±‚ã€‚åœ¨è‡ªç„¶è¯­è¨€å¤„ç†ä»»åŠ¡ä¸­ï¼Œè¯åµŒå…¥æ˜¯å°†å•è¯æ˜ å°„åˆ°é«˜ç»´å®æ•°å‘é‡çš„æŠ€æœ¯ï¼Œå®ƒå¯ä»¥å°†å•è¯è¡¨ç¤ºä¸ºè¿ç»­çš„å‘é‡ç©ºé—´ä¸­çš„ç‚¹ï¼Œä»è€Œæ•æ‰å•è¯ä¹‹é—´çš„è¯­ä¹‰ç›¸ä¼¼æ€§å’Œå…³ç³»ã€‚</p><p><code>nn.Embedding</code> æ¥å—ä¸¤ä¸ªå‚æ•°ï¼š</p><ol><li><code>num_embeddings</code>ï¼šè¡¨ç¤ºè¯æ±‡è¡¨çš„å¤§å°ï¼Œå³è¯æ±‡è¡¨ä¸­å”¯ä¸€å•è¯çš„æ•°é‡ã€‚</li><li><code>embedding_dim</code>ï¼šè¡¨ç¤ºè¯åµŒå…¥çš„ç»´åº¦ï¼Œå³æ¯ä¸ªå•è¯å°†è¢«æ˜ å°„åˆ°çš„å‘é‡çš„ç»´åº¦ã€‚</li></ol><p>åœ¨åˆ›å»º <code>nn.Embedding</code> å®ä¾‹æ—¶ï¼ŒPyTorch ä¼šéšæœºåˆå§‹åŒ–è¯åµŒå…¥çŸ©é˜µï¼Œå¤§å°ä¸º <code>(num_embeddings, embedding_dim)</code>ã€‚åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œæ¨¡å‹ä¼šé€šè¿‡åå‘ä¼ æ’­è‡ªåŠ¨å­¦ä¹ è¿™äº›è¯åµŒå…¥å‚æ•°ï¼Œä»¥æœ€å°åŒ–æŸå¤±å‡½æ•°ã€‚</p><p><code>nn.Embedding</code> çš„è¾“å…¥æ˜¯ä¸€ä¸ªæ•´æ•°å¼ é‡ï¼Œå…¶ä¸­çš„æ¯ä¸ªæ•´æ•°ä»£è¡¨è¯æ±‡è¡¨ä¸­çš„ä¸€ä¸ªå•è¯çš„ç´¢å¼•ã€‚å®ƒçš„è¾“å‡ºæ˜¯æ ¹æ®è¾“å…¥ç´¢å¼•å¯¹åº”çš„è¯åµŒå…¥å‘é‡ã€‚è¿™ä½¿å¾—æ¨¡å‹èƒ½å¤Ÿåœ¨è®­ç»ƒè¿‡ç¨‹ä¸­åŠ¨æ€åœ°å­¦ä¹ å•è¯çš„åˆ†å¸ƒå¼è¡¨ç¤ºï¼Œä»è€Œæ›´å¥½åœ°ç†è§£è¯­ä¹‰å’Œä¸Šä¸‹æ–‡ä¿¡æ¯ã€‚</p><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ï¼Œè¯´æ˜å¦‚ä½•ä½¿ç”¨ <code>nn.Embedding</code>ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> torch<br><span class="hljs-keyword">import</span> torch.nn <span class="hljs-keyword">as</span> nn<br><br><span class="hljs-comment"># å‡è®¾è¯æ±‡è¡¨ä¸­æœ‰10ä¸ªå•è¯ï¼Œæ¯ä¸ªå•è¯ç”¨5ç»´å‘é‡è¡¨ç¤º</span><br>vocab_size = <span class="hljs-number">10</span><br>embedding_dim = <span class="hljs-number">5</span><br><br><span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªè¯åµŒå…¥å±‚</span><br>embedding_layer = nn.Embedding(num_embeddings=vocab_size, embedding_dim=embedding_dim)<br><br><span class="hljs-comment"># è¾“å…¥çš„ç´¢å¼•åºåˆ—</span><br>input_indices = torch.LongTensor([<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9</span>])<br><br><span class="hljs-comment"># å°†è¾“å…¥ç´¢å¼•ä¼ é€’ç»™è¯åµŒå…¥å±‚ï¼Œå¾—åˆ°å¯¹åº”çš„è¯åµŒå…¥å‘é‡</span><br>embeddings = embedding_layer(input_indices)<br><br><span class="hljs-built_in">print</span>(embeddings)<br></code></pre></td></tr></table></figure><p>è¿™ä¼šè¾“å‡ºæ¯ä¸ªç´¢å¼•å¯¹åº”çš„è¯åµŒå…¥å‘é‡ã€‚æ³¨æ„ï¼Œè¾“å‡ºçš„å½¢çŠ¶ä¸º <code>(5, 5)</code>ï¼Œå…¶ä¸­ <code>5</code> æ˜¯è¾“å…¥ç´¢å¼•åºåˆ—çš„é•¿åº¦ï¼Œè€Œ <code>5</code> æ˜¯è¯åµŒå…¥çš„ç»´åº¦ã€‚</p><p><strong>tips:</strong></p><p>åœ¨ PyTorch ä¸­ï¼Œ<code>nn.Embedding</code> æ˜¯ä¸€ä¸ªç”¨äºå®ç°è¯åµŒå…¥ï¼ˆWord Embeddingï¼‰çš„æ¨¡å—ï¼Œç”¨äºå°†æ•´æ•°ç´¢å¼•æ˜ å°„åˆ°å¯†é›†å‘é‡è¡¨ç¤ºã€‚è¿™äº›å‘é‡é€šå¸¸è¢«ç”¨ä½œç¥ç»ç½‘ç»œçš„è¾“å…¥ã€‚</p><p><code>nn.Embedding</code> æ¨¡å—çš„å‚æ•°æ˜¯å¯ä»¥è¢«å­¦ä¹ çš„ï¼Œè¿™æ„å‘³ç€å®ƒä»¬åœ¨æ¨¡å‹è®­ç»ƒçš„è¿‡ç¨‹ä¸­ä¼šè¢«ä¼˜åŒ–å™¨æ‰€æ›´æ–°ã€‚å…·ä½“æ¥è¯´ï¼Œ<code>nn.Embedding</code> çš„å‚æ•°æ˜¯æ¯ä¸ªè¯åµŒå…¥å‘é‡çš„åˆå§‹å€¼ï¼Œå®ƒä»¬åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ä¼šæ ¹æ®æ¨¡å‹çš„æŸå¤±å‡½æ•°è¿›è¡Œè°ƒæ•´ä»¥æé«˜æ¨¡å‹çš„æ€§èƒ½ã€‚</p><p><code>nn.Embedding</code> å’Œ Word2Vec éƒ½æ˜¯ç”¨äºè¡¨ç¤ºè¯åµŒå…¥ï¼ˆWord Embeddingï¼‰çš„æŠ€æœ¯ï¼Œä½†å®ƒä»¬æœ‰ä¸€äº›å…³é”®çš„åŒºåˆ«ï¼š</p><ol><li><strong>å®ç°æ–¹å¼</strong>ï¼š<ul><li><code>nn.Embedding</code> æ˜¯ PyTorch ä¸­çš„ä¸€ä¸ªæ¨¡å—ï¼Œç”¨äºå°†æ•´æ•°ç´¢å¼•æ˜ å°„åˆ°å¯†é›†å‘é‡è¡¨ç¤ºã€‚å®ƒæ˜¯ä½œä¸ºç¥ç»ç½‘ç»œçš„ä¸€éƒ¨åˆ†ï¼Œåœ¨æ¨¡å‹ä¸­è¢«ä¼˜åŒ–å™¨æ‰€æ›´æ–°ã€‚</li><li>Word2Vec æ˜¯ä¸€ç§åŸºäºç¥ç»ç½‘ç»œçš„è¯åµŒå…¥æ¨¡å‹ï¼Œå®ƒç”±ä¸¤ç§ä¸åŒçš„æ¶æ„ç»„æˆï¼šSkip-gram å’Œ CBOWï¼ˆContinuous Bag of Wordsï¼‰ã€‚è¿™äº›æ¨¡å‹é€šè¿‡åœ¨å¤§è§„æ¨¡æ–‡æœ¬è¯­æ–™åº“ä¸Šè¿›è¡Œè®­ç»ƒï¼Œå­¦ä¹ å°†è¯è¯­è¡¨ç¤ºä¸ºå¯†é›†å‘é‡ã€‚</li></ul></li><li><strong>è®­ç»ƒæ–¹å¼</strong>ï¼š<ul><li><code>nn.Embedding</code> çš„å‚æ•°æ˜¯åœ¨æ¨¡å‹çš„è®­ç»ƒè¿‡ç¨‹ä¸­ä¸å…¶ä»–ç¥ç»ç½‘ç»œå‚æ•°ä¸€èµ·ä¼˜åŒ–çš„ï¼Œé€šå¸¸ä½œä¸ºæ•´ä¸ªç¥ç»ç½‘ç»œçš„ä¸€éƒ¨åˆ†ã€‚</li><li>Word2Vec æ˜¯é€šè¿‡åœ¨å¤§è§„æ¨¡æ–‡æœ¬è¯­æ–™åº“ä¸Šè¿›è¡Œè®­ç»ƒæ¥å­¦ä¹ è¯åµŒå…¥ã€‚Skip-gram æ¨¡å‹é€šè¿‡é¢„æµ‹ä¸Šä¸‹æ–‡è¯è¯­æ¥å­¦ä¹ è¯åµŒå…¥ï¼Œè€Œ CBOW æ¨¡å‹åˆ™é€šè¿‡é¢„æµ‹ç›®æ ‡è¯è¯­æ¥å­¦ä¹ ã€‚</li></ul></li><li><strong>ä¸Šä¸‹æ–‡è€ƒè™‘</strong>ï¼š<ul><li><code>nn.Embedding</code> å¹¶ä¸è€ƒè™‘è¯è¯­çš„ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œå®ƒåªæ˜¯ç®€å•åœ°å°†æ¯ä¸ªè¯è¯­æ˜ å°„åˆ°ä¸€ä¸ªå›ºå®šé•¿åº¦çš„å‘é‡ã€‚</li><li>Word2Vec è€ƒè™‘äº†è¯è¯­çš„ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œé€šè¿‡åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­åˆ©ç”¨ä¸Šä¸‹æ–‡è¯è¯­æ¥å­¦ä¹ è¯åµŒå…¥ã€‚</li></ul></li><li><strong>é€‚ç”¨åœºæ™¯</strong>ï¼š<ul><li><code>nn.Embedding</code> é€šå¸¸ä½œä¸ºç¥ç»ç½‘ç»œçš„ä¸€éƒ¨åˆ†ï¼Œç”¨äºåœ¨æ–‡æœ¬åˆ†ç±»ã€è¯­è¨€å»ºæ¨¡ç­‰ä»»åŠ¡ä¸­å­¦ä¹ ç«¯åˆ°ç«¯çš„è¡¨ç¤ºã€‚</li><li>Word2Vec å¯ä»¥ç‹¬ç«‹è®­ç»ƒå¹¶ç”¨äºç”Ÿæˆè¯åµŒå…¥ï¼Œç„¶åå¯ä»¥åœ¨å„ç§è‡ªç„¶è¯­è¨€å¤„ç†ä»»åŠ¡ä¸­ä½¿ç”¨è¿™äº›é¢„è®­ç»ƒçš„è¯åµŒå…¥ã€‚</li></ul></li></ol><h2 id="6-nn-CrossEntropyLoss"><a href="#6-nn-CrossEntropyLoss" class="headerlink" title="6.nn.CrossEntropyLoss"></a>6.nn.CrossEntropyLoss</h2><p><code>nn.CrossEntropyLoss</code> æ˜¯PyTorchä¸­çš„ä¸€ä¸ªæŸå¤±å‡½æ•°ï¼Œç”¨äºå¤šåˆ†ç±»ä»»åŠ¡ã€‚CrossEntropyLoss è®¡ç®—äº†æ¨¡å‹çš„è¾“å‡ºä¸ç›®æ ‡æ ‡ç­¾ä¹‹é—´çš„äº¤å‰ç†µæŸå¤±ã€‚åœ¨ç¥ç»ç½‘ç»œçš„è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œé€šè¿‡æœ€å°åŒ–äº¤å‰ç†µæŸå¤±ï¼Œå¯ä»¥ä½¿å¾—æ¨¡å‹çš„è¾“å‡ºå°½å¯èƒ½æ¥è¿‘äºçœŸå®çš„æ ‡ç­¾ï¼Œä»è€Œæé«˜æ¨¡å‹çš„åˆ†ç±»æ€§èƒ½ã€‚</p><p>äº¤å‰ç†µæŸå¤±çš„è®¡ç®—å…¬å¼å¦‚ä¸‹ï¼š</p><p><img src="/2024/02/14/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/Pytorch/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/pytorch%E4%B8%ADnn%E6%A8%A1%E5%9D%97/1.png"></p><p>å…¶ä¸­ï¼Œx æ˜¯æ¨¡å‹çš„åŸå§‹è¾“å‡ºï¼ˆä¹Ÿç§°ä¸º logitsï¼‰ï¼Œclass æ˜¯æ­£ç¡®çš„ç±»åˆ«æ ‡ç­¾ï¼Œj æ˜¯æ‰€æœ‰ç±»åˆ«çš„ç´¢å¼•ã€‚</p><p>åœ¨ PyTorch ä¸­ï¼Œ<code>nn.CrossEntropyLoss</code> <strong>ä¼šè‡ªåŠ¨å°† logits ä¼ å…¥ softmax å‡½æ•°</strong>ï¼Œç„¶åè®¡ç®—äº¤å‰ç†µæŸå¤±ã€‚æ­¤å¤–ï¼Œå®ƒè¿˜å¯ä»¥å¤„ç†æ ‡ç­¾çš„è½¯æ€§ç¼–ç ï¼ˆone-hot ç¼–ç ï¼‰æˆ–æ•´æ•°å½¢å¼çš„æ ‡ç­¾ã€‚</p><p>ç®€è€Œè¨€ä¹‹ï¼Œ<code>nn.CrossEntropyLoss</code> å¯ä»¥å¸®åŠ©æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªç›®æ ‡å‡½æ•°ï¼Œé€šè¿‡æœ€å°åŒ–è¯¥å‡½æ•°ï¼Œæˆ‘ä»¬çš„æ¨¡å‹å¯ä»¥æ›´å¥½åœ°é€‚åº”å¤šåˆ†ç±»ä»»åŠ¡ã€‚</p><p><strong>tips:</strong></p><p>åœ¨ä½¿ç”¨<code>nn.CrossEntropyLoss</code>æ—¶ï¼Œé€šè¿‡è®¾ç½®<code>ignore_index</code>å‚æ•°ä¸ºç‰¹å®šçš„ç±»åˆ«ç´¢å¼•ï¼Œå¯ä»¥å®ç°å¿½ç•¥è¯¥ç±»åˆ«çš„æ•ˆæœã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> torch<br><span class="hljs-keyword">import</span> torch.nn <span class="hljs-keyword">as</span> nn<br><br><span class="hljs-comment"># æ¨¡æ‹Ÿçš„æ¨¡å‹è¾“å‡ºå¼ é‡</span><br><span class="hljs-comment"># å‡è®¾æœ‰3ä¸ªæ ·æœ¬ï¼Œæ¯ä¸ªæ ·æœ¬çš„é¢„æµ‹å€¼æ˜¯ä¸€ä¸ªåŒ…å«4ä¸ªç±»åˆ«çš„æ¦‚ç‡åˆ†å¸ƒ</span><br>predictions = torch.tensor([[<span class="hljs-number">0.0</span>, <span class="hljs-number">0.0</span>, <span class="hljs-number">0.0</span>, <span class="hljs-number">1</span>],<br>                            [<span class="hljs-number">0.7</span>, <span class="hljs-number">0.3</span>, <span class="hljs-number">0.2</span>, <span class="hljs-number">0.1</span>],<br>                            [<span class="hljs-number">0.2</span>, <span class="hljs-number">0.1</span>, <span class="hljs-number">0.3</span>, <span class="hljs-number">0.9</span>]])<br><br><span class="hljs-comment"># ç›®æ ‡å¼ é‡</span><br><span class="hljs-comment"># å‡è®¾è¿™æ˜¯æ¯ä¸ªæ ·æœ¬çš„çœŸå®ç±»åˆ«ç´¢å¼•</span><br>targets = torch.tensor([<span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>])<br><span class="hljs-comment"># å®šä¹‰æŸå¤±å‡½æ•°ï¼Œå¹¶è®¾ç½®ignore_indexå‚æ•°ä¸º2</span><br>loss_fn = nn.CrossEntropyLoss(ignore_index=<span class="hljs-number">2</span>)<br><span class="hljs-comment"># è®¡ç®—æŸå¤±</span><br>loss = loss_fn(predictions, targets)<br><span class="hljs-built_in">print</span>(loss)<br><br><span class="hljs-comment"># è®¾ç½®ignore_index=2çš„è¾“å‡ºä¸º tensor(0.8289)ï¼Œè‹¥å»æ‰2çš„æ ‡ç­¾ï¼Œå³</span><br>predictions = torch.tensor([[<span class="hljs-number">0.0</span>, <span class="hljs-number">0.0</span>, <span class="hljs-number">0.0</span>, <span class="hljs-number">1</span>],<br>                            [<span class="hljs-number">0.2</span>, <span class="hljs-number">0.1</span>, <span class="hljs-number">0.3</span>, <span class="hljs-number">0.9</span>]])<br><br>targets = torch.tensor([<span class="hljs-number">3</span>, <span class="hljs-number">3</span>])<br><br><span class="hljs-comment"># è¾“å‡ºç»“æœ tensor(0.8289)ï¼Œä¹Ÿå°±æ˜¯è¯´ignore_indexç­‰ä»·äºä¸è®¡ç®—è®¾ç½®æ ‡ç­¾çš„æŸå¤±</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>AI Ê¢áµ•á´—áµ•Ê¡</category>
      
      <category>Pytorch</category>
      
      <category>PytorchåŸºç¡€çŸ¥è¯†</category>
      
    </categories>
    
    
    <tags>
      
      <tag>AI</tag>
      
      <tag>Pytorch</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>osåº“çš„ä½¿ç”¨ï¼â˜ƒï¸</title>
    <link href="/2024/02/14/%E7%AE%97%E6%B3%95/python/python%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/python%E4%B8%ADos%E5%BA%93/"/>
    <url>/2024/02/14/%E7%AE%97%E6%B3%95/python/python%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/python%E4%B8%ADos%E5%BA%93/</url>
    
    <content type="html"><![CDATA[<h1 id="osåº“çš„ä½¿ç”¨"><a href="#osåº“çš„ä½¿ç”¨" class="headerlink" title="osåº“çš„ä½¿ç”¨"></a>osåº“çš„ä½¿ç”¨</h1><h2 id="1-os-path"><a href="#1-os-path" class="headerlink" title="1.os.path"></a>1.os.path</h2><h3 id="1-1-splitext"><a href="#1-1-splitext" class="headerlink" title="1.1 splitext"></a>1.1 splitext</h3><p><code>os.path.splitext()</code> æ˜¯ <code>os.path</code> æ¨¡å—ä¸­çš„ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºåˆ†ç¦»æ–‡ä»¶åä¸­çš„æ–‡ä»¶åå’Œæ‰©å±•åã€‚å…·ä½“ç”¨æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">os.path.splitext(path)<br></code></pre></td></tr></table></figure><p>å…¶ä¸­ï¼Œ<code>path</code> æ˜¯æ–‡ä»¶è·¯å¾„å­—ç¬¦ä¸²ã€‚</p><p>è¿™ä¸ªå‡½æ•°è¿”å›ä¸€ä¸ªå…ƒç»„ï¼ŒåŒ…å«åˆ†ç¦»åçš„æ–‡ä»¶åå’Œæ‰©å±•åã€‚å¦‚æœæ–‡ä»¶è·¯å¾„ä¸­æ²¡æœ‰æ‰©å±•åï¼Œåˆ™ç¬¬äºŒä¸ªå…ƒç´ ä¸ºç©ºå­—ç¬¦ä¸²ã€‚</p><p>ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> os<br><br>path1 = <span class="hljs-string">&quot;/path/to/file.txt&quot;</span><br>path2 = <span class="hljs-string">&quot;/path/to/another_file&quot;</span><br><br><span class="hljs-comment"># åˆ†ç¦»æ–‡ä»¶åå’Œæ‰©å±•å</span><br>name1, ext1 = os.path.splitext(path1)<br>name2, ext2 = os.path.splitext(path2)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;File 1:&quot;</span>, name1)  <span class="hljs-comment"># è¾“å‡º /path/to/file</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Extension 1:&quot;</span>, ext1)  <span class="hljs-comment"># è¾“å‡º .txt</span><br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;File 2:&quot;</span>, name2)  <span class="hljs-comment"># è¾“å‡º /path/to/another_file</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Extension 2:&quot;</span>, ext2)  <span class="hljs-comment"># è¾“å‡º ç©ºå­—ç¬¦ä¸²</span><br></code></pre></td></tr></table></figure><h3 id="1-2-basename"><a href="#1-2-basename" class="headerlink" title="1.2 basename"></a>1.2 basename</h3><p><code>os.path.basename()</code> æ˜¯ <code>os.path</code> æ¨¡å—ä¸­çš„ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºè¿”å›è·¯å¾„ä¸­çš„æœ€åä¸€ä¸ªç»„æˆéƒ¨åˆ†ï¼Œå³åŸºæœ¬æ–‡ä»¶åéƒ¨åˆ†ã€‚å…·ä½“ç”¨æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">os.path.basename(path)<br></code></pre></td></tr></table></figure><p>å…¶ä¸­ï¼Œ<code>path</code> æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºæ–‡ä»¶è·¯å¾„ã€‚</p><p>è¿™ä¸ªå‡½æ•°ä¼šè¿”å›è·¯å¾„ä¸­çš„æœ€åä¸€ä¸ªç»„æˆéƒ¨åˆ†ï¼Œé€šå¸¸æ˜¯<strong>æ–‡ä»¶å</strong>æˆ–<strong>ç›®å½•å</strong>ã€‚</p><p>ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> os<br><br>path1 = <span class="hljs-string">&quot;/path/to/file.txt&quot;</span><br>path2 = <span class="hljs-string">&quot;/path/to/directory/&quot;</span><br><br><span class="hljs-comment"># è·å–æ–‡ä»¶åæˆ–ç›®å½•å</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Path 1 basename:&quot;</span>, os.path.basename(path1))  <span class="hljs-comment"># è¾“å‡º file.txt</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Path 2 basename:&quot;</span>, os.path.basename(path2))  <span class="hljs-comment"># è¾“å‡º directory</span><br></code></pre></td></tr></table></figure><h3 id="1-3-realpath"><a href="#1-3-realpath" class="headerlink" title="1.3 realpath"></a>1.3 realpath</h3><p><code>os.path.relpath</code> æ˜¯ Python ä¸­ç”¨äºè®¡ç®—ç›¸å¯¹è·¯å¾„çš„å‡½æ•°ï¼Œå®ƒæœ‰ä¸¤ä¸ªå‚æ•°ï¼š</p><ol><li><code>path</code>ï¼šè¦è®¡ç®—ç›¸å¯¹è·¯å¾„çš„ç›®æ ‡è·¯å¾„ã€‚</li><li><code>start</code>ï¼šç›¸å¯¹è·¯å¾„çš„èµ·å§‹ç‚¹ï¼ˆå¯é€‰å‚æ•°ï¼‰ã€‚å¦‚æœæŒ‡å®šäº† <code>start</code>ï¼Œåˆ™ <code>path</code> å°†ç›¸å¯¹äº <code>start</code> è®¡ç®—ç›¸å¯¹è·¯å¾„ï¼›å¦‚æœæœªæŒ‡å®š <code>start</code>ï¼Œåˆ™ç›¸å¯¹è·¯å¾„å°†ç›¸å¯¹äºå½“å‰å·¥ä½œç›®å½•è®¡ç®—ã€‚</li></ol><p>ç¤ºä¾‹ç”¨æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> os<br><br><span class="hljs-comment"># ç›®æ ‡è·¯å¾„</span><br>path = <span class="hljs-string">&#x27;/Users/example/folder/file.txt&#x27;</span><br><br><span class="hljs-comment"># èµ·å§‹ç‚¹ï¼ˆå¯é€‰ï¼‰</span><br>start = <span class="hljs-string">&#x27;/Users/example/&#x27;</span><br><br><span class="hljs-comment"># è®¡ç®—ç›¸å¯¹è·¯å¾„</span><br>relative_path = os.path.relpath(path, start)<br><span class="hljs-built_in">print</span>(relative_path)<br></code></pre></td></tr></table></figure><p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œ<code>relative_path</code> å°†æ˜¯ <code>&#39;folder/file.txt&#39;</code>ï¼Œå› ä¸ºæ–‡ä»¶ <code>&#39;file.txt&#39;</code> ç›¸å¯¹äºèµ·å§‹ç‚¹ <code>&#39;/Users/example/&#39;</code> æ˜¯ä½äº <code>&#39;folder/&#39;</code> ç›®å½•ä¸‹çš„ã€‚</p><h3 id="1-4-dirname"><a href="#1-4-dirname" class="headerlink" title="1.4 dirname"></a>1.4 dirname</h3><p><code>os.path.dirname()</code>: è¿™æ˜¯ <code>os.path</code> æ¨¡å—ä¸­çš„ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºè·å–æŒ‡å®šè·¯å¾„çš„ç›®å½•åéƒ¨åˆ†ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> os<br><span class="hljs-built_in">print</span>(os.path.realpath(__file__))<br><span class="hljs-built_in">print</span>(os.path.dirname(os.path.realpath(__file__)))<br></code></pre></td></tr></table></figure><p>å¯¹æ¯”è¾“å‡ºä¸ºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">D:\Python\try_pytorch\try_file.py<br>D:\Python\try_pytorch<br></code></pre></td></tr></table></figure><h3 id="1-5-join"><a href="#1-5-join" class="headerlink" title="1.5 join"></a>1.5 join</h3><p>ä¸¾ä¾‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">model_config_file = os.path.join(<span class="hljs-built_in">dir</span>, <span class="hljs-string">&quot;../properties/model/&#123;&#125;.json&quot;</span>.<span class="hljs-built_in">format</span>(model_name))<br></code></pre></td></tr></table></figure><p>å°†dirå’Œåé¢çš„å­—ç¬¦ä¸²ç»“åˆèµ·æ¥ï¼Œå…¶ä¸­<code>..</code>è¡¨ç¤º<strong>ä¸Šä¸€çº§ç›®å½•</strong>ã€‚</p><h3 id="1-6-isabs"><a href="#1-6-isabs" class="headerlink" title="1.6 isabs"></a>1.6 isabs</h3><p><code>os.path.isabs()</code> æ˜¯ Python ä¸­ <code>os.path</code> æ¨¡å—æä¾›çš„ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºæ£€æŸ¥ç»™å®šçš„è·¯å¾„æ˜¯å¦æ˜¯ç»å¯¹è·¯å¾„ã€‚</p><ul><li>å¦‚æœè·¯å¾„æ˜¯ç»å¯¹è·¯å¾„ï¼Œåˆ™è¿”å› <code>True</code>ã€‚</li><li>å¦‚æœè·¯å¾„æ˜¯ç›¸å¯¹è·¯å¾„ï¼Œåˆ™è¿”å› <code>False</code>ã€‚</li></ul><p>ä¾‹å¦‚ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> os<br><br>path1 = <span class="hljs-string">&#x27;/usr/local/bin/python&#x27;</span><br>path2 = <span class="hljs-string">&#x27;scripts/my_script.py&#x27;</span><br><br><span class="hljs-built_in">print</span>(os.path.isabs(path1))  <span class="hljs-comment"># è¾“å‡º Trueï¼Œå› ä¸º &#x27;/usr/local/bin/python&#x27; æ˜¯ç»å¯¹è·¯å¾„</span><br><span class="hljs-built_in">print</span>(os.path.isabs(path2))  <span class="hljs-comment"># è¾“å‡º Falseï¼Œå› ä¸º &#x27;scripts/my_script.py&#x27; æ˜¯ç›¸å¯¹è·¯å¾„</span><br></code></pre></td></tr></table></figure><p><code>os.path.isabs()</code> å‡½æ•°å¯¹äºç¡®å®šç»™å®šè·¯å¾„æ˜¯ç›¸å¯¹è·¯å¾„è¿˜æ˜¯ç»å¯¹è·¯å¾„å¾ˆæœ‰ç”¨ï¼Œè¿™åœ¨å¤„ç†æ–‡ä»¶è·¯å¾„æ—¶ç»å¸¸ä¼šç”¨åˆ°ã€‚</p><h2 id="2-getcwd"><a href="#2-getcwd" class="headerlink" title="2.getcwd"></a>2.getcwd</h2><p><code>os.getcwd()</code>æ˜¯Pythonä¸­<code>os</code>æ¨¡å—æä¾›çš„å‡½æ•°ï¼Œç”¨äºè·å–å½“å‰å·¥ä½œç›®å½•ï¼ˆCurrent Working Directoryï¼‰ã€‚åœ¨Pythonç¨‹åºä¸­è°ƒç”¨<code>os.getcwd()</code>å°†è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºå½“å‰Pythonç¨‹åºæ‰€å¤„çš„å·¥ä½œç›®å½•çš„è·¯å¾„ã€‚</p><p>ä¾‹å¦‚ï¼Œåœ¨Pythonä¸­å¯ä»¥è¿™æ ·ä½¿ç”¨ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> os<br><br>current_directory = os.getcwd()<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Current working directory:&quot;</span>, current_directory)<br></code></pre></td></tr></table></figure><p>è¿™å°†è¾“å‡ºå½“å‰Pythonç¨‹åºæ‰€åœ¨çš„å·¥ä½œç›®å½•çš„è·¯å¾„ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>ç®—æ³• Ê•â‰§á´¥â‰¦Ê”</category>
      
      <category>Python</category>
      
      <category>Pythonåº“</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>stringåº“çš„ä½¿ç”¨ï¼â˜ƒï¸</title>
    <link href="/2024/02/13/%E7%AE%97%E6%B3%95/python/python%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/python%E4%B8%ADstring%E5%BA%93/"/>
    <url>/2024/02/13/%E7%AE%97%E6%B3%95/python/python%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/python%E4%B8%ADstring%E5%BA%93/</url>
    
    <content type="html"><![CDATA[<h1 id="stringåº“çš„ä½¿ç”¨"><a href="#stringåº“çš„ä½¿ç”¨" class="headerlink" title="stringåº“çš„ä½¿ç”¨"></a>stringåº“çš„ä½¿ç”¨</h1><h2 id="1-åŸºæœ¬ä½¿ç”¨æ–¹æ³•"><a href="#1-åŸºæœ¬ä½¿ç”¨æ–¹æ³•" class="headerlink" title="1.åŸºæœ¬ä½¿ç”¨æ–¹æ³•"></a>1.åŸºæœ¬ä½¿ç”¨æ–¹æ³•</h2><h3 id="1-1-å­—ç¬¦ä¸²å¸¸é‡"><a href="#1-1-å­—ç¬¦ä¸²å¸¸é‡" class="headerlink" title="1.1 å­—ç¬¦ä¸²å¸¸é‡"></a>1.1 å­—ç¬¦ä¸²å¸¸é‡</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> string<br><br><span class="hljs-comment"># æ‰€æœ‰å°å†™å­—æ¯</span><br><span class="hljs-built_in">print</span>(string.ascii_lowercase)<br><br><span class="hljs-comment"># æ‰€æœ‰å¤§å†™å­—æ¯</span><br><span class="hljs-built_in">print</span>(string.ascii_uppercase)<br><br><span class="hljs-comment"># æ‰€æœ‰å­—æ¯</span><br><span class="hljs-built_in">print</span>(string.ascii_letters)<br><br><span class="hljs-comment"># æ‰€æœ‰æ•°å­—</span><br><span class="hljs-built_in">print</span>(string.digits)<br><br><span class="hljs-comment"># æ‰€æœ‰æ ‡ç‚¹ç¬¦å·</span><br><span class="hljs-built_in">print</span>(string.punctuation)<br><br><span class="hljs-comment"># æ‰€æœ‰å¯æ‰“å°å­—ç¬¦</span><br><span class="hljs-built_in">print</span>(string.printable)<br><br><span class="hljs-comment"># æ‰€æœ‰ç©ºç™½å­—ç¬¦</span><br><span class="hljs-built_in">print</span>(string.whitespace)<br></code></pre></td></tr></table></figure><h3 id="1-2-åŸºæœ¬ä½¿ç”¨"><a href="#1-2-åŸºæœ¬ä½¿ç”¨" class="headerlink" title="1.2 åŸºæœ¬ä½¿ç”¨"></a>1.2 åŸºæœ¬ä½¿ç”¨</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> string<br><br><span class="hljs-comment"># æ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦åªåŒ…å«å­—æ¯</span><br>s = <span class="hljs-string">&quot;HelloWorld&quot;</span><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">all</span>(c <span class="hljs-keyword">in</span> string.ascii_letters <span class="hljs-keyword">for</span> c <span class="hljs-keyword">in</span> s))  <span class="hljs-comment"># è¾“å‡º True</span><br><br><span class="hljs-comment"># åˆ é™¤å­—ç¬¦ä¸²ä¸­çš„æ ‡ç‚¹ç¬¦å·</span><br>s = <span class="hljs-string">&quot;Hello, World!&quot;</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&quot;</span>.join(c <span class="hljs-keyword">for</span> c <span class="hljs-keyword">in</span> s <span class="hljs-keyword">if</span> c <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> string.punctuation))  <span class="hljs-comment"># è¾“å‡º HelloWorld</span><br><br><span class="hljs-comment"># æ ¼å¼åŒ–å­—ç¬¦ä¸²</span><br>name = <span class="hljs-string">&quot;Alice&quot;</span><br>age = <span class="hljs-number">30</span><br>formatted_string = string.Template(<span class="hljs-string">&#x27;$name is $age years old.&#x27;</span>)<br><span class="hljs-built_in">print</span>(formatted_string.substitute(name=name, age=age))  <span class="hljs-comment"># è¾“å‡º Alice is 30 years old.</span><br><br><span class="hljs-comment"># ä½¿ç”¨æ¨¡æ¿å­—ç¬¦ä¸²</span><br><span class="hljs-keyword">from</span> string <span class="hljs-keyword">import</span> Template<br><br>name = <span class="hljs-string">&quot;Alice&quot;</span><br>age = <span class="hljs-number">30</span><br>t = Template(<span class="hljs-string">&#x27;$name is $age years old.&#x27;</span>)<br><span class="hljs-built_in">print</span>(t.substitute(name=name, age=age))  <span class="hljs-comment"># è¾“å‡º Alice is 30 years old.</span><br><br><span class="hljs-comment"># å­—ç¬¦ä¸²æ¨¡æ¿æ›¿æ¢</span><br>s = <span class="hljs-string">&quot;$who likes $what&quot;</span><br>d = &#123;<span class="hljs-string">&#x27;who&#x27;</span>: <span class="hljs-string">&#x27;Alice&#x27;</span>, <span class="hljs-string">&#x27;what&#x27;</span>: <span class="hljs-string">&#x27;Python&#x27;</span>&#125;<br><span class="hljs-built_in">print</span>(string.Template(s).safe_substitute(d))  <span class="hljs-comment"># è¾“å‡º Alice likes Python</span><br></code></pre></td></tr></table></figure><h2 id="2-å…·ä½“æ–¹æ³•"><a href="#2-å…·ä½“æ–¹æ³•" class="headerlink" title="2.å…·ä½“æ–¹æ³•"></a>2.å…·ä½“æ–¹æ³•</h2><h3 id="2-1-join"><a href="#2-1-join" class="headerlink" title="2.1 join"></a>2.1 join</h3><p><code>join()</code> æ–¹æ³•æ˜¯ Python ä¸­å­—ç¬¦ä¸²å¯¹è±¡çš„ä¸€ä¸ªæ–¹æ³•ï¼Œç”¨äºå°†å¯è¿­ä»£å¯¹è±¡ï¼ˆå¦‚åˆ—è¡¨ã€å…ƒç»„ç­‰ï¼‰ä¸­çš„å…ƒç´ è¿æ¥æˆä¸€ä¸ªå­—ç¬¦ä¸²ã€‚å…·ä½“ç”¨æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">separator_string.join(iterable)<br></code></pre></td></tr></table></figure><p>å…¶ä¸­ï¼š</p><ul><li><code>separator_string</code> æ˜¯ç”¨äºè¿æ¥çš„å­—ç¬¦ä¸²ï¼Œå®ƒå°†æ’å…¥åˆ°å¯è¿­ä»£å¯¹è±¡ä¸­çš„æ¯ä¸ªå…ƒç´ ä¹‹é—´ã€‚</li><li><code>iterable</code> æ˜¯ä¸€ä¸ªå¯è¿­ä»£çš„å¯¹è±¡ï¼ŒåŒ…å«éœ€è¦è¿æ¥çš„å…ƒç´ ã€‚</li></ul><p>ä¸‹é¢æ˜¯ä¸€äº›ç¤ºä¾‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># ä½¿ç”¨ join æ–¹æ³•å°†åˆ—è¡¨ä¸­çš„å­—ç¬¦ä¸²è¿æ¥æˆä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²</span><br>my_list = [<span class="hljs-string">&quot;Hello&quot;</span>, <span class="hljs-string">&quot;World&quot;</span>, <span class="hljs-string">&quot;Python&quot;</span>]<br>result = <span class="hljs-string">&quot; &quot;</span>.join(my_list)<br><span class="hljs-built_in">print</span>(result)  <span class="hljs-comment"># è¾“å‡º Hello World Python</span><br><br><span class="hljs-comment"># ä½¿ç”¨ join æ–¹æ³•å°†å…ƒç»„ä¸­çš„å­—ç¬¦ä¸²è¿æ¥æˆä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²</span><br>my_tuple = (<span class="hljs-string">&quot;apple&quot;</span>, <span class="hljs-string">&quot;banana&quot;</span>, <span class="hljs-string">&quot;cherry&quot;</span>)<br>result = <span class="hljs-string">&quot;, &quot;</span>.join(my_tuple)<br><span class="hljs-built_in">print</span>(result)  <span class="hljs-comment"># è¾“å‡º apple, banana, cherry</span><br><br><span class="hljs-comment"># ä½¿ç”¨ join æ–¹æ³•å°†é›†åˆä¸­çš„å­—ç¬¦ä¸²è¿æ¥æˆä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²</span><br>my_set = &#123;<span class="hljs-string">&quot;red&quot;</span>, <span class="hljs-string">&quot;green&quot;</span>, <span class="hljs-string">&quot;blue&quot;</span>&#125;<br>result = <span class="hljs-string">&quot;; &quot;</span>.join(my_set)<br><span class="hljs-built_in">print</span>(result)  <span class="hljs-comment"># è¾“å‡º green; blue; red</span><br><br><span class="hljs-comment"># ä½¿ç”¨ join æ–¹æ³•å°†å­—å…¸ä¸­çš„é”®è¿æ¥æˆä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²</span><br>my_dict = &#123;<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Alice&quot;</span>, <span class="hljs-string">&quot;age&quot;</span>: <span class="hljs-number">30</span>&#125;<br>result = <span class="hljs-string">&quot;, &quot;</span>.join(my_dict)<br><span class="hljs-built_in">print</span>(result)  <span class="hljs-comment"># è¾“å‡º name, age</span><br></code></pre></td></tr></table></figure><h3 id="2-2-find"><a href="#2-2-find" class="headerlink" title="2.2 find"></a>2.2 find</h3><p><code>find()</code> æ–¹æ³•æ˜¯ Python å­—ç¬¦ä¸²å¯¹è±¡çš„ä¸€ä¸ªæ–¹æ³•ï¼Œç”¨äºåœ¨å­—ç¬¦ä¸²ä¸­æŸ¥æ‰¾å­å­—ç¬¦ä¸²ï¼Œå¹¶è¿”å›ç¬¬ä¸€æ¬¡å‡ºç°çš„ç´¢å¼•ä½ç½®ã€‚å¦‚æœå­å­—ç¬¦ä¸²ä¸å­˜åœ¨ï¼Œåˆ™è¿”å› -1ã€‚å…·ä½“ç”¨æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">str</span>.find(sub[, start[, end]])<br></code></pre></td></tr></table></figure><p>å…¶ä¸­ï¼š</p><ul><li><code>str</code> æ˜¯åŸå§‹å­—ç¬¦ä¸²ã€‚</li><li><code>sub</code> æ˜¯è¦æŸ¥æ‰¾çš„å­å­—ç¬¦ä¸²ã€‚</li><li><code>start</code> æ˜¯å¯é€‰å‚æ•°ï¼ŒæŒ‡å®šæŸ¥æ‰¾çš„èµ·å§‹ä½ç½®ï¼Œé»˜è®¤ä¸º 0ã€‚</li><li><code>end</code> æ˜¯å¯é€‰å‚æ•°ï¼ŒæŒ‡å®šæŸ¥æ‰¾çš„ç»“æŸä½ç½®ï¼Œé»˜è®¤ä¸ºå­—ç¬¦ä¸²çš„é•¿åº¦ã€‚</li></ul><p>ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python">my_string = <span class="hljs-string">&quot;hello world&quot;</span><br><br><span class="hljs-comment"># æŸ¥æ‰¾å­å­—ç¬¦ä¸²</span><br><span class="hljs-built_in">print</span>(my_string.find(<span class="hljs-string">&quot;world&quot;</span>))  <span class="hljs-comment"># è¾“å‡º 6</span><br><span class="hljs-built_in">print</span>(my_string.find(<span class="hljs-string">&quot;python&quot;</span>))  <span class="hljs-comment"># è¾“å‡º -1ï¼Œå› ä¸ºå­å­—ç¬¦ä¸²ä¸å­˜åœ¨</span><br><br><span class="hljs-comment"># ä»æŒ‡å®šä½ç½®å¼€å§‹æŸ¥æ‰¾</span><br><span class="hljs-built_in">print</span>(my_string.find(<span class="hljs-string">&quot;o&quot;</span>, <span class="hljs-number">5</span>))  <span class="hljs-comment"># è¾“å‡º 7ï¼Œä»ç´¢å¼• 5 å¼€å§‹æŸ¥æ‰¾å­å­—ç¬¦ä¸² &quot;o&quot;</span><br><br><span class="hljs-comment"># åœ¨æŒ‡å®šèŒƒå›´å†…æŸ¥æ‰¾</span><br><span class="hljs-built_in">print</span>(my_string.find(<span class="hljs-string">&quot;l&quot;</span>, <span class="hljs-number">3</span>, <span class="hljs-number">6</span>))  <span class="hljs-comment"># è¾“å‡º 3ï¼Œåœ¨ç´¢å¼• 3 åˆ° 6 çš„èŒƒå›´å†…æŸ¥æ‰¾å­å­—ç¬¦ä¸² &quot;l&quot;</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>ç®—æ³• Ê•â‰§á´¥â‰¦Ê”</category>
      
      <category>Python</category>
      
      <category>Pythonåº“</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>unicodedataåº“çš„ä½¿ç”¨!â˜ƒï¸</title>
    <link href="/2024/02/13/%E7%AE%97%E6%B3%95/python/python%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/python%E4%B8%ADunicode%E5%BA%93/"/>
    <url>/2024/02/13/%E7%AE%97%E6%B3%95/python/python%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/python%E4%B8%ADunicode%E5%BA%93/</url>
    
    <content type="html"><![CDATA[<h1 id="unicodedataåº“çš„ä½¿ç”¨"><a href="#unicodedataåº“çš„ä½¿ç”¨" class="headerlink" title="unicodedataåº“çš„ä½¿ç”¨"></a>unicodedataåº“çš„ä½¿ç”¨</h1><h2 id="1-åŸºæœ¬ä½¿ç”¨"><a href="#1-åŸºæœ¬ä½¿ç”¨" class="headerlink" title="1.åŸºæœ¬ä½¿ç”¨"></a>1.åŸºæœ¬ä½¿ç”¨</h2><p><code>unicodedata</code> æ˜¯ Python æ ‡å‡†åº“ä¸­çš„ä¸€ä¸ªæ¨¡å—ï¼Œç”¨äºå¤„ç† Unicode å­—ç¬¦æ•°æ®ã€‚å®ƒæä¾›äº†è®¸å¤šå‡½æ•°æ¥æŸ¥è¯¢å’Œå¤„ç† Unicode å­—ç¬¦å±æ€§ã€‚ä»¥ä¸‹æ˜¯ <code>unicodedata</code> åº“çš„ä¸€äº›å¸¸è§ç”¨æ³•ï¼š</p><h3 id="1-1-è·å–å­—ç¬¦çš„-Unicode-åç§°ï¼š"><a href="#1-1-è·å–å­—ç¬¦çš„-Unicode-åç§°ï¼š" class="headerlink" title="1.1 è·å–å­—ç¬¦çš„ Unicode åç§°ï¼š"></a>1.1 <strong>è·å–å­—ç¬¦çš„ Unicode åç§°ï¼š</strong></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> unicodedata<br><br>char = <span class="hljs-string">&#x27;A&#x27;</span><br>name = unicodedata.name(char)<br><span class="hljs-built_in">print</span>(name)  <span class="hljs-comment"># è¾“å‡º &#x27;LATIN CAPITAL LETTER A&#x27;</span><br></code></pre></td></tr></table></figure><h3 id="1-2-è·å–å­—ç¬¦çš„-Unicode-åˆ†ç±»ï¼š"><a href="#1-2-è·å–å­—ç¬¦çš„-Unicode-åˆ†ç±»ï¼š" class="headerlink" title="1.2 è·å–å­—ç¬¦çš„ Unicode åˆ†ç±»ï¼š"></a>1.2 <strong>è·å–å­—ç¬¦çš„ Unicode åˆ†ç±»ï¼š</strong></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> unicodedata<br><br>char = <span class="hljs-string">&#x27;A&#x27;</span><br>category = unicodedata.category(char)<br><span class="hljs-built_in">print</span>(category)  <span class="hljs-comment"># è¾“å‡º &#x27;Lu&#x27; (è¡¨ç¤ºå¤§å†™å­—æ¯)</span><br></code></pre></td></tr></table></figure><h3 id="1-3-è·å–å­—ç¬¦çš„-Unicode-ç¼–ç ç‚¹ï¼š"><a href="#1-3-è·å–å­—ç¬¦çš„-Unicode-ç¼–ç ç‚¹ï¼š" class="headerlink" title="1.3 è·å–å­—ç¬¦çš„ Unicode ç¼–ç ç‚¹ï¼š"></a>1.3 <strong>è·å–å­—ç¬¦çš„ Unicode ç¼–ç ç‚¹ï¼š</strong></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> unicodedata<br><br>char = <span class="hljs-string">&#x27;A&#x27;</span><br>code_point = <span class="hljs-built_in">ord</span>(char)<br><span class="hljs-built_in">print</span>(code_point)  <span class="hljs-comment"># è¾“å‡º 65</span><br></code></pre></td></tr></table></figure><h3 id="1-4-å°†-Unicode-å­—ç¬¦è§„èŒƒåŒ–ï¼š"><a href="#1-4-å°†-Unicode-å­—ç¬¦è§„èŒƒåŒ–ï¼š" class="headerlink" title="1.4 å°† Unicode å­—ç¬¦è§„èŒƒåŒ–ï¼š"></a>1.4 <strong>å°† Unicode å­—ç¬¦è§„èŒƒåŒ–ï¼š</strong></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> unicodedata<br><br>char = <span class="hljs-string">&#x27;Ã©&#x27;</span><br>normalized_char = unicodedata.normalize(<span class="hljs-string">&#x27;NFKD&#x27;</span>, char)<br><span class="hljs-built_in">print</span>(normalized_char)  <span class="hljs-comment"># è¾“å‡º &#x27;eÌ&#x27; (ç»„åˆå­—ç¬¦)</span><br></code></pre></td></tr></table></figure><h3 id="1-5-æ£€æŸ¥å­—ç¬¦æ˜¯å¦æ˜¯æ•°å­—ã€å­—æ¯ã€ç©ºæ ¼ç­‰ï¼š"><a href="#1-5-æ£€æŸ¥å­—ç¬¦æ˜¯å¦æ˜¯æ•°å­—ã€å­—æ¯ã€ç©ºæ ¼ç­‰ï¼š" class="headerlink" title="1.5 æ£€æŸ¥å­—ç¬¦æ˜¯å¦æ˜¯æ•°å­—ã€å­—æ¯ã€ç©ºæ ¼ç­‰ï¼š"></a>1.5 <strong>æ£€æŸ¥å­—ç¬¦æ˜¯å¦æ˜¯æ•°å­—ã€å­—æ¯ã€ç©ºæ ¼ç­‰ï¼š</strong></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> unicodedata<br><br>char = <span class="hljs-string">&#x27;5&#x27;</span><br>is_digit = unicodedata.isdigit(char)<br><span class="hljs-built_in">print</span>(is_digit)  <span class="hljs-comment"># è¾“å‡º True</span><br></code></pre></td></tr></table></figure><h3 id="1-6-è·å–å­—ç¬¦çš„å¤§å°å†™å˜ä½“ï¼š"><a href="#1-6-è·å–å­—ç¬¦çš„å¤§å°å†™å˜ä½“ï¼š" class="headerlink" title="1.6 è·å–å­—ç¬¦çš„å¤§å°å†™å˜ä½“ï¼š"></a>1.6 <strong>è·å–å­—ç¬¦çš„å¤§å°å†™å˜ä½“ï¼š</strong></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> unicodedata<br><br>char = <span class="hljs-string">&#x27;a&#x27;</span><br>upper_case_char = unicodedata.toupper(char)<br>lower_case_char = unicodedata.tolower(char)<br><span class="hljs-built_in">print</span>(upper_case_char)  <span class="hljs-comment"># è¾“å‡º &#x27;A&#x27;</span><br><span class="hljs-built_in">print</span>(lower_case_char)  <span class="hljs-comment"># è¾“å‡º &#x27;a&#x27;</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>ç®—æ³• Ê•â‰§á´¥â‰¦Ê”</category>
      
      <category>Python</category>
      
      <category>Pythonåº“</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>globåº“çš„ä½¿ç”¨ï¼â˜ƒï¸</title>
    <link href="/2024/02/13/%E7%AE%97%E6%B3%95/python/python%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/python%E4%B8%ADglob%E5%BA%93/"/>
    <url>/2024/02/13/%E7%AE%97%E6%B3%95/python/python%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/python%E4%B8%ADglob%E5%BA%93/</url>
    
    <content type="html"><![CDATA[<h1 id="globåº“çš„ä½¿ç”¨"><a href="#globåº“çš„ä½¿ç”¨" class="headerlink" title="globåº“çš„ä½¿ç”¨"></a>globåº“çš„ä½¿ç”¨</h1><h2 id="1-globåŸºç¡€ä½¿ç”¨æ–¹æ³•"><a href="#1-globåŸºç¡€ä½¿ç”¨æ–¹æ³•" class="headerlink" title="1.globåŸºç¡€ä½¿ç”¨æ–¹æ³•"></a>1.globåŸºç¡€ä½¿ç”¨æ–¹æ³•</h2><p>åœ¨Pythonä¸­ï¼Œ<code>glob</code>æ¨¡å—ç”¨äºæŸ¥æ‰¾æ–‡ä»¶è·¯å¾„ååŒ¹é…ç‰¹å®šæ¨¡å¼çš„æ–‡ä»¶ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ï¼Œæ¼”ç¤ºäº†å¦‚ä½•ä½¿ç”¨<code>glob</code>åº“ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> glob<br><br><span class="hljs-comment"># æŸ¥æ‰¾å½“å‰ç›®å½•ä¸‹æ‰€æœ‰ä»¥.pyç»“å°¾çš„æ–‡ä»¶</span><br>python_files = glob.glob(<span class="hljs-string">&#x27;*.py&#x27;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æ‰€æœ‰çš„Pythonæ–‡ä»¶:&quot;</span>, python_files)<br><br><span class="hljs-comment"># æŸ¥æ‰¾å½“å‰ç›®å½•åŠå­ç›®å½•ä¸‹æ‰€æœ‰çš„.txtæ–‡ä»¶</span><br>txt_files = glob.glob(<span class="hljs-string">&#x27;**/*.txt&#x27;</span>, recursive=<span class="hljs-literal">True</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æ‰€æœ‰çš„txtæ–‡ä»¶:&quot;</span>, txt_files)<br><br><span class="hljs-comment"># æŸ¥æ‰¾å½“å‰ç›®å½•åŠå­ç›®å½•ä¸‹æ‰€æœ‰åä¸ºtestçš„æ–‡ä»¶æˆ–ç›®å½•</span><br>test_files = glob.glob(<span class="hljs-string">&#x27;**/test&#x27;</span>, recursive=<span class="hljs-literal">True</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æ‰€æœ‰çš„testæ–‡ä»¶æˆ–ç›®å½•:&quot;</span>, test_files)<br><span class="hljs-keyword">import</span> glob<br><br><span class="hljs-comment"># æŸ¥æ‰¾å½“å‰ç›®å½•ä¸‹æ‰€æœ‰ä»¥.pyç»“å°¾çš„æ–‡ä»¶</span><br>python_files = glob.glob(<span class="hljs-string">&#x27;*.py&#x27;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æ‰€æœ‰çš„Pythonæ–‡ä»¶:&quot;</span>, python_files)<br><br><span class="hljs-comment"># æŸ¥æ‰¾å½“å‰ç›®å½•åŠå­ç›®å½•ä¸‹æ‰€æœ‰çš„.txtæ–‡ä»¶</span><br>txt_files = glob.glob(<span class="hljs-string">&#x27;**/*.txt&#x27;</span>, recursive=<span class="hljs-literal">True</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æ‰€æœ‰çš„txtæ–‡ä»¶:&quot;</span>, txt_files)<br><br><span class="hljs-comment"># æŸ¥æ‰¾å½“å‰ç›®å½•åŠå­ç›®å½•ä¸‹æ‰€æœ‰åä¸ºtestçš„æ–‡ä»¶æˆ–ç›®å½•</span><br>test_files = glob.glob(<span class="hljs-string">&#x27;**/test&#x27;</span>, recursive=<span class="hljs-literal">True</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æ‰€æœ‰çš„testæ–‡ä»¶æˆ–ç›®å½•:&quot;</span>, test_files)<br></code></pre></td></tr></table></figure><h2 id="2-æ›´å¤šçš„ä½¿ç”¨æ–¹å¼"><a href="#2-æ›´å¤šçš„ä½¿ç”¨æ–¹å¼" class="headerlink" title="2.æ›´å¤šçš„ä½¿ç”¨æ–¹å¼"></a>2.æ›´å¤šçš„ä½¿ç”¨æ–¹å¼</h2><h3 id="2-1-åŒ¹é…å•ä¸ªå­—ç¬¦ï¼š"><a href="#2-1-åŒ¹é…å•ä¸ªå­—ç¬¦ï¼š" class="headerlink" title="2.1 åŒ¹é…å•ä¸ªå­—ç¬¦ï¼š"></a>2.1 <strong>åŒ¹é…å•ä¸ªå­—ç¬¦</strong>ï¼š</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> glob<br><br><span class="hljs-comment"># æŸ¥æ‰¾å½“å‰ç›®å½•ä¸‹æ‰€æœ‰ä»¥aå¼€å¤´ï¼Œbç»“å°¾çš„æ–‡ä»¶</span><br>files = glob.glob(<span class="hljs-string">&#x27;a*b&#x27;</span>)<br></code></pre></td></tr></table></figure><h3 id="2-2-åŒ¹é…å¤šä¸ªå­—ç¬¦ï¼š"><a href="#2-2-åŒ¹é…å¤šä¸ªå­—ç¬¦ï¼š" class="headerlink" title="2.2 åŒ¹é…å¤šä¸ªå­—ç¬¦ï¼š"></a>2.2 <strong>åŒ¹é…å¤šä¸ªå­—ç¬¦</strong>ï¼š</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> glob<br><br><span class="hljs-comment"># æŸ¥æ‰¾å½“å‰ç›®å½•ä¸‹æ‰€æœ‰ä»¥aå¼€å¤´ï¼Œbç»“å°¾çš„æ–‡ä»¶ï¼Œå¹¶ä¸”ä¸­é—´æœ‰1åˆ°3ä¸ªä»»æ„å­—ç¬¦</span><br>files = glob.glob(<span class="hljs-string">&#x27;a???b&#x27;</span>)<br></code></pre></td></tr></table></figure><h3 id="2-3-åŒ¹é…æŒ‡å®šèŒƒå›´çš„å­—ç¬¦ï¼š"><a href="#2-3-åŒ¹é…æŒ‡å®šèŒƒå›´çš„å­—ç¬¦ï¼š" class="headerlink" title="2.3 åŒ¹é…æŒ‡å®šèŒƒå›´çš„å­—ç¬¦ï¼š"></a>2.3 <strong>åŒ¹é…æŒ‡å®šèŒƒå›´çš„å­—ç¬¦</strong>ï¼š</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> glob<br><br><span class="hljs-comment"># æŸ¥æ‰¾å½“å‰ç›®å½•ä¸‹æ‰€æœ‰ä»¥aå¼€å¤´ï¼Œbç»“å°¾ï¼Œå¹¶ä¸”ä¸­é—´æœ‰ä¸€ä¸ªæ•°å­—çš„æ–‡ä»¶</span><br>files = glob.glob(<span class="hljs-string">&#x27;a[0-9]b&#x27;</span>)<br></code></pre></td></tr></table></figure><h3 id="2-4-æ’é™¤ç‰¹å®šæ¨¡å¼ï¼š"><a href="#2-4-æ’é™¤ç‰¹å®šæ¨¡å¼ï¼š" class="headerlink" title="2.4 æ’é™¤ç‰¹å®šæ¨¡å¼ï¼š"></a>2.4 <strong>æ’é™¤ç‰¹å®šæ¨¡å¼</strong>ï¼š</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> glob<br><br><span class="hljs-comment"># æŸ¥æ‰¾å½“å‰ç›®å½•ä¸‹æ‰€æœ‰ä¸ä»¥testå¼€å¤´çš„æ–‡ä»¶</span><br>files = glob.glob(<span class="hljs-string">&#x27;[!test]*&#x27;</span>)<br></code></pre></td></tr></table></figure><h3 id="2-5-è·å–ç›®å½•ä¸‹æ‰€æœ‰å­ç›®å½•ï¼š"><a href="#2-5-è·å–ç›®å½•ä¸‹æ‰€æœ‰å­ç›®å½•ï¼š" class="headerlink" title="2.5 è·å–ç›®å½•ä¸‹æ‰€æœ‰å­ç›®å½•ï¼š"></a>2.5 <strong>è·å–ç›®å½•ä¸‹æ‰€æœ‰å­ç›®å½•</strong>ï¼š</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> glob<br><br><span class="hljs-comment"># æŸ¥æ‰¾å½“å‰ç›®å½•åŠå­ç›®å½•ä¸‹æ‰€æœ‰çš„ç›®å½•</span><br>directories = glob.glob(<span class="hljs-string">&#x27;*/&#x27;</span>)<br></code></pre></td></tr></table></figure><h3 id="2-6-è·å–æŒ‡å®šæ‰©å±•åçš„æ–‡ä»¶ï¼š"><a href="#2-6-è·å–æŒ‡å®šæ‰©å±•åçš„æ–‡ä»¶ï¼š" class="headerlink" title="2.6 è·å–æŒ‡å®šæ‰©å±•åçš„æ–‡ä»¶ï¼š"></a>2.6 <strong>è·å–æŒ‡å®šæ‰©å±•åçš„æ–‡ä»¶</strong>ï¼š</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> glob<br><br><span class="hljs-comment"># æŸ¥æ‰¾å½“å‰ç›®å½•ä¸‹æ‰€æœ‰ä»¥.txtç»“å°¾çš„æ–‡ä»¶</span><br>txt_files = glob.glob(<span class="hljs-string">&#x27;*.txt&#x27;</span>)<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>ç®—æ³• Ê•â‰§á´¥â‰¦Ê”</category>
      
      <category>Python</category>
      
      <category>Pythonåº“</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>RNNä»‹ç»ï¼ğŸ’</title>
    <link href="/2024/02/13/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/NLP/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/NLP%E6%A8%A1%E5%9E%8B/RNN/"/>
    <url>/2024/02/13/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/NLP/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/NLP%E6%A8%A1%E5%9E%8B/RNN/</url>
    
    <content type="html"><![CDATA[<h1 id="RNNä»‹ç»"><a href="#RNNä»‹ç»" class="headerlink" title="RNNä»‹ç»"></a>RNNä»‹ç»</h1><h2 id="1-å›¾ç¤º"><a href="#1-å›¾ç¤º" class="headerlink" title="1.å›¾ç¤º"></a>1.å›¾ç¤º</h2><p>å¯¹äºå­—ç¬¦çº§åˆ†ç±»RNNï¼š</p><p><img src="/2024/02/13/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/NLP/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/NLP%E6%A8%A1%E5%9E%8B/RNN/1.png"></p><p>å¯¹äºå­—ç¬¦çº§ç”ŸæˆRNNï¼š</p><p><img src="/2024/02/13/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/NLP/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/NLP%E6%A8%A1%E5%9E%8B/RNN/3.png"></p><h2 id="2-å…·ä½“ä»£ç "><a href="#2-å…·ä½“ä»£ç " class="headerlink" title="2.å…·ä½“ä»£ç "></a>2.å…·ä½“ä»£ç </h2><p><strong>å¯¹äºå­—ç¬¦çº§åˆ†ç±»RNN</strong>ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">RNN</span>(nn.Module):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, input_size, hidden_size, output_size</span>):<br>        <span class="hljs-built_in">super</span>(RNN, self).__init__()<br><br>        self.hidden_size = hidden_size<br><br>        self.i2h = nn.Linear(input_size + hidden_size, hidden_size)<br>        self.h2o = nn.Linear(hidden_size, output_size)<br>        self.softmax = nn.LogSoftmax(dim=<span class="hljs-number">1</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, <span class="hljs-built_in">input</span>, hidden</span>):<br>        combined = torch.cat((<span class="hljs-built_in">input</span>, hidden), <span class="hljs-number">1</span>)<br>        hidden = self.i2h(combined)<br>        output = self.h2o(hidden)<br>        output = self.softmax(output)<br>        <span class="hljs-keyword">return</span> output, hidden<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">initHidden</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">return</span> torch.zeros(<span class="hljs-number">1</span>, self.hidden_size)<br></code></pre></td></tr></table></figure><p>ä¸Šé¢ä¸ºåŸºæœ¬ç½‘ç»œã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">train</span>(<span class="hljs-params">category_tensor, line_tensor</span>):<br>    hidden = rnn.initHidden()<br><br>    rnn.zero_grad()<br><br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(line_tensor.size()[<span class="hljs-number">0</span>]):<br>        output, hidden = rnn(line_tensor[i], hidden)<br><br>    loss = criterion(output, category_tensor)<br>    loss.backward()<br><br>    <span class="hljs-comment"># Add parameters&#x27; gradients to their values, multiplied by learning rate</span><br>    <span class="hljs-keyword">for</span> p <span class="hljs-keyword">in</span> rnn.parameters():<br>        p.data.add_(p.grad.data, alpha=-learning_rate)<br></code></pre></td></tr></table></figure><p>ä¸Šé¢ä¸ºå…·ä½“è®­ç»ƒæ­¥éª¤ã€‚</p><p>å…¶ä¸­ï¼Œ<img src="/2024/02/13/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/NLP/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/NLP%E6%A8%A1%E5%9E%8B/RNN/1.png">æ˜¯RNNæ ¸å¿ƒæ­¥éª¤ã€‚</p><p><strong>å¯¹äºå­—ç¬¦çº§ç”ŸæˆRNN</strong>ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">RNN</span>(nn.Module):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, input_size, hidden_size, output_size</span>):<br>        <span class="hljs-built_in">super</span>(RNN, self).__init__()<br>        self.hidden_size = hidden_size<br><br>        self.i2h = nn.Linear(n_categories + input_size + hidden_size, hidden_size)<br>        self.i2o = nn.Linear(n_categories + input_size + hidden_size, output_size)<br>        self.o2o = nn.Linear(hidden_size + output_size, output_size)<br>        self.dropout = nn.Dropout(<span class="hljs-number">0.1</span>)<br>        self.softmax = nn.LogSoftmax(dim=<span class="hljs-number">1</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, category, <span class="hljs-built_in">input</span>, hidden</span>):<br>        input_combined = torch.cat((category, <span class="hljs-built_in">input</span>, hidden), <span class="hljs-number">1</span>)<br>        hidden = self.i2h(input_combined)<br>        output = self.i2o(input_combined)<br>        output_combined = torch.cat((hidden, output), <span class="hljs-number">1</span>)<br>        output = self.o2o(output_combined)<br>        output = self.dropout(output)<br>        output = self.softmax(output)<br>        <span class="hljs-keyword">return</span> output, hidden<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">initHidden</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">return</span> torch.zeros(<span class="hljs-number">1</span>, self.hidden_size)<br></code></pre></td></tr></table></figure><p>ä¸Šé¢ä¸ºå…·ä½“ç½‘ç»œã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">train</span>(<span class="hljs-params">category_tensor, input_line_tensor, target_line_tensor</span>):<br>    target_line_tensor.unsqueeze_(-<span class="hljs-number">1</span>)<br>    hidden = rnn.initHidden()<br><br>    rnn.zero_grad()<br><br>    loss = torch.Tensor([<span class="hljs-number">0</span>]) <span class="hljs-comment"># you can also just simply use ``loss = 0``</span><br><br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(input_line_tensor.size(<span class="hljs-number">0</span>)):<br>        output, hidden = rnn(category_tensor, input_line_tensor[i], hidden)<br>        l = criterion(output, target_line_tensor[i])<br>        loss += l<br><br>    loss.backward()<br><br>    <span class="hljs-keyword">for</span> p <span class="hljs-keyword">in</span> rnn.parameters():<br>        p.data.add_(p.grad.data, alpha=-learning_rate)<br></code></pre></td></tr></table></figure><p>ä¸Šé¢ä¸ºå…·ä½“è®­ç»ƒæ­¥éª¤ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>AI Ê¢áµ•á´—áµ•Ê¡</category>
      
      <category>NLP</category>
      
      <category>NLPåŸºç¡€çŸ¥è¯†</category>
      
      <category>NLPæ¨¡å‹</category>
      
    </categories>
    
    
    <tags>
      
      <tag>AI</tag>
      
      <tag>NLP</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å­—ç¬¦çº§RNNåˆ†ç±»ï¼ğŸŒ</title>
    <link href="/2024/02/13/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/Pytorch/%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/RNN%E5%88%86%E7%B1%BB/"/>
    <url>/2024/02/13/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/Pytorch/%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/RNN%E5%88%86%E7%B1%BB/</url>
    
    <content type="html"><![CDATA[<h1 id="ä½¿ç”¨å­—ç¬¦çº§RNNå¯¹åç§°è¿›è¡Œåˆ†ç±»"><a href="#ä½¿ç”¨å­—ç¬¦çº§RNNå¯¹åç§°è¿›è¡Œåˆ†ç±»" class="headerlink" title="ä½¿ç”¨å­—ç¬¦çº§RNNå¯¹åç§°è¿›è¡Œåˆ†ç±»"></a>ä½¿ç”¨å­—ç¬¦çº§RNNå¯¹åç§°è¿›è¡Œåˆ†ç±»</h1><h2 id="1-å‡†å¤‡æ•°æ®"><a href="#1-å‡†å¤‡æ•°æ®" class="headerlink" title="1.å‡†å¤‡æ•°æ®"></a>1.å‡†å¤‡æ•°æ®</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> io <span class="hljs-keyword">import</span> <span class="hljs-built_in">open</span><br><span class="hljs-keyword">import</span> glob<br><span class="hljs-keyword">import</span> os<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">findFiles</span>(<span class="hljs-params">path</span>): <span class="hljs-keyword">return</span> glob.glob(path)<br><br><span class="hljs-built_in">print</span>(findFiles(<span class="hljs-string">&#x27;data/names/*.txt&#x27;</span>))<br><br><span class="hljs-keyword">import</span> unicodedata<br><span class="hljs-keyword">import</span> string<br><br>all_letters = string.ascii_letters + <span class="hljs-string">&quot; .,;&#x27;&quot;</span><br>n_letters = <span class="hljs-built_in">len</span>(all_letters)<br><br><span class="hljs-comment"># Turn a Unicode string to plain ASCII, thanks to https://stackoverflow.com/a/518232/2809427</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">unicodeToAscii</span>(<span class="hljs-params">s</span>):<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;&#x27;</span>.join(<br>        c <span class="hljs-keyword">for</span> c <span class="hljs-keyword">in</span> unicodedata.normalize(<span class="hljs-string">&#x27;NFD&#x27;</span>, s)<br>        <span class="hljs-keyword">if</span> unicodedata.category(c) != <span class="hljs-string">&#x27;Mn&#x27;</span><br>        <span class="hljs-keyword">and</span> c <span class="hljs-keyword">in</span> all_letters<br>    )<br><br><span class="hljs-built_in">print</span>(unicodeToAscii(<span class="hljs-string">&#x27;ÅšlusÃ rski&#x27;</span>))<br><br><span class="hljs-comment"># Build the category_lines dictionary, a list of names per language</span><br>category_lines = &#123;&#125;<br>all_categories = []<br><br><span class="hljs-comment"># Read a file and split into lines</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">readLines</span>(<span class="hljs-params">filename</span>):<br>    lines = <span class="hljs-built_in">open</span>(filename, encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>).read().strip().split(<span class="hljs-string">&#x27;\n&#x27;</span>)<br>    <span class="hljs-keyword">return</span> [unicodeToAscii(line) <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> lines]<br><br><span class="hljs-keyword">for</span> filename <span class="hljs-keyword">in</span> findFiles(<span class="hljs-string">&#x27;data/names/*.txt&#x27;</span>):<br>    category = os.path.splitext(os.path.basename(filename))[<span class="hljs-number">0</span>]<br>    all_categories.append(category)<br>    lines = readLines(filename)<br>    category_lines[category] = lines<br><br>n_categories = <span class="hljs-built_in">len</span>(all_categories)<br></code></pre></td></tr></table></figure><p><strong>tipsï¼š</strong></p><p><img src="/2024/02/13/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/Pytorch/%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/RNN%E5%88%86%E7%B1%BB/2.png"></p><p><img src="/2024/02/13/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/Pytorch/%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/RNN%E5%88%86%E7%B1%BB/1.png"></p><p><img src="/2024/02/13/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/Pytorch/%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/RNN%E5%88%86%E7%B1%BB/3.png"></p><h2 id="2-å°†åç§°è½¬æ¢ä¸ºå¼ é‡"><a href="#2-å°†åç§°è½¬æ¢ä¸ºå¼ é‡" class="headerlink" title="2.å°†åç§°è½¬æ¢ä¸ºå¼ é‡"></a>2.å°†åç§°è½¬æ¢ä¸ºå¼ é‡</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> torch<br><br><span class="hljs-comment"># Find letter index from all_letters, e.g. &quot;a&quot; = 0</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">letterToIndex</span>(<span class="hljs-params">letter</span>):<br>    <span class="hljs-keyword">return</span> all_letters.find(letter)<br><br><span class="hljs-comment"># Just for demonstration, turn a letter into a &lt;1 x n_letters&gt; Tensor</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">letterToTensor</span>(<span class="hljs-params">letter</span>):<br>    tensor = torch.zeros(<span class="hljs-number">1</span>, n_letters)<br>    tensor[<span class="hljs-number">0</span>][letterToIndex(letter)] = <span class="hljs-number">1</span><br>    <span class="hljs-keyword">return</span> tensor<br><br><span class="hljs-comment"># Turn a line into a &lt;line_length x 1 x n_letters&gt;,</span><br><span class="hljs-comment"># or an array of one-hot letter vectors</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">lineToTensor</span>(<span class="hljs-params">line</span>):<br>    tensor = torch.zeros(<span class="hljs-built_in">len</span>(line), <span class="hljs-number">1</span>, n_letters)<br>    <span class="hljs-keyword">for</span> li, letter <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(line):<br>        tensor[li][<span class="hljs-number">0</span>][letterToIndex(letter)] = <span class="hljs-number">1</span><br>    <span class="hljs-keyword">return</span> tensor<br><br><span class="hljs-built_in">print</span>(letterToTensor(<span class="hljs-string">&#x27;J&#x27;</span>))<br><br><span class="hljs-built_in">print</span>(lineToTensor(<span class="hljs-string">&#x27;Jones&#x27;</span>).size())<br></code></pre></td></tr></table></figure><p><strong>tipsï¼š</strong></p><p>è¿™ä¸€æ­¥æ„å»ºäº†ä¸¤ä¸ªæ–¹æ³•ï¼Œ<code>letterToTensor</code>å°†å•ä¸ªå­—ç¬¦è½¬æ¢ä¸ºäº†ä¸€ä¸ªäºŒç»´å¼ é‡ï¼Œ<code>lineToTensor</code>å°†ä¸€ä¸ªå•è¯è½¬æ¢ä¸ºäº†ä¸‰ç»´å¼ é‡ï¼Œå…¶ä¸­<code>torch.zeros(len(line), 1, n_letters)</code>ä¸­çš„1æ˜¯å› ä¸º PyTorch å‡è®¾ä¸€åˆ‡éƒ½æ˜¯æ‰¹é‡çš„ - æˆ‘ä»¬åœ¨è¿™é‡Œåªä½¿ç”¨æ‰¹å¤„ç†å¤§å° 1ã€‚</p><h2 id="3-åˆ›å»ºç½‘ç»œ"><a href="#3-åˆ›å»ºç½‘ç»œ" class="headerlink" title="3.åˆ›å»ºç½‘ç»œ"></a>3.åˆ›å»ºç½‘ç»œ</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> torch.nn <span class="hljs-keyword">as</span> nn<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">RNN</span>(nn.Module):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, input_size, hidden_size, output_size</span>):<br>        <span class="hljs-built_in">super</span>(RNN, self).__init__()<br><br>        self.hidden_size = hidden_size<br><br>        self.i2h = nn.Linear(input_size + hidden_size, hidden_size)<br>        self.h2o = nn.Linear(hidden_size, output_size)<br>        self.softmax = nn.LogSoftmax(dim=<span class="hljs-number">1</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, <span class="hljs-built_in">input</span>, hidden</span>):<br>        combined = torch.cat((<span class="hljs-built_in">input</span>, hidden), <span class="hljs-number">1</span>)<br>        hidden = self.i2h(combined)<br>        output = self.h2o(hidden)<br>        output = self.softmax(output)<br>        <span class="hljs-keyword">return</span> output, hidden<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">initHidden</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">return</span> torch.zeros(<span class="hljs-number">1</span>, self.hidden_size)<br><br>n_hidden = <span class="hljs-number">128</span><br>rnn = RNN(n_letters, n_hidden, n_categories)<br></code></pre></td></tr></table></figure><p><strong>tipsï¼š</strong></p><p>è¯¥ç½‘ç»œé¦–å…ˆå°†è¾“å…¥å±‚å’Œéšè—å±‚ç»“åˆï¼Œç„¶åé€šè¿‡çº¿æ€§å±‚è¾“å‡ºä¸€ä¸ª1*128çš„éšè—å±‚ï¼Œå†å°†è¯¥å±‚é€šè¿‡ä¸€ä¸ªçº¿æ€§å±‚è½¬æ¢ä¸ºè¾“å‡ºå±‚ï¼Œç»è¿‡æ¿€æ´»å‡½æ•°åè¾“å‡ºã€‚</p><p><img src="/2024/02/13/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/Pytorch/%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/RNN%E5%88%86%E7%B1%BB/4.png"></p><p>ä¸ºäº†è¿è¡Œè¿™ä¸ªç½‘ç»œçš„ä¸€ä¸ªæ­¥éª¤ï¼Œæˆ‘ä»¬éœ€è¦ä¼ é€’ä¸€ä¸ªè¾“å…¥ï¼ˆåœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œæ˜¯å½“å‰å­—æ¯çš„å¼ é‡ï¼‰å’Œä¸€ä¸ªä¹‹å‰çš„éšè—çŠ¶æ€ï¼ˆæˆ‘ä»¬é¦–å…ˆå°†å…¶åˆå§‹åŒ–ä¸ºé›¶ï¼‰ã€‚æˆ‘ä»¬å°†è¿”å›è¾“å‡ºï¼ˆæ¯ç§è¯­è¨€çš„æ¦‚ç‡ï¼‰å’Œä¸‹ä¸€ä¸ªéšè—çŠ¶æ€ï¼ˆæˆ‘ä»¬ä¿ç•™è¯¥çŠ¶æ€ä»¥å¤‡ä¸‹ä¸€æ­¥ä½¿ç”¨ï¼‰ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">input</span> = letterToTensor(<span class="hljs-string">&#x27;A&#x27;</span>)<br>hidden = torch.zeros(<span class="hljs-number">1</span>, n_hidden)<br><br>output, next_hidden = rnn(<span class="hljs-built_in">input</span>, hidden)<br></code></pre></td></tr></table></figure><p>ä¸ºäº†æé«˜æ•ˆç‡ï¼Œæˆ‘ä»¬ä¸æƒ³ä¸ºæ¯ä¸€æ­¥éƒ½åˆ›å»ºä¸€ä¸ªæ–°çš„ Tensorï¼Œæ‰€ä»¥æˆ‘ä»¬å°†ä½¿ç”¨ <code>lineToTensor</code> slices è€Œä¸æ˜¯ <code>letterToTensor</code> slicesã€‚è¿™å¯ä»¥é€šè¿‡é¢„å…ˆè®¡ç®— Tensor çš„æ‰¹æ¬¡æ¥è¿›ä¸€æ­¥ä¼˜åŒ–ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">input</span> = lineToTensor(<span class="hljs-string">&#x27;Albert&#x27;</span>)<br>hidden = torch.zeros(<span class="hljs-number">1</span>, n_hidden)<br><br>output, next_hidden = rnn(<span class="hljs-built_in">input</span>[<span class="hljs-number">0</span>], hidden)<br><span class="hljs-built_in">print</span>(output)<br></code></pre></td></tr></table></figure><h2 id="4-è®­ç»ƒ"><a href="#4-è®­ç»ƒ" class="headerlink" title="4.è®­ç»ƒ"></a>4.è®­ç»ƒ</h2><p>åœ¨å¼€å§‹è®­ç»ƒä¹‹å‰ï¼Œæˆ‘ä»¬åº”è¯¥åšä¸€äº›è¾…åŠ©åŠŸèƒ½ã€‚é¦–å…ˆæ˜¯è§£é‡Šç½‘ç»œçš„è¾“å‡ºï¼Œæˆ‘ä»¬çŸ¥é“è¿™æ˜¯æ¯ä¸ªç±»åˆ«çš„å¯èƒ½æ€§ã€‚æˆ‘ä»¬å¯ä»¥ç”¨æ¥ <code>Tensor.topk</code> è·å–æœ€å¤§å€¼çš„ç´¢å¼•ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">categoryFromOutput</span>(<span class="hljs-params">output</span>):<br>    top_n, top_i = output.topk(<span class="hljs-number">1</span>)<br>    category_i = top_i[<span class="hljs-number">0</span>].item()<br>    <span class="hljs-keyword">return</span> all_categories[category_i], category_i<br><br><span class="hljs-built_in">print</span>(categoryFromOutput(output))<br></code></pre></td></tr></table></figure><p><strong>tipsï¼š</strong></p><p>topkè¿”å›å€¼å’Œç´¢å¼•ã€‚</p><p>æˆ‘ä»¬è¿˜æƒ³è¦ä¸€ç§å¿«é€Ÿè·å–è®­ç»ƒç¤ºä¾‹ï¼ˆåç§°åŠå…¶è¯­è¨€ï¼‰çš„æ–¹æ³•ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> random<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">randomChoice</span>(<span class="hljs-params">l</span>):<br>    <span class="hljs-keyword">return</span> l[random.randint(<span class="hljs-number">0</span>, <span class="hljs-built_in">len</span>(l) - <span class="hljs-number">1</span>)]<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">randomTrainingExample</span>():<br>    category = randomChoice(all_categories)<br>    line = randomChoice(category_lines[category])<br>    category_tensor = torch.tensor([all_categories.index(category)], dtype=torch.long)<br>    line_tensor = lineToTensor(line)<br>    <span class="hljs-keyword">return</span> category, line, category_tensor, line_tensor<br><br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">10</span>):<br>    category, line, category_tensor, line_tensor = randomTrainingExample()<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;category =&#x27;</span>, category, <span class="hljs-string">&#x27;/ line =&#x27;</span>, line)<br></code></pre></td></tr></table></figure><p>å¯¹äºæŸå¤±å‡½æ•° <code>nn.NLLLoss</code> æ˜¯åˆé€‚çš„ï¼Œå› ä¸º RNN çš„æœ€åä¸€å±‚æ˜¯ <code>nn.LogSoftmax</code> ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">criterion = nn.NLLLoss()<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs python">learning_rate = <span class="hljs-number">0.005</span> <span class="hljs-comment"># If you set this too high, it might explode. If too low, it might not learn</span><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">train</span>(<span class="hljs-params">category_tensor, line_tensor</span>):<br>    hidden = rnn.initHidden()<br><br>    rnn.zero_grad()<br><br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(line_tensor.size()[<span class="hljs-number">0</span>]):<br>        output, hidden = rnn(line_tensor[i], hidden)<br><br>    loss = criterion(output, category_tensor)<br>    loss.backward()<br><br>    <span class="hljs-comment"># Add parameters&#x27; gradients to their values, multiplied by learning rate</span><br>    <span class="hljs-keyword">for</span> p <span class="hljs-keyword">in</span> rnn.parameters():<br>        p.data.add_(p.grad.data, alpha=-learning_rate)<br><br>    <span class="hljs-keyword">return</span> output, loss.item()<br></code></pre></td></tr></table></figure><p><strong>tips:</strong></p><p><code>rnn.zero_grad()</code>ï¼šåœ¨æ¯ä¸ªè®­ç»ƒæ­¥éª¤ä¹‹å‰æ¸…é›¶æ¨¡å‹å‚æ•°çš„æ¢¯åº¦ã€‚</p><p><code>p.data.add_(p.grad.data, alpha=-learning_rate)</code>ï¼šè¿™è¡Œä»£ç æ˜¯é’ˆå¯¹å¾ªç¯ç¥ç»ç½‘ç»œï¼ˆRNNï¼‰æ¨¡å‹ä¸­çš„å‚æ•°è¿›è¡Œæ¢¯åº¦ä¸‹é™æ›´æ–°çš„ä¸€ç§å¸¸è§æ–¹å¼ã€‚</p><ol><li><p><code>for p in rnn.parameters():</code>ï¼šè¿™ä¸ªå¾ªç¯éå†äº†RNNæ¨¡å‹ä¸­çš„æ‰€æœ‰å‚æ•°ã€‚åœ¨PyTorchä¸­ï¼Œé€šè¿‡ <code>parameters()</code> æ–¹æ³•å¯ä»¥è·å–æ¨¡å‹ä¸­æ‰€æœ‰éœ€è¦è¿›è¡Œå­¦ä¹ çš„å‚æ•°ã€‚</p></li><li><p><code>p.data.add_(p.grad.data, alpha=-learning_rate)</code>ï¼šè¿™è¡Œä»£ç æ˜¯å¯¹æ¯ä¸ªå‚æ•°è¿›è¡Œæ›´æ–°çš„æ ¸å¿ƒéƒ¨åˆ†ã€‚è®©æˆ‘ä»¬åˆ†è§£å®ƒï¼š</p><ul><li><code>p.data</code>ï¼šè¡¨ç¤ºå‚æ•° <code>p</code> çš„æ•°æ®å€¼ã€‚</li><li><code>p.grad.data</code>ï¼šè¡¨ç¤ºå‚æ•° <code>p</code> çš„æ¢¯åº¦å€¼ã€‚</li><li><code>alpha=-learning_rate</code>ï¼šè¡¨ç¤ºæ›´æ–°çš„æ­¥é•¿ï¼Œå³å­¦ä¹ ç‡çš„è´Ÿæ•°ã€‚</li></ul><p>å®é™…ä¸Šï¼Œè¿™è¡Œä»£ç æ‰§è¡Œäº†ä»¥ä¸‹æ“ä½œï¼š</p><ul><li>é¦–å…ˆï¼Œå®ƒè·å–äº†å‚æ•° <code>p</code> çš„æ•°æ®å€¼ <code>p.data</code>ã€‚</li><li>ç„¶åï¼Œå®ƒå°†å‚æ•°çš„æ¢¯åº¦å€¼ <code>p.grad.data</code> ä¹˜ä»¥å­¦ä¹ ç‡çš„è´Ÿæ•° <code>-learning_rate</code>ã€‚</li><li>æœ€åï¼Œå®ƒå°†è¿™ä¸ªä¹˜ä»¥åçš„æ¢¯åº¦å€¼æ·»åŠ åˆ°å‚æ•°çš„æ•°æ®å€¼ä¸­ï¼Œå®ç°äº†å‚æ•°çš„æ›´æ–°ã€‚</li></ul></li></ol><p>è¿™ä¸ªè¿‡ç¨‹åŸºæœ¬ä¸Šæ˜¯æ¢¯åº¦ä¸‹é™æ³•çš„ä¸€æ­¥ï¼Œå…¶ä¸­å­¦ä¹ ç‡ <code>learning_rate</code> æ§åˆ¶ç€å‚æ•°æ›´æ–°çš„æ­¥é•¿ã€‚é€šå¸¸ï¼Œè¿™è¡Œä»£ç ä¼šåœ¨ä¼˜åŒ–å™¨ï¼ˆå¦‚éšæœºæ¢¯åº¦ä¸‹é™ä¼˜åŒ–å™¨æˆ–Adamä¼˜åŒ–å™¨ï¼‰ä¸­çš„å‚æ•°æ›´æ–°æ­¥éª¤ä¸­è¢«ä½¿ç”¨ã€‚</p><p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè¿™ç§æ–¹å¼åœ¨æ›´æ–°å‚æ•°æ—¶ç›´æ¥ä¿®æ”¹äº†å‚æ•°çš„æ•°æ®å€¼ï¼Œè€Œæ²¡æœ‰é€šè¿‡ä¼˜åŒ–å™¨å¯¹è±¡æ¥å¤„ç†ã€‚å› æ­¤ï¼Œåœ¨ä½¿ç”¨è¿™ç§æ–¹å¼æ—¶éœ€è¦æ‰‹åŠ¨è®¾ç½®å­¦ä¹ ç‡ã€è€ƒè™‘åŠ¨é‡ç­‰ä¼˜åŒ–æŠ€å·§ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæ›´æ¨èä½¿ç”¨PyTorchæä¾›çš„ä¼˜åŒ–å™¨ï¼Œä¾‹å¦‚ <code>torch.optim.SGD</code> æˆ– <code>torch.optim.Adam</code>ï¼Œè¿™äº›ä¼˜åŒ–å™¨ä¼šè‡ªåŠ¨ç®¡ç†å‚æ•°æ›´æ–°çš„ç»†èŠ‚ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> time<br><span class="hljs-keyword">import</span> math<br><br>n_iters = <span class="hljs-number">100000</span><br>print_every = <span class="hljs-number">5000</span><br>plot_every = <span class="hljs-number">1000</span><br><br><br><br><span class="hljs-comment"># Keep track of losses for plotting</span><br>current_loss = <span class="hljs-number">0</span><br>all_losses = []<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">timeSince</span>(<span class="hljs-params">since</span>):<br>    now = time.time()<br>    s = now - since<br>    m = math.floor(s / <span class="hljs-number">60</span>)<br>    s -= m * <span class="hljs-number">60</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;%dm %ds&#x27;</span> % (m, s)<br><br>start = time.time()<br><br><span class="hljs-keyword">for</span> <span class="hljs-built_in">iter</span> <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, n_iters + <span class="hljs-number">1</span>):<br>    category, line, category_tensor, line_tensor = randomTrainingExample()<br>    output, loss = train(category_tensor, line_tensor)<br>    current_loss += loss<br><br>    <span class="hljs-comment"># Print ``iter`` number, loss, name and guess</span><br>    <span class="hljs-keyword">if</span> <span class="hljs-built_in">iter</span> % print_every == <span class="hljs-number">0</span>:<br>        guess, guess_i = categoryFromOutput(output)<br>        correct = <span class="hljs-string">&#x27;âœ“&#x27;</span> <span class="hljs-keyword">if</span> guess == category <span class="hljs-keyword">else</span> <span class="hljs-string">&#x27;âœ— (%s)&#x27;</span> % category<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;%d %d%% (%s) %.4f %s / %s %s&#x27;</span> % (<span class="hljs-built_in">iter</span>, <span class="hljs-built_in">iter</span> / n_iters * <span class="hljs-number">100</span>, timeSince(start), loss, line, guess, correct))<br><br>    <span class="hljs-comment"># Add current loss avg to list of losses</span><br>    <span class="hljs-keyword">if</span> <span class="hljs-built_in">iter</span> % plot_every == <span class="hljs-number">0</span>:<br>        all_losses.append(current_loss / plot_every)<br>        current_loss = <span class="hljs-number">0</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>AI Ê¢áµ•á´—áµ•Ê¡</category>
      
      <category>Pytorch</category>
      
      <category>Pytorché¡¹ç›®å®æˆ˜</category>
      
    </categories>
    
    
    <tags>
      
      <tag>AI</tag>
      
      <tag>Pytorch</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å¸¸ç”¨Tensoræ–¹æ³•ï¼ğŸ§</title>
    <link href="/2024/02/03/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/Pytorch/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E5%B8%B8%E7%94%A8%E5%BC%A0%E9%87%8F%E6%93%8D%E4%BD%9C/"/>
    <url>/2024/02/03/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/Pytorch/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E5%B8%B8%E7%94%A8%E5%BC%A0%E9%87%8F%E6%93%8D%E4%BD%9C/</url>
    
    <content type="html"><![CDATA[<h1 id="å¸¸ç”¨Tensoræ–¹æ³•"><a href="#å¸¸ç”¨Tensoræ–¹æ³•" class="headerlink" title="å¸¸ç”¨Tensoræ–¹æ³•"></a>å¸¸ç”¨Tensoræ–¹æ³•</h1><h2 id="1-topk"><a href="#1-topk" class="headerlink" title="1.topk"></a>1.topk</h2><p><code>Tensor.topk</code> æ˜¯ PyTorch ä¸­çš„ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºåœ¨å¼ é‡ï¼ˆTensorï¼‰ä¸­è·å–å‰ k ä¸ªæœ€å¤§å€¼æˆ–æœ€å°å€¼åŠå…¶å¯¹åº”çš„ç´¢å¼•ã€‚</p><p>å…·ä½“è€Œè¨€ï¼Œ<code>Tensor.topk</code> å‡½æ•°è¿”å›çš„æ˜¯ç»™å®šå¼ é‡ä¸­çš„å‰ k ä¸ªæœ€å¤§å€¼ï¼ˆæˆ–æœ€å°å€¼ï¼‰ä»¥åŠå®ƒä»¬åœ¨å¼ é‡ä¸­çš„ä½ç½®ç´¢å¼•ã€‚å‡½æ•°çš„ç­¾åé€šå¸¸å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">values, indices = torch.topk(<span class="hljs-built_in">input</span>, k, dim=<span class="hljs-literal">None</span>, largest=<span class="hljs-literal">True</span>, <span class="hljs-built_in">sorted</span>=<span class="hljs-literal">True</span>, out=<span class="hljs-literal">None</span>)<br></code></pre></td></tr></table></figure><p>å…¶ä¸­ï¼š</p><ul><li><code>input</code> æ˜¯è¾“å…¥çš„å¼ é‡ã€‚</li><li><code>k</code> æ˜¯è¦è·å–çš„æœ€å¤§å€¼æˆ–æœ€å°å€¼çš„ä¸ªæ•°ã€‚</li><li><code>dim</code> æ˜¯åœ¨å“ªä¸ªç»´åº¦ä¸Šè¿›è¡Œæ£€ç´¢ã€‚å¦‚æœä¸æŒ‡å®šï¼Œåˆ™é»˜è®¤ä¸ºæ•´ä¸ªå¼ é‡ã€‚</li><li><code>largest</code> æ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œç”¨äºæŒ‡å®šæ˜¯å¦è·å–æœ€å¤§å€¼ã€‚å¦‚æœä¸º Trueï¼Œåˆ™è¿”å›å‰ k ä¸ªæœ€å¤§å€¼ï¼›å¦‚æœä¸º Falseï¼Œåˆ™è¿”å›å‰ k ä¸ªæœ€å°å€¼ã€‚</li><li><code>sorted</code> ä¹Ÿæ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œç”¨äºæŒ‡å®šè¿”å›çš„ç»“æœæ˜¯å¦æŒ‰ç…§å¤§å°é¡ºåºæ’åˆ—ã€‚</li><li><code>out</code> æ˜¯ä¸€ä¸ªå¯é€‰çš„è¾“å‡ºå¼ é‡ã€‚</li></ul><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> torch<br><br><span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªç¤ºä¾‹å¼ é‡</span><br>tensor = torch.tensor([<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">5</span>, <span class="hljs-number">4</span>])<br><br><span class="hljs-comment"># è·å–å‰3ä¸ªæœ€å¤§å€¼åŠå…¶ç´¢å¼•</span><br>top_values, top_indices = tensor.topk(<span class="hljs-number">3</span>)<br><span class="hljs-built_in">print</span>(top_values)    <span class="hljs-comment"># è¾“å‡º: tensor([5, 4, 3])</span><br><span class="hljs-built_in">print</span>(top_indices)   <span class="hljs-comment"># è¾“å‡º: tensor([3, 4, 1])</span><br></code></pre></td></tr></table></figure><p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œ<code>top_values</code> åŒ…å«äº†è¾“å…¥å¼ é‡ä¸­çš„å‰ 3 ä¸ªæœ€å¤§å€¼ <code>[5, 4, 3]</code>ï¼Œè€Œ <code>top_indices</code> åŒ…å«äº†è¿™äº›å€¼åœ¨åŸå§‹å¼ é‡ä¸­çš„ç´¢å¼• <code>[3, 4, 1]</code>ã€‚</p><h2 id="2-add"><a href="#2-add" class="headerlink" title="2.add_"></a>2.add_</h2><p><code>add_</code> æ˜¯PyTorchå¼ é‡ï¼ˆTensorï¼‰ç±»çš„ä¸€ä¸ªæ–¹æ³•ï¼Œç”¨äºå°†å¦ä¸€ä¸ªå¼ é‡çš„å€¼åŠ åˆ°å½“å‰å¼ é‡ä¸Šã€‚è¿™ä¸ªæ–¹æ³•æ˜¯å°±åœ°æ“ä½œï¼Œå³ä¼šä¿®æ”¹è°ƒç”¨å®ƒçš„å¼ é‡ï¼Œå¹¶ä¸”è¿”å›ä¿®æ”¹åçš„å¼ é‡ã€‚</p><p>å…·ä½“æ¥è¯´ï¼Œ<code>add_</code> æ–¹æ³•æœ‰å‡ ç§ä¸åŒçš„ç”¨æ³•ï¼š</p><h3 id="2-1-å¼ é‡ç›¸åŠ "><a href="#2-1-å¼ é‡ç›¸åŠ " class="headerlink" title="2.1 å¼ é‡ç›¸åŠ "></a>2.1 <strong>å¼ é‡ç›¸åŠ </strong></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">tensor1.add_(tensor2)<br></code></pre></td></tr></table></figure><p>è¿™ä¼šå°†å¼ é‡ <code>tensor2</code> çš„å€¼åŠ åˆ°å¼ é‡ <code>tensor1</code> ä¸Šï¼Œå¹¶ä¿®æ”¹ <code>tensor1</code> çš„å€¼ã€‚å¦‚æœ <code>tensor1</code> å’Œ <code>tensor2</code> çš„å½¢çŠ¶ä¸åŒ¹é…ï¼ŒPyTorchä¼šè‡ªåŠ¨è¿›è¡Œå¹¿æ’­ï¼ˆbroadcastingï¼‰æ“ä½œï¼Œä½¿å¾—å®ƒä»¬å¯ä»¥ç›¸åŠ ã€‚</p><h3 id="2-2-æ ‡é‡ç›¸åŠ "><a href="#2-2-æ ‡é‡ç›¸åŠ " class="headerlink" title="2.2 æ ‡é‡ç›¸åŠ "></a>2.2 <strong>æ ‡é‡ç›¸åŠ </strong></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">tensor.add_(scalar)<br></code></pre></td></tr></table></figure><h3 id="2-3-å¼ é‡ä¸æ ‡é‡ç›¸ä¹˜å†ç›¸åŠ "><a href="#2-3-å¼ é‡ä¸æ ‡é‡ç›¸ä¹˜å†ç›¸åŠ " class="headerlink" title="2.3 å¼ é‡ä¸æ ‡é‡ç›¸ä¹˜å†ç›¸åŠ "></a>2.3 <strong>å¼ é‡ä¸æ ‡é‡ç›¸ä¹˜å†ç›¸åŠ </strong></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">tensor.add_(other_tensor, alpha=scalar)<br></code></pre></td></tr></table></figure><h2 id="3-unsqueeze"><a href="#3-unsqueeze" class="headerlink" title="3.unsqueeze_"></a>3.unsqueeze_</h2><p><code>unsqueeze_</code> æ˜¯ PyTorch ä¸­çš„ä¸€ä¸ªå¼ é‡æ“ä½œå‡½æ•°ï¼Œç”¨äºåœ¨æŒ‡å®šçš„ç»´åº¦ä¸Šå¢åŠ ä¸€ä¸ªå¤§å°ä¸º 1 çš„ç»´åº¦ã€‚è¿™ä¸ªæ“ä½œæ˜¯ in-place çš„ï¼Œæ„å‘³ç€å®ƒä¼šä¿®æ”¹åŸå§‹å¼ é‡è€Œä¸æ˜¯è¿”å›ä¸€ä¸ªæ–°çš„å¼ é‡ã€‚</p><p>è¯­æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">tensor.unsqueeze_(dim)<br></code></pre></td></tr></table></figure><ul><li><code>tensor</code>: è¦è¿›è¡Œæ“ä½œçš„å¼ é‡ã€‚</li><li><code>dim</code>: è¦åœ¨å…¶å‰é¢æ’å…¥ç»´åº¦çš„ç´¢å¼•ã€‚å¦‚æœ <code>dim</code> æ˜¯è´Ÿæ•°ï¼Œåˆ™ä»æœ«å°¾å¼€å§‹è®¡æ•°ã€‚</li></ul><p>ä¾‹å¦‚ï¼Œå‡è®¾æœ‰ä¸€ä¸ªå½¢çŠ¶ä¸º (3, 4) çš„å¼ é‡ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> torch<br><br>tensor = torch.tensor([[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>],<br>                       [<span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>],<br>                       [<span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">11</span>, <span class="hljs-number">12</span>]])<br></code></pre></td></tr></table></figure><p>å¦‚æœæˆ‘ä»¬æƒ³åœ¨ç¬¬ä¸€ä¸ªç»´åº¦ä¸Šå¢åŠ ä¸€ä¸ªå¤§å°ä¸º 1 çš„ç»´åº¦ï¼Œå¯ä»¥ä½¿ç”¨ <code>unsqueeze_</code> æ“ä½œï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">tensor.unsqueeze_(<span class="hljs-number">0</span>)<br></code></pre></td></tr></table></figure><p>è¿™å°†ä½¿å¾—å¼ é‡çš„å½¢çŠ¶å˜ä¸º (1, 3, 4)ï¼Œå› ä¸ºåœ¨åŸæ¥çš„ç»´åº¦ 0 çš„ä½ç½®ä¸Šæ’å…¥äº†ä¸€ä¸ªç»´åº¦å¤§å°ä¸º 1 çš„ç»´åº¦ã€‚</p><p>åŒæ ·ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨å…¶ä»–ç»´åº¦ä¸Šæ’å…¥ç»´åº¦ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">tensor.unsqueeze_(<span class="hljs-number">2</span>)<br></code></pre></td></tr></table></figure><p>è¿™å°†ä½¿å¾—å¼ é‡çš„å½¢çŠ¶å˜ä¸º (1, 3, 1, 4)ã€‚</p><h2 id="4-squeeze"><a href="#4-squeeze" class="headerlink" title="4.squeeze"></a>4.squeeze</h2><p><code>tensor.squeeze()</code> æ˜¯ä¸€ä¸ªç”¨äºåˆ é™¤å°ºå¯¸ä¸º 1 çš„ç»´åº¦çš„ PyTorch å¼ é‡æ–¹æ³•ã€‚åœ¨å¼ é‡ä¸­ï¼Œæœ‰æ—¶ä¼šå­˜åœ¨ç»´åº¦å¤§å°ä¸º 1 çš„ç»´åº¦ï¼Œè¿™äº›ç»´åº¦å¯èƒ½æ˜¯ç”±äºæŸäº›æ“ä½œæˆ–è€…æ•°æ®ç»“æ„çš„éœ€æ±‚è€Œäº§ç”Ÿçš„ï¼Œä½†æ˜¯å®ƒä»¬å¯¹äºå¼ é‡çš„è®¡ç®—æ²¡æœ‰å®è´¨æ€§çš„å½±å“ã€‚<code>squeeze()</code> æ–¹æ³•å°±æ˜¯ç”¨æ¥åˆ é™¤è¿™äº›ç»´åº¦ï¼Œä»è€Œä½¿å¾—å¼ é‡æ›´åŠ ç´§å‡‘ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> torch<br><br><span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªå…·æœ‰ç»´åº¦å¤§å°ä¸º 1 çš„ç»´åº¦çš„å¼ é‡</span><br>tensor = torch.randn(<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">5</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;åŸå§‹å¼ é‡å½¢çŠ¶ï¼š&quot;</span>, tensor.shape)  <span class="hljs-comment"># è¾“å‡ºï¼štorch.Size([1, 3, 1, 5])</span><br><br><span class="hljs-comment"># åˆ é™¤ç»´åº¦å¤§å°ä¸º 1 çš„ç»´åº¦</span><br>squeezed_tensor = tensor.squeeze()<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;åˆ é™¤ç»´åº¦åçš„å¼ é‡å½¢çŠ¶ï¼š&quot;</span>, squeezed_tensor.shape)  <span class="hljs-comment"># è¾“å‡ºï¼štorch.Size([3, 5])</span><br></code></pre></td></tr></table></figure><p><strong>tips:</strong></p><ul><li>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ<code>squeeze()</code> æ–¹æ³•é»˜è®¤ä¼šåˆ é™¤æ‰€æœ‰ç»´åº¦å¤§å°ä¸º 1 çš„ç»´åº¦ï¼Œä½†ä¹Ÿå¯ä»¥é€šè¿‡ä¼ é€’å‚æ•°æŒ‡å®šåˆ é™¤æŸäº›ç‰¹å®šçš„ç»´åº¦ã€‚</li><li>è°ƒç”¨ <code>squeeze(-1)</code> æ–¹æ³•æ˜¯é’ˆå¯¹å¼ é‡çš„æœ€åä¸€ä¸ªç»´åº¦è¿›è¡Œå‹ç¼©ï¼Œå³åˆ é™¤æœ€åä¸€ä¸ªç»´åº¦ä¸­å¤§å°ä¸º 1 çš„ç»´åº¦ã€‚è¿™åœ¨å¤„ç†å¼ é‡ä¸­çš„å•ä¾‹ç»´åº¦æ—¶éå¸¸æœ‰ç”¨ï¼Œå°¤å…¶æ˜¯åœ¨å¤„ç†å¾ˆå¤šå·ç§¯ç½‘ç»œæˆ–å¾ªç¯ç¥ç»ç½‘ç»œçš„è¾“å‡ºæ—¶ã€‚</li><li>å¦‚æœæŒ‡å®šçš„ç»´åº¦å¤§å°<strong>ä¸ä¸º 1</strong>ï¼Œé‚£ä¹ˆ <code>squeeze(dim)</code> æ–¹æ³•ä¼š<strong>ä¿æŒåŸæ ·</strong>ï¼Œä¸ä¼šåˆ é™¤ä»»ä½•ç»´åº¦ã€‚è¿™ä¸ªæ–¹æ³•ä»…ä»…ä¼šåˆ é™¤å¤§å°ä¸º 1 çš„ç»´åº¦ã€‚</li></ul><h2 id="5-detach"><a href="#5-detach" class="headerlink" title="5.detach"></a>5.detach</h2><p><code>detach()</code> æ˜¯ PyTorch ä¸­å¼ é‡çš„ä¸€ä¸ªæ–¹æ³•ï¼Œç”¨äºåˆ›å»ºä¸€ä¸ªæ–°çš„å¼ é‡ï¼Œè¯¥å¼ é‡ä¸åŸå§‹å¼ é‡å…±äº«æ•°æ®ï¼Œä½†æ˜¯ä¸å†ä¸è®¡ç®—å›¾ç›¸å…³è”ã€‚æ¢å¥è¯è¯´ï¼Œå®ƒä¼šå°†å¼ é‡ä»å½“å‰çš„è®¡ç®—å›¾ä¸­åˆ†ç¦»å‡ºæ¥ï¼Œä½¿å¾—æˆ‘ä»¬å¯ä»¥åœ¨ä¸å½±å“æ¢¯åº¦è®¡ç®—çš„æƒ…å†µä¸‹å¯¹å…¶è¿›è¡Œæ“ä½œã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> torch<br><br><span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªéœ€è¦æ¢¯åº¦çš„å¼ é‡</span><br>tensor = torch.tensor([<span class="hljs-number">1.0</span>, <span class="hljs-number">2.0</span>, <span class="hljs-number">3.0</span>], requires_grad=<span class="hljs-literal">True</span>)<br><br><span class="hljs-comment"># å¯¹å¼ é‡è¿›è¡Œæ“ä½œ</span><br>result = tensor * <span class="hljs-number">2</span><br><br><span class="hljs-comment"># è°ƒç”¨ detach() æ–¹æ³•ï¼Œåˆ†ç¦»å¼ é‡</span><br>detached_tensor = result.detach()<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;resultï¼š&quot;</span>, result)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;detached_tensorï¼š&quot;</span>, detached_tensor)<br></code></pre></td></tr></table></figure><p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œ<code>result</code> æ˜¯é€šè¿‡å¯¹ <code>tensor</code> è¿›è¡Œä¹˜æ³•è¿ç®—å¾—åˆ°çš„æ–°å¼ é‡ï¼Œå®ƒä¾èµ–äº <code>tensor</code>ï¼Œå› æ­¤ä¹Ÿä¼šæœ‰æ¢¯åº¦ã€‚è°ƒç”¨ <code>detach()</code> æ–¹æ³•åï¼Œ<code>detached_tensor</code> å°†ä¼šåˆ†ç¦»å‡ºæ¥ï¼Œä¸å†ä¸è®¡ç®—å›¾ç›¸å…³è”ï¼Œå› æ­¤ä¸å†å…·æœ‰æ¢¯åº¦ä¿¡æ¯ã€‚</p><h2 id="6-fill"><a href="#6-fill" class="headerlink" title="6.fill_"></a>6.fill_</h2><p><code>fill_()</code> æ˜¯ PyTorch å¼ é‡çš„ä¸€ä¸ªæ–¹æ³•ï¼Œç”¨äºå°†å¼ é‡ä¸­çš„æ‰€æœ‰å…ƒç´ å¡«å……ä¸ºæŒ‡å®šçš„å€¼ã€‚è¿™ä¸ªæ–¹æ³•ä¼šä¿®æ”¹åŸå§‹å¼ é‡ï¼Œå¹¶ä¸”ä¸ä¼šè¿”å›æ–°çš„å¼ é‡ã€‚ä¸‹åˆ’çº¿ï¼ˆ<code>_</code>ï¼‰è¡¨ç¤ºè¿™ä¸ªæ–¹æ³•ä¼šå°±åœ°ä¿®æ”¹å¼ é‡ï¼Œè€Œä¸æ˜¯è¿”å›ä¸€ä¸ªæ–°çš„å¼ é‡ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> torch<br><br><span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªå½¢çŠ¶ä¸º 2x3 çš„å¼ é‡ï¼Œæ‰€æœ‰å…ƒç´ åˆå§‹åŒ–ä¸º 0</span><br>tensor = torch.zeros(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Original Tensor:&quot;</span>)<br><span class="hljs-built_in">print</span>(tensor)<br><br><span class="hljs-comment"># ä½¿ç”¨ fill_ æ–¹æ³•å°†æ‰€æœ‰å…ƒç´ å¡«å……ä¸º 5</span><br>tensor.fill_(<span class="hljs-number">5</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;\nTensor after fill_ with 5:&quot;</span>)<br><span class="hljs-built_in">print</span>(tensor)<br></code></pre></td></tr></table></figure><p>ç»“æœï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python">Original Tensor:<br>tensor([[<span class="hljs-number">0.</span>, <span class="hljs-number">0.</span>, <span class="hljs-number">0.</span>],<br>        [<span class="hljs-number">0.</span>, <span class="hljs-number">0.</span>, <span class="hljs-number">0.</span>]])<br><br>Tensor after fill_ <span class="hljs-keyword">with</span> <span class="hljs-number">5</span>:<br>tensor([[<span class="hljs-number">5.</span>, <span class="hljs-number">5.</span>, <span class="hljs-number">5.</span>],<br>        [<span class="hljs-number">5.</span>, <span class="hljs-number">5.</span>, <span class="hljs-number">5.</span>]])<br></code></pre></td></tr></table></figure><h2 id="7-permute"><a href="#7-permute" class="headerlink" title="7.permute"></a>7.permute</h2><p><code>permute</code> æ˜¯ PyTorch ä¸­ç”¨äºç»´åº¦ç½®æ¢ï¼ˆdimension permutationï¼‰çš„å‡½æ•°ã€‚å®ƒå¯ä»¥é‡æ–°æ’åˆ—å¼ é‡çš„ç»´åº¦ã€‚å‡è®¾ä½ æœ‰ä¸€ä¸ªå¼ é‡ <code>tensor</code>ï¼Œä½ å¯ä»¥ä½¿ç”¨ <code>permute</code> å‡½æ•°æ¥é‡æ–°æ’åˆ—å…¶ç»´åº¦ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> torch<br><br><span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªç¤ºä¾‹å¼ é‡</span><br>tensor = torch.randn(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>)  <span class="hljs-comment"># å½¢çŠ¶ä¸º (2, 3, 4)</span><br><br><span class="hljs-comment"># ä½¿ç”¨ permute å‡½æ•°é‡æ–°æ’åˆ—ç»´åº¦</span><br>permuted_tensor = tensor.permute(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">0</span>)  <span class="hljs-comment"># å°†ç¬¬ä¸€ä¸ªç»´åº¦ç§»åˆ°æœ€åï¼Œå½¢çŠ¶å˜ä¸º (3, 4, 2)</span><br><br><span class="hljs-built_in">print</span>(permuted_tensor.shape)<br></code></pre></td></tr></table></figure><p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼ŒåŸå§‹å¼ é‡çš„å½¢çŠ¶æ˜¯ <code>(2, 3, 4)</code>ï¼Œä½¿ç”¨ <code>permute(1, 2, 0)</code> å°†ç¬¬ä¸€ä¸ªç»´åº¦ç§»åˆ°æœ€åï¼Œæ–°çš„å¼ é‡å½¢çŠ¶å˜ä¸º <code>(3, 4, 2)</code>ã€‚</p><p><code>permute</code> å‡½æ•°æ¥å—ä¸€ä¸ªæ•´æ•°å‚æ•°åºåˆ—ä½œä¸ºè¾“å…¥ï¼Œè¡¨ç¤ºé‡æ–°æ’åˆ—åçš„ç»´åº¦é¡ºåºã€‚</p><h2 id="8-view"><a href="#8-view" class="headerlink" title="8.view"></a>8.view</h2><p>åœ¨PyTorchä¸­ï¼Œ<code>tensor.view()</code>æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºè°ƒæ•´å¼ é‡çš„å½¢çŠ¶ï¼Œä½†æ˜¯ä¸æ”¹å˜å…¶æ•°æ®ã€‚å®ƒå¯ä»¥ç”¨äºåœ¨ä¸å¤åˆ¶æ•°æ®çš„æƒ…å†µä¸‹æ”¹å˜å¼ é‡çš„å½¢çŠ¶ï¼Œè¿™åœ¨æ·±åº¦å­¦ä¹ ä¸­éå¸¸æœ‰ç”¨ã€‚</p><p>è¯¥å‡½æ•°çš„è¯­æ³•æ˜¯ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">new_tensor = tensor.view(*shape)<br></code></pre></td></tr></table></figure><p>å…¶ä¸­<code>tensor</code>æ˜¯åŸå§‹çš„å¼ é‡ï¼Œ<code>shape</code>æ˜¯ä¸€ä¸ªå…ƒç»„ï¼ŒæŒ‡å®šäº†æ–°å¼ é‡çš„å½¢çŠ¶ã€‚<code>*shape</code>çš„æ„æ€æ˜¯å°†<code>shape</code>å…ƒç»„ä¸­çš„å…ƒç´ è§£åŒ…ï¼Œä½œä¸ºç‹¬ç«‹çš„å‚æ•°ä¼ é€’ç»™<code>view()</code>å‡½æ•°ã€‚</p><p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œ<code>tensor.view()</code>è¿”å›çš„æ–°å¼ é‡ä¸åŸå§‹å¼ é‡å…±äº«æ•°æ®å­˜å‚¨ç©ºé—´ï¼Œå› æ­¤åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä¿®æ”¹æ–°å¼ é‡å¯èƒ½ä¼šå½±å“åŸå§‹å¼ é‡ï¼Œåä¹‹äº¦ç„¶ã€‚å¦‚æœæƒ³è¦ç¡®ä¿æ–°å¼ é‡å’ŒåŸå§‹å¼ é‡å®Œå…¨ç‹¬ç«‹ï¼Œå¯ä»¥ä½¿ç”¨<code>tensor.clone().view()</code>ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> torch<br><br><span class="hljs-comment"># åˆ›å»ºä¸€ä¸ª4x4çš„å¼ é‡</span><br>x = torch.arange(<span class="hljs-number">16</span>).reshape(<span class="hljs-number">4</span>, <span class="hljs-number">4</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;åŸå§‹å¼ é‡ï¼š&quot;</span>, x)<br><br><span class="hljs-comment"># æ”¹å˜å½¢çŠ¶ä¸º2x8</span><br>x_view = x.view(<span class="hljs-number">2</span>, <span class="hljs-number">8</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æ”¹å˜å½¢çŠ¶åçš„å¼ é‡ï¼š&quot;</span>, x_view)<br><br><span class="hljs-comment"># æ”¹å˜å½¢çŠ¶ä¸º2x2x4</span><br>x_view = x.view(<span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">4</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æ”¹å˜å½¢çŠ¶åçš„å¼ é‡ï¼š&quot;</span>, x_view)<br></code></pre></td></tr></table></figure><p><strong>tips:</strong></p><p><code>tensor.view()</code>å’Œ<code>reshape()</code>åœ¨åŠŸèƒ½ä¸Šéå¸¸ç›¸ä¼¼ï¼Œéƒ½å¯ä»¥ç”¨äºæ”¹å˜å¼ é‡çš„å½¢çŠ¶ï¼Œä½†å®ƒä»¬åœ¨å®ç°æ–¹å¼å’Œä¸€äº›ç»†èŠ‚ä¸Šæœ‰æ‰€ä¸åŒã€‚</p><p><code>tensor.view()</code>å’Œ<code>reshape()</code>åœ¨åŠŸèƒ½ä¸Šéå¸¸ç›¸ä¼¼ï¼Œéƒ½å¯ä»¥ç”¨äºæ”¹å˜å¼ é‡çš„å½¢çŠ¶ï¼Œä½†å®ƒä»¬åœ¨å®ç°æ–¹å¼å’Œä¸€äº›ç»†èŠ‚ä¸Šæœ‰æ‰€ä¸åŒã€‚</p><ol><li><strong>å…±äº«å†…å­˜ vs å¤åˆ¶å†…å­˜</strong>ï¼š<ul><li><code>tensor.view()</code>: è¿”å›çš„æ–°å¼ é‡ä¸åŸå§‹å¼ é‡å…±äº«ç›¸åŒçš„æ•°æ®å­˜å‚¨ç©ºé—´ï¼Œå› æ­¤åœ¨å†…å­˜ä¸Šæ²¡æœ‰é¢å¤–çš„å¼€é”€ã€‚ä½†æ˜¯éœ€è¦ç¡®ä¿æ–°å½¢çŠ¶çš„å…ƒç´ æ•°é‡ä¸åŸå¼ é‡ç›¸åŒï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚</li><li><code>reshape()</code>: è¿”å›ä¸€ä¸ªå…·æœ‰æŒ‡å®šå½¢çŠ¶çš„æ–°å¼ é‡ï¼Œå¦‚æœæ–°å½¢çŠ¶ä¸åŸå¼ é‡çš„å…ƒç´ æ•°é‡ç›¸åŒï¼Œé‚£ä¹ˆä¸ä¼šè¿›è¡Œæ•°æ®å¤åˆ¶ï¼Œå¦åˆ™ä¼šå¤åˆ¶æ•°æ®åˆ°ä¸€ä¸ªæ–°çš„å†…å­˜ç©ºé—´ä¸­ã€‚</li></ul></li><li><strong>çµæ´»æ€§</strong>ï¼š<ul><li><code>tensor.view()</code>: ç”±äºå…±äº«å†…å­˜ï¼Œå¯¹åŸå§‹å¼ é‡çš„ä¿®æ”¹å¯èƒ½ä¼šå½±å“åˆ°æ–°å¼ é‡ï¼Œåä¹‹äº¦ç„¶ã€‚</li><li><code>reshape()</code>: è¿”å›ä¸€ä¸ªæ–°çš„å¼ é‡ï¼Œä¸åŸå§‹å¼ é‡å®Œå…¨ç‹¬ç«‹ï¼Œå› æ­¤å¯¹æ–°å¼ é‡çš„ä¿®æ”¹ä¸ä¼šå½±å“åŸå§‹å¼ é‡ï¼Œåä¹‹äº¦ç„¶ã€‚</li></ul></li><li><strong>é€‚ç”¨èŒƒå›´</strong>ï¼š<ul><li><code>tensor.view()</code>: é€šå¸¸ç”¨äºåœ¨ä¸æ”¹å˜æ•°æ®çš„æƒ…å†µä¸‹æ”¹å˜å¼ é‡çš„å½¢çŠ¶ï¼Œä¾‹å¦‚åœ¨ç¥ç»ç½‘ç»œä¸­è¿›è¡Œå½¢çŠ¶å˜æ¢ã€‚</li><li><code>reshape()</code>: é™¤äº†å¯ä»¥æ”¹å˜å½¢çŠ¶å¤–ï¼Œè¿˜å¯ä»¥ç”¨äºåœ¨ä¸åŒçš„å†…å­˜å¸ƒå±€ä¹‹é—´è½¬æ¢å¼ é‡ï¼Œä¾‹å¦‚å°†è¡Œä¼˜å…ˆçš„å¼ é‡è½¬æ¢ä¸ºåˆ—ä¼˜å…ˆçš„å¼ é‡ã€‚</li></ul></li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> torch<br><br><span class="hljs-comment"># åˆ›å»ºä¸€ä¸ª4x4çš„å¼ é‡</span><br>x = torch.arange(<span class="hljs-number">16</span>)<br><br><span class="hljs-comment"># ä½¿ç”¨viewæ”¹å˜å½¢çŠ¶</span><br>x_view = x.view(<span class="hljs-number">2</span>, <span class="hljs-number">8</span>)<br><br><span class="hljs-comment"># ä½¿ç”¨reshapeæ”¹å˜å½¢çŠ¶</span><br>x_reshape = x.reshape(<span class="hljs-number">2</span>, <span class="hljs-number">8</span>)<br><br><span class="hljs-comment"># ä¿®æ”¹åŸå§‹å¼ é‡çš„ä¸€ä¸ªå…ƒç´ </span><br>x[<span class="hljs-number">0</span>] = <span class="hljs-number">100</span><br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;ä½¿ç”¨viewæ”¹å˜å½¢çŠ¶åçš„å¼ é‡ï¼š&quot;</span>, x_view)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;ä½¿ç”¨reshapeæ”¹å˜å½¢çŠ¶åçš„å¼ é‡ï¼š&quot;</span>, x_reshape)<br></code></pre></td></tr></table></figure><p>åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œå› ä¸º<code>view()</code>è¿”å›çš„å¼ é‡ä¸åŸå§‹å¼ é‡å…±äº«å†…å­˜ï¼Œæ‰€ä»¥å¯¹åŸå§‹å¼ é‡çš„ä¿®æ”¹ä¼šå½±å“åˆ°<code>x_view</code>ï¼Œè€Œ<code>reshape()</code>è¿”å›çš„æ˜¯ä¸€ä¸ªæ–°çš„å¼ é‡ï¼Œå› æ­¤<code>x_reshape</code>ä¸å—å½±å“ã€‚</p><p>åœ¨PyTorchä¸­ï¼Œ<code>.view(1, -1)</code>ç”¨äºå°†å¼ é‡é‡å¡‘ä¸ºå…·æœ‰1è¡Œçš„äºŒç»´å¼ é‡ï¼Œå¹¶ä¸”è¯¥å¼ é‡çš„åˆ—æ•°ç”±å‚æ•°<code>-1</code>ç¡®å®šã€‚è¿™é‡Œçš„<code>-1</code>è¡¨ç¤ºåœ¨ç»™å®šçš„ç»´åº¦ä¸Šç”±ç³»ç»Ÿ<strong>è‡ªåŠ¨æ¨æ–­å…¶å¤§å°</strong>ï¼Œä»¥ç¡®ä¿åŸå§‹å¼ é‡ä¸­çš„å…ƒç´ æ•°é‡ä¸é‡å¡‘åçš„å¼ é‡ä¸­çš„å…ƒç´ æ•°é‡ä¿æŒä¸€è‡´ã€‚</p><p>ä¾‹å¦‚ï¼Œå¦‚æœæœ‰ä¸€ä¸ªå½¢çŠ¶ä¸º<code>(4, 4)</code>çš„å¼ é‡ï¼Œä½¿ç”¨<code>.view(1, -1)</code>å°†ä¼šæŠŠå®ƒé‡å¡‘ä¸ºä¸€ä¸ªå½¢çŠ¶ä¸º<code>(1, 16)</code>çš„å¼ é‡ï¼Œå…¶ä¸­æœ‰1è¡Œï¼Œåˆ—æ•°ç”±ç³»ç»Ÿè‡ªåŠ¨è®¡ç®—ï¼Œå³16åˆ—ã€‚è¿™æ ·åšçš„æ•ˆæœæ˜¯å°†åŸå§‹å¼ é‡ä¸­çš„æ‰€æœ‰å…ƒç´ éƒ½æ”¾å…¥æ–°çš„ä¸€è¡Œä¸­ã€‚</p><p>è¿™ç§æ“ä½œé€šå¸¸åœ¨æ·±åº¦å­¦ä¹ ä¸­ç”¨äºå°†å…·æœ‰å¤šä¸ªè½´çš„å¼ é‡ï¼ˆå¦‚å¤šé€šé“å›¾åƒï¼‰è½¬æ¢ä¸ºäºŒç»´å¼ é‡ä»¥ä¾¿è¿›è¡ŒæŸäº›æ“ä½œï¼Œæ¯”å¦‚å…¨è¿æ¥å±‚çš„è¾“å…¥ã€‚</p><h2 id="9-reshape"><a href="#9-reshape" class="headerlink" title="9.reshape"></a>9.reshape</h2><p>åœ¨ PyTorch ä¸­ï¼Œ<code>tensor.reshape()</code> æ–¹æ³•ç”¨äºé‡æ–°å¡‘å½¢å¼ é‡ï¼Œä½¿å…¶å…·æœ‰æ–°çš„å½¢çŠ¶ï¼Œè€Œä¸æ”¹å˜å…¶æ•°æ®ã€‚å…·ä½“è¯­æ³•ä¸ºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">tensor.reshape(*shape)<br></code></pre></td></tr></table></figure><p>å…¶ä¸­ï¼Œ<code>*shape</code> æ˜¯æ–°çš„å¼ é‡å½¢çŠ¶ã€‚è¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªå…·æœ‰æŒ‡å®šå½¢çŠ¶çš„æ–°å¼ é‡ï¼Œä½†ä¸æ”¹å˜åŸå§‹å¼ é‡çš„æ•°æ®ã€‚</p><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> torch<br><br><span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªå¤§å°ä¸º (2, 3, 4) çš„å¼ é‡</span><br>tensor = torch.arange(<span class="hljs-number">24</span>).reshape(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;åŸå§‹å¼ é‡ï¼š&quot;</span>)<br><span class="hljs-built_in">print</span>(tensor)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;åŸå§‹å¼ é‡å½¢çŠ¶ï¼š&quot;</span>, tensor.shape)<br><br><span class="hljs-comment"># é‡æ–°å¡‘å½¢ä¸º (4, 6)</span><br>reshaped_tensor = tensor.reshape(<span class="hljs-number">4</span>, <span class="hljs-number">6</span>)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;é‡æ–°å¡‘å½¢åçš„å¼ é‡ï¼š&quot;</span>)<br><span class="hljs-built_in">print</span>(reshaped_tensor)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;é‡æ–°å¡‘å½¢åçš„å¼ é‡å½¢çŠ¶ï¼š&quot;</span>, reshaped_tensor.shape)<br></code></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœä¸ºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python">åŸå§‹å¼ é‡ï¼š<br>tensor([[[ <span class="hljs-number">0</span>,  <span class="hljs-number">1</span>,  <span class="hljs-number">2</span>,  <span class="hljs-number">3</span>],<br>         [ <span class="hljs-number">4</span>,  <span class="hljs-number">5</span>,  <span class="hljs-number">6</span>,  <span class="hljs-number">7</span>],<br>         [ <span class="hljs-number">8</span>,  <span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">11</span>]],<br><br>        [[<span class="hljs-number">12</span>, <span class="hljs-number">13</span>, <span class="hljs-number">14</span>, <span class="hljs-number">15</span>],<br>         [<span class="hljs-number">16</span>, <span class="hljs-number">17</span>, <span class="hljs-number">18</span>, <span class="hljs-number">19</span>],<br>         [<span class="hljs-number">20</span>, <span class="hljs-number">21</span>, <span class="hljs-number">22</span>, <span class="hljs-number">23</span>]]])<br>åŸå§‹å¼ é‡å½¢çŠ¶ï¼š torch.Size([<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>])<br>é‡æ–°å¡‘å½¢åçš„å¼ é‡ï¼š<br>tensor([[ <span class="hljs-number">0</span>,  <span class="hljs-number">1</span>,  <span class="hljs-number">2</span>,  <span class="hljs-number">3</span>,  <span class="hljs-number">4</span>,  <span class="hljs-number">5</span>],<br>        [ <span class="hljs-number">6</span>,  <span class="hljs-number">7</span>,  <span class="hljs-number">8</span>,  <span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">11</span>],<br>        [<span class="hljs-number">12</span>, <span class="hljs-number">13</span>, <span class="hljs-number">14</span>, <span class="hljs-number">15</span>, <span class="hljs-number">16</span>, <span class="hljs-number">17</span>],<br>        [<span class="hljs-number">18</span>, <span class="hljs-number">19</span>, <span class="hljs-number">20</span>, <span class="hljs-number">21</span>, <span class="hljs-number">22</span>, <span class="hljs-number">23</span>]])<br>é‡æ–°å¡‘å½¢åçš„å¼ é‡å½¢çŠ¶ï¼š torch.Size([<span class="hljs-number">4</span>, <span class="hljs-number">6</span>])<br></code></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼ŒåŸå§‹å¼ é‡æ˜¯ä¸€ä¸ªå¤§å°ä¸º (2, 3, 4) çš„ä¸‰ç»´å¼ é‡ï¼Œé€šè¿‡ <code>reshape</code> æ–¹æ³•é‡æ–°å¡‘å½¢ä¸ºå¤§å°ä¸º (4, 6) çš„äºŒç»´å¼ é‡ã€‚</p><h2 id="10-transpose"><a href="#10-transpose" class="headerlink" title="10.transpose"></a>10.transpose</h2><p><code>tensor.transpose(0, 1)</code> æ˜¯ PyTorch ä¸­çš„ä¸€ä¸ªå‡½æ•°è°ƒç”¨ï¼Œç”¨äºå¯¹å¼ é‡è¿›è¡Œè½¬ç½®æ“ä½œã€‚åœ¨è¿™ä¸ªç‰¹å®šçš„è°ƒç”¨ä¸­ï¼Œ<code>0</code> å’Œ <code>1</code> æ˜¯ç»´åº¦ç´¢å¼•ï¼Œè¡¨ç¤ºå¯¹å¼ é‡çš„ç¬¬ä¸€ä¸ªå’Œç¬¬äºŒä¸ªç»´åº¦è¿›è¡Œè½¬ç½®æ“ä½œã€‚</p><p>å‡è®¾æœ‰ä¸€ä¸ªäºŒç»´å¼ é‡ï¼ˆ2ç»´æ•°ç»„ï¼‰ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> torch<br><br>tensor = torch.tensor([[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>],<br>                       [<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>]])<br></code></pre></td></tr></table></figure><p>æ‰§è¡Œ <code>tensor.transpose(0, 1)</code> æ“ä½œå°†äº¤æ¢å¼ é‡çš„ç¬¬ä¸€ä¸ªç»´åº¦å’Œç¬¬äºŒä¸ªç»´åº¦ï¼Œå› æ­¤ç»“æœå°†æ˜¯åŸå§‹å¼ é‡çš„è½¬ç½®ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python">transposed_tensor = tensor.transpose(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>)<br><span class="hljs-built_in">print</span>(transposed_tensor)<br><br>è¾“å‡ºï¼š<br>tensor([[<span class="hljs-number">1</span>, <span class="hljs-number">4</span>],<br>        [<span class="hljs-number">2</span>, <span class="hljs-number">5</span>],<br>        [<span class="hljs-number">3</span>, <span class="hljs-number">6</span>]])<br></code></pre></td></tr></table></figure><h2 id="11-masked-fill"><a href="#11-masked-fill" class="headerlink" title="11.masked_fill"></a>11.masked_fill</h2><p><code>masked_fill</code> æ˜¯ PyTorch ä¸­å¼ é‡çš„ä¸€ä¸ªæ–¹æ³•ï¼Œç”¨äºæ ¹æ®æ©ç ï¼ˆmaskï¼‰æ›¿æ¢å¼ é‡ä¸­çš„å…ƒç´ ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> torch<br><br><span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªåŸå§‹å¼ é‡</span><br>tensor = torch.tensor([[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>],<br>                       [<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>]])<br><br><span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªæ©ç å¼ é‡</span><br>mask = torch.tensor([[<span class="hljs-literal">True</span>, <span class="hljs-literal">False</span>, <span class="hljs-literal">True</span>],<br>                     [<span class="hljs-literal">False</span>, <span class="hljs-literal">True</span>, <span class="hljs-literal">False</span>]])<br><br><span class="hljs-comment"># å°†åŸå§‹å¼ é‡ä¸­æ©ç ä¸º True çš„ä½ç½®æ›¿æ¢ä¸º 0</span><br>result = tensor.masked_fill(mask, <span class="hljs-number">0</span>)<br><br><span class="hljs-built_in">print</span>(result)<br><br>è¾“å‡ºï¼š<br>tensor([[<span class="hljs-number">0</span>, <span class="hljs-number">2</span>, <span class="hljs-number">0</span>],<br>        [<span class="hljs-number">4</span>, <span class="hljs-number">0</span>, <span class="hljs-number">6</span>]])<br></code></pre></td></tr></table></figure><h2 id="12-expand-as"><a href="#12-expand-as" class="headerlink" title="12.expand_as"></a>12.expand_as</h2><p><code>expand_as</code> æ˜¯ PyTorch ä¸­çš„ä¸€ä¸ªæ–¹æ³•ï¼Œç”¨äºå°†ä¸€ä¸ªå¼ é‡æ‰©å±•æˆä¸å¦ä¸€ä¸ªå¼ é‡å…·æœ‰ç›¸åŒå¤§å°çš„å½¢çŠ¶ã€‚å…·ä½“æ¥è¯´ï¼Œ<code>expand_as</code> æ–¹æ³•ä¼šè¿”å›ä¸€ä¸ªæ–°çš„å¼ é‡ï¼Œè¯¥å¼ é‡ä¸æŒ‡å®šçš„å¼ é‡å…·æœ‰ç›¸åŒçš„å½¢çŠ¶ï¼Œä½†æ˜¯å¤åˆ¶äº†å½“å‰å¼ é‡çš„å†…å®¹ï¼Œä»¥å¡«å……æ–°å¼ é‡ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> torch<br><br><span class="hljs-comment"># åˆ›å»ºä¸¤ä¸ªå¼ é‡</span><br>tensor1 = torch.tensor([[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>],<br>                        [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>]])<br>tensor2 = torch.tensor([[<span class="hljs-number">0.1</span>, <span class="hljs-number">0.2</span>]])<br><br><span class="hljs-comment"># ä½¿ç”¨ expand_as æ–¹æ³•å°† tensor2 æ‰©å±•æˆä¸ tensor1 ç›¸åŒçš„å½¢çŠ¶</span><br>expanded_tensor2 = tensor2.expand_as(tensor1)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;åŸå§‹å¼ é‡ tensor2:&quot;</span>)<br><span class="hljs-built_in">print</span>(tensor2)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æ‰©å±•åçš„å¼ é‡ expanded_tensor2:&quot;</span>)<br><span class="hljs-built_in">print</span>(expanded_tensor2)<br><br><span class="hljs-comment"># è¾“å‡º</span><br>åŸå§‹å¼ é‡ tensor2:<br>tensor([[<span class="hljs-number">0.1000</span>, <span class="hljs-number">0.2000</span>]])<br><br>æ‰©å±•åçš„å¼ é‡ expanded_tensor2:<br>tensor([[<span class="hljs-number">0.1000</span>, <span class="hljs-number">0.2000</span>],<br>        [<span class="hljs-number">0.1000</span>, <span class="hljs-number">0.2000</span>]])<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>AI Ê¢áµ•á´—áµ•Ê¡</category>
      
      <category>Pytorch</category>
      
      <category>PytorchåŸºç¡€çŸ¥è¯†</category>
      
    </categories>
    
    
    <tags>
      
      <tag>AI</tag>
      
      <tag>Pytorch</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>pythonä¸åŒæ–‡ä»¶æ ¼å¼!ğŸ©</title>
    <link href="/2024/02/01/%E7%AE%97%E6%B3%95/python/python%E6%96%B9%E6%B3%95%E5%92%8C%E6%8A%80%E5%B7%A7/python%E4%B8%8D%E5%90%8C%E6%96%87%E4%BB%B6%E6%A0%BC%E5%BC%8F/"/>
    <url>/2024/02/01/%E7%AE%97%E6%B3%95/python/python%E6%96%B9%E6%B3%95%E5%92%8C%E6%8A%80%E5%B7%A7/python%E4%B8%8D%E5%90%8C%E6%96%87%E4%BB%B6%E6%A0%BC%E5%BC%8F/</url>
    
    <content type="html"><![CDATA[<h1 id="pythonä¸åŒæ–‡ä»¶æ ¼å¼"><a href="#pythonä¸åŒæ–‡ä»¶æ ¼å¼" class="headerlink" title="pythonä¸åŒæ–‡ä»¶æ ¼å¼"></a>pythonä¸åŒæ–‡ä»¶æ ¼å¼</h1><h2 id="1-YAML"><a href="#1-YAML" class="headerlink" title="1.YAML"></a>1.YAML</h2><p>YAMLï¼ˆYAML Ainâ€™t Markup Languageæˆ–YAMLæ˜¯ä¸€ç§äººç±»å¯è¯»çš„æ•°æ®åºåˆ—åŒ–æ ¼å¼ã€‚å®ƒç»å¸¸ç”¨äºé…ç½®æ–‡ä»¶å’Œæ•°æ®äº¤æ¢æ ¼å¼ï¼Œå› ä¸ºå®ƒä¸JSONç±»ä¼¼ï¼Œä½†å…·æœ‰æ›´å®¹æ˜“é˜…è¯»çš„æ ¼å¼ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> yaml<br><br><span class="hljs-comment"># è¯»å–YAMLæ–‡ä»¶</span><br><span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;example.yaml&#x27;</span>, <span class="hljs-string">&#x27;r&#x27;</span>) <span class="hljs-keyword">as</span> file:<br>    yaml_data = yaml.safe_load(file)<br><br><span class="hljs-comment"># yaml_dataç°åœ¨æ˜¯åŒ…å«YAMLæ•°æ®çš„Pythonå¯¹è±¡ï¼ˆé€šå¸¸æ˜¯å­—å…¸æˆ–åˆ—è¡¨ï¼‰</span><br><span class="hljs-built_in">print</span>(yaml_data)<br></code></pre></td></tr></table></figure><p>ä½¿ç”¨PyYAMLç”ŸæˆYAMLæ•°æ®ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> yaml<br><br><span class="hljs-comment"># å®šä¹‰ä¸€ä¸ªåŒ…å«æ•°æ®çš„Pythonå¯¹è±¡</span><br>data = &#123;<span class="hljs-string">&#x27;name&#x27;</span>: <span class="hljs-string">&#x27;John&#x27;</span>, <span class="hljs-string">&#x27;age&#x27;</span>: <span class="hljs-number">30</span>, <span class="hljs-string">&#x27;city&#x27;</span>: <span class="hljs-string">&#x27;New York&#x27;</span>&#125;<br><br><span class="hljs-comment"># ä½¿ç”¨yaml.dumpå°†Pythonå¯¹è±¡è½¬æ¢ä¸ºYAMLå­—ç¬¦ä¸²</span><br>yaml_string = yaml.dump(data)<br><br><span class="hljs-comment"># æ‰“å°ç”Ÿæˆçš„YAMLå­—ç¬¦ä¸²</span><br><span class="hljs-built_in">print</span>(yaml_string)<br></code></pre></td></tr></table></figure><p><strong>æ³¨æ„ï¼š</strong>PyYAMLä¸­çš„<code>yaml.safe_load</code>ç”¨äºå®‰å…¨åœ°åŠ è½½YAMLæ•°æ®ï¼Œä»¥é¿å…æ½œåœ¨çš„å®‰å…¨é£é™©ã€‚åœ¨åŠ è½½ä¸å—ä¿¡ä»»çš„YAMLæ•°æ®æ—¶ï¼Œåº”ä½¿ç”¨<code>safe_load</code>è€Œä¸æ˜¯<code>load</code>ã€‚</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-comment"># example.yaml</span><br><span class="hljs-attr">name:</span> <span class="hljs-string">John</span><br><span class="hljs-attr">age:</span> <span class="hljs-number">30</span><br><span class="hljs-attr">city:</span> <span class="hljs-string">New</span> <span class="hljs-string">York</span><br></code></pre></td></tr></table></figure><p>ä¸ºäº†å¢åŠ å®‰å…¨æ€§ï¼Œè‡ª PyYAML ç‰ˆæœ¬ 5.1.0 å¼€å§‹ï¼Œå®ƒå¼•å…¥äº†é»˜è®¤çš„å®‰å…¨é™åˆ¶ï¼Œä¸å†å…è®¸åŠ è½½ä»»æ„ç±»çš„å¯¹è±¡ã€‚å› æ­¤ï¼Œåœ¨ä½¿ç”¨ <code>yaml.load</code> æ—¶ï¼Œä¸ºäº†é¿å…æ½œåœ¨çš„å®‰å…¨é£é™©ï¼Œå»ºè®®ä¼ é€’ <code>Loader=yaml.FullLoader</code> å‚æ•°ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> yaml<br><br><span class="hljs-comment"># ä½¿ç”¨ FullLoader åŠ è½½ YAML æ–‡ä»¶</span><br><span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;example.yaml&#x27;</span>, <span class="hljs-string">&#x27;r&#x27;</span>) <span class="hljs-keyword">as</span> file:<br>    yaml_data = yaml.load(file, Loader=yaml.FullLoader)<br><br><span class="hljs-comment"># yaml_data ç°åœ¨æ˜¯åŒ…å« YAML æ•°æ®çš„ Python å¯¹è±¡ï¼ˆé€šå¸¸æ˜¯å­—å…¸æˆ–åˆ—è¡¨ï¼‰</span><br><span class="hljs-built_in">print</span>(yaml_data)<br></code></pre></td></tr></table></figure><p>è¿™æ ·çš„åšæ³•é˜²æ­¢äº†æ½œåœ¨çš„ä»£ç æ³¨å…¥æ”»å‡»ï¼Œå› ä¸º <code>yaml.FullLoader</code> ä¸ä¼šåŠ è½½ä»»æ„ç±»çš„å¯¹è±¡ï¼Œåªä¼šåŠ è½½åŸºæœ¬çš„ Python æ•°æ®ç±»å‹ã€‚åœ¨åŠ è½½ä¸å—ä¿¡ä»»çš„ YAML æ•°æ®æ—¶ï¼Œä½¿ç”¨ <code>yaml.FullLoader</code> æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„åšæ³•ã€‚</p><p>åœ¨è¾ƒæ—©çš„ç‰ˆæœ¬ä¸­ï¼Œ<code>yaml.load</code> æ˜¯ä¸å®‰å…¨çš„ï¼Œå› ä¸ºå®ƒå¯ä»¥åŠ è½½ä»»æ„ Python å¯¹è±¡ï¼ŒåŒ…æ‹¬ä¸å®‰å…¨çš„å¯¹è±¡ã€‚å› æ­¤ï¼Œä¸ºäº†é˜²æ­¢å®‰å…¨æ¼æ´ï¼Œå»ºè®®åœ¨ä½¿ç”¨ PyYAML æ—¶æ˜ç¡®æŒ‡å®š <code>Loader</code> å‚æ•°ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> yaml<br><br><span class="hljs-comment"># ä½¿ç”¨ FullLoader åŠ è½½ YAML æ–‡ä»¶</span><br><span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;example.yaml&#x27;</span>, <span class="hljs-string">&#x27;r&#x27;</span>) <span class="hljs-keyword">as</span> file:<br>    yaml_data = yaml.load(file, Loader=yaml.FullLoader)<br><br><span class="hljs-comment"># yaml_data ç°åœ¨æ˜¯åŒ…å« YAML æ•°æ®çš„ Python å¯¹è±¡ï¼ˆé€šå¸¸æ˜¯å­—å…¸æˆ–åˆ—è¡¨ï¼‰</span><br><span class="hljs-built_in">print</span>(yaml_data)<br></code></pre></td></tr></table></figure><p>è¿™æ ·çš„åšæ³•é˜²æ­¢äº†æ½œåœ¨çš„ä»£ç æ³¨å…¥æ”»å‡»ï¼Œå› ä¸º <code>yaml.FullLoader</code> ä¸ä¼šåŠ è½½ä»»æ„ç±»çš„å¯¹è±¡ï¼Œåªä¼šåŠ è½½åŸºæœ¬çš„ Python æ•°æ®ç±»å‹ã€‚åœ¨åŠ è½½ä¸å—ä¿¡ä»»çš„ YAML æ•°æ®æ—¶ï¼Œä½¿ç”¨ <code>yaml.FullLoader</code> æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„åšæ³•ã€‚</p><p>åœ¨è¾ƒæ—©çš„ç‰ˆæœ¬ä¸­ï¼Œ<code>yaml.load</code> æ˜¯ä¸å®‰å…¨çš„ï¼Œå› ä¸ºå®ƒå¯ä»¥åŠ è½½ä»»æ„ Python å¯¹è±¡ï¼ŒåŒ…æ‹¬ä¸å®‰å…¨çš„å¯¹è±¡ã€‚å› æ­¤ï¼Œä¸ºäº†é˜²æ­¢å®‰å…¨æ¼æ´ï¼Œå»ºè®®åœ¨ä½¿ç”¨ PyYAML æ—¶æ˜ç¡®æŒ‡å®š <code>Loader</code> å‚æ•°ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>ç®—æ³• Ê•â‰§á´¥â‰¦Ê”</category>
      
      <category>Python</category>
      
      <category>Pythonæ–¹æ³•å’ŒæŠ€å·§</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>pythonç‰¹æ®Šè¯­æ³•ï¼ğŸ©</title>
    <link href="/2024/02/01/%E7%AE%97%E6%B3%95/python/python%E6%96%B9%E6%B3%95%E5%92%8C%E6%8A%80%E5%B7%A7/python%E7%89%B9%E6%AE%8A%E8%AF%AD%E6%B3%95/"/>
    <url>/2024/02/01/%E7%AE%97%E6%B3%95/python/python%E6%96%B9%E6%B3%95%E5%92%8C%E6%8A%80%E5%B7%A7/python%E7%89%B9%E6%AE%8A%E8%AF%AD%E6%B3%95/</url>
    
    <content type="html"><![CDATA[<h1 id="pythonç‰¹æ®Šè¯­æ³•"><a href="#pythonç‰¹æ®Šè¯­æ³•" class="headerlink" title="pythonç‰¹æ®Šè¯­æ³•"></a>pythonç‰¹æ®Šè¯­æ³•</h1><h2 id="1-kwargs"><a href="#1-kwargs" class="headerlink" title="1.**kwargs"></a>1.**kwargs</h2><p>åœ¨Pythonä¸­ï¼Œ<code>**kwargs</code>æ˜¯ç”¨äºä¼ é€’å…³é”®å­—å‚æ•°çš„ç‰¹æ®Šè¯­æ³•ã€‚å®ƒå…è®¸åœ¨å‡½æ•°è°ƒç”¨æ—¶ä¼ é€’ä»»æ„æ•°é‡çš„å…³é”®å­—å‚æ•°ï¼Œå¹¶ä»¥å­—å…¸çš„å½¢å¼åœ¨å‡½æ•°å†…éƒ¨æ¥æ”¶è¿™äº›å‚æ•°ã€‚</p><p>åœ¨ä½ æä¾›çš„ä»£ç ä¸­ï¼Œ<code>**factory_kwargs</code>æ˜¯å°†ä¸€ä¸ªå­—å…¸è§£åŒ…ï¼Œå¹¶å°†å…¶ä½œä¸ºå…³é”®å­—å‚æ•°ä¼ é€’ç»™<code>torch.empty</code>å‡½æ•°ã€‚å…·ä½“æ¥è¯´ï¼Œ<code>factory_kwargs</code>æ˜¯ä¸€ä¸ªå­—å…¸ï¼ŒåŒ…å«äº†ç”¨äºåˆå§‹åŒ–å¼ é‡çš„ä¸€äº›é¢å¤–çš„å‚æ•°ã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼Œå‡è®¾ <code>factory_kwargs</code> æ˜¯è¿™æ ·ä¸€ä¸ªå­—å…¸ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">factory_kwargs = &#123;<span class="hljs-string">&#x27;dtype&#x27;</span>: torch.float32, <span class="hljs-string">&#x27;device&#x27;</span>: <span class="hljs-string">&#x27;cuda&#x27;</span>&#125;<br></code></pre></td></tr></table></figure><p>åœ¨è°ƒç”¨æ—¶ï¼Œ<code>**factory_kwargs</code>ä¼šå°†è¿™ä¸ªå­—å…¸è§£åŒ…ï¼Œå°†å…¶ä¸­çš„é”®å€¼å¯¹ä½œä¸ºå…³é”®å­—å‚æ•°ä¼ é€’ç»™<code>torch.empty</code>å‡½æ•°ã€‚æ‰€ä»¥å®é™…ä¸Šï¼Œ<code>torch.empty</code>å‡½æ•°çš„è°ƒç”¨ç±»ä¼¼äºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">torch.empty((out_features, in_features), dtype=torch.float32, device=<span class="hljs-string">&#x27;cuda&#x27;</span>)<br></code></pre></td></tr></table></figure><p>è¿™æ ·å¯ä»¥æ–¹ä¾¿åœ°é€šè¿‡<code>factory_kwargs</code>å‚æ•°ä¼ é€’é¢å¤–çš„é…ç½®ä¿¡æ¯ç»™<code>torch.empty</code>å‡½æ•°ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>ç®—æ³• Ê•â‰§á´¥â‰¦Ê”</category>
      
      <category>Python</category>
      
      <category>Pythonæ–¹æ³•å’ŒæŠ€å·§</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>pythonå…³é”®å­—ï¼ğŸ©</title>
    <link href="/2024/02/01/%E7%AE%97%E6%B3%95/python/python%E6%96%B9%E6%B3%95%E5%92%8C%E6%8A%80%E5%B7%A7/python%E5%85%B3%E9%94%AE%E5%AD%97/"/>
    <url>/2024/02/01/%E7%AE%97%E6%B3%95/python/python%E6%96%B9%E6%B3%95%E5%92%8C%E6%8A%80%E5%B7%A7/python%E5%85%B3%E9%94%AE%E5%AD%97/</url>
    
    <content type="html"><![CDATA[<h1 id="pythonå…³é”®å­—"><a href="#pythonå…³é”®å­—" class="headerlink" title="pythonå…³é”®å­—"></a>pythonå…³é”®å­—</h1><h2 id="1-assert"><a href="#1-assert" class="headerlink" title="1.assert"></a>1.assert</h2><p>assert å…³é”®å­—åœ¨è°ƒè¯•ä»£ç æ—¶ä½¿ç”¨ã€‚</p><p>assert å…³é”®å­—ä½¿æ‚¨å¯ä»¥æµ‹è¯•ä»£ç ä¸­çš„æ¡ä»¶æ˜¯å¦è¿”å› Trueï¼Œå¦åˆ™ï¼Œç¨‹åºå°†å¼•å‘ AssertionErrorã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python">x = <span class="hljs-string">&quot;hello&quot;</span><br><br><span class="hljs-comment">#if condition returns False, AssertionError is raised:</span><br><span class="hljs-keyword">assert</span> x == <span class="hljs-string">&quot;goodbye&quot;</span>, <span class="hljs-string">&quot;x should be &#x27;hello&#x27;&quot;</span><br></code></pre></td></tr></table></figure><p>ç»“æœï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">AssertionError: x should be <span class="hljs-string">&#x27;hello&#x27;</span><br></code></pre></td></tr></table></figure><h2 id="2-global"><a href="#2-global" class="headerlink" title="2.global"></a>2.global</h2><p>global å…³é”®å­—ç”¨äºä»éå…¨å±€èŒƒå›´åˆ›å»ºå…¨å±€å˜é‡ï¼Œä¾‹å¦‚åœ¨å‡½æ•°å†…éƒ¨ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># åˆ›å»ºå‡½æ•°ï¼š</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">myfunction</span>():<br>  <span class="hljs-keyword">global</span> x<br>  x = <span class="hljs-string">&quot;hello&quot;</span><br><br><span class="hljs-comment"># æ‰§è¡Œå‡½æ•°ï¼š</span><br>myfunction()<br><br><span class="hljs-comment"># x ç°åœ¨æœ‰å…³æ˜¯å…¨å±€å˜é‡ï¼Œå¯ä»¥è¿›è¡Œå…¨å±€è®¿é—®ã€‚</span><br><span class="hljs-built_in">print</span>(x)<br></code></pre></td></tr></table></figure><h2 id="3-lambda"><a href="#3-lambda" class="headerlink" title="3.lambda"></a>3.lambda</h2><p><strong>lambda å‡½æ•°æ˜¯ä¸€ç§å°çš„åŒ¿åå‡½æ•°ã€‚</strong></p><p><strong>lambda å‡½æ•°å¯æ¥å—ä»»æ„æ•°é‡çš„å‚æ•°ï¼Œä½†åªèƒ½æœ‰ä¸€ä¸ªè¡¨è¾¾å¼ã€‚</strong></p><p>å®ä¾‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">myfunc</span>(<span class="hljs-params">n</span>):<br>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">lambda</span> a : a * n<br><br>mydoubler = myfunc(<span class="hljs-number">2</span>)<br><br><span class="hljs-built_in">print</span>(mydoubler(<span class="hljs-number">11</span>))<br></code></pre></td></tr></table></figure><h2 id="4-yield"><a href="#4-yield" class="headerlink" title="4.yield"></a>4.yield</h2><p><code>yield</code> æ˜¯ Python ä¸­çš„ä¸€ä¸ªå…³é”®å­—ï¼Œå®ƒç”¨äºå®šä¹‰ç”Ÿæˆå™¨å‡½æ•°æˆ–è€…ç”Ÿæˆå™¨è¡¨è¾¾å¼ã€‚ç”Ÿæˆå™¨ï¼ˆGeneratorï¼‰æ˜¯ä¸€ç§ç‰¹æ®Šçš„è¿­ä»£å™¨ï¼Œå®ƒå¯ä»¥æŒ‰éœ€ç”Ÿæˆå€¼ï¼Œå¹¶ä¸”åªåœ¨éœ€è¦æ—¶æ‰è®¡ç®—å€¼ï¼Œè€Œä¸æ˜¯ä¸€æ¬¡æ€§è®¡ç®—æ‰€æœ‰å€¼å¹¶å°†å®ƒä»¬å­˜å‚¨åœ¨å†…å­˜ä¸­ã€‚</p><p>ç”Ÿæˆå™¨å‡½æ•°æ˜¯åŒ…å« <code>yield</code> å…³é”®å­—çš„å‡½æ•°ã€‚å½“è°ƒç”¨ç”Ÿæˆå™¨å‡½æ•°æ—¶ï¼Œå®ƒä¸ä¼šåƒæ™®é€šå‡½æ•°ä¸€æ ·ç«‹å³æ‰§è¡Œå¹¶è¿”å›ç»“æœï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ªç”Ÿæˆå™¨å¯¹è±¡ï¼Œé€šè¿‡è¿­ä»£è¿™ä¸ªç”Ÿæˆå™¨å¯¹è±¡ï¼Œå¯ä»¥é€ä¸ªè·å–ç”Ÿæˆå™¨å‡½æ•°ä¸­ <code>yield</code> è¯­å¥äº§ç”Ÿçš„å€¼ã€‚</p><p>ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ï¼Œå±•ç¤ºäº†å¦‚ä½•å®šä¹‰ä¸€ä¸ªç”Ÿæˆå™¨å‡½æ•°å’Œä½¿ç”¨ <code>yield</code> å…³é”®å­—ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">count_up_to</span>(<span class="hljs-params">n</span>):<br>    count = <span class="hljs-number">1</span><br>    <span class="hljs-keyword">while</span> count &lt;= n:<br>        <span class="hljs-keyword">yield</span> count<br>        count += <span class="hljs-number">1</span><br><br><span class="hljs-comment"># ä½¿ç”¨ç”Ÿæˆå™¨å‡½æ•°åˆ›å»ºä¸€ä¸ªç”Ÿæˆå™¨å¯¹è±¡</span><br>counter = count_up_to(<span class="hljs-number">5</span>)<br><br><span class="hljs-comment"># è¿­ä»£ç”Ÿæˆå™¨å¯¹è±¡å¹¶é€ä¸ªè·å–å€¼</span><br><span class="hljs-keyword">for</span> num <span class="hljs-keyword">in</span> counter:<br>    <span class="hljs-built_in">print</span>(num)<br></code></pre></td></tr></table></figure><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>count_up_to</code> æ˜¯ä¸€ä¸ªç”Ÿæˆå™¨å‡½æ•°ï¼Œå®ƒæ¥å—ä¸€ä¸ªå‚æ•° <code>n</code>ï¼Œç„¶åä½¿ç”¨ <code>while</code> å¾ªç¯ä»¥åŠ <code>yield</code> è¯­å¥ç”Ÿæˆä» 1 åˆ° <code>n</code> çš„æ•´æ•°åºåˆ—ã€‚å½“è°ƒç”¨ <code>count_up_to(5)</code> æ—¶ï¼Œå®ƒè¿”å›ä¸€ä¸ªç”Ÿæˆå™¨å¯¹è±¡ <code>counter</code>ã€‚ç„¶åï¼Œé€šè¿‡è¿­ä»£ <code>counter</code>ï¼Œå¯ä»¥é€ä¸ªè·å–ç”Ÿæˆå™¨å‡½æ•°ä¸­ <code>yield</code> è¯­å¥äº§ç”Ÿçš„å€¼ï¼Œå¹¶æ‰“å°å‡ºæ¥ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>ç®—æ³• Ê•â‰§á´¥â‰¦Ê”</category>
      
      <category>Python</category>
      
      <category>Pythonæ–¹æ³•å’ŒæŠ€å·§</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>pythonå¤„ç†å‘½ä»¤è¡Œå‚æ•°ï¼ğŸ©</title>
    <link href="/2024/02/01/%E7%AE%97%E6%B3%95/python/python%E6%96%B9%E6%B3%95%E5%92%8C%E6%8A%80%E5%B7%A7/python%E5%A4%84%E7%90%86%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%8F%82%E6%95%B0/"/>
    <url>/2024/02/01/%E7%AE%97%E6%B3%95/python/python%E6%96%B9%E6%B3%95%E5%92%8C%E6%8A%80%E5%B7%A7/python%E5%A4%84%E7%90%86%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%8F%82%E6%95%B0/</url>
    
    <content type="html"><![CDATA[<h1 id="pythonå¤„ç†å‘½ä»¤è¡Œå‚æ•°"><a href="#pythonå¤„ç†å‘½ä»¤è¡Œå‚æ•°" class="headerlink" title="pythonå¤„ç†å‘½ä»¤è¡Œå‚æ•°"></a>pythonå¤„ç†å‘½ä»¤è¡Œå‚æ•°</h1><p><code>argparse</code> æ˜¯ Python æ ‡å‡†åº“ä¸­ç”¨äºå¤„ç†å‘½ä»¤è¡Œå‚æ•°çš„æ¨¡å—ã€‚å®ƒæä¾›äº†ä¸€ç§ç®€å•è€Œçµæ´»çš„æ–¹å¼æ¥è§£æå‘½ä»¤è¡Œå‚æ•°ï¼Œå¹¶ç”Ÿæˆå¸®åŠ©ä¿¡æ¯ã€‚ä»¥ä¸‹æ˜¯ <code>argparse</code> æ¨¡å—çš„åŸºæœ¬ç”¨æ³•ç¤ºä¾‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> argparse<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():<br>    <span class="hljs-comment"># åˆ›å»º ArgumentParser å¯¹è±¡</span><br>    parser = argparse.ArgumentParser(description=<span class="hljs-string">&#x27;æè¿°ä½ çš„è„šæœ¬çš„ç”¨é€”&#x27;</span>)<br><br>    <span class="hljs-comment"># æ·»åŠ ä½ç½®å‚æ•°ï¼ˆPositional Argumentsï¼‰</span><br>    parser.add_argument(<span class="hljs-string">&#x27;input_file&#x27;</span>, <span class="hljs-built_in">help</span>=<span class="hljs-string">&#x27;è¾“å…¥æ–‡ä»¶çš„è·¯å¾„&#x27;</span>)<br><br>    <span class="hljs-comment"># æ·»åŠ å¯é€‰å‚æ•°ï¼ˆOptional Argumentsï¼‰</span><br>    parser.add_argument(<span class="hljs-string">&#x27;-o&#x27;</span>, <span class="hljs-string">&#x27;--output&#x27;</span>, <span class="hljs-built_in">help</span>=<span class="hljs-string">&#x27;è¾“å‡ºæ–‡ä»¶çš„è·¯å¾„&#x27;</span>)<br><br>    <span class="hljs-comment"># æ·»åŠ ä¸€ä¸ªå¸ƒå°”å‹æ ‡å¿—å‚æ•°</span><br>    parser.add_argument(<span class="hljs-string">&#x27;-v&#x27;</span>, <span class="hljs-string">&#x27;--verbose&#x27;</span>, action=<span class="hljs-string">&#x27;store_true&#x27;</span>, <span class="hljs-built_in">help</span>=<span class="hljs-string">&#x27;æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯&#x27;</span>)<br><br>    <span class="hljs-comment"># è§£æå‘½ä»¤è¡Œå‚æ•°</span><br>    args = parser.parse_args()<br><br>    <span class="hljs-comment"># ä½¿ç”¨è§£æåçš„å‚æ•°</span><br>    input_file = args.input_file<br>    output_file = args.output<br>    verbose = args.verbose<br><br>    <span class="hljs-comment"># åœ¨è¿™é‡Œæ‰§è¡Œä½ çš„ç¨‹åºé€»è¾‘</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;è¾“å…¥æ–‡ä»¶: <span class="hljs-subst">&#123;input_file&#125;</span>&#x27;</span>)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;è¾“å‡ºæ–‡ä»¶: <span class="hljs-subst">&#123;output_file&#125;</span>&#x27;</span>)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;è¯¦ç»†ä¿¡æ¯: <span class="hljs-subst">&#123;verbose&#125;</span>&#x27;</span>)<br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    main()<br></code></pre></td></tr></table></figure><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>argparse.ArgumentParser</code> ç”¨äºåˆ›å»ºä¸€ä¸ªè§£æå™¨å¯¹è±¡ã€‚ç„¶åï¼Œä½¿ç”¨ <code>add_argument</code> æ–¹æ³•æ·»åŠ ä½ç½®å‚æ•°å’Œå¯é€‰å‚æ•°ã€‚æœ€åï¼Œé€šè¿‡è°ƒç”¨ <code>parse_args</code> æ–¹æ³•è§£æå‘½ä»¤è¡Œå‚æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ªåŒ…å«è§£æç»“æœçš„å¯¹è±¡ã€‚</p><p>è¿è¡Œè„šæœ¬æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¡Œå‚æ•°ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">python script.py <span class="hljs-built_in">input</span>.txt -o output.txt -v<br></code></pre></td></tr></table></figure><p>è§£æåï¼Œ<code>args.input_file</code> å°†åŒ…å«è¾“å…¥æ–‡ä»¶çš„è·¯å¾„ï¼Œ<code>args.output</code> å°†åŒ…å«è¾“å‡ºæ–‡ä»¶çš„è·¯å¾„ï¼Œè€Œ <code>args.verbose</code> å°†ä¸º <code>True</code>ï¼Œå› ä¸º <code>-v</code> æ ‡å¿—å·²ç»è¢«æŒ‡å®šã€‚</p><p>ä½¿ç”¨ <code>python script.py -h</code> æˆ– <code>python script.py --help</code> å¯ä»¥æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯ï¼Œå…¶ä¸­åŒ…å«å…³äºä½ç½®å‚æ•°å’Œå¯é€‰å‚æ•°çš„è¯´æ˜ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>ç®—æ³• Ê•â‰§á´¥â‰¦Ê”</category>
      
      <category>Python</category>
      
      <category>Pythonæ–¹æ³•å’ŒæŠ€å·§</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>pythonåŒ…ç®¡ç†ï¼ğŸ©</title>
    <link href="/2024/02/01/%E7%AE%97%E6%B3%95/python/python%E6%96%B9%E6%B3%95%E5%92%8C%E6%8A%80%E5%B7%A7/python%E5%8C%85%E7%AE%A1%E7%90%86/"/>
    <url>/2024/02/01/%E7%AE%97%E6%B3%95/python/python%E6%96%B9%E6%B3%95%E5%92%8C%E6%8A%80%E5%B7%A7/python%E5%8C%85%E7%AE%A1%E7%90%86/</url>
    
    <content type="html"><![CDATA[<h1 id="pythonåŒ…ç®¡ç†"><a href="#pythonåŒ…ç®¡ç†" class="headerlink" title="pythonåŒ…ç®¡ç†"></a>pythonåŒ…ç®¡ç†</h1><p><img src="/2024/02/01/%E7%AE%97%E6%B3%95/python/python%E6%96%B9%E6%B3%95%E5%92%8C%E6%8A%80%E5%B7%A7/python%E5%8C%85%E7%AE%A1%E7%90%86/1.png"></p><p>ä¸Šå›¾æ‰€ç¤ºæ˜¯æ–‡ä»¶çš„ç»“æ„ã€‚æ¯ä¸ªåŒ…ä¸‹éƒ½æœ‰ä¸€ä¸ª__init__ã€‚</p><p><code>__init__.py</code>æ–‡ä»¶å¯ä»¥åŒ…å«ä¸€äº›å¸¸ç”¨çš„åˆå§‹åŒ–ä»£ç ï¼Œä¾‹å¦‚ï¼š</p><ol><li><strong>å®šä¹‰æ¨¡å—çº§åˆ«çš„å˜é‡ã€å¸¸é‡æˆ–å‡½æ•°</strong>ï¼šåœ¨<code>__init__.py</code>ä¸­å®šä¹‰çš„å†…å®¹å¯ä»¥åœ¨åŒ…çš„å…¶ä»–æ¨¡å—ä¸­ç›´æ¥ä½¿ç”¨ï¼Œè€Œä¸éœ€è¦ä½¿ç”¨ç›¸å¯¹å¯¼å…¥æˆ–ç»å¯¹å¯¼å…¥ã€‚</li><li><strong>å¯¼å…¥å­æ¨¡å—</strong>ï¼šé€šè¿‡åœ¨<code>__init__.py</code>ä¸­å¯¼å…¥å­æ¨¡å—ï¼Œå¯ä»¥ä½¿å¾—ä½¿ç”¨è€…åªéœ€è¦å¯¼å…¥åŒ…ï¼Œè€Œä¸éœ€è¦é€ä¸ªå¯¼å…¥åŒ…ä¸­çš„æ¯ä¸ªæ¨¡å—ã€‚</li><li><strong>æ‰§è¡Œä¸€äº›åˆå§‹åŒ–æ“ä½œ</strong>ï¼šä¾‹å¦‚åŠ è½½é…ç½®ã€æ³¨å†Œç»„ä»¶ã€è®¾ç½®ç¯å¢ƒç­‰ã€‚</li><li><strong>æŒ‡å®šå¯¼å…¥è¡Œä¸º</strong>ï¼šé€šè¿‡åœ¨<code>__init__.py</code>ä¸­å®šä¹‰<code>__all__</code>å˜é‡ï¼Œå¯ä»¥æŒ‡å®šä½¿ç”¨<code>from &lt;package&gt; import *</code>è¯­å¥å¯¼å…¥æ—¶çš„è¡Œä¸ºã€‚</li><li><strong>è‡ªå®šä¹‰åŒ…çš„è¡Œä¸º</strong>ï¼šå¯ä»¥åœ¨<code>__init__.py</code>ä¸­é‡è½½ä¸€äº›ç‰¹æ®Šçš„é­”æœ¯æ–¹æ³•ï¼Œä»è€Œè‡ªå®šä¹‰åŒ…çš„è¡Œä¸ºï¼Œä¾‹å¦‚<code>__getattr__</code>ã€<code>__setattr__</code>ç­‰ã€‚</li><li><strong>åŒ…ç‰ˆæœ¬å·ç®¡ç†</strong>ï¼šå¯ä»¥åœ¨<code>__init__.py</code>ä¸­å®šä¹‰åŒ…çš„ç‰ˆæœ¬å·ï¼Œæ–¹ä¾¿å…¶ä»–æ¨¡å—è·å–å½“å‰åŒ…çš„ç‰ˆæœ¬ä¿¡æ¯ã€‚</li></ol><p><img src="/2024/02/01/%E7%AE%97%E6%B3%95/python/python%E6%96%B9%E6%B3%95%E5%92%8C%E6%8A%80%E5%B7%A7/python%E5%8C%85%E7%AE%A1%E7%90%86/2.png"></p><p>ä¸Šå›¾æ‰€ç¤ºæ˜¯stateåŒ…ä¸‹çš„initæ–‡ä»¶ï¼Œå…¶ä¸­<code>.</code> è¡¨ç¤ºå½“å‰ç›®å½•æˆ–æ¨¡å—ã€‚</p><p>æˆ‘ä»¬å°†å¯¹stateåŒ…ä¸‹ä¸åŒæ–‡ä»¶çš„ç±»å¼•ç”¨å†™å…¥transitåŒ…ä¸‹çš„initä¸­ã€‚</p><p><img src="/2024/02/01/%E7%AE%97%E6%B3%95/python/python%E6%96%B9%E6%B3%95%E5%92%8C%E6%8A%80%E5%B7%A7/python%E5%8C%85%E7%AE%A1%E7%90%86/3.png"></p><p>ä¸Šå›¾æ˜¯coreåŒ…ä¸‹çš„initæ–‡ä»¶ï¼Œæˆ‘ä»¬åœ¨å¼•å…¥stateåŒ…ä¸‹çš„æ–‡ä»¶ä¸­çš„ç±»æ—¶ï¼Œå°±å¯ä»¥ç›´æ¥ç”¨<code>.state</code>å¼•ç”¨ï¼Œè¿™æ ·åšçš„ç›®çš„æ˜¯ç®€åŒ–äº†å¼•ç”¨çš„å¤æ‚åº¦ã€‚</p><p><img src="/2024/02/01/%E7%AE%97%E6%B3%95/python/python%E6%96%B9%E6%B3%95%E5%92%8C%E6%8A%80%E5%B7%A7/python%E5%8C%85%E7%AE%A1%E7%90%86/4.png"></p><p>ä¸Šå›¾æ˜¯mimicåŒ…ä¸‹çš„initæ–‡ä»¶ï¼Œæˆ‘ä»¬åœ¨å…¶ä¸­ç›´æ¥å¯¹coreè¿›è¡Œå¼•ç”¨ã€‚</p><p><img src="/2024/02/01/%E7%AE%97%E6%B3%95/python/python%E6%96%B9%E6%B3%95%E5%92%8C%E6%8A%80%E5%B7%A7/python%E5%8C%85%E7%AE%A1%E7%90%86/5.png"></p><p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œæˆ‘ä»¬å¯åœ¨<strong>mimicåŒ…å¤–çš„åŒ…</strong>ä¸­ç”¨å¹²å‡€çš„æ–¹å¼å®ç°å¯¹ä¸åŒæ–‡ä»¶ä¸‹ç±»çš„å¼•ç”¨ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>ç®—æ³• Ê•â‰§á´¥â‰¦Ê”</category>
      
      <category>Python</category>
      
      <category>Pythonæ–¹æ³•å’ŒæŠ€å·§</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>pythonå†…ç½®å‡½æ•°!ğŸ©</title>
    <link href="/2024/02/01/%E7%AE%97%E6%B3%95/python/python%E6%96%B9%E6%B3%95%E5%92%8C%E6%8A%80%E5%B7%A7/python%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0/"/>
    <url>/2024/02/01/%E7%AE%97%E6%B3%95/python/python%E6%96%B9%E6%B3%95%E5%92%8C%E6%8A%80%E5%B7%A7/python%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0/</url>
    
    <content type="html"><![CDATA[<h1 id="pythonå†…ç½®å‡½æ•°"><a href="#pythonå†…ç½®å‡½æ•°" class="headerlink" title="pythonå†…ç½®å‡½æ•°"></a>pythonå†…ç½®å‡½æ•°</h1><h2 id="1-all"><a href="#1-all" class="headerlink" title="1.all"></a>1.all</h2><p>all() å‡½æ•°ç”¨äºåˆ¤æ–­ç»™å®šçš„å¯è¿­ä»£å‚æ•° iterable ä¸­çš„æ‰€æœ‰å…ƒç´ æ˜¯å¦éƒ½ä¸º TRUEï¼Œå¦‚æœæ˜¯è¿”å› Trueï¼Œå¦åˆ™è¿”å› Falseã€‚</p><p>å…ƒç´ é™¤äº†æ˜¯ 0ã€ç©ºã€Noneã€False å¤–éƒ½ç®— Trueã€‚</p><p>å®ƒçš„è¯­æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">all</span>(iterable)<br></code></pre></td></tr></table></figure><p>å…¶ä¸­ï¼Œ<code>iterable</code> æ˜¯ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ï¼Œä¾‹å¦‚åˆ—è¡¨ã€å…ƒç»„ã€é›†åˆç­‰ã€‚</p><p><code>all()</code> å‡½æ•°è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼š</p><ul><li>å¦‚æœå¯è¿­ä»£å¯¹è±¡ä¸­çš„æ‰€æœ‰å…ƒç´ éƒ½ä¸ºçœŸï¼Œè¿”å› <code>True</code>ã€‚</li><li>å¦‚æœå¯è¿­ä»£å¯¹è±¡ä¸­æœ‰è‡³å°‘ä¸€ä¸ªå…ƒç´ ä¸ºå‡ï¼Œè¿”å› <code>False</code>ã€‚</li></ul><h2 id="2-any"><a href="#2-any" class="headerlink" title="2.any"></a>2.any</h2><p>any() å‡½æ•°ç”¨äºåˆ¤æ–­ç»™å®šçš„å¯è¿­ä»£å‚æ•° iterable æ˜¯å¦å…¨éƒ¨ä¸º Falseï¼Œåˆ™è¿”å› Falseï¼Œå¦‚æœæœ‰ä¸€ä¸ªä¸º Trueï¼Œåˆ™è¿”å› Trueã€‚</p><p>å…ƒç´ é™¤äº†æ˜¯ 0ã€ç©ºã€FALSE å¤–éƒ½ç®— TRUEã€‚è¯­æ³•åŒ<code>all</code>ã€‚</p><h2 id="3-getattr"><a href="#3-getattr" class="headerlink" title="3.getattr"></a>3.getattr</h2><p><code>getattr</code> æ˜¯ä¸€ä¸ªå†…å»ºå‡½æ•°ï¼Œç”¨äºè·å–å¯¹è±¡çš„å±æ€§å€¼ã€‚å…¶åŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">getattr</span>(<span class="hljs-built_in">object</span>, name[, default])<br></code></pre></td></tr></table></figure><ul><li><code>object</code>: è¦è·å–å±æ€§çš„å¯¹è±¡ã€‚</li><li><code>name</code>: å±æ€§çš„åç§°ã€‚</li><li><code>default</code> (å¯é€‰): å¦‚æœå±æ€§ä¸å­˜åœ¨ï¼Œè¿”å›çš„é»˜è®¤å€¼ã€‚</li></ul><p>ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, name, age</span>):<br>        self.name = name<br>        self.age = age<br><br><span class="hljs-comment"># åˆ›å»ºä¸€ä¸ª Person å¯¹è±¡</span><br>person = Person(<span class="hljs-string">&quot;Alice&quot;</span>, <span class="hljs-number">25</span>)<br><br><span class="hljs-comment"># ä½¿ç”¨ getattr è·å–å±æ€§å€¼</span><br>name_value = <span class="hljs-built_in">getattr</span>(person, <span class="hljs-string">&#x27;name&#x27;</span>)<br>age_value = <span class="hljs-built_in">getattr</span>(person, <span class="hljs-string">&#x27;age&#x27;</span>)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;Name: <span class="hljs-subst">&#123;name_value&#125;</span>, Age: <span class="hljs-subst">&#123;age_value&#125;</span>&#x27;</span>)<br></code></pre></td></tr></table></figure><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>getattr</code> è¢«ç”¨æ¥è·å– <code>person</code> å¯¹è±¡çš„ <code>name</code> å’Œ <code>age</code> å±æ€§çš„å€¼ã€‚å½“ç„¶ï¼Œè¿™åªæ˜¯ä¸€ä¸ªç®€å•çš„æ¼”ç¤ºã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œ<code>getattr</code> å¯èƒ½ä¼šæ›´æœ‰ç”¨ï¼Œä¾‹å¦‚ï¼Œå½“ä½ éœ€è¦æ ¹æ®åŠ¨æ€çš„å±æ€§åç§°æ¥è®¿é—®å¯¹è±¡çš„å±æ€§æ—¶ã€‚</p><p>å¦‚æœå±æ€§ä¸å­˜åœ¨ï¼Œä½ å¯ä»¥æä¾›ä¸€ä¸ªé»˜è®¤å€¼ä½œä¸º <code>default</code> å‚æ•°ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">gender_value = <span class="hljs-built_in">getattr</span>(person, <span class="hljs-string">&#x27;gender&#x27;</span>, <span class="hljs-string">&#x27;Unknown&#x27;</span>)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;Gender: <span class="hljs-subst">&#123;gender_value&#125;</span>&#x27;</span>)<br></code></pre></td></tr></table></figure><p>åœ¨è¿™é‡Œï¼Œå¦‚æœ <code>gender</code> å±æ€§ä¸å­˜åœ¨ï¼Œå°±ä¼šè¿”å›é»˜è®¤å€¼ <code>&#39;Unknown&#39;</code>ã€‚</p><p>æ€»çš„æ¥è¯´ï¼Œ<code>getattr</code> æ˜¯ä¸€ä¸ªçµæ´»çš„å·¥å…·ï¼Œç‰¹åˆ«é€‚ç”¨äºéœ€è¦åŠ¨æ€è®¿é—®å¯¹è±¡å±æ€§çš„æƒ…å†µã€‚</p><p><code>getattr</code> å‡½æ•°å¯ç”¨äºè·å–å¯¹è±¡çš„å±æ€§ï¼Œå¹¶ä¸”å¯ä»¥ç»“åˆæ‹¬å· <code>()</code> è°ƒç”¨å±æ€§å€¼ï¼Œå‰ææ˜¯è¯¥å±æ€§æ˜¯å¯è°ƒç”¨çš„ï¼ˆå³æ˜¯ä¸€ä¸ªæ–¹æ³•ï¼‰ã€‚è¿™æ ·çš„ä½¿ç”¨æƒ…å†µé€šå¸¸åœ¨éœ€è¦åŠ¨æ€è°ƒç”¨å¯¹è±¡çš„æ–¹æ³•æ—¶ä¼šæ¯”è¾ƒæœ‰ç”¨ã€‚</p><p>ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼Œå‡è®¾ <code>state</code> æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè€Œ <code>st_k</code> æ˜¯è¯¥å¯¹è±¡çš„ä¸€ä¸ªæ–¹æ³•çš„åç§°ï¼Œä½ å¯ä»¥ä½¿ç”¨ <code>getattr(state, st_k)</code> è·å–è¯¥æ–¹æ³•ï¼Œå¹¶é€šè¿‡ <code>()</code> è°ƒç”¨å®ƒï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">State</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">method1</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;This is method 1&quot;</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">method2</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;This is method 2&quot;</span><br><br><span class="hljs-comment"># åˆ›å»ºä¸€ä¸ª State å¯¹è±¡</span><br>state = State()<br><br><span class="hljs-comment"># st_k æ˜¯ä¸€ä¸ªæ–¹æ³•çš„åç§°ï¼Œä¾‹å¦‚ &#x27;method1&#x27; æˆ– &#x27;method2&#x27;</span><br>st_k = <span class="hljs-string">&#x27;method1&#x27;</span><br><br><span class="hljs-comment"># ä½¿ç”¨ getattr è·å–å¯¹è±¡çš„æ–¹æ³•ï¼Œå¹¶è°ƒç”¨å®ƒ</span><br>result = <span class="hljs-built_in">getattr</span>(state, st_k)()<br><br><span class="hljs-comment"># æ‰“å°æ–¹æ³•çš„è¿”å›å€¼</span><br><span class="hljs-built_in">print</span>(result)<br></code></pre></td></tr></table></figure><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>st_k</code> æ˜¯ä¸€ä¸ªæ–¹æ³•çš„åç§°ï¼Œ<code>getattr(state, st_k)</code> è·å–å¯¹è±¡ <code>state</code> ä¸­åä¸º <code>st_k</code> çš„æ–¹æ³•ï¼Œç„¶åé€šè¿‡ <code>()</code> è°ƒç”¨å®ƒã€‚è¿™ç§åšæ³•å¯ä»¥ä½¿ä»£ç æ›´åŠ çµæ´»ï¼Œå…è®¸åœ¨è¿è¡Œæ—¶é€‰æ‹©è¦è°ƒç”¨çš„æ–¹æ³•ã€‚</p><h2 id="4-enumerate"><a href="#4-enumerate" class="headerlink" title="4.enumerate"></a>4.enumerate</h2><p>åœ¨Pythonä¸­ï¼Œ<code>enumerate()</code> å‡½æ•°ç”¨äºå°†å¯è¿­ä»£å¯¹è±¡çš„æ¯ä¸ªå…ƒç´ å’Œå…¶å¯¹åº”çš„ç´¢å¼•ç»„åˆæˆä¸€ä¸ªå…ƒç»„ï¼Œç„¶åè¿”å›ä¸€ä¸ªåŒ…å«è¿™äº›å…ƒç»„çš„è¿­ä»£å™¨ã€‚è¿™ä¸ªå‡½æ•°å¸¸ç”¨äºå¾ªç¯éå†åˆ—è¡¨æ—¶åŒæ—¶è·å–å…ƒç´ å’Œç´¢å¼•ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># åŸºæœ¬ç”¨æ³•</span><br>my_list = [<span class="hljs-string">&#x27;apple&#x27;</span>, <span class="hljs-string">&#x27;banana&#x27;</span>, <span class="hljs-string">&#x27;orange&#x27;</span>]<br><span class="hljs-keyword">for</span> index, value <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(my_list):<br>    <span class="hljs-built_in">print</span>(index, value)<br></code></pre></td></tr></table></figure><p>ç»“æœï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-number">0</span> apple<br><span class="hljs-number">1</span> banana<br><span class="hljs-number">2</span> orange<br></code></pre></td></tr></table></figure><p>é™¤äº†åŸºæœ¬ç”¨æ³•å¤–ï¼Œ<code>enumerate()</code> å‡½æ•°è¿˜å¯ä»¥æ¥å—ä¸€ä¸ªå¯é€‰å‚æ•° <code>start</code>ï¼Œç”¨äºæŒ‡å®šèµ·å§‹çš„ç´¢å¼•å€¼ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œèµ·å§‹ç´¢å¼•å€¼ä¸º 0ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># æŒ‡å®šèµ·å§‹ç´¢å¼•å€¼</span><br>my_list = [<span class="hljs-string">&#x27;apple&#x27;</span>, <span class="hljs-string">&#x27;banana&#x27;</span>, <span class="hljs-string">&#x27;orange&#x27;</span>]<br><span class="hljs-keyword">for</span> index, value <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(my_list, start=<span class="hljs-number">1</span>):<br>    <span class="hljs-built_in">print</span>(index, value)<br></code></pre></td></tr></table></figure><h2 id="5-map"><a href="#5-map" class="headerlink" title="5.map"></a>5.map</h2><p>åœ¨Pythonä¸­ï¼Œ<code>map()</code> å‡½æ•°æ˜¯ä¸€ä¸ªå†…ç½®å‡½æ•°ï¼Œå®ƒæ¥å—ä¸€ä¸ªå‡½æ•°å’Œä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ï¼ˆæ¯”å¦‚åˆ—è¡¨ï¼‰ä½œä¸ºå‚æ•°ï¼Œå¹¶å°†è¯¥å‡½æ•°åº”ç”¨äºå¯è¿­ä»£å¯¹è±¡ä¸­çš„æ¯ä¸ªå…ƒç´ ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„è¿­ä»£å™¨ï¼Œè¯¥è¿­ä»£å™¨åŒ…å«å°†è¯¥å‡½æ•°åº”ç”¨äºæ¯ä¸ªå…ƒç´ åçš„ç»“æœã€‚</p><p><code>map()</code> å‡½æ•°çš„åŸºæœ¬è¯­æ³•å¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">map</span>(function, iterable, ...)<br></code></pre></td></tr></table></figure><p>å…¶ä¸­ï¼š</p><ul><li><code>function</code>ï¼šè¡¨ç¤ºè¦åº”ç”¨äºæ¯ä¸ªå…ƒç´ çš„å‡½æ•°ã€‚</li><li><code>iterable</code>ï¼šè¡¨ç¤ºä¸€ä¸ªæˆ–å¤šä¸ªå¯è¿­ä»£å¯¹è±¡ï¼Œå¦‚åˆ—è¡¨ã€å…ƒç»„ç­‰ã€‚</li></ul><p>ä¸‹é¢æ˜¯ä¸€äº›ä½¿ç”¨ <code>map()</code> å‡½æ•°çš„ç¤ºä¾‹ï¼š</p><blockquote><p>å°†åˆ—è¡¨å…ƒç´ å¹³æ–¹</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">numbers = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]<br>squared_numbers = <span class="hljs-built_in">map</span>(<span class="hljs-keyword">lambda</span> x: x**<span class="hljs-number">2</span>, numbers)<br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">list</span>(squared_numbers))  <span class="hljs-comment"># è¾“å‡º: [1, 4, 9, 16, 25]</span><br></code></pre></td></tr></table></figure><blockquote><p>å°†å­—ç¬¦ä¸²åˆ—è¡¨ä¸­çš„å­—ç¬¦è½¬æ¢ä¸ºå¤§å†™</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">strings = [<span class="hljs-string">&#x27;hello&#x27;</span>, <span class="hljs-string">&#x27;world&#x27;</span>, <span class="hljs-string">&#x27;python&#x27;</span>]<br>upper_strings = <span class="hljs-built_in">map</span>(<span class="hljs-built_in">str</span>.upper, strings)<br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">list</span>(upper_strings))  <span class="hljs-comment"># è¾“å‡º: [&#x27;HELLO&#x27;, &#x27;WORLD&#x27;, &#x27;PYTHON&#x27;]</span><br></code></pre></td></tr></table></figure><blockquote><p>å°†ä¸¤ä¸ªåˆ—è¡¨å¯¹åº”å…ƒç´ ç›¸åŠ </p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python">list1 = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]<br>list2 = [<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>]<br>sum_result = <span class="hljs-built_in">map</span>(<span class="hljs-keyword">lambda</span> x, y: x + y, list1, list2)<br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">list</span>(sum_result))  <span class="hljs-comment"># è¾“å‡º: [5, 7, 9]</span><br></code></pre></td></tr></table></figure><h2 id="6-sorted"><a href="#6-sorted" class="headerlink" title="6.sorted"></a>6.sorted</h2><p>åœ¨Pythonä¸­ï¼Œ<code>sorted()</code>å‡½æ•°ç”¨äºå¯¹å¯è¿­ä»£å¯¹è±¡è¿›è¡Œæ’åºæ“ä½œï¼Œå¹¶è¿”å›ä¸€ä¸ªæ–°çš„å·²æ’åºåˆ—è¡¨ï¼Œè€Œä¸æ”¹å˜åŸå§‹å¯¹è±¡ã€‚å®ƒçš„åŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">sorted</span>(iterable, key=<span class="hljs-literal">None</span>, reverse=<span class="hljs-literal">False</span>)<br></code></pre></td></tr></table></figure><ul><li><code>iterable</code>ï¼šè¡¨ç¤ºè¦æ’åºçš„å¯è¿­ä»£å¯¹è±¡ï¼Œå¦‚åˆ—è¡¨ã€å…ƒç»„ã€å­—å…¸çš„é”®æˆ–å€¼ç­‰ã€‚</li><li><code>key</code>ï¼šå¯é€‰å‚æ•°ï¼Œç”¨äºæŒ‡å®šä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°å°†åº”ç”¨äºå¯è¿­ä»£å¯¹è±¡çš„æ¯ä¸ªå…ƒç´ ï¼Œç”¨äºç”Ÿæˆæ’åºä¸­çš„æ¯”è¾ƒé”®ã€‚é»˜è®¤ä¸º <code>None</code>ï¼Œè¡¨ç¤ºç›´æ¥æ¯”è¾ƒå…ƒç´ æœ¬èº«ã€‚</li><li><code>reverse</code>ï¼šå¯é€‰å‚æ•°ï¼Œç”¨äºæŒ‡å®šæ˜¯å¦åå‘æ’åºï¼Œé»˜è®¤ä¸º <code>False</code>ï¼Œè¡¨ç¤ºå‡åºæ’åºï¼›è®¾ç½®ä¸º <code>True</code> åˆ™è¡¨ç¤ºé™åºæ’åºã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">words = [<span class="hljs-string">&#x27;banana&#x27;</span>, <span class="hljs-string">&#x27;apple&#x27;</span>, <span class="hljs-string">&#x27;orange&#x27;</span>, <span class="hljs-string">&#x27;grape&#x27;</span>]<br>sorted_words = <span class="hljs-built_in">sorted</span>(words, key=<span class="hljs-keyword">lambda</span> x: <span class="hljs-built_in">len</span>(x))<br><span class="hljs-built_in">print</span>(sorted_words)  <span class="hljs-comment"># Output: [&#x27;apple&#x27;, &#x27;grape&#x27;, &#x27;banana&#x27;, &#x27;orange&#x27;]</span><br></code></pre></td></tr></table></figure><h2 id="7-zip"><a href="#7-zip" class="headerlink" title="7.zip"></a>7.zip</h2><p><code>zip()</code> æ˜¯ Python çš„ä¸€ä¸ªå†…ç½®å‡½æ•°ï¼Œç”¨äºå°†å¤šä¸ªå¯è¿­ä»£å¯¹è±¡ä¸­å¯¹åº”ä½ç½®çš„å…ƒç´ æ‰“åŒ…æˆå…ƒç»„ï¼Œå¹¶è¿”å›ä¸€ä¸ªç”±è¿™äº›å…ƒç»„ç»„æˆçš„è¿­ä»£å™¨ã€‚å¦‚æœä¼ å…¥çš„å¯è¿­ä»£å¯¹è±¡é•¿åº¦ä¸ä¸€è‡´ï¼Œåˆ™ <code>zip()</code> å‡½æ•°ä¼šä»¥æœ€çŸ­çš„å¯è¿­ä»£å¯¹è±¡ä¸ºå‡†ï¼Œå…¶ä»–å¯¹è±¡ä¸­è¶…å‡ºéƒ¨åˆ†çš„å…ƒç´ ä¼šè¢«å¿½ç•¥ã€‚</p><p>ä»¥ä¸‹æ˜¯ <code>zip()</code> å‡½æ•°çš„åŸºæœ¬è¯­æ³•ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">zip</span>(iterable1, iterable2, ...)<br></code></pre></td></tr></table></figure><ul><li><code>iterable1</code>, <code>iterable2</code>, â€¦: ä¸€ä¸ªæˆ–å¤šä¸ªå¯è¿­ä»£å¯¹è±¡ï¼Œå¯ä»¥æ˜¯åˆ—è¡¨ã€å…ƒç»„ã€é›†åˆã€å­—ç¬¦ä¸²ç­‰ã€‚</li></ul><p><code>zip()</code> å‡½æ•°å°†è¿”å›ä¸€ä¸ªè¿­ä»£å™¨ï¼Œå…¶ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½æ˜¯è¾“å…¥å¯è¿­ä»£å¯¹è±¡ä¸­å¯¹åº”ä½ç½®çš„å…ƒç´ ç»„æˆçš„å…ƒç»„ã€‚</p><p>ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œæ¼”ç¤ºäº†å¦‚ä½•ä½¿ç”¨ <code>zip()</code> å‡½æ•°å°†ä¸¤ä¸ªåˆ—è¡¨ä¸­çš„å…ƒç´ æ‰“åŒ…æˆå…ƒç»„ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python">list1 = [<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>]<br>list2 = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]<br><br>zipped = <span class="hljs-built_in">zip</span>(list1, list2)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">list</span>(zipped))  <span class="hljs-comment"># è¾“å‡ºï¼š[(&#x27;a&#x27;, 1), (&#x27;b&#x27;, 2), (&#x27;c&#x27;, 3)]</span><br></code></pre></td></tr></table></figure><p><strong>tipsï¼š</strong></p><p><code>zip(*iterables)</code> æ˜¯ <code>zip()</code> å‡½æ•°çš„ç‰¹æ®Šç”¨æ³•ï¼Œå®ƒå¯ä»¥ç”¨äºå°†å·²ç»æ‰“åŒ…æˆå…ƒç»„çš„è¿­ä»£å™¨è§£åŒ…ã€‚</p><p>ä¸¾ä¾‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python">list1 = [<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>]<br>list2 = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]<br><br>zipped = <span class="hljs-built_in">zip</span>(list1, list2)<br>unzipped = <span class="hljs-built_in">zip</span>(*zipped)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">list</span>(unzipped))<br></code></pre></td></tr></table></figure><p>è¿”å›ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">[(<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>), (<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>)]<br></code></pre></td></tr></table></figure><h2 id="8-print"><a href="#8-print" class="headerlink" title="8.print"></a>8.print</h2><p>1.ä½¿ç”¨æ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">name = <span class="hljs-string">&quot;Alice&quot;</span><br>age = <span class="hljs-number">30</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;My name is <span class="hljs-subst">&#123;name&#125;</span> and I am <span class="hljs-subst">&#123;age&#125;</span> years old.&quot;</span>)<br></code></pre></td></tr></table></figure><p>2.ä½¿ç”¨ <code>end</code> å‚æ•°æ§åˆ¶è¾“å‡ºç»“æŸç¬¦ï¼Œé»˜è®¤æƒ…å†µä¸‹æ˜¯æ¢è¡Œç¬¦ <code>\n</code>ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Hello,&quot;</span>, end=<span class="hljs-string">&quot; &quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;World!&quot;</span>)<br></code></pre></td></tr></table></figure><p>3.ä½¿ç”¨ <code>sep</code> å‚æ•°æ§åˆ¶å¤šä¸ªå‚æ•°ä¹‹é—´çš„åˆ†éš”ç¬¦ï¼Œé»˜è®¤æƒ…å†µä¸‹æ˜¯ç©ºæ ¼ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;One&quot;</span>, <span class="hljs-string">&quot;Two&quot;</span>, <span class="hljs-string">&quot;Three&quot;</span>, sep=<span class="hljs-string">&quot;, &quot;</span>)<br></code></pre></td></tr></table></figure><p>4.æ§åˆ¶æµ®ç‚¹æ•°çš„å°æ•°ä½æ•°ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python">name = <span class="hljs-string">&quot;Alice&quot;</span><br>age = <span class="hljs-number">30.12345</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;My name is <span class="hljs-subst">&#123;name&#125;</span> and I am <span class="hljs-subst">&#123;age:<span class="hljs-number">.2</span>f&#125;</span> years old.&quot;</span>)<br><br>è¾“å‡ºï¼š<br>My name <span class="hljs-keyword">is</span> Alice <span class="hljs-keyword">and</span> I am <span class="hljs-number">30.12</span> years old.<br></code></pre></td></tr></table></figure><h2 id="9-set"><a href="#9-set" class="headerlink" title="9.set"></a>9.set</h2><p>Pythonä¸­çš„<code>set</code>æ˜¯ä¸€ç§<strong>æ— åºä¸”ä¸é‡å¤çš„é›†åˆ</strong>æ•°æ®ç±»å‹ï¼Œå®ƒæ˜¯ç”±ä¸åŒå…ƒç´ ç»„æˆçš„é›†åˆï¼Œæ¯ä¸ªå…ƒç´ åœ¨é›†åˆä¸­åªèƒ½å‡ºç°ä¸€æ¬¡ã€‚<code>set</code>å¯ä»¥ç”¨äºæ‰§è¡Œé›†åˆæ“ä½œï¼Œå¦‚äº¤é›†ã€å¹¶é›†ã€å·®é›†ç­‰ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">set</span>(<span class="hljs-string">&quot; &quot;</span>.join(sentences).split()) <span class="hljs-comment"># åˆ›å»ºæ— é‡å¤çš„æ•°æ®ç±»å‹</span><br></code></pre></td></tr></table></figure><h2 id="10-round"><a href="#10-round" class="headerlink" title="10.round"></a>10.round</h2><p><code>round()</code> æ˜¯ Python ä¸­çš„ä¸€ä¸ªå†…ç½®å‡½æ•°ï¼Œç”¨äºå¯¹æµ®ç‚¹æ•°è¿›è¡Œå››èˆäº”å…¥æ“ä½œã€‚å®ƒçš„è¯­æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">round</span>(number[, ndigits])<br></code></pre></td></tr></table></figure><p><code>round()</code> æ˜¯ Python ä¸­çš„ä¸€ä¸ªå†…ç½®å‡½æ•°ï¼Œç”¨äºå¯¹æµ®ç‚¹æ•°è¿›è¡Œå››èˆäº”å…¥æ“ä½œã€‚å®ƒçš„è¯­æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs stylus">pythonCopy <span class="hljs-selector-tag">code</span><br><span class="hljs-function"><span class="hljs-title">round</span><span class="hljs-params">(number[, ndigits])</span></span><br></code></pre></td></tr></table></figure><p>å…¶ä¸­ï¼š</p><ul><li><code>number</code> æ˜¯è¦è¿›è¡Œå››èˆäº”å…¥çš„æµ®ç‚¹æ•°ï¼›</li><li><code>ndigits</code> æ˜¯å¯é€‰å‚æ•°ï¼Œè¡¨ç¤ºè¦ä¿ç•™çš„å°æ•°ä½æ•°ã€‚å¦‚æœçœç•¥ <code>ndigits</code>ï¼Œåˆ™é»˜è®¤ä¸º 0ï¼Œå³å¯¹ <code>number</code> è¿›è¡Œåˆ°æœ€è¿‘çš„æ•´æ•°çš„å››èˆäº”å…¥ã€‚</li></ul><p><code>round()</code> å‡½æ•°è¿”å›ä¸€ä¸ªæµ®ç‚¹æ•°ï¼Œè¡¨ç¤ºå››èˆäº”å…¥åçš„ç»“æœã€‚</p><p>ä»¥ä¸‹æ˜¯ <code>round()</code> å‡½æ•°çš„ä¸€äº›ç¤ºä¾‹ç”¨æ³•ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># å››èˆäº”å…¥åˆ°æ•´æ•°</span><br>result1 = <span class="hljs-built_in">round</span>(<span class="hljs-number">3.6</span>)<br><span class="hljs-built_in">print</span>(result1)  <span class="hljs-comment"># è¾“å‡º: 4</span><br><br><span class="hljs-comment"># å››èˆäº”å…¥åˆ°æŒ‡å®šå°æ•°ä½æ•°</span><br>result2 = <span class="hljs-built_in">round</span>(<span class="hljs-number">3.1415926</span>, <span class="hljs-number">2</span>)<br><span class="hljs-built_in">print</span>(result2)  <span class="hljs-comment"># è¾“å‡º: 3.14</span><br></code></pre></td></tr></table></figure><p>åœ¨ç¬¬ä¸€ä¸ªç¤ºä¾‹ä¸­ï¼Œ<code>round(3.6)</code> å°† 3.6 å››èˆäº”å…¥åˆ°æœ€è¿‘çš„æ•´æ•°ï¼Œç»“æœæ˜¯ 4ã€‚åœ¨ç¬¬äºŒä¸ªç¤ºä¾‹ä¸­ï¼Œ<code>round(3.1415926, 2)</code> å°† 3.1415926 å››èˆäº”å…¥åˆ°ä¸¤ä½å°æ•°ï¼Œç»“æœæ˜¯ 3.14ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>ç®—æ³• Ê•â‰§á´¥â‰¦Ê”</category>
      
      <category>Python</category>
      
      <category>Pythonæ–¹æ³•å’ŒæŠ€å·§</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>PyCharmä½¿ç”¨æŠ€å·§!ğŸ©</title>
    <link href="/2024/01/30/%E7%AE%97%E6%B3%95/python/python%E6%96%B9%E6%B3%95%E5%92%8C%E6%8A%80%E5%B7%A7/pycharm%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/"/>
    <url>/2024/01/30/%E7%AE%97%E6%B3%95/python/python%E6%96%B9%E6%B3%95%E5%92%8C%E6%8A%80%E5%B7%A7/pycharm%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/</url>
    
    <content type="html"><![CDATA[<h1 id="PyCharmä½¿ç”¨æŠ€å·§"><a href="#PyCharmä½¿ç”¨æŠ€å·§" class="headerlink" title="PyCharmä½¿ç”¨æŠ€å·§"></a>PyCharmä½¿ç”¨æŠ€å·§</h1><h2 id="1-æœç´¢"><a href="#1-æœç´¢" class="headerlink" title="1.æœç´¢"></a>1.æœç´¢</h2><p>æ–‡ä»¶æœç´¢ï¼š<code>Ctrl+F</code></p><p>å…¨å±€æœç´¢ï¼š<code>Ctrl+Shift+F</code></p><p><img src="/2024/01/30/%E7%AE%97%E6%B3%95/python/python%E6%96%B9%E6%B3%95%E5%92%8C%E6%8A%80%E5%B7%A7/pycharm%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/1.png"></p><h2 id="2-æ›¿æ¢"><a href="#2-æ›¿æ¢" class="headerlink" title="2.æ›¿æ¢"></a>2.æ›¿æ¢</h2><p>æ–‡ä»¶æ›¿æ¢ï¼š<code>Ctrl+R</code></p><p>å…¨å±€æ›¿æ¢ï¼š<code>Ctrl+Shift+R</code></p><p>æ­£åˆ™æ›¿æ¢å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="/2024/01/30/%E7%AE%97%E6%B3%95/python/python%E6%96%B9%E6%B3%95%E5%92%8C%E6%8A%80%E5%B7%A7/pycharm%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/2.png"></p><p><strong>tipsï¼š</strong></p><p>1.åœ¨æ›¿æ¢æ¨¡å¼ä¸­ç‚¹å‡»å³ä¸Šè§’çš„<code>.*</code>ç¬¦å·ï¼Œåˆ‡æ¢åˆ°æ­£åˆ™æ›¿æ¢æ¨¡å¼ã€‚</p><p>2.ç”¨<code>\</code>åŠ å­—ç¬¦æ¥åŒ¹é…æ–‡ä»¶ä¸­çš„å­—ç¬¦ã€‚</p><p>3.ç”¨æ‹¬å·<code>()</code>å°†éœ€è¦ä¿ç•™çš„å†…å®¹æ‹¬èµ·æ¥ã€‚</p><p>4.ç”¨<code>$</code>åŠ æ•°å­—è¡¨ç¤ºè¢«æ‹¬å·æ‹¬èµ·æ¥çš„å†…å®¹ï¼Œå¯ä»¥åœ¨æ›¿æ¢ä¸­å¤ç”¨ã€‚</p><p>5.<code>ï¼Ÿ</code>è¡¨ç¤ºä¸ä½¿ç”¨è´ªå©ªæœç´¢ï¼Œè€Œæ˜¯å°½å¯èƒ½å°‘çš„åŒ¹é…å­—ç¬¦ã€‚</p><h2 id="3-Debug"><a href="#3-Debug" class="headerlink" title="3.Debug"></a>3.Debug</h2><p><img src="/2024/01/30/%E7%AE%97%E6%B3%95/python/python%E6%96%B9%E6%B3%95%E5%92%8C%E6%8A%80%E5%B7%A7/pycharm%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/3.png"></p><p><strong>tips:</strong></p><p>ä»å·¦åˆ°å³ä¾æ¬¡æ˜¯ï¼š</p><ul><li><strong>step over</strong>ï¼ˆ<code>F8</code>ï¼‰ï¼šåœ¨å•æ­¥æ‰§è¡Œæ—¶ï¼Œåœ¨å‡½æ•°å†…é‡åˆ°å­å‡½æ•°æ—¶ä¸ä¼šè¿›å…¥å­å‡½æ•°å†…å•æ­¥æ‰§è¡Œï¼Œè€Œæ˜¯å°†å­å‡½æ•°æ•´ä¸ªæ‰§è¡Œå®Œå†åœæ­¢ï¼Œä¹Ÿå°±æ˜¯æŠŠå­å‡½æ•°æ•´ä¸ªä½œä¸ºä¸€æ­¥ã€‚åœ¨ä¸å­˜åœ¨å­å‡½æ•°çš„æƒ…å†µä¸‹æ˜¯å’Œstep intoæ•ˆæœä¸€æ ·çš„ã€‚ç®€å•çš„è¯´å°±æ˜¯ï¼Œ<strong>ç¨‹åºä»£ç è¶Šè¿‡å­å‡½æ•°ï¼Œä½†å­å‡½æ•°ä¼šæ‰§è¡Œï¼Œä¸”ä¸è¿›å…¥ã€‚</strong></li><li><strong>step into</strong>ï¼ˆ<code>F7</code>ï¼‰ï¼šåœ¨å•æ­¥æ‰§è¡Œæ—¶ï¼Œé‡åˆ°å­å‡½æ•°å°±è¿›å…¥å¹¶ä¸”ç»§ç»­å•æ­¥æ‰§è¡Œï¼Œæœ‰çš„ä¼šè·³åˆ°æºä»£ç é‡Œé¢å»æ‰§è¡Œã€‚</li><li><strong>step into my code</strong>ï¼ˆ<code>Alt+Shift+F7</code>ï¼‰ï¼šåœ¨å•æ­¥æ‰§è¡Œæ—¶ï¼Œé‡åˆ°å­å‡½æ•°å°±è¿›å…¥å¹¶ä¸”ç»§ç»­å•æ­¥æ‰§è¡Œï¼Œä¸ä¼šè¿›å…¥åˆ°æºç ä¸­ã€‚</li><li><strong>step out</strong>ï¼ˆ<code>Shift+F8</code>ï¼‰ï¼šå‡å¦‚è¿›å…¥äº†ä¸€ä¸ªå‡½æ•°ä½“ä¸­ï¼Œä½ çœ‹äº†ä¸¤è¡Œä»£ç ï¼Œä¸æƒ³çœ‹äº†ï¼Œè·³å‡ºå½“å‰å‡½æ•°ä½“å†…ï¼Œè¿”å›åˆ°è°ƒç”¨æ­¤å‡½æ•°çš„åœ°æ–¹ï¼Œå³ä½¿ç”¨æ­¤åŠŸèƒ½å³å¯ã€‚</li></ul><p><img src="/2024/01/30/%E7%AE%97%E6%B3%95/python/python%E6%96%B9%E6%B3%95%E5%92%8C%E6%8A%80%E5%B7%A7/pycharm%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/4.png"></p><p>æ¯ä¸€æ­¥è°ƒè¯•çš„å˜é‡ç»“æœéƒ½ä¼šåœ¨ä»£ç å’Œè°ƒè¯•æ¡†ä¸­å‡ºç°ã€‚</p><h2 id="4-è¿½è¸ª"><a href="#4-è¿½è¸ª" class="headerlink" title="4.è¿½è¸ª"></a>4.è¿½è¸ª</h2><p>PyCharmæä¾›äº†æŸ¥çœ‹ç‰¹å®šå˜é‡åœ¨ä»£ç ä¸­ä½¿ç”¨æƒ…å†µçš„åŠŸèƒ½ï¼ŒåŒ…æ‹¬æŸ¥æ‰¾å…¶æ¥æºã€‚</p><ol><li>åœ¨ä»£ç ç¼–è¾‘å™¨ä¸­é€‰ä¸­æƒ³è¦è¿½è¸ªæ¥æºçš„å˜é‡ã€‚å¯ä»¥å°†å…‰æ ‡æ”¾åœ¨å˜é‡ä¸Šï¼Œç„¶åæŒ‰ä½ <code>Ctrl</code> é”®å¹¶å•å‡»å˜é‡ï¼Œæˆ–è€…å³é”®å•å‡»å˜é‡å¹¶é€‰æ‹© â€œFind Usagesâ€ï¼ˆæŸ¥æ‰¾ç”¨æ³•ï¼‰ã€‚</li><li>å¦‚æœæƒ³è¦æŸ¥æ‰¾å˜é‡çš„å®šä¹‰å¤„ï¼ˆå³å˜é‡çš„æ¥æºï¼‰ï¼Œå¯ä»¥åœ¨æŸ¥æ‰¾ç”¨æ³•ç»“æœé¢æ¿ä¸­å³é”®å•å‡»å¹¶é€‰æ‹© â€œGo toâ€ï¼ˆè½¬åˆ°ï¼‰&gt; â€œDeclarationâ€ï¼ˆå®šä¹‰ï¼‰ï¼Œæˆ–è€…ä½¿ç”¨å¿«æ·é”® <code>Ctrl + B</code>ã€‚</li></ol><p>é€šè¿‡è¿™ç§æ–¹å¼ï¼Œå¯ä»¥åœ¨PyCharmä¸­è½»æ¾è¿½è¸ªç‰¹å®šå˜é‡çš„æ¥æºå¹¶äº†è§£å…¶åœ¨ä»£ç ä¸­çš„ä½¿ç”¨æƒ…å†µã€‚</p><h2 id="5-åŒ…å›´ä»£ç å—"><a href="#5-åŒ…å›´ä»£ç å—" class="headerlink" title="5.åŒ…å›´ä»£ç å—"></a>5.åŒ…å›´ä»£ç å—</h2><p>å¿«æ·é”®:<code>Ctrl+Alt+T</code></p><p><img src="/2024/01/30/%E7%AE%97%E6%B3%95/python/python%E6%96%B9%E6%B3%95%E5%92%8C%E6%8A%80%E5%B7%A7/pycharm%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/5.png"></p><h2 id="6-å¤šè¡Œä½ç§»"><a href="#6-å¤šè¡Œä½ç§»" class="headerlink" title="6.å¤šè¡Œä½ç§»"></a>6.å¤šè¡Œä½ç§»</h2><p>åŒæ—¶<strong>å³ç§»</strong>å¿«æ·é”®ï¼š<code>Tab</code></p><p>åŒæ—¶<strong>å·¦ç§»</strong>å¿«æ·é”®ï¼š<code>Shift+Tab</code></p><h2 id="7-åˆ›å»ºæ–°é¡¹ç›®"><a href="#7-åˆ›å»ºæ–°é¡¹ç›®" class="headerlink" title="7.åˆ›å»ºæ–°é¡¹ç›®"></a>7.åˆ›å»ºæ–°é¡¹ç›®</h2><p><strong>pythonåˆ›å»ºæ–°é¡¹ç›®æ—¶base condaå’Œè‡ªå®šä¹‰ç¯å¢ƒçš„åŒºåˆ«</strong></p><ol><li><strong>Base Conda ç¯å¢ƒ</strong>ï¼š<ul><li>Base conda ç¯å¢ƒæ˜¯ Miniconda æˆ– Anaconda å®‰è£…åé»˜è®¤åˆ›å»ºçš„ç¯å¢ƒã€‚</li><li>è¿™ä¸ªç¯å¢ƒåŒ…å«äº† Conda åŠå…¶é»˜è®¤çš„ Python è§£é‡Šå™¨å’Œä¸€äº›å¸¸ç”¨çš„åŒ…ã€‚</li><li>åœ¨ base conda ç¯å¢ƒä¸­å®‰è£…çš„è½¯ä»¶åŒ…å¯¹æ‰€æœ‰é¡¹ç›®éƒ½å¯è§ï¼Œå› æ­¤å¯èƒ½å­˜åœ¨ç‰ˆæœ¬å†²çªæˆ–ä¾èµ–å…³ç³»é—®é¢˜ã€‚</li><li>ç”±äºå…¶åŒ…å«çš„è½¯ä»¶åŒ…è¾ƒå¤šï¼Œå¯èƒ½ä¼šå ç”¨è¾ƒå¤šçš„ç£ç›˜ç©ºé—´ã€‚</li></ul></li><li><strong>è‡ªå®šä¹‰ç¯å¢ƒ</strong>ï¼š<ul><li>è‡ªå®šä¹‰ç¯å¢ƒæ˜¯ç”¨æˆ·æ ¹æ®é¡¹ç›®éœ€æ±‚è‡ªè¡Œåˆ›å»ºçš„ç¯å¢ƒï¼Œå¯ä»¥æ ¹æ®é¡¹ç›®éœ€æ±‚é€‰æ‹©æ‰€éœ€çš„ Python ç‰ˆæœ¬å’Œè½¯ä»¶åŒ…ã€‚</li><li>å¯ä»¥ä½¿ç”¨ Conda æˆ–è€…è™šæ‹Ÿç¯å¢ƒç®¡ç†å·¥å…·ï¼ˆå¦‚ venv æˆ– virtualenvï¼‰åˆ›å»ºè‡ªå®šä¹‰ç¯å¢ƒã€‚</li><li>åœ¨è‡ªå®šä¹‰ç¯å¢ƒä¸­ï¼Œæ‚¨å¯ä»¥æ ¹æ®é¡¹ç›®çš„éœ€æ±‚é€‰æ‹©ç‰¹å®šç‰ˆæœ¬çš„è½¯ä»¶åŒ…ï¼Œä»è€Œæ›´å¥½åœ°ç®¡ç†ä¾èµ–å…³ç³»å’Œé¿å…å†²çªã€‚</li><li>è‡ªå®šä¹‰ç¯å¢ƒå¯ä»¥å‡å°‘ç£ç›˜ç©ºé—´å ç”¨ï¼Œå› ä¸ºæ‚¨åªå®‰è£…äº†é¡¹ç›®æ‰€éœ€çš„è½¯ä»¶åŒ…ã€‚</li></ul></li></ol><p>æ€»çš„æ¥è¯´ï¼Œä½¿ç”¨ base conda ç¯å¢ƒå¯ä»¥æ–¹ä¾¿å¿«æ·åœ°å¼€å§‹æ–°é¡¹ç›®ï¼Œä½†æ˜¯å¯èƒ½ä¼šå‡ºç°ä¾èµ–å†²çªçš„é—®é¢˜ã€‚è€Œä½¿ç”¨è‡ªå®šä¹‰ç¯å¢ƒå¯ä»¥æ›´å¥½åœ°ç®¡ç†é¡¹ç›®ä¾èµ–ï¼Œé¿å…å†²çªï¼Œå¹¶ä¸”å¯ä»¥æ ¹æ®å…·ä½“éœ€æ±‚ç²¾ç¡®æ§åˆ¶è½¯ä»¶åŒ…çš„ç‰ˆæœ¬ã€‚</p><p><strong>condaå’Œ virtualenvçš„åŒºåˆ«</strong></p><p><strong>ä¾èµ–ç®¡ç†</strong>ï¼š</p><ul><li><strong>Conda</strong>ï¼šConda ä¸ä»…å¯ä»¥ç®¡ç† Python è½¯ä»¶åŒ…çš„ä¾èµ–å…³ç³»ï¼Œè¿˜å¯ä»¥ç®¡ç†ç³»ç»Ÿçº§åˆ«çš„ä¾èµ–å…³ç³»ã€‚æ­¤å¤–ï¼ŒConda å…è®¸æ‚¨<strong>åˆ›å»ºåŒ…å«ä¸åŒç‰ˆæœ¬ Python çš„ç¯å¢ƒ</strong>ã€‚</li><li><strong>virtualenv</strong>ï¼švirtualenv åªèƒ½ç®¡ç† Python è½¯ä»¶åŒ…çš„ä¾èµ–å…³ç³»ï¼Œå¹¶ä¸”<strong>æ¯ä¸ªç¯å¢ƒåªèƒ½åŒ…å«ä¸€ä¸ª Python ç‰ˆæœ¬</strong>ã€‚</li></ul>]]></content>
    
    
    <categories>
      
      <category>ç®—æ³• Ê•â‰§á´¥â‰¦Ê”</category>
      
      <category>Python</category>
      
      <category>Pythonæ–¹æ³•å’ŒæŠ€å·§</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>pytorchåŸºç¡€!ğŸ§</title>
    <link href="/2024/01/24/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/Pytorch/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/pytorch%E5%9F%BA%E7%A1%80/"/>
    <url>/2024/01/24/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/Pytorch/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/pytorch%E5%9F%BA%E7%A1%80/</url>
    
    <content type="html"><![CDATA[<h1 id="PytorchåŸºç¡€"><a href="#PytorchåŸºç¡€" class="headerlink" title="PytorchåŸºç¡€"></a>PytorchåŸºç¡€</h1><h2 id="1-Tensorså¼ é‡"><a href="#1-Tensorså¼ é‡" class="headerlink" title="1.Tensorså¼ é‡"></a>1.Tensorså¼ é‡</h2><p>å¼ é‡æ˜¯ä¸€ç§ä¸“é—¨çš„æ•°æ®ç»“æ„ï¼Œä¸æ•°ç»„å’ŒçŸ©é˜µéå¸¸ç›¸ä¼¼ã€‚åœ¨ PyTorch ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨å¼ é‡å¯¹æ¨¡å‹çš„è¾“å…¥å’Œè¾“å‡ºä»¥åŠæ¨¡å‹çš„å‚æ•°è¿›è¡Œç¼–ç ã€‚</p><p>å¼ é‡ç±»ä¼¼äº NumPy çš„ ndarraysï¼Œä¸åŒä¹‹å¤„åœ¨äºå¼ é‡å¯ä»¥åœ¨ GPU æˆ–å…¶ä»–ç¡¬ä»¶åŠ é€Ÿå™¨ä¸Šè¿è¡Œã€‚äº‹å®ä¸Šï¼Œå¼ é‡å’Œ NumPy æ•°ç»„é€šå¸¸å¯ä»¥å…±äº«ç›¸åŒçš„åº•å±‚å†…å­˜ï¼Œä»è€Œæ¶ˆé™¤äº†å¤åˆ¶æ•°æ®çš„éœ€è¦ã€‚</p><h3 id="1-1-åˆå§‹åŒ–å¼ é‡"><a href="#1-1-åˆå§‹åŒ–å¼ é‡" class="headerlink" title="1.1 åˆå§‹åŒ–å¼ é‡"></a>1.1 åˆå§‹åŒ–å¼ é‡</h3><figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs elm"><span class="hljs-keyword">import</span> torch<br><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br></code></pre></td></tr></table></figure><p>å¼ é‡å¯ä»¥é€šè¿‡å¤šç§æ–¹å¼è¿›è¡Œåˆå§‹åŒ–ã€‚</p><blockquote><p><strong>ç›´æ¥æ¥è‡ªæ•°æ®</strong></p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">data = [[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>],[<span class="hljs-number">3</span>, <span class="hljs-number">4</span>]]<br>x_data = torch.tensor(data)<br></code></pre></td></tr></table></figure><blockquote><p><strong>ä» NumPy æ•°ç»„</strong></p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">np_array = np.array(data)<br>x_np = torch.from_numpy(np_array)<br></code></pre></td></tr></table></figure><blockquote><p><strong>ä»å¦ä¸€ä¸ªå¼ é‡</strong></p></blockquote><p>æ–°å¼ é‡ä¿ç•™å‚æ•°å¼ é‡çš„å±æ€§ï¼ˆå½¢çŠ¶ã€æ•°æ®ç±»å‹ï¼‰ï¼Œé™¤éæ˜¾å¼è¦†ç›–ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python">x_ones = torch.ones_like(x_data) <span class="hljs-comment"># retains the properties of x_data</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Ones Tensor: \n <span class="hljs-subst">&#123;x_ones&#125;</span> \n&quot;</span>)<br><br>x_rand = torch.rand_like(x_data, dtype=torch.<span class="hljs-built_in">float</span>) <span class="hljs-comment"># overrides the datatype of x_data</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Random Tensor: \n <span class="hljs-subst">&#123;x_rand&#125;</span> \n&quot;</span>)<br></code></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python">Ones Tensor:<br> tensor([[<span class="hljs-number">1</span>, <span class="hljs-number">1</span>],<br>        [<span class="hljs-number">1</span>, <span class="hljs-number">1</span>]])<br><br>Random Tensor:<br> tensor([[<span class="hljs-number">0.8823</span>, <span class="hljs-number">0.9150</span>],<br>        [<span class="hljs-number">0.3829</span>, <span class="hljs-number">0.9593</span>]])<br></code></pre></td></tr></table></figure><blockquote><p><strong>ä½¿ç”¨éšæœºå€¼æˆ–å¸¸é‡å€¼</strong></p></blockquote><p><code>shape</code> æ˜¯å¼ é‡ç»´åº¦çš„å…ƒç»„ã€‚åœ¨ä¸‹é¢çš„å‡½æ•°ä¸­ï¼Œå®ƒå†³å®šäº†è¾“å‡ºå¼ é‡çš„ç»´æ•°ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python">shape = (<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,)<br>rand_tensor = torch.rand(shape)<br>ones_tensor = torch.ones(shape)<br>zeros_tensor = torch.zeros(shape)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Random Tensor: \n <span class="hljs-subst">&#123;rand_tensor&#125;</span> \n&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Ones Tensor: \n <span class="hljs-subst">&#123;ones_tensor&#125;</span> \n&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Zeros Tensor: \n <span class="hljs-subst">&#123;zeros_tensor&#125;</span>&quot;</span>)<br></code></pre></td></tr></table></figure><p><strong>tipsï¼š</strong>åœ¨ç»™å®šå½¢çŠ¶ï¼ˆshapeï¼‰æ—¶ï¼Œé€—å·åœ¨ Python ä¸­é€šå¸¸ç”¨äºè¡¨ç¤ºå…ƒç»„ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ<code>shape = (2, 3,)</code> ä¸­çš„é€—å·å®é™…ä¸Šæ˜¯ä¸€ä¸ªå…ƒç»„çš„æ ‡å¿—ï¼Œå³ä½¿åœ¨æ²¡æœ‰é€—å·çš„æƒ…å†µä¸‹ï¼Œå®ƒä¹Ÿæ˜¯ä¸€ä¸ªåˆæ³•çš„å…ƒç»„ã€‚</p><p>è¿™ç§å†™æ³•æ˜¯ä¸ºäº†ç¡®ä¿åœ¨å®šä¹‰å…ƒç»„æ—¶å³ä½¿åªæœ‰ä¸€ä¸ªå…ƒç´ ä¹Ÿä½¿ç”¨é€—å·ï¼Œä»¥<strong>é¿å…ä¸æ™®é€šçš„æ‹¬å·è¿ç®—ç¬¦äº§ç”Ÿæ­§ä¹‰</strong>ã€‚ä¾‹å¦‚ï¼Œå¦‚æœå†™æˆ <code>shape = (2, 3)</code>ï¼Œå®ƒå°†è¢«è§£é‡Šä¸ºä¸€ä¸ªåŒ…å«ä¸¤ä¸ªæ•´æ•°çš„è¡¨è¾¾å¼ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªåŒ…å«ä¸€ä¸ªå…ƒç»„çš„è¡¨è¾¾å¼ã€‚</p><p>åœ¨ Python ä¸­ï¼Œå•ä¸ªå…ƒç´ çš„å…ƒç»„éœ€è¦åœ¨å…ƒç´ åé¢æ·»åŠ é€—å·ï¼Œä»¥æ˜ç¡®è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªå…ƒç»„ã€‚è¿™æ˜¯ä¸ºäº†åŒºåˆ†å…ƒç»„å’Œæ‹¬å·å†…çš„è¡¨è¾¾å¼ã€‚æ‰€ä»¥ï¼Œ<code>(2, 3,)</code> å’Œ <code>(2, 3)</code> <strong>åœ¨è¿™é‡Œæ˜¯ç­‰ä»·</strong>çš„ï¼Œéƒ½è¡¨ç¤ºä¸€ä¸ªåŒ…å«ä¸¤ä¸ªæ•´æ•°çš„å…ƒç»„ã€‚</p><p>è¾“å‡ºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python">Random Tensor:<br> tensor([[<span class="hljs-number">0.3904</span>, <span class="hljs-number">0.6009</span>, <span class="hljs-number">0.2566</span>],<br>        [<span class="hljs-number">0.7936</span>, <span class="hljs-number">0.9408</span>, <span class="hljs-number">0.1332</span>]])<br><br>Ones Tensor:<br> tensor([[<span class="hljs-number">1.</span>, <span class="hljs-number">1.</span>, <span class="hljs-number">1.</span>],<br>        [<span class="hljs-number">1.</span>, <span class="hljs-number">1.</span>, <span class="hljs-number">1.</span>]])<br><br>Zeros Tensor:<br> tensor([[<span class="hljs-number">0.</span>, <span class="hljs-number">0.</span>, <span class="hljs-number">0.</span>],<br>        [<span class="hljs-number">0.</span>, <span class="hljs-number">0.</span>, <span class="hljs-number">0.</span>]])<br></code></pre></td></tr></table></figure><h3 id="1-2-å¼ é‡çš„å±æ€§"><a href="#1-2-å¼ é‡çš„å±æ€§" class="headerlink" title="1.2 å¼ é‡çš„å±æ€§"></a>1.2 å¼ é‡çš„å±æ€§</h3><p>å¼ é‡å±æ€§æè¿°å®ƒä»¬çš„å½¢çŠ¶ã€æ•°æ®ç±»å‹å’Œå­˜å‚¨å®ƒä»¬çš„è®¾å¤‡ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python">tensor = torch.rand(<span class="hljs-number">3</span>,<span class="hljs-number">4</span>)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Shape of tensor: <span class="hljs-subst">&#123;tensor.shape&#125;</span>&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Datatype of tensor: <span class="hljs-subst">&#123;tensor.dtype&#125;</span>&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Device tensor is stored on: <span class="hljs-subst">&#123;tensor.device&#125;</span>&quot;</span>)<br></code></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">Shape of tensor: torch.Size([<span class="hljs-number">3</span>, <span class="hljs-number">4</span>])<br>Datatype of tensor: torch.float32<br>Device tensor <span class="hljs-keyword">is</span> stored on: cpu<br></code></pre></td></tr></table></figure><h3 id="1-3-å¼ é‡æ“ä½œ"><a href="#1-3-å¼ é‡æ“ä½œ" class="headerlink" title="1.3 å¼ é‡æ“ä½œ"></a>1.3 å¼ é‡æ“ä½œ</h3><p><a href="https://pytorch.org/docs/stable/torch.html">https://pytorch.org/docs/stable/torch.html</a></p><p>è¿™é‡Œå…¨é¢æè¿°äº† 100 å¤šç§å¼ é‡è¿ç®—ï¼ŒåŒ…æ‹¬ç®—æœ¯ã€çº¿æ€§ä»£æ•°ã€çŸ©é˜µæ“ä½œï¼ˆè½¬ç½®ã€ç´¢å¼•ã€åˆ‡ç‰‡ï¼‰ã€é‡‡æ ·ç­‰ã€‚è¿™äº›æ“ä½œä¸­çš„æ¯ä¸€ä¸ªéƒ½å¯ä»¥åœ¨ GPU ä¸Šè¿è¡Œï¼ˆé€Ÿåº¦é€šå¸¸é«˜äºåœ¨ CPU ä¸Šï¼‰ã€‚</p><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œå¼ é‡æ˜¯åœ¨ CPU ä¸Šåˆ›å»ºçš„ã€‚æˆ‘ä»¬éœ€è¦æ˜¾å¼åœ°å°†å¼ é‡ç§»åŠ¨åˆ° GPU using <code>.to</code> æ–¹æ³•ï¼ˆåœ¨æ£€æŸ¥ GPU å¯ç”¨æ€§ä¹‹åï¼‰ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># We move our tensor to the GPU if available</span><br><span class="hljs-keyword">if</span> torch.cuda.is_available():<br>    tensor = tensor.to(<span class="hljs-string">&quot;cuda&quot;</span>)<br></code></pre></td></tr></table></figure><blockquote><p><strong>ç´¢å¼•å’Œåˆ‡ç‰‡</strong></p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python">tensor = torch.ones(<span class="hljs-number">4</span>, <span class="hljs-number">4</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;First row: <span class="hljs-subst">&#123;tensor[<span class="hljs-number">0</span>]&#125;</span>&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;First column: <span class="hljs-subst">&#123;tensor[:, <span class="hljs-number">0</span>]&#125;</span>&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Last column: <span class="hljs-subst">&#123;tensor[..., -<span class="hljs-number">1</span>]&#125;</span>&quot;</span>)<br>tensor[:,<span class="hljs-number">1</span>] = <span class="hljs-number">0</span><br><span class="hljs-built_in">print</span>(tensor)<br></code></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python">First row: tensor([<span class="hljs-number">1.</span>, <span class="hljs-number">1.</span>, <span class="hljs-number">1.</span>, <span class="hljs-number">1.</span>])<br>First column: tensor([<span class="hljs-number">1.</span>, <span class="hljs-number">1.</span>, <span class="hljs-number">1.</span>, <span class="hljs-number">1.</span>])<br>Last column: tensor([<span class="hljs-number">1.</span>, <span class="hljs-number">1.</span>, <span class="hljs-number">1.</span>, <span class="hljs-number">1.</span>])<br>tensor([[<span class="hljs-number">1.</span>, <span class="hljs-number">0.</span>, <span class="hljs-number">1.</span>, <span class="hljs-number">1.</span>],<br>        [<span class="hljs-number">1.</span>, <span class="hljs-number">0.</span>, <span class="hljs-number">1.</span>, <span class="hljs-number">1.</span>],<br>        [<span class="hljs-number">1.</span>, <span class="hljs-number">0.</span>, <span class="hljs-number">1.</span>, <span class="hljs-number">1.</span>],<br>        [<span class="hljs-number">1.</span>, <span class="hljs-number">0.</span>, <span class="hljs-number">1.</span>, <span class="hljs-number">1.</span>]])<br></code></pre></td></tr></table></figure><p><strong>tipsï¼š</strong>çœç•¥ç¬¦å·çš„ä½œç”¨æ˜¯<strong>çœç•¥æ‰å…¶ä½™çš„ç»´åº¦</strong>ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python">tensor = torch.rand((<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>,<span class="hljs-number">4</span>))<br><span class="hljs-built_in">print</span>(tensor)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;<span class="hljs-subst">&#123;tensor[:,:,:,<span class="hljs-number">1</span>]&#125;</span>&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;<span class="hljs-subst">&#123;tensor[..., <span class="hljs-number">1</span>]&#125;</span>&quot;</span>)<br></code></pre></td></tr></table></figure><p><code>...</code>ç­‰ä»·äº<code>:,:,:</code></p><p>è¿æ¥å¼ é‡ å¯ç”¨äº <code>torch.cat</code> æ²¿ç»™å®šç»´åº¦è¿æ¥ä¸€ç³»åˆ—å¼ é‡ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">t1 = torch.cat([tensor, tensor, tensor], dim=<span class="hljs-number">1</span>)<br><span class="hljs-built_in">print</span>(t1)<br></code></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python">tensor([[<span class="hljs-number">1.</span>, <span class="hljs-number">0.</span>, <span class="hljs-number">1.</span>, <span class="hljs-number">1.</span>, <span class="hljs-number">1.</span>, <span class="hljs-number">0.</span>, <span class="hljs-number">1.</span>, <span class="hljs-number">1.</span>, <span class="hljs-number">1.</span>, <span class="hljs-number">0.</span>, <span class="hljs-number">1.</span>, <span class="hljs-number">1.</span>],<br>        [<span class="hljs-number">1.</span>, <span class="hljs-number">0.</span>, <span class="hljs-number">1.</span>, <span class="hljs-number">1.</span>, <span class="hljs-number">1.</span>, <span class="hljs-number">0.</span>, <span class="hljs-number">1.</span>, <span class="hljs-number">1.</span>, <span class="hljs-number">1.</span>, <span class="hljs-number">0.</span>, <span class="hljs-number">1.</span>, <span class="hljs-number">1.</span>],<br>        [<span class="hljs-number">1.</span>, <span class="hljs-number">0.</span>, <span class="hljs-number">1.</span>, <span class="hljs-number">1.</span>, <span class="hljs-number">1.</span>, <span class="hljs-number">0.</span>, <span class="hljs-number">1.</span>, <span class="hljs-number">1.</span>, <span class="hljs-number">1.</span>, <span class="hljs-number">0.</span>, <span class="hljs-number">1.</span>, <span class="hljs-number">1.</span>],<br>        [<span class="hljs-number">1.</span>, <span class="hljs-number">0.</span>, <span class="hljs-number">1.</span>, <span class="hljs-number">1.</span>, <span class="hljs-number">1.</span>, <span class="hljs-number">0.</span>, <span class="hljs-number">1.</span>, <span class="hljs-number">1.</span>, <span class="hljs-number">1.</span>, <span class="hljs-number">0.</span>, <span class="hljs-number">1.</span>, <span class="hljs-number">1.</span>]])<br></code></pre></td></tr></table></figure><p><strong>tipsï¼š</strong>dimè¡¨ç¤ºè¿æ¥çš„ç»´åº¦ã€‚</p><p><strong>åˆ‡ç‰‡æ“ä½œï¼š</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> torch<br><br><span class="hljs-comment"># å‡è®¾ pos_embedding æ˜¯ä¸€ä¸ªå½¢çŠ¶ä¸º (5, 6) çš„å¼ é‡</span><br>pos_embedding = torch.arange(<span class="hljs-number">30</span>).reshape(<span class="hljs-number">5</span>, <span class="hljs-number">6</span>)<br><br><span class="hljs-comment"># å¯¹ pos_embedding è¿›è¡Œåˆ‡ç‰‡æ“ä½œ</span><br>sliced_pos_embedding = pos_embedding[:, <span class="hljs-number">0</span>::<span class="hljs-number">2</span>]<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;åŸå§‹å¼ é‡ï¼š&quot;</span>)<br><span class="hljs-built_in">print</span>(pos_embedding)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;åˆ‡ç‰‡åçš„å¼ é‡ï¼š&quot;</span>)<br><span class="hljs-built_in">print</span>(sliced_pos_embedding)<br></code></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœä¸ºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python">åŸå§‹å¼ é‡ï¼š<br>tensor([[ <span class="hljs-number">0</span>,  <span class="hljs-number">1</span>,  <span class="hljs-number">2</span>,  <span class="hljs-number">3</span>,  <span class="hljs-number">4</span>,  <span class="hljs-number">5</span>],<br>        [ <span class="hljs-number">6</span>,  <span class="hljs-number">7</span>,  <span class="hljs-number">8</span>,  <span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">11</span>],<br>        [<span class="hljs-number">12</span>, <span class="hljs-number">13</span>, <span class="hljs-number">14</span>, <span class="hljs-number">15</span>, <span class="hljs-number">16</span>, <span class="hljs-number">17</span>],<br>        [<span class="hljs-number">18</span>, <span class="hljs-number">19</span>, <span class="hljs-number">20</span>, <span class="hljs-number">21</span>, <span class="hljs-number">22</span>, <span class="hljs-number">23</span>],<br>        [<span class="hljs-number">24</span>, <span class="hljs-number">25</span>, <span class="hljs-number">26</span>, <span class="hljs-number">27</span>, <span class="hljs-number">28</span>, <span class="hljs-number">29</span>]])<br>åˆ‡ç‰‡åçš„å¼ é‡ï¼š<br>tensor([[ <span class="hljs-number">0</span>,  <span class="hljs-number">2</span>,  <span class="hljs-number">4</span>],<br>        [ <span class="hljs-number">6</span>,  <span class="hljs-number">8</span>, <span class="hljs-number">10</span>],<br>        [<span class="hljs-number">12</span>, <span class="hljs-number">14</span>, <span class="hljs-number">16</span>],<br>        [<span class="hljs-number">18</span>, <span class="hljs-number">20</span>, <span class="hljs-number">22</span>],<br>        [<span class="hljs-number">24</span>, <span class="hljs-number">26</span>, <span class="hljs-number">28</span>]])<br></code></pre></td></tr></table></figure><p><strong>tipsï¼š</strong></p><p>è‹¥åœ¨ç»´åº¦ä¸Šä½¿ç”¨<code>0ï¼š3ï¼š2</code>ï¼Œè¡¨ç¤ºä»ç´¢å¼• 0 å¼€å§‹åˆ°ç´¢å¼• 3 ç»“æŸã€‚ä¸¾ä¾‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python">sequence = [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>]<br><br><span class="hljs-comment"># å¯¹ sequence è¿›è¡Œåˆ‡ç‰‡æ“ä½œ</span><br>sliced_sequence = sequence[<span class="hljs-number">0</span>:<span class="hljs-number">3</span>:<span class="hljs-number">2</span>]<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;åŸå§‹åºåˆ—ï¼š&quot;</span>, sequence)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;åˆ‡ç‰‡åçš„åºåˆ—ï¼š&quot;</span>, sliced_sequence)<br></code></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœä¸ºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">åŸå§‹åºåˆ—ï¼š [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>]<br>åˆ‡ç‰‡åçš„åºåˆ—ï¼š [<span class="hljs-number">0</span>, <span class="hljs-number">2</span>]<br></code></pre></td></tr></table></figure><blockquote><p><strong>ç®—æœ¯è¿ç®—</strong></p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># This computes the matrix multiplication between two tensors. y1, y2, y3 will have the same value</span><br><span class="hljs-comment"># ``tensor.T`` returns the transpose of a tensor è½¬ç½®çŸ©é˜µ</span><br>y1 = tensor @ tensor.T<br>y2 = tensor.matmul(tensor.T)<br><br>y3 = torch.rand_like(y1)<br>torch.matmul(tensor, tensor.T, out=y3)<br><br><br><span class="hljs-comment"># This computes the element-wise product. z1, z2, z3 will have the same value</span><br>z1 = tensor * tensor<br>z2 = tensor.mul(tensor)<br><br>z3 = torch.rand_like(tensor)<br>torch.mul(tensor, tensor, out=z3)<br></code></pre></td></tr></table></figure><ol><li><strong>çŸ©é˜µä¹˜æ³•ï¼ˆMatrix Multiplicationï¼‰</strong>ï¼š<ul><li><code>y1 = tensor @ tensor.T</code>ï¼šè¿™æ˜¯Pythonä¸­ä½¿ç”¨<code>@</code>è¿ç®—ç¬¦è¿›è¡Œ<strong>çŸ©é˜µä¹˜æ³•</strong>çš„ç®€æ´å†™æ³•ï¼Œå®ƒè®¡ç®—äº†<code>tensor</code>ä¸å…¶è½¬ç½®çš„çŸ©é˜µç›¸ä¹˜ï¼Œå¹¶å°†ç»“æœå­˜å‚¨åœ¨<code>y1</code>ä¸­ã€‚</li><li><code>y2 = tensor.matmul(tensor.T)</code>ï¼šè¿™æ˜¯<code>torch.Tensor</code>ç±»çš„<code>matmul</code>æ–¹æ³•çš„è°ƒç”¨æ–¹å¼ï¼Œå®ç°äº†ä¸<code>@</code>è¿ç®—ç¬¦ç›¸åŒçš„åŠŸèƒ½ï¼Œå°†ä¸¤ä¸ªå¼ é‡ç›¸ä¹˜ã€‚</li><li><code>y3 = torch.rand_like(y1)</code>å’Œ<code>torch.matmul(tensor, tensor.T, out=y3)</code>ï¼šè¿™ä¸¤è¡Œä»£ç å°†çŸ©é˜µä¹˜æ³•çš„ç»“æœå­˜å‚¨åœ¨é¢„å…ˆåˆ†é…çš„å¼ é‡<code>y3</code>ä¸­ã€‚</li></ul></li><li><strong>å…ƒç´ çº§ä¹˜æ³•ï¼ˆElement-wise Multiplicationï¼‰</strong>ï¼š<ul><li><code>z1 = tensor * tensor</code>ï¼šè¿™æ˜¯Pythonä¸­è¿›è¡Œå…ƒç´ çº§ä¹˜æ³•çš„ç®€æ´å†™æ³•ï¼Œå®ƒå°†<code>tensor</code>ä¸­çš„æ¯ä¸ªå…ƒç´ ä¸å¦ä¸€ä¸ª<code>tensor</code>ä¸­<strong>å¯¹åº”ä½ç½®çš„å…ƒç´ ç›¸ä¹˜</strong>ï¼Œå¹¶å°†ç»“æœå­˜å‚¨åœ¨<code>z1</code>ä¸­ã€‚</li><li><code>z2 = tensor.mul(tensor)</code>ï¼šè¿™æ˜¯<code>torch.Tensor</code>ç±»çš„<code>mul</code>æ–¹æ³•çš„è°ƒç”¨æ–¹å¼ï¼Œå®ç°äº†ä¸<code>*</code>è¿ç®—ç¬¦ç›¸åŒçš„åŠŸèƒ½ï¼Œè¿›è¡Œå…ƒç´ çº§ä¹˜æ³•ã€‚</li><li><code>z3 = torch.rand_like(tensor)</code>å’Œ<code>torch.mul(tensor, tensor, out=z3)</code>ï¼šè¿™ä¸¤è¡Œä»£ç å°†å…ƒç´ çº§ä¹˜æ³•çš„ç»“æœå­˜å‚¨åœ¨é¢„å…ˆåˆ†é…çš„å¼ é‡<code>z3</code>ä¸­ã€‚</li></ul></li></ol><blockquote><p><strong>å•å…ƒç´ å¼ é‡</strong></p></blockquote><p>å¦‚æœä½ æœ‰ä¸€ä¸ªå•å…ƒç´ å¼ é‡ï¼Œä¾‹å¦‚é€šè¿‡å°†å¼ é‡çš„æ‰€æœ‰å€¼èšåˆä¸ºä¸€ä¸ªå€¼ï¼Œä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ <code>item()</code> å°†å…¶è½¬æ¢ä¸º Python æ•°å€¼ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">agg = tensor.<span class="hljs-built_in">sum</span>()<br>agg_item = agg.item()<br><span class="hljs-built_in">print</span>(agg_item, <span class="hljs-built_in">type</span>(agg_item))<br></code></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-number">12.0</span> &lt;<span class="hljs-keyword">class</span> <span class="hljs-string">&#x27;float&#x27;</span>&gt;<br></code></pre></td></tr></table></figure><p><strong>tipsï¼š</strong>aggä¹Ÿæ˜¯ä¸€ä¸ªå¼ é‡ï¼Œä¸ºå•å…ƒç´ å¼ é‡ã€‚</p><blockquote><p><strong>å°±åœ°æ“ä½œ</strong></p></blockquote><p>å°†ç»“æœå­˜å‚¨åˆ°æ“ä½œæ•°ä¸­çš„æ“ä½œç§°ä¸ºå°±åœ°æ“ä½œã€‚å®ƒä»¬ç”± <code>_</code> åç¼€è¡¨ç¤ºã€‚ä¾‹å¦‚ï¼š <code>x.copy_(y)</code> ã€ã€ <code>x.t_()</code> å°†æ›´æ”¹ <code>x</code> ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;<span class="hljs-subst">&#123;tensor&#125;</span> \n&quot;</span>)<br>tensor.add_(<span class="hljs-number">5</span>)<br><span class="hljs-built_in">print</span>(tensor)<br></code></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python">tensor([[<span class="hljs-number">1.</span>, <span class="hljs-number">0.</span>, <span class="hljs-number">1.</span>, <span class="hljs-number">1.</span>],<br>        [<span class="hljs-number">1.</span>, <span class="hljs-number">0.</span>, <span class="hljs-number">1.</span>, <span class="hljs-number">1.</span>],<br>        [<span class="hljs-number">1.</span>, <span class="hljs-number">0.</span>, <span class="hljs-number">1.</span>, <span class="hljs-number">1.</span>],<br>        [<span class="hljs-number">1.</span>, <span class="hljs-number">0.</span>, <span class="hljs-number">1.</span>, <span class="hljs-number">1.</span>]])<br><br>tensor([[<span class="hljs-number">6.</span>, <span class="hljs-number">5.</span>, <span class="hljs-number">6.</span>, <span class="hljs-number">6.</span>],<br>        [<span class="hljs-number">6.</span>, <span class="hljs-number">5.</span>, <span class="hljs-number">6.</span>, <span class="hljs-number">6.</span>],<br>        [<span class="hljs-number">6.</span>, <span class="hljs-number">5.</span>, <span class="hljs-number">6.</span>, <span class="hljs-number">6.</span>],<br>        [<span class="hljs-number">6.</span>, <span class="hljs-number">5.</span>, <span class="hljs-number">6.</span>, <span class="hljs-number">6.</span>]])<br></code></pre></td></tr></table></figure><p>å¸¸è§çš„PyTorchå°±åœ°æ“ä½œï¼š</p><ol><li>**add_ã€sub_ã€mul_ã€div_**ï¼š<ul><li><code>add_()</code>ï¼šå°±åœ°æ‰§è¡Œå¼ é‡çš„åŠ æ³•ã€‚</li><li><code>sub_()</code>ï¼šå°±åœ°æ‰§è¡Œå¼ é‡çš„å‡æ³•ã€‚</li><li><code>mul_()</code>ï¼šå°±åœ°æ‰§è¡Œå¼ é‡çš„ä¹˜æ³•ã€‚</li><li><code>div_()</code>ï¼šå°±åœ°æ‰§è¡Œå¼ é‡çš„é™¤æ³•ã€‚</li></ul></li><li><strong>å…¶ä»–æ•°å­¦å‡½æ•°</strong>ï¼š<ul><li><code>abs_()</code>ï¼šå°±åœ°æ‰§è¡Œå¼ é‡çš„ç»å¯¹å€¼æ“ä½œã€‚</li><li><code>neg_()</code>ï¼šå°±åœ°æ‰§è¡Œå¼ é‡çš„å–è´Ÿæ“ä½œã€‚</li><li><code>pow_()</code>ï¼šå°±åœ°æ‰§è¡Œå¼ é‡çš„æŒ‡æ•°æ“ä½œã€‚</li><li><code>clamp_()</code>ï¼šå°±åœ°æ‰§è¡Œå¼ é‡çš„æˆªæ–­æ“ä½œã€‚</li></ul></li><li><strong>å½’çº¦æ“ä½œ</strong>ï¼š<ul><li><code>sum_()</code>ï¼šå°±åœ°è®¡ç®—å¼ é‡çš„å…ƒç´ ä¹‹å’Œã€‚</li><li><code>mean_()</code>ï¼šå°±åœ°è®¡ç®—å¼ é‡çš„å¹³å‡å€¼ã€‚</li><li><code>max_()</code>ï¼šå°±åœ°è®¡ç®—å¼ é‡çš„æœ€å¤§å€¼ã€‚</li><li><code>min_()</code>ï¼šå°±åœ°è®¡ç®—å¼ é‡çš„æœ€å°å€¼ã€‚</li></ul></li><li><strong>å…¶ä»–æ“ä½œ</strong>ï¼š<ul><li><code>fill_()</code>ï¼šç”¨æŒ‡å®šçš„æ ‡é‡å€¼å¡«å……å¼ é‡ã€‚</li><li><code>zero_()</code>ï¼šå°†å¼ é‡çš„æ‰€æœ‰å…ƒç´ è®¾ç½®ä¸º0ã€‚</li><li><code>fill_diagonal_()</code>ï¼šå°†å¼ é‡çš„å¯¹è§’çº¿å…ƒç´ å¡«å……ä¸ºæŒ‡å®šå€¼ã€‚</li></ul></li></ol><p>è¿™äº›å°±åœ°æ“ä½œéƒ½æ˜¯åœ¨å‡½æ•°ååé¢æ·»åŠ ä¸‹åˆ’çº¿<code>_</code>æ¥è¡¨ç¤ºçš„ï¼Œä¾‹å¦‚<code>add_()</code>ã€<code>mul_()</code>ç­‰ã€‚åœ¨ä½¿ç”¨æ—¶éœ€è¦å°å¿ƒï¼Œå› ä¸ºå®ƒä»¬ä¼šç›´æ¥ä¿®æ”¹åŸå§‹çš„å¼ é‡ï¼Œå¯èƒ½ä¼šå¯¼è‡´ä¸å¯é¢„æµ‹çš„ç»“æœæˆ–éš¾ä»¥è°ƒè¯•çš„é”™è¯¯ã€‚</p><h3 id="1-4-ä½¿ç”¨-NumPy-æ¡¥æ¥"><a href="#1-4-ä½¿ç”¨-NumPy-æ¡¥æ¥" class="headerlink" title="1.4 ä½¿ç”¨ NumPy æ¡¥æ¥"></a>1.4 ä½¿ç”¨ NumPy æ¡¥æ¥</h3><p>CPU ä¸Šçš„å¼ é‡å’Œ NumPy æ•°ç»„å¯ä»¥å…±äº«å…¶åº•å±‚å†…å­˜ä½ç½®ï¼Œæ›´æ”¹ä¸€ä¸ªå°†æ›´æ”¹å¦ä¸€ä¸ªã€‚</p><blockquote><h3 id="Tensor-åˆ°-NumPy-æ•°ç»„"><a href="#Tensor-åˆ°-NumPy-æ•°ç»„" class="headerlink" title="Tensor åˆ° NumPy æ•°ç»„"></a>Tensor åˆ° NumPy æ•°ç»„</h3></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python">t = torch.ones(<span class="hljs-number">5</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;t: <span class="hljs-subst">&#123;t&#125;</span>&quot;</span>)<br>n = t.numpy()<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;n: <span class="hljs-subst">&#123;n&#125;</span>&quot;</span>)<br></code></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">t: tensor([<span class="hljs-number">1.</span>, <span class="hljs-number">1.</span>, <span class="hljs-number">1.</span>, <span class="hljs-number">1.</span>, <span class="hljs-number">1.</span>])<br>n: [<span class="hljs-number">1.</span> <span class="hljs-number">1.</span> <span class="hljs-number">1.</span> <span class="hljs-number">1.</span> <span class="hljs-number">1.</span>]<br></code></pre></td></tr></table></figure><p>å¼ é‡çš„å˜åŒ–åæ˜ åœ¨ NumPy æ•°ç»„ä¸­ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">t.add_(<span class="hljs-number">1</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;t: <span class="hljs-subst">&#123;t&#125;</span>&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;n: <span class="hljs-subst">&#123;n&#125;</span>&quot;</span>)<br></code></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">t: tensor([<span class="hljs-number">2.</span>, <span class="hljs-number">2.</span>, <span class="hljs-number">2.</span>, <span class="hljs-number">2.</span>, <span class="hljs-number">2.</span>])<br>n: [<span class="hljs-number">2.</span> <span class="hljs-number">2.</span> <span class="hljs-number">2.</span> <span class="hljs-number">2.</span> <span class="hljs-number">2.</span>]<br></code></pre></td></tr></table></figure><blockquote><h3 id="NumPy-æ•°ç»„è½¬-Tensor"><a href="#NumPy-æ•°ç»„è½¬-Tensor" class="headerlink" title="NumPy æ•°ç»„è½¬ Tensor"></a>NumPy æ•°ç»„è½¬ Tensor</h3></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">n = np.ones(<span class="hljs-number">5</span>)<br>t = torch.from_numpy(n)<br></code></pre></td></tr></table></figure><p>NumPy æ•°ç»„ä¸­çš„æ›´æ”¹ä¼šåæ˜ åœ¨å¼ é‡ä¸­ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">np.add(n, <span class="hljs-number">1</span>, out=n)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;t: <span class="hljs-subst">&#123;t&#125;</span>&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;n: <span class="hljs-subst">&#123;n&#125;</span>&quot;</span>)<br></code></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">t: tensor([<span class="hljs-number">2.</span>, <span class="hljs-number">2.</span>, <span class="hljs-number">2.</span>, <span class="hljs-number">2.</span>, <span class="hljs-number">2.</span>], dtype=torch.float64)<br>n: [<span class="hljs-number">2.</span> <span class="hljs-number">2.</span> <span class="hljs-number">2.</span> <span class="hljs-number">2.</span> <span class="hljs-number">2.</span>]<br></code></pre></td></tr></table></figure><h2 id="2-Datasets-DataLoaders-æ•°æ®é›†å’Œæ•°æ®åŠ è½½å™¨"><a href="#2-Datasets-DataLoaders-æ•°æ®é›†å’Œæ•°æ®åŠ è½½å™¨" class="headerlink" title="2.Datasets &amp; DataLoaders æ•°æ®é›†å’Œæ•°æ®åŠ è½½å™¨"></a>2.<strong>Datasets &amp; DataLoaders</strong> æ•°æ®é›†å’Œæ•°æ®åŠ è½½å™¨</h2><p>ç”¨äºå¤„ç†æ•°æ®æ ·æœ¬çš„ä»£ç å¯èƒ½ä¼šå˜å¾—æ··ä¹±ä¸”éš¾ä»¥ç»´æŠ¤;ç†æƒ³æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¸Œæœ›æˆ‘ä»¬çš„<strong>æ•°æ®é›†ä»£ç ä¸æ¨¡å‹è®­ç»ƒä»£ç è§£è€¦</strong>ï¼Œä»¥è·å¾—æ›´å¥½çš„å¯è¯»æ€§å’Œæ¨¡å—åŒ–ã€‚PyTorch æä¾›äº†ä¸¤ä¸ªæ•°æ®åŸè¯­ï¼š <code>torch.utils.data.DataLoader</code>å’Œ<code>torch.utils.data.Dataset</code> å…è®¸ä½ ä½¿ç”¨é¢„åŠ è½½çš„æ•°æ®é›†ä»¥åŠä½ è‡ªå·±çš„æ•°æ®ã€‚</p><p>Dataset å­˜å‚¨æ ·æœ¬åŠå…¶ç›¸åº”çš„æ ‡ç­¾ï¼Œè€Œ DataLoader åˆ™åœ¨ Dataset å‘¨å›´å°è£…äº†ä¸€ä¸ªå¯è¿­ä»£å™¨ï¼Œä»¥æ–¹ä¾¿è®¿é—®æ ·æœ¬ã€‚</p><h3 id="2-1-åŠ è½½æ•°æ®é›†"><a href="#2-1-åŠ è½½æ•°æ®é›†" class="headerlink" title="2.1 åŠ è½½æ•°æ®é›†"></a>2.1 åŠ è½½æ•°æ®é›†</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> torch<br><span class="hljs-keyword">from</span> torch.utils.data <span class="hljs-keyword">import</span> Dataset<br><span class="hljs-keyword">from</span> torchvision <span class="hljs-keyword">import</span> datasets<br><span class="hljs-keyword">from</span> torchvision.transforms <span class="hljs-keyword">import</span> ToTensor<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br><br>training_data = datasets.FashionMNIST(<br>    root=<span class="hljs-string">&quot;data&quot;</span>,<br>    train=<span class="hljs-literal">True</span>,<br>    download=<span class="hljs-literal">True</span>,<br>    transform=ToTensor()<br>)<br><br>test_data = datasets.FashionMNIST(<br>    root=<span class="hljs-string">&quot;data&quot;</span>,<br>    train=<span class="hljs-literal">False</span>,<br>    download=<span class="hljs-literal">True</span>,<br>    transform=ToTensor()<br>)<br></code></pre></td></tr></table></figure><ul><li><code>root</code> æ˜¯å­˜å‚¨è®­ç»ƒ&#x2F;æµ‹è¯•æ•°æ®çš„è·¯å¾„ï¼Œ</li><li><code>train</code> æŒ‡å®šè®­ç»ƒæˆ–æµ‹è¯•æ•°æ®é›†ï¼Œ</li><li><code>download=True</code> å¦‚æœæ•°æ®åœ¨ ä¸Šä¸å¯ç”¨ <code>root</code> ï¼Œåˆ™ä» Internet ä¸‹è½½æ•°æ®ã€‚</li><li><code>transform</code> å’Œ <code>target_transform</code> æŒ‡å®šè¦ç´ å’Œæ ‡æ³¨è½¬æ¢</li></ul><h3 id="2-2-æ•°æ®åŠ è½½å™¨"><a href="#2-2-æ•°æ®åŠ è½½å™¨" class="headerlink" title="2.2 æ•°æ®åŠ è½½å™¨"></a>2.2 æ•°æ®åŠ è½½å™¨</h3><p>æ£€ç´¢ <code>Dataset</code> æ•°æ®é›†çš„ç‰¹å¾ï¼Œå¹¶ä¸€æ¬¡æ ‡è®°ä¸€ä¸ªæ ·æœ¬ã€‚åœ¨è®­ç»ƒæ¨¡å‹æ—¶ï¼Œæˆ‘ä»¬é€šå¸¸å¸Œæœ›ä»¥â€œå°æ‰¹é‡â€çš„æ–¹å¼ä¼ é€’æ ·æœ¬ï¼Œåœ¨æ¯ä¸ªæ—¶æœŸé‡æ–°æ´—ç‰Œæ•°æ®ä»¥å‡å°‘æ¨¡å‹è¿‡æ‹Ÿåˆï¼Œå¹¶ä½¿ç”¨ Python <code>multiprocessing</code> æ¥åŠ å¿«æ•°æ®æ£€ç´¢é€Ÿåº¦ã€‚</p><p><code>DataLoader</code> æ˜¯ä¸€ä¸ªå¯è¿­ä»£çš„å¯¹è±¡ï¼Œå®ƒé€šè¿‡ä¸€ä¸ªç®€å•çš„ API ä¸ºæˆ‘ä»¬æŠ½è±¡äº†è¿™ç§å¤æ‚æ€§ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> torch.utils.data <span class="hljs-keyword">import</span> DataLoader<br><br>train_dataloader = DataLoader(training_data, batch_size=<span class="hljs-number">64</span>, shuffle=<span class="hljs-literal">True</span>)<br>test_dataloader = DataLoader(test_data, batch_size=<span class="hljs-number">64</span>, shuffle=<span class="hljs-literal">True</span>)<br></code></pre></td></tr></table></figure><p>æˆ‘ä»¬å·²å°†è¯¥æ•°æ®é›†åŠ è½½åˆ°<code>DataLoader</code>ä¸­ï¼Œå¹¶å¯ä»¥æ ¹æ®éœ€è¦éå†è¯¥æ•°æ®é›†ã€‚ä¸‹é¢çš„æ¯æ¬¡è¿­ä»£éƒ½ä¼šè¿”å›ä¸€æ‰¹ <code>train_features</code> and <code>train_labels</code> ï¼ˆåˆ†åˆ«åŒ…å« <code>batch_size=64</code> ç‰¹å¾å’Œæ ‡ç­¾ï¼‰ã€‚å› ä¸ºæˆ‘ä»¬æŒ‡å®š <code>shuffle=True</code> äº† ï¼Œåœ¨æˆ‘ä»¬éå†æ‰€æœ‰æ‰¹æ¬¡åï¼Œæ•°æ®ä¼šè¢«æ´—ç‰Œã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Display image and label.</span><br>train_features, train_labels = <span class="hljs-built_in">next</span>(<span class="hljs-built_in">iter</span>(train_dataloader))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Feature batch shape: <span class="hljs-subst">&#123;train_features.size()&#125;</span>&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Labels batch shape: <span class="hljs-subst">&#123;train_labels.size()&#125;</span>&quot;</span>)<br>img = train_features[<span class="hljs-number">0</span>].squeeze()<br>label = train_labels[<span class="hljs-number">0</span>]<br>plt.imshow(img, cmap=<span class="hljs-string">&quot;gray&quot;</span>)<br>plt.show()<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Label: <span class="hljs-subst">&#123;label&#125;</span>&quot;</span>)<br></code></pre></td></tr></table></figure><p><strong>tipsï¼š</strong>tensor.shapeå’Œtensor.size()è·å–åˆ°çš„å†…å®¹ç›¸åŒï¼Œä½†ä¸€ä¸ªæ˜¯å±æ€§ï¼Œä¸€ä¸ªæ˜¯æ–¹æ³•ã€‚å¯ä»¥æŠŠtensorçœ‹æˆæ˜¯ä¸€ä¸ªç±»ã€‚</p><h2 id="3-æ„å»ºç¥ç»ç½‘ç»œ"><a href="#3-æ„å»ºç¥ç»ç½‘ç»œ" class="headerlink" title="3.æ„å»ºç¥ç»ç½‘ç»œ"></a>3.æ„å»ºç¥ç»ç½‘ç»œ</h2><p>ç¥ç»ç½‘ç»œç”±å¯¹æ•°æ®æ‰§è¡Œæ“ä½œçš„å±‚&#x2F;æ¨¡å—ç»„æˆã€‚torch.nn å‘½åç©ºé—´æä¾›äº†æ„å»ºè‡ªå·±çš„ç¥ç»ç½‘ç»œæ‰€éœ€çš„æ‰€æœ‰æ„å»ºå—ã€‚PyTorch ä¸­çš„æ¯ä¸ªæ¨¡å—éƒ½å¯¹ nn.æ¨¡å—ã€‚ç¥ç»ç½‘ç»œæœ¬èº«æ˜¯ç”±å…¶ä»–æ¨¡å—ï¼ˆå±‚ï¼‰ç»„æˆçš„æ¨¡å—ã€‚è¿™ç§åµŒå¥—ç»“æ„å…è®¸è½»æ¾æ„å»ºå’Œç®¡ç†å¤æ‚çš„æ¶æ„ã€‚</p><h3 id="3-1-è·å–ç”¨äºè®­ç»ƒçš„è®¾å¤‡"><a href="#3-1-è·å–ç”¨äºè®­ç»ƒçš„è®¾å¤‡" class="headerlink" title="3.1 è·å–ç”¨äºè®­ç»ƒçš„è®¾å¤‡"></a>3.1 è·å–ç”¨äºè®­ç»ƒçš„è®¾å¤‡</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python">device = (<br>    <span class="hljs-string">&quot;cuda&quot;</span><br>    <span class="hljs-keyword">if</span> torch.cuda.is_available()<br>    <span class="hljs-keyword">else</span> <span class="hljs-string">&quot;mps&quot;</span><br>    <span class="hljs-keyword">if</span> torch.backends.mps.is_available()<br>    <span class="hljs-keyword">else</span> <span class="hljs-string">&quot;cpu&quot;</span><br>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Using <span class="hljs-subst">&#123;device&#125;</span> device&quot;</span>)<br></code></pre></td></tr></table></figure><h3 id="3-2-å®šä¹‰ç±»"><a href="#3-2-å®šä¹‰ç±»" class="headerlink" title="3.2 å®šä¹‰ç±»"></a>3.2 å®šä¹‰ç±»</h3><p>æˆ‘ä»¬é€šè¿‡å­ç±»åŒ–æ¥å®šä¹‰æˆ‘ä»¬çš„ç¥ç»ç½‘ç»œ <code>nn.Module</code> ï¼Œå¹¶åœ¨ <code>__init__</code> ä¸­åˆå§‹åŒ–ç¥ç»ç½‘ç»œå±‚ã€‚æ¯ä¸ª <code>nn.Module</code> å­ç±»éƒ½å®ç°å¯¹æ–¹æ³•ä¸­è¾“å…¥æ•°æ®çš„ <code>forward</code> æ“ä½œã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">NeuralNetwork</span>(nn.Module):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">super</span>().__init__()<br>        self.flatten = nn.Flatten()<br>        self.linear_relu_stack = nn.Sequential(<br>            nn.Linear(<span class="hljs-number">28</span>*<span class="hljs-number">28</span>, <span class="hljs-number">512</span>),<br>            nn.ReLU(),<br>            nn.Linear(<span class="hljs-number">512</span>, <span class="hljs-number">512</span>),<br>            nn.ReLU(),<br>            nn.Linear(<span class="hljs-number">512</span>, <span class="hljs-number">10</span>),<br>        )<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, x</span>):<br>        x = self.flatten(x)<br>        logits = self.linear_relu_stack(x)<br>        <span class="hljs-keyword">return</span> logits<br></code></pre></td></tr></table></figure><p>æˆ‘ä»¬åˆ›å»ºä¸€ä¸ª <code>NeuralNetwork</code> çš„å®ä¾‹ï¼Œå¹¶å°†å…¶ç§»åŠ¨åˆ° <code>device</code> ä¸­ï¼Œå¹¶æ‰“å°å…¶ç»“æ„ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">model = NeuralNetwork().to(device)<br><span class="hljs-built_in">print</span>(model)<br></code></pre></td></tr></table></figure><p>ç»“æœï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python">NeuralNetwork(<br>  (flatten): Flatten(start_dim=<span class="hljs-number">1</span>, end_dim=-<span class="hljs-number">1</span>)<br>  (linear_relu_stack): Sequential(<br>    (<span class="hljs-number">0</span>): Linear(in_features=<span class="hljs-number">784</span>, out_features=<span class="hljs-number">512</span>, bias=<span class="hljs-literal">True</span>)<br>    (<span class="hljs-number">1</span>): ReLU()<br>    (<span class="hljs-number">2</span>): Linear(in_features=<span class="hljs-number">512</span>, out_features=<span class="hljs-number">512</span>, bias=<span class="hljs-literal">True</span>)<br>    (<span class="hljs-number">3</span>): ReLU()<br>    (<span class="hljs-number">4</span>): Linear(in_features=<span class="hljs-number">512</span>, out_features=<span class="hljs-number">10</span>, bias=<span class="hljs-literal">True</span>)<br>  )<br>)<br></code></pre></td></tr></table></figure><p>ä¸ºäº†ä½¿ç”¨æ¨¡å‹ï¼Œæˆ‘ä»¬å°†è¾“å…¥æ•°æ®ä¼ é€’ç»™å®ƒã€‚è¿™å°†æ‰§è¡Œæ¨¡å‹çš„ <code>forward</code> ï¼Œä»¥åŠä¸€äº›åå°æ“ä½œã€‚ä¸è¦ç›´æ¥è°ƒç”¨<code>model.forward()</code> ï¼</p><p><strong>tipsï¼š</strong></p><ul><li>åœ¨ PyTorch ä¸­ï¼Œå®ç°äº† <code>nn.Module</code> çš„å­ç±»ä¸­çš„ <code>forward</code> æ–¹æ³•æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„çº¦å®šã€‚å½“æ‚¨è°ƒç”¨æ¨¡å‹çš„å®ä¾‹ï¼ˆä¾‹å¦‚ <code>model</code>ï¼‰æ—¶ï¼ŒPyTorch ä¼šè‡ªåŠ¨è°ƒç”¨ <code>forward</code> æ–¹æ³•ï¼Œè€Œä¸éœ€è¦æ˜¾å¼åœ°è°ƒç”¨ <code>model.forward()</code>ã€‚</li><li>è¿™æ˜¯å› ä¸º<code>torch.nn.Module</code>ç±»ä¸­å·²ç»å®šä¹‰äº†<code>__call__</code>æ–¹æ³•ï¼Œè€Œè¯¥æ–¹æ³•å†…éƒ¨å®é™…ä¸Šä¼šè°ƒç”¨<code>forward()</code>æ–¹æ³•ã€‚</li><li>åœ¨Pythonä¸­ï¼Œ<code>__call__</code>æ˜¯ä¸€ä¸ªç‰¹æ®Šæ–¹æ³•ï¼Œå…è®¸ç±»çš„å®ä¾‹åƒå‡½æ•°ä¸€æ ·è¢«è°ƒç”¨ã€‚</li></ul><p>ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œæ¼”ç¤ºäº†å¦‚ä½•ä½¿ç”¨<code>__call__</code>æ–¹æ³•ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Multiplier</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, factor</span>):<br>        self.factor = factor<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__call__</span>(<span class="hljs-params">self, x</span>):<br>        <span class="hljs-keyword">return</span> self.factor * x<br><br><span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªMultiplierå®ä¾‹</span><br>double = Multiplier(<span class="hljs-number">2</span>)<br><br><span class="hljs-comment"># ä½¿ç”¨__call__æ–¹æ³•è°ƒç”¨å®ä¾‹ï¼Œå®é™…ä¸Šå°±åƒè°ƒç”¨ä¸€ä¸ªå‡½æ•°ä¸€æ ·</span><br>result = double(<span class="hljs-number">5</span>)  <span class="hljs-comment"># ç›¸å½“äºè°ƒç”¨äº†double.__call__(5)</span><br><span class="hljs-built_in">print</span>(result)  <span class="hljs-comment"># è¾“å‡º 10</span><br></code></pre></td></tr></table></figure><p>åœ¨è¾“å…¥ä¸Šè°ƒç”¨æ¨¡å‹å°†è¿”å›ä¸€ä¸ªäºŒç»´å¼ é‡ï¼Œå…¶ä¸­ dim&#x3D;0 å¯¹åº”äºæ¯ä¸ªç±»çš„ 10 ä¸ªåŸå§‹é¢„æµ‹å€¼çš„æ¯ä¸ªè¾“å‡ºï¼Œdim&#x3D;1 å¯¹åº”äºæ¯ä¸ªè¾“å‡ºçš„å•ä¸ªå€¼ã€‚æˆ‘ä»¬é€šè¿‡ä¼ é€’æ¨¡å—çš„ <code>nn.Softmax</code> å®ä¾‹æ¥è·å–é¢„æµ‹æ¦‚ç‡ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python">X = torch.rand(<span class="hljs-number">1</span>, <span class="hljs-number">28</span>, <span class="hljs-number">28</span>, device=device)<br>logits = model(X)<br>pred_probab = nn.Softmax(dim=<span class="hljs-number">1</span>)(logits)<br>y_pred = pred_probab.argmax(<span class="hljs-number">1</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Predicted class: <span class="hljs-subst">&#123;y_pred&#125;</span>&quot;</span>)[]()<br></code></pre></td></tr></table></figure><p>ç»“æœï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">Predicted <span class="hljs-keyword">class</span>: tensor([<span class="hljs-number">7</span>], device=<span class="hljs-string">&#x27;cuda:0&#x27;</span>)<br></code></pre></td></tr></table></figure><p><strong>tipsï¼š</strong></p><ol><li><code>tensor.argmax(1)</code> æ˜¯å¯¹ PyTorch å¼ é‡è¿›è¡Œæ“ä½œï¼Œç”¨äºæ²¿æŒ‡å®šç»´åº¦æ‰¾åˆ°å¼ é‡ä¸­æœ€å¤§å€¼çš„ç´¢å¼•ã€‚å‚æ•°æ˜¯0è¡¨ç¤ºæ²¿ç€åˆ—æ‰¾æœ€å¤§å€¼ï¼Œ1è¡¨ç¤ºæ²¿ç€è¡Œæ‰¾æœ€å¤§å€¼ã€‚</li><li><code>nn.Softmax(dim=1)</code> æ˜¯PyTorchç­‰æ·±åº¦å­¦ä¹ æ¡†æ¶ä¸­å¸¸ç”¨çš„å‡½æ•°ã€‚è¯¥å‡½æ•°ç”¨äºæ²¿ç€æŒ‡å®šçš„ç»´åº¦è®¡ç®—å¼ é‡çš„ softmax æ¿€æ´»ã€‚åœ¨è¿™é‡Œï¼Œ<code>dim=1</code> è¡¨ç¤º softmax æ²¿ç€è¾“å…¥å¼ é‡çš„ç¬¬äºŒä¸ªç»´åº¦ï¼ˆä» 0 å¼€å§‹ç´¢å¼•ï¼‰è¿›è¡Œæ“ä½œã€‚</li></ol><h3 id="3-2-æ¨¡å‹å±‚"><a href="#3-2-æ¨¡å‹å±‚" class="headerlink" title="3.2 æ¨¡å‹å±‚"></a>3.2 æ¨¡å‹å±‚</h3><h4 id="nn-Flatten"><a href="#nn-Flatten" class="headerlink" title="nn.Flatten"></a>nn.Flatten</h4><p><code>nn.Flatten</code> æ˜¯ PyTorch ä¸­çš„ä¸€ä¸ªå±‚ï¼ˆLayerï¼‰ï¼Œç”¨äºå°†è¾“å…¥çš„å¤šç»´å¼ é‡ï¼ˆä¾‹å¦‚ï¼Œå…·æœ‰å¤šä¸ªè½´æˆ–ç»´åº¦çš„å¼ é‡ï¼‰è½¬æ¢ä¸ºä¸€ä¸ªå…·æœ‰å•ä¸ªè½´çš„å¼ é‡ï¼ˆé€šå¸¸æ˜¯ä¸€ç»´å¼ é‡ï¼‰ã€‚å…¶ä½œç”¨æ˜¯å°†è¾“å…¥çš„æ•°æ®â€œå±•å¹³â€æˆä¸€ä¸ªä¸€ç»´å‘é‡ï¼Œä»¥ä¾¿äºåç»­çš„ç¥ç»ç½‘ç»œå±‚ï¼ˆå¦‚å…¨è¿æ¥å±‚ï¼‰å¤„ç†ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> torch<br><span class="hljs-keyword">import</span> torch.nn <span class="hljs-keyword">as</span> nn<br><br>input_tensor = torch.randn(<span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>,<span class="hljs-number">2</span>)<br><span class="hljs-built_in">print</span>(input_tensor)<br><span class="hljs-comment"># å®šä¹‰ä¸€ä¸ª Flatten å±‚</span><br>flatten_layer = nn.Flatten()<br><br><span class="hljs-comment"># ä½¿ç”¨ Flatten å±‚å°†è¾“å…¥å¼ é‡å±•å¹³</span><br>output = flatten_layer(input_tensor)<br><span class="hljs-built_in">print</span>(output)<br></code></pre></td></tr></table></figure><p>ç»“æœï¼š</p><p><img src="/2024/01/24/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/Pytorch/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/pytorch%E5%9F%BA%E7%A1%80/1.png"></p><p>åœ¨è®¸å¤šæƒ…å†µä¸‹ï¼Œå½“å°†å·ç§¯å±‚çš„è¾“å‡ºä¼ é€’ç»™å…¨è¿æ¥å±‚æ—¶ï¼Œéœ€è¦ä½¿ç”¨ <code>nn.Flatten</code> æ¥å°†å·ç§¯å±‚çš„è¾“å‡ºå±•å¹³ä¸ºä¸€ç»´å¼ é‡ï¼Œä»¥ä¾¿äºåç»­çš„å…¨è¿æ¥å±‚å¤„ç†ã€‚</p><h4 id="nn-Linear"><a href="#nn-Linear" class="headerlink" title="nn.Linear"></a>nn.Linear</h4><p><code>nn.Linear</code> æ˜¯ PyTorch ä¸­çš„ä¸€ä¸ªçº¿æ€§å±‚ï¼ˆLinear Layerï¼‰ï¼Œä¹Ÿç§°ä¸ºå…¨è¿æ¥å±‚ï¼ˆFully Connected Layerï¼‰æˆ–ä»¿å°„å±‚ï¼ˆAffine Layerï¼‰ã€‚è¿™ä¸ªå±‚<strong>å°†è¾“å…¥å¼ é‡ä¸æƒé‡çŸ©é˜µç›¸ä¹˜ï¼Œç„¶ååŠ ä¸Šåç½®å‘é‡</strong>ï¼ˆå¯é€‰ï¼‰ï¼Œæœ€ååº”ç”¨æ¿€æ´»å‡½æ•°ï¼ˆä¹Ÿå¯é€‰ï¼‰ã€‚</p><p>åœ¨ç¥ç»ç½‘ç»œä¸­ï¼Œå…¨è¿æ¥å±‚é€šå¸¸ç”¨äºå°†è¾“å…¥æ•°æ®ä¸æƒé‡ç›¸ä¹˜ï¼Œå¹¶åŠ ä¸Šåç½®ï¼Œä»è€Œäº§ç”Ÿæ–°çš„ç‰¹å¾è¡¨ç¤ºï¼Œè¿™äº›ç‰¹å¾è¡¨ç¤ºè¢«ä¼ é€’ç»™ä¸‹ä¸€å±‚ã€‚å…¨è¿æ¥å±‚çš„ä½œç”¨æ˜¯å°†è¾“å…¥æ•°æ®æ˜ å°„åˆ°è¾“å‡ºç©ºé—´ä¸­ã€‚</p><p>ä»¥ä¸‹æ˜¯ <code>nn.Linear</code> çš„åŸºæœ¬ç”¨æ³•ç¤ºä¾‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">linear_layer = nn.Linear(<span class="hljs-number">8</span>, <span class="hljs-number">4</span>)<br>output = linear_layer(output)<br><span class="hljs-built_in">print</span>(output)<br></code></pre></td></tr></table></figure><p>ç»“æœï¼š</p><p><img src="/2024/01/24/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/Pytorch/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/pytorch%E5%9F%BA%E7%A1%80/2.png"></p><p>åœ¨è®­ç»ƒç¥ç»ç½‘ç»œæ—¶ï¼Œæƒé‡çŸ©é˜µå’Œåç½®å‘é‡æ˜¯å¯å­¦ä¹ çš„å‚æ•°ï¼Œå®ƒä»¬ä¼šæ ¹æ®åå‘ä¼ æ’­ç®—æ³•è¿›è¡Œä¼˜åŒ–ï¼Œä»¥æœ€å°åŒ–æŸå¤±å‡½æ•°ã€‚</p><p><strong>tipsï¼š</strong></p><p>æƒé‡çŸ©é˜µå’Œåç½®å‘é‡æ˜¯éšæœºçš„ã€‚</p><p>nn.ReLU</p><p>éçº¿æ€§æ¿€æ´»æ˜¯åœ¨æ¨¡å‹çš„è¾“å…¥å’Œè¾“å‡ºä¹‹é—´åˆ›å»ºå¤æ‚æ˜ å°„çš„åŸå› ã€‚å®ƒä»¬åœ¨çº¿æ€§å˜æ¢ååº”ç”¨ä»¥å¼•å…¥éçº¿æ€§ï¼Œå¸®åŠ©ç¥ç»ç½‘ç»œå­¦ä¹ å„ç§ç°è±¡ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">output = nn.ReLU()(output)<br><span class="hljs-built_in">print</span>(output)<br></code></pre></td></tr></table></figure><p>ç»“æœï¼š</p><p><img src="/2024/01/24/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/Pytorch/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/pytorch%E5%9F%BA%E7%A1%80/3.png"></p><p><strong>tipsï¼š</strong></p><ul><li>ReLUï¼ˆRectified Linear Unitï¼‰æ˜¯ä¸€ç§å¸¸ç”¨çš„éçº¿æ€§æ¿€æ´»å‡½æ•°ï¼Œè¢«å¹¿æ³›åº”ç”¨äºæ·±åº¦ç¥ç»ç½‘ç»œä¸­ã€‚ReLUå‡½æ•°å®šä¹‰ä¸ºï¼š<code>f(x)=max(0,x)</code>ï¼Œå³ï¼Œå½“è¾“å…¥ <em>x</em> å¤§äºç­‰äº0æ—¶ï¼ŒReLUå‡½æ•°è¿”å›è¾“å…¥ <em>x</em>ï¼›å½“è¾“å…¥ <em>x</em> å°äº0æ—¶ï¼ŒReLUå‡½æ•°è¿”å›0ã€‚å¦‚ä¸Šå›¾ç»“æœæ‰€ç¤ºã€‚</li><li>å¸¸è§çš„éçº¿æ€§æ¿€æ´»å‡½æ•°åŒ…æ‹¬ï¼š</li></ul><ol><li>Sigmoidå‡½æ•°ï¼šå°†è¾“å…¥æ˜ å°„åˆ°0åˆ°1ä¹‹é—´çš„è¿ç»­èŒƒå›´ï¼Œå¸¸ç”¨äºè¾“å‡ºå±‚çš„äºŒåˆ†ç±»é—®é¢˜ã€‚</li><li>Tanhå‡½æ•°ï¼šç±»ä¼¼äºSigmoidå‡½æ•°ï¼Œä½†å°†è¾“å…¥æ˜ å°„åˆ°-1åˆ°1ä¹‹é—´çš„è¿ç»­èŒƒå›´ï¼Œä¹Ÿå¸¸ç”¨äºéšè—å±‚ã€‚</li><li>ReLUï¼ˆRectified Linear Unitï¼‰å‡½æ•°ï¼šå¯¹äºæ­£æ•°è¾“å…¥ï¼Œè¾“å‡ºç­‰äºè¾“å…¥ï¼›å¯¹äºè´Ÿæ•°è¾“å…¥ï¼Œè¾“å‡ºä¸º0ã€‚ReLUå‡½æ•°åœ¨æ·±åº¦å­¦ä¹ ä¸­å¾—åˆ°äº†å¹¿æ³›åº”ç”¨ï¼Œå› ä¸ºå®ƒçš„è®¡ç®—ç®€å•ä¸”åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­å¯ä»¥åŠ é€Ÿæ”¶æ•›ã€‚</li><li>Leaky ReLUå‡½æ•°ï¼šä¸ReLUç±»ä¼¼ï¼Œä½†å¯¹è´Ÿæ•°è¾“å…¥æœ‰å°çš„çº¿æ€§æ–œç‡ï¼Œå¯ä»¥é¿å…ReLUä¸­çš„â€œæ­»äº¡ç¥ç»å…ƒâ€é—®é¢˜ã€‚</li><li>Softmaxå‡½æ•°ï¼šå¸¸ç”¨äºå¤šåˆ†ç±»é—®é¢˜çš„è¾“å‡ºå±‚ï¼Œå°†è¾“å…¥è½¬æ¢æˆä¸€ä¸ªæ¦‚ç‡åˆ†å¸ƒï¼Œä½¿å¾—è¾“å‡ºçš„æ‰€æœ‰å€¼éƒ½åœ¨0åˆ°1ä¹‹é—´ä¸”æ€»å’Œä¸º1ã€‚</li></ol><h4 id="nn-Sequential"><a href="#nn-Sequential" class="headerlink" title="nn.Sequential"></a>nn.Sequential</h4><p>nn.Sequential æ˜¯æ¨¡å—çš„æœ‰åºå®¹å™¨ã€‚æ•°æ®ä»¥ä¸å®šä¹‰çš„ç›¸åŒçš„é¡ºåºä¼ é€’åˆ°æ‰€æœ‰æ¨¡å—ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python">linear_relu_stack = nn.Sequential(<br>            nn.Flatten(),<br>            nn.Linear(<span class="hljs-number">8</span>, <span class="hljs-number">4</span>),<br>            nn.ReLU(),<br>        )<br>output2 = linear_relu_stack(input_tensor)<br></code></pre></td></tr></table></figure><p>æ•ˆæœä¸ä¹‹å‰çš„å®šä¹‰ç›¸åŒã€‚</p><h4 id="nn-Softmax"><a href="#nn-Softmax" class="headerlink" title="nn.Softmax"></a>nn.Softmax</h4><p>Softmaxå‡½æ•°æ˜¯ä¸€ç§å¸¸ç”¨çš„æ¿€æ´»å‡½æ•°ï¼Œé€šå¸¸ç”¨äºå¤šåˆ†ç±»é—®é¢˜çš„è¾“å‡ºå±‚ï¼Œå°†åŸå§‹çš„ç½‘ç»œè¾“å‡ºè½¬æ¢ä¸ºè¡¨ç¤ºæ¦‚ç‡åˆ†å¸ƒçš„å½¢å¼ã€‚Softmaxå‡½æ•°å°†è¾“å…¥å‘é‡ <em>z</em> çš„æ¯ä¸ªå…ƒç´ è½¬æ¢ä¸ºä¸€ä¸ªä»‹äº0å’Œ1ä¹‹é—´çš„å®æ•°ï¼ŒåŒæ—¶ç¡®ä¿æ‰€æœ‰å…ƒç´ çš„æ€»å’Œä¸º1ï¼Œå› æ­¤å¯ä»¥çœ‹ä½œæ˜¯å¯¹è¾“å…¥å‘é‡çš„å½’ä¸€åŒ–ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">output = nn.Softmax(dim=<span class="hljs-number">1</span>)(output)<br><span class="hljs-built_in">print</span>(output)<br></code></pre></td></tr></table></figure><p>ç»“æœï¼š</p><p><img src="/2024/01/24/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/Pytorch/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/pytorch%E5%9F%BA%E7%A1%80/4.png"></p><p><strong>tipsï¼š</strong></p><p>dimä¸º1è¡¨ç¤ºè¡Œçš„å’Œä¸º1ï¼Œdimä¸º0è¡¨ç¤ºåˆ—çš„å’Œä¸º 1ã€‚</p><h3 id="3-3-æ¨¡å‹å‚æ•°"><a href="#3-3-æ¨¡å‹å‚æ•°" class="headerlink" title="3.3 æ¨¡å‹å‚æ•°"></a>3.3 æ¨¡å‹å‚æ•°</h3><p>ç¥ç»ç½‘ç»œä¸­çš„è®¸å¤šå±‚éƒ½æ˜¯å‚æ•°åŒ–çš„ï¼Œå³å…·æœ‰ç›¸å…³çš„æƒé‡å’Œåå·®ï¼Œè¿™äº›æƒé‡å’Œåå·®åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­å¾—åˆ°ä¼˜åŒ–ã€‚å­ç±» <code>nn.Module</code> ä¼šè‡ªåŠ¨è·Ÿè¸ªæ¨¡å‹å¯¹è±¡ä¸­å®šä¹‰çš„æ‰€æœ‰å­—æ®µï¼Œå¹¶ä½¿æ‰€æœ‰å‚æ•°éƒ½å¯ä»¥ä½¿ç”¨æ¨¡å‹ <code>parameters()</code> æˆ– <code>named_parameters()</code> æ–¹æ³•è®¿é—®ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">input</span> = torch.tensor([[<span class="hljs-number">1.0</span>, <span class="hljs-number">2.0</span>, <span class="hljs-number">3.0</span>],<br>                      [<span class="hljs-number">4.0</span>, <span class="hljs-number">5.0</span>, <span class="hljs-number">6.0</span>]])  <span class="hljs-comment"># 2ä¸ªæ ·æœ¬ï¼Œ3ä¸ªç‰¹å¾</span><br><br><span class="hljs-comment"># å®šä¹‰æƒé‡çŸ©é˜µå’Œåç½®å‘é‡</span><br>weight = torch.tensor([[<span class="hljs-number">0.1</span>, <span class="hljs-number">0.2</span>, <span class="hljs-number">0.3</span>],   <span class="hljs-comment"># 2ä¸ªè¾“å‡ºç‰¹å¾ï¼Œæ¯ä¸ªç‰¹å¾å¯¹åº”3ä¸ªè¾“å…¥ç‰¹å¾</span><br>                       [<span class="hljs-number">0.4</span>, <span class="hljs-number">0.5</span>, <span class="hljs-number">0.6</span>]])<br>bias = torch.tensor([<span class="hljs-number">0.1</span>, <span class="hljs-number">0.2</span>])  <span class="hljs-comment"># 2ä¸ªè¾“å‡ºç‰¹å¾ï¼Œæ¯ä¸ªç‰¹å¾éƒ½æœ‰ä¸€ä¸ªåç½®</span><br><br><span class="hljs-comment"># æ‰§è¡Œçº¿æ€§å˜æ¢æ“ä½œ</span><br>output = F.linear(<span class="hljs-built_in">input</span>, weight, bias)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Output after linear transformation:&quot;</span>)<br><span class="hljs-built_in">print</span>(output)<br></code></pre></td></tr></table></figure><p>ç»“æœï¼š</p><p><img src="/2024/01/24/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/Pytorch/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/pytorch%E5%9F%BA%E7%A1%80/5.png"></p><p><strong>tipsï¼š</strong></p><p>åå·®ä¼šåŠ åœ¨<strong>æ¯ä¸€è¡Œ</strong>ä¸Šã€‚</p><h2 id="4-torch-autogradè‡ªåŠ¨å¾®åˆ†"><a href="#4-torch-autogradè‡ªåŠ¨å¾®åˆ†" class="headerlink" title="4.torch.autogradè‡ªåŠ¨å¾®åˆ†"></a>4.torch.autogradè‡ªåŠ¨å¾®åˆ†</h2><p>åœ¨è®­ç»ƒç¥ç»ç½‘ç»œæ—¶ï¼Œæœ€å¸¸ç”¨çš„ç®—æ³•æ˜¯åå‘ä¼ æ’­ã€‚åœ¨è¯¥ç®—æ³•ä¸­ï¼Œå‚æ•°ï¼ˆæ¨¡å‹æƒé‡ï¼‰æ ¹æ®æŸå¤±å‡½æ•°ç›¸å¯¹äºç»™å®šå‚æ•°çš„æ¢¯åº¦è¿›è¡Œè°ƒæ•´ã€‚</p><p>ä¸ºäº†è®¡ç®—è¿™äº›æ¢¯åº¦ï¼ŒPyTorch æœ‰ä¸€ä¸ªå†…ç½®çš„å¾®åˆ†å¼•æ“ï¼Œç§°ä¸º <code>torch.autograd</code> ã€‚å®ƒæ”¯æŒè‡ªåŠ¨è®¡ç®—ä»»ä½•è®¡ç®—å›¾çš„æ¢¯åº¦ã€‚</p><p>è€ƒè™‘æœ€ç®€å•çš„å•å±‚ç¥ç»ç½‘ç»œï¼Œå…·æœ‰è¾“å…¥ <code>x</code> ã€å‚æ•° <code>w</code> ï¼Œ <code>b</code> å’Œä¸€äº›æŸå¤±å‡½æ•°ã€‚å¯ä»¥åœ¨ PyTorch ä¸­æŒ‰ä»¥ä¸‹æ–¹å¼å®šä¹‰å®ƒï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> torch<br><br>x = torch.ones(<span class="hljs-number">5</span>)  <span class="hljs-comment"># input tensor</span><br>y = torch.zeros(<span class="hljs-number">3</span>)  <span class="hljs-comment"># expected output</span><br>w = torch.randn(<span class="hljs-number">5</span>, <span class="hljs-number">3</span>, requires_grad=<span class="hljs-literal">True</span>)<br>b = torch.randn(<span class="hljs-number">3</span>, requires_grad=<span class="hljs-literal">True</span>)<br>z = torch.matmul(x, w)+b<br>loss = torch.nn.functional.binary_cross_entropy_with_logits(z, y)<br></code></pre></td></tr></table></figure><p>PyTorchä¸­å®ç°è‡ªåŠ¨è®¡ç®—æ¢¯åº¦çš„æœºåˆ¶æ˜¯é€šè¿‡<strong>åŠ¨æ€è®¡ç®—å›¾</strong>å®ç°çš„ã€‚å½“ä½ åœ¨PyTorchä¸­å®šä¹‰å¼ é‡å¹¶è¿›è¡Œæ“ä½œæ—¶ï¼ŒPyTorchä¼šæ„å»ºä¸€ä¸ªè®¡ç®—å›¾ï¼Œè¯¥è®¡ç®—å›¾æè¿°äº†æ•°æ®æµç»è¿‡çš„æ“ä½œï¼Œå¹¶ä¸”çŸ¥é“æ¯ä¸ªæ“ä½œæ¶‰åŠçš„å¼ é‡ä¹‹é—´çš„ä¾èµ–å…³ç³»ã€‚è¿™ä¸ªè®¡ç®—å›¾æ˜¯åŠ¨æ€çš„ï¼Œå› ä¸ºå®ƒåœ¨æ¯æ¬¡æ‰§è¡Œæ—¶éƒ½ä¼šé‡æ–°æ„å»ºã€‚</p><p>æ­¤ä»£ç å®šä¹‰ä»¥ä¸‹è®¡ç®—å›¾ï¼š</p><p><img src="/2024/01/24/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/Pytorch/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/pytorch%E5%9F%BA%E7%A1%80/6.png"></p><p>ä¸ºäº†ä¼˜åŒ–ç¥ç»ç½‘ç»œä¸­å‚æ•°çš„æƒé‡ï¼Œæˆ‘ä»¬éœ€è¦è®¡ç®—æŸå¤±å‡½æ•°ç›¸å¯¹äºå‚æ•°çš„å¯¼æ•°ã€‚ä¸ºäº†è®¡ç®—è¿™äº›å¯¼æ•°ï¼Œæˆ‘ä»¬è°ƒç”¨ <code>loss.backward()</code> ï¼Œç„¶åä» <code>w.grad</code> å’Œ <code>b.grad</code> ä¸­æ£€ç´¢å€¼ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">loss.backward()<br><span class="hljs-built_in">print</span>(w.grad)<br><span class="hljs-built_in">print</span>(b.grad)<br></code></pre></td></tr></table></figure><p>ç®€è€Œè¨€ä¹‹ï¼ŒPyTorchå®ç°è‡ªåŠ¨è®¡ç®—æ¢¯åº¦çš„ä¸»è¦æ­¥éª¤å¦‚ä¸‹ï¼š</p><ol><li>å®šä¹‰å¼ é‡ï¼Œå¹¶åœ¨éœ€è¦è®¡ç®—æ¢¯åº¦çš„å¼ é‡ä¸Šè®¾ç½®<code>requires_grad=True</code>ã€‚</li><li>æ‰§è¡Œè®¡ç®—æ“ä½œï¼ŒPyTorchä¼šè·Ÿè¸ªè¿™äº›æ“ä½œå¹¶æ„å»ºè®¡ç®—å›¾ã€‚</li><li>å½“éœ€è¦è®¡ç®—æ¢¯åº¦æ—¶ï¼Œè°ƒç”¨<code>.backward()</code>æ–¹æ³•ã€‚PyTorchä¼šæ ¹æ®è®¡ç®—å›¾è‡ªåŠ¨è®¡ç®—æ¢¯åº¦ï¼Œå¹¶å°†æ¢¯åº¦ç´¯ç§¯åˆ°ç›¸åº”çš„å¼ é‡çš„<code>.grad</code>å±æ€§ä¸­ã€‚</li></ol><p><strong>tipsï¼š</strong></p><p>æˆ‘ä»¬åªèƒ½è·å–è®¡ç®—å›¾çš„å¶èŠ‚ç‚¹çš„å±æ€§ï¼Œè¿™äº›èŠ‚ç‚¹çš„ <code>grad</code> <code>requires_grad</code> å±æ€§è®¾ç½®ä¸º <code>True</code> ã€‚å¯¹äºå›¾ä¸­çš„æ‰€æœ‰å…¶ä»–èŠ‚ç‚¹ï¼Œæ¢¯åº¦å°†ä¸å¯ç”¨ã€‚</p><h2 id="5-ä¼˜åŒ–æ¨¡å‹å‚æ•°"><a href="#5-ä¼˜åŒ–æ¨¡å‹å‚æ•°" class="headerlink" title="5.ä¼˜åŒ–æ¨¡å‹å‚æ•°"></a>5.ä¼˜åŒ–æ¨¡å‹å‚æ•°</h2><p>ç°åœ¨æˆ‘ä»¬æœ‰äº†æ¨¡å‹å’Œæ•°æ®ï¼Œæ˜¯æ—¶å€™é€šè¿‡ä¼˜åŒ–æ¨¡å‹çš„å‚æ•°æ¥è®­ç»ƒã€éªŒè¯å’Œæµ‹è¯•æˆ‘ä»¬çš„æ¨¡å‹äº†ã€‚è®­ç»ƒæ¨¡å‹æ˜¯ä¸€ä¸ªè¿­ä»£è¿‡ç¨‹;åœ¨æ¯æ¬¡è¿­ä»£ä¸­ï¼Œæ¨¡å‹å¯¹è¾“å‡ºè¿›è¡ŒçŒœæµ‹ï¼Œè®¡ç®—å…¶çŒœæµ‹ä¸­çš„è¯¯å·®ï¼ˆæŸå¤±ï¼‰ï¼Œæ”¶é›†è¯¯å·®ç›¸å¯¹äºå…¶å‚æ•°çš„å¯¼æ•°ï¼ˆå¦‚æˆ‘ä»¬åœ¨ä¸Šä¸€èŠ‚ä¸­çœ‹åˆ°çš„ï¼‰ï¼Œ<strong>å¹¶ä½¿ç”¨æ¢¯åº¦ä¸‹é™ä¼˜åŒ–è¿™äº›å‚æ•°</strong>ã€‚</p><h3 id="5-1-è¶…å‚æ•°"><a href="#5-1-è¶…å‚æ•°" class="headerlink" title="5.1 è¶…å‚æ•°"></a>5.1 è¶…å‚æ•°</h3><p>è¶…å‚æ•°æ˜¯å¯è°ƒæ•´çš„å‚æ•°ï¼Œå¯ç”¨äºæ§åˆ¶æ¨¡å‹ä¼˜åŒ–è¿‡ç¨‹ã€‚ä¸åŒçš„è¶…å‚æ•°å€¼ä¼šå½±å“æ¨¡å‹è®­ç»ƒå’Œæ”¶æ•›ç‡</p><p>æˆ‘ä»¬å®šä¹‰ä»¥ä¸‹ç”¨äºè®­ç»ƒçš„è¶…å‚æ•°ï¼š</p><ul><li><strong>Number of Epochs</strong>  - <strong>éå†æ•°æ®é›†çš„æ¬¡æ•°</strong></li><li><strong>Batch Size</strong> æ‰¹é‡å¤§å° - åœ¨<strong>æ›´æ–°å‚æ•°ä¹‹å‰</strong>é€šè¿‡ç½‘ç»œä¼ æ’­çš„<strong>æ•°æ®æ ·æœ¬æ•°</strong></li><li><strong>Learning Rate</strong> å­¦ä¹ ç‡ - åœ¨æ¯ä¸ªæ‰¹æ¬¡&#x2F;å‘¨æœŸ<strong>æ›´æ–°æ¨¡å‹å‚æ•°çš„ç¨‹åº¦</strong>ã€‚è¾ƒå°çš„å€¼ä¼šå¯¼è‡´å­¦ä¹ é€Ÿåº¦è¾ƒæ…¢ï¼Œè€Œè¾ƒå¤§çš„å€¼å¯èƒ½ä¼šå¯¼è‡´è®­ç»ƒæœŸé—´å‡ºç°ä¸å¯é¢„æµ‹çš„è¡Œä¸ºã€‚</li></ul><h3 id="5-2-ä¼˜åŒ–å¾ªç¯"><a href="#5-2-ä¼˜åŒ–å¾ªç¯" class="headerlink" title="5.2 ä¼˜åŒ–å¾ªç¯"></a>5.2 ä¼˜åŒ–å¾ªç¯</h3><p>ä¸€æ—¦æˆ‘ä»¬è®¾ç½®äº†è¶…å‚æ•°ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ä¼˜åŒ–å¾ªç¯æ¥è®­ç»ƒå’Œä¼˜åŒ–æˆ‘ä»¬çš„æ¨¡å‹ã€‚ä¼˜åŒ–å¾ªç¯çš„æ¯æ¬¡è¿­ä»£ç§°ä¸ºä¸€ä¸ªçºªå…ƒã€‚</p><p>æ¯ä¸ªçºªå…ƒç”±ä¸¤ä¸ªä¸»è¦éƒ¨åˆ†ç»„æˆï¼š</p><ul><li><strong>The Train Loop</strong> è®­ç»ƒå¾ªç¯ - éå†è®­ç»ƒæ•°æ®é›†å¹¶å°è¯•æ”¶æ•›åˆ°æœ€ä½³å‚æ•°ã€‚</li><li>**The Validation&#x2F;Test Loop **éªŒè¯&#x2F;æµ‹è¯•å¾ªç¯ - éå†æµ‹è¯•æ•°æ®é›†ï¼Œä»¥æ£€æŸ¥æ¨¡å‹æ€§èƒ½æ˜¯å¦æ­£åœ¨æé«˜ã€‚</li></ul><h3 id="5-3-æŸå¤±å‡½æ•°"><a href="#5-3-æŸå¤±å‡½æ•°" class="headerlink" title="5.3 æŸå¤±å‡½æ•°"></a>5.3 æŸå¤±å‡½æ•°</h3><p>å½“å‘ˆç°ä¸€äº›è®­ç»ƒæ•°æ®æ—¶ï¼Œæˆ‘ä»¬æœªç»è®­ç»ƒçš„ç½‘ç»œå¯èƒ½ä¸ä¼šç»™å‡ºæ­£ç¡®çš„ç­”æ¡ˆã€‚æŸå¤±å‡½æ•°è¡¡é‡è·å¾—çš„ç»“æœä¸ç›®æ ‡å€¼çš„å·®å¼‚ç¨‹åº¦ï¼Œå®ƒæ˜¯æˆ‘ä»¬åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­æƒ³è¦æœ€å°åŒ–çš„æŸå¤±å‡½æ•°ã€‚ä¸ºäº†è®¡ç®—æŸå¤±ï¼Œæˆ‘ä»¬ä½¿ç”¨ç»™å®šæ•°æ®æ ·æœ¬çš„è¾“å…¥è¿›è¡Œé¢„æµ‹ï¼Œå¹¶å°†å…¶ä¸çœŸå®æ•°æ®æ ‡ç­¾å€¼è¿›è¡Œæ¯”è¾ƒã€‚</p><h3 id="5-4-ä¼˜åŒ–"><a href="#5-4-ä¼˜åŒ–" class="headerlink" title="5.4 ä¼˜åŒ–"></a>5.4 ä¼˜åŒ–</h3><p>ä¼˜åŒ–æ˜¯è°ƒæ•´æ¨¡å‹å‚æ•°ä»¥å‡å°‘æ¯ä¸ªè®­ç»ƒæ­¥éª¤ä¸­çš„æ¨¡å‹è¯¯å·®çš„è¿‡ç¨‹ã€‚ä¼˜åŒ–ç®—æ³•å®šä¹‰äº†æ­¤è¿‡ç¨‹çš„æ‰§è¡Œæ–¹å¼ã€‚æ‰€æœ‰ä¼˜åŒ–é€»è¾‘éƒ½å°è£…åœ¨å¯¹è±¡ä¸­ <code>optimizer</code> ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ä½¿ç”¨ SGD ä¼˜åŒ–å™¨;æ­¤å¤–ï¼ŒPyTorch ä¸­è¿˜æœ‰è®¸å¤šä¸åŒçš„ä¼˜åŒ–å™¨ï¼Œä¾‹å¦‚ ADAM å’Œ RMSPropï¼Œå®ƒä»¬æ›´é€‚åˆä¸åŒç±»å‹çš„æ¨¡å‹å’Œæ•°æ®ã€‚</p><p>æˆ‘ä»¬é€šè¿‡æ³¨å†Œéœ€è¦è®­ç»ƒçš„æ¨¡å‹å‚æ•°å¹¶ä¼ å…¥å­¦ä¹ ç‡è¶…å‚æ•°æ¥åˆå§‹åŒ–ä¼˜åŒ–å™¨ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">optimizer = torch.optim.SGD(model.parameters(), lr=learning_rate)<br></code></pre></td></tr></table></figure><p>åœ¨è®­ç»ƒå¾ªç¯ä¸­ï¼Œä¼˜åŒ–åˆ†ä¸‰ä¸ªæ­¥éª¤è¿›è¡Œï¼š</p><ul><li>è°ƒç”¨ <code>optimizer.zero_grad()</code> ä»¥é‡ç½®æ¨¡å‹å‚æ•°çš„æ¢¯åº¦ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæ¸å˜ç›¸åŠ ;ä¸ºäº†é˜²æ­¢é‡å¤è®¡ç®—ï¼Œæˆ‘ä»¬åœ¨æ¯æ¬¡è¿­ä»£æ—¶éƒ½æ˜ç¡®åœ°å°†å®ƒä»¬å½’é›¶ã€‚</li><li>é€šè¿‡è°ƒç”¨  <code>loss.backward()</code> åå‘ä¼ æ’­é¢„æµ‹æŸå¤±ã€‚PyTorch å°†æŸå¤±çš„æ¢¯åº¦ä¸æ¯ä¸ªå‚æ•°äº¤æ±‡ã€‚</li><li>ä¸€æ—¦æˆ‘ä»¬æœ‰äº†æ¢¯åº¦ï¼Œæˆ‘ä»¬å°±ä¼šè°ƒç”¨ <code>optimizer.step()</code> é€šè¿‡å‘åä¼ é€’ä¸­æ”¶é›†çš„æ¢¯åº¦æ¥è°ƒæ•´å‚æ•°ã€‚</li></ul><p>ä¸¾ä¾‹ï¼š</p><p><img src="/2024/01/24/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/Pytorch/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/pytorch%E5%9F%BA%E7%A1%80/7.png"></p><h3 id="5-5-å…¨é¢å®æ–½"><a href="#5-5-å…¨é¢å®æ–½" class="headerlink" title="5.5   å…¨é¢å®æ–½"></a>5.5   å…¨é¢å®æ–½</h3><p>æˆ‘ä»¬åœ¨ä¼˜åŒ–ä»£ç ä¸Šå®šä¹‰ <code>train_loop</code> å¾ªç¯ï¼Œå¹¶ <code>test_loop</code> æ ¹æ®æˆ‘ä»¬çš„æµ‹è¯•æ•°æ®è¯„ä¼°æ¨¡å‹çš„æ€§èƒ½ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">train_loop</span>(<span class="hljs-params">dataloader, model, loss_fn, optimizer</span>):<br>    size = <span class="hljs-built_in">len</span>(dataloader.dataset)<br>    <span class="hljs-comment"># Set the model to training mode - important for batch normalization and dropout layers</span><br>    <span class="hljs-comment"># Unnecessary in this situation but added for best practices</span><br>    model.train()<br>    <span class="hljs-keyword">for</span> batch, (X, y) <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(dataloader):<br>        <span class="hljs-comment"># Compute prediction and loss</span><br>        pred = model(X)<br>        loss = loss_fn(pred, y)<br><br>        <span class="hljs-comment"># Backpropagation</span><br>        loss.backward()<br>        optimizer.step()<br>        optimizer.zero_grad()<br><br>        <span class="hljs-keyword">if</span> batch % <span class="hljs-number">100</span> == <span class="hljs-number">0</span>:<br>            loss, current = loss.item(), batch * batch_size + <span class="hljs-built_in">len</span>(X)<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;loss: <span class="hljs-subst">&#123;loss:&gt;7f&#125;</span>  [<span class="hljs-subst">&#123;current:&gt;5d&#125;</span>/<span class="hljs-subst">&#123;size:&gt;5d&#125;</span>]&quot;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_loop</span>(<span class="hljs-params">dataloader, model, loss_fn</span>):<br>    <span class="hljs-comment"># Set the model to evaluation mode - important for batch normalization and dropout layers</span><br>    <span class="hljs-comment"># Unnecessary in this situation but added for best practices</span><br>    model.<span class="hljs-built_in">eval</span>()<br>    size = <span class="hljs-built_in">len</span>(dataloader.dataset)<br>    num_batches = <span class="hljs-built_in">len</span>(dataloader)<br>    test_loss, correct = <span class="hljs-number">0</span>, <span class="hljs-number">0</span><br><br>    <span class="hljs-comment"># Evaluating the model with torch.no_grad() ensures that no gradients are computed during test mode</span><br>    <span class="hljs-comment"># also serves to reduce unnecessary gradient computations and memory usage for tensors with requires_grad=True</span><br>    <span class="hljs-keyword">with</span> torch.no_grad():<br>        <span class="hljs-keyword">for</span> X, y <span class="hljs-keyword">in</span> dataloader:<br>            pred = model(X)<br>            test_loss += loss_fn(pred, y).item()<br>            correct += (pred.argmax(<span class="hljs-number">1</span>) == y).<span class="hljs-built_in">type</span>(torch.<span class="hljs-built_in">float</span>).<span class="hljs-built_in">sum</span>().item()<br><br>    test_loss /= num_batches<br>    correct /= size<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Test Error: \n Accuracy: <span class="hljs-subst">&#123;(<span class="hljs-number">100</span>*correct):&gt;<span class="hljs-number">0.1</span>f&#125;</span>%, Avg loss: <span class="hljs-subst">&#123;test_loss:&gt;8f&#125;</span> \n&quot;</span>)<br></code></pre></td></tr></table></figure><p>æˆ‘ä»¬åˆå§‹åŒ–æŸå¤±å‡½æ•°å’Œä¼˜åŒ–å™¨ï¼Œå¹¶å°†å…¶ä¼ é€’ç»™ <code>train_loop</code> å’Œ <code>test_loop</code> ã€‚éšæ„å¢åŠ  epoch çš„æ•°é‡ä»¥è·Ÿè¸ªæ¨¡å‹çš„æ”¹è¿›æ€§èƒ½ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python">loss_fn = nn.CrossEntropyLoss()<br>optimizer = torch.optim.SGD(model.parameters(), lr=learning_rate)<br><br>epochs = <span class="hljs-number">10</span><br><span class="hljs-keyword">for</span> t <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(epochs):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Epoch <span class="hljs-subst">&#123;t+<span class="hljs-number">1</span>&#125;</span>\n-------------------------------&quot;</span>)<br>    train_loop(train_dataloader, model, loss_fn, optimizer)<br>    test_loop(test_dataloader, model, loss_fn)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Done!&quot;</span>)<br></code></pre></td></tr></table></figure><p><strong>tipsï¼š</strong></p><p><code>model.train()</code> å’Œ <code>model.eval()</code> æ˜¯ PyTorch ä¸­ç”¨äºæ§åˆ¶æ¨¡å‹æ¨¡å¼çš„ä¸¤ä¸ªæ–¹æ³•ï¼Œå®ƒä»¬çš„ä¸»è¦åŒºåˆ«åœ¨äºæ¨¡å‹å¤„äºä¸åŒçš„è¿è¡Œæ¨¡å¼ï¼Œå…·ä½“å¦‚ä¸‹ï¼š</p><ol><li><code>model.train()</code>: è°ƒç”¨ <code>model.train()</code> å°†æ¨¡å‹è®¾ç½®ä¸ºè®­ç»ƒæ¨¡å¼ã€‚åœ¨è®­ç»ƒæ¨¡å¼ä¸‹ï¼Œæ¨¡å‹ä¸­çš„ä¸€äº›ç‰¹å®šå±‚ï¼Œæ¯”å¦‚ dropout å’Œ batch normalizationï¼Œä¼šä»¥ä¸åŒçš„æ–¹å¼å¤„ç†è¾“å…¥æ•°æ®ã€‚ä¾‹å¦‚ï¼Œdropout åœ¨è®­ç»ƒæ—¶ä¼šéšæœºä¸¢å¼ƒéƒ¨åˆ†èŠ‚ç‚¹ï¼Œä»¥é˜²æ­¢è¿‡æ‹Ÿåˆï¼›è€Œ batch normalization åœ¨è®­ç»ƒæ—¶ä¼šæ ¹æ®å½“å‰ mini-batch çš„ç»Ÿè®¡æ•°æ®æ¥æ ‡å‡†åŒ–è¾“å…¥æ•°æ®ã€‚å› æ­¤ï¼Œåœ¨è®­ç»ƒæ¨¡å¼ä¸‹ï¼Œè¿™äº›å±‚ä¼šæ‰§è¡Œç›¸åº”çš„è®­ç»ƒæ“ä½œã€‚</li><li><code>model.eval()</code>: è°ƒç”¨ <code>model.eval()</code> å°†æ¨¡å‹è®¾ç½®ä¸ºè¯„ä¼°æ¨¡å¼ã€‚åœ¨è¯„ä¼°æ¨¡å¼ä¸‹ï¼Œæ¨¡å‹çš„è¡Œä¸ºä¼šå‘ç”Ÿå˜åŒ–ã€‚ä¾‹å¦‚ï¼Œdropout å±‚ä¸å†éšæœºä¸¢å¼ƒèŠ‚ç‚¹ï¼Œè€Œæ˜¯å°†æ‰€æœ‰èŠ‚ç‚¹ä¿ç•™ï¼Œä»¥ä¾¿è·å–æ›´åŠ ç¨³å®šçš„é¢„æµ‹ç»“æœï¼›batch normalization ä¹Ÿä¼šä½¿ç”¨å›ºå®šçš„ç»Ÿè®¡æ•°æ®è¿›è¡Œæ ‡å‡†åŒ–ï¼Œè€Œä¸æ˜¯ä½¿ç”¨å½“å‰ mini-batch çš„ç»Ÿè®¡æ•°æ®ã€‚è¯„ä¼°æ¨¡å¼ä¸‹ï¼Œæ¨¡å‹çš„è¡Œä¸ºæ›´æ¥è¿‘äºå®é™…ä½¿ç”¨åœºæ™¯ã€‚</li></ol><p>æ€»çš„æ¥è¯´ï¼Œ<code>model.train()</code> å°†æ¨¡å‹è®¾ç½®ä¸ºè®­ç»ƒæ¨¡å¼ï¼Œç”¨äºè®­ç»ƒè¿‡ç¨‹ä¸­ï¼›<code>model.eval()</code> å°†æ¨¡å‹è®¾ç½®ä¸ºè¯„ä¼°æ¨¡å¼ï¼Œç”¨äºæµ‹è¯•ã€éªŒè¯æˆ–æ¨æ–­è¿‡ç¨‹ä¸­ï¼Œä»¥è·å¾—æ›´ç¨³å®šå’Œå¯é çš„è¾“å‡ºç»“æœã€‚</p><h3 id="5-6-ä¿å­˜å¹¶åŠ è½½æ¨¡å‹"><a href="#5-6-ä¿å­˜å¹¶åŠ è½½æ¨¡å‹" class="headerlink" title="5.6  ä¿å­˜å¹¶åŠ è½½æ¨¡å‹"></a>5.6  ä¿å­˜å¹¶åŠ è½½æ¨¡å‹</h3><p>åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†äº†è§£å¦‚ä½•é€šè¿‡ä¿å­˜ã€åŠ è½½å’Œè¿è¡Œæ¨¡å‹é¢„æµ‹æ¥æŒä¹…åŒ–æ¨¡å‹çŠ¶æ€ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> torch<br><span class="hljs-keyword">import</span> torchvision.models <span class="hljs-keyword">as</span> models<br></code></pre></td></tr></table></figure><p><strong>ä¿å­˜å’ŒåŠ è½½æ¨¡å‹æƒé‡</strong></p><p>PyTorch æ¨¡å‹å°†å­¦ä¹ åˆ°çš„å‚æ•°å­˜å‚¨åœ¨åä¸º <code>state_dict</code> çš„å†…éƒ¨çŠ¶æ€å­—å…¸ä¸­ã€‚è¿™äº›å¯ä»¥é€šè¿‡ä»¥ä¸‹ <code>torch.save</code> æ–¹æ³•æŒä¹…åŒ–ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">model = models.vgg16(weights=<span class="hljs-string">&#x27;IMAGENET1K_V1&#x27;</span>)<br>torch.save(model.state_dict(), <span class="hljs-string">&#x27;model_weights.pth&#x27;</span>)<br></code></pre></td></tr></table></figure><p>è¦åŠ è½½æ¨¡å‹æƒé‡ï¼Œæ‚¨éœ€è¦å…ˆåˆ›å»ºåŒä¸€æ¨¡å‹çš„å®ä¾‹ï¼Œç„¶åä½¿ç”¨ <code>load_state_dict()</code> method åŠ è½½å‚æ•°ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">model = models.vgg16() <span class="hljs-comment"># we do not specify ``weights``, i.e. create untrained model</span><br>model.load_state_dict(torch.load(<span class="hljs-string">&#x27;model_weights.pth&#x27;</span>))<br>model.<span class="hljs-built_in">eval</span>()<br></code></pre></td></tr></table></figure><p><strong>tipsï¼š</strong></p><p>è¯·åŠ¡å¿…åœ¨æ¨ç†å‰è°ƒç”¨ <code>model.eval()</code> æ–¹æ³•ï¼Œå°† dropout å’Œ Batch å½’ä¸€åŒ–å±‚è®¾ç½®ä¸ºè¯„ä¼°æ¨¡å¼ã€‚å¦‚æœä¸è¿™æ ·åšï¼Œå°†äº§ç”Ÿä¸ä¸€è‡´çš„æ¨ç†ç»“æœã€‚</p><p><strong>Saving and Loading Models with Shapes</strong></p><p>åœ¨åŠ è½½æ¨¡å‹æƒé‡æ—¶ï¼Œæˆ‘ä»¬éœ€è¦å…ˆå®ä¾‹åŒ–æ¨¡å‹ç±»ï¼Œå› ä¸ºè¯¥ç±»å®šä¹‰äº†ç½‘ç»œçš„ç»“æ„ã€‚æˆ‘ä»¬å¯èƒ½å¸Œæœ›å°†æ­¤ç±»çš„ç»“æ„ä¸æ¨¡å‹ä¸€èµ·ä¿å­˜ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥ä¼ é€’<code>model</code>ï¼ˆè€Œä¸æ˜¯ <code>model.state_dict()</code> ï¼‰åˆ°ä¿å­˜å‡½æ•°ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">torch.save(model, <span class="hljs-string">&#x27;model.pth&#x27;</span>)<br></code></pre></td></tr></table></figure><p>ç„¶åï¼Œæˆ‘ä»¬å¯ä»¥åƒè¿™æ ·åŠ è½½æ¨¡å‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">model = torch.load(<span class="hljs-string">&#x27;model.pth&#x27;</span>)<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>AI Ê¢áµ•á´—áµ•Ê¡</category>
      
      <category>Pytorch</category>
      
      <category>PytorchåŸºç¡€çŸ¥è¯†</category>
      
    </categories>
    
    
    <tags>
      
      <tag>AI</tag>
      
      <tag>Pytorch</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ieir2024ç½‘ç«™æ­å»º!ğŸ§</title>
    <link href="/2024/01/19/%E7%BD%91%E7%AB%99/%E7%BD%91%E7%AB%99%E5%AE%9E%E4%BE%8B/ieir2024/ieir2024%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA/"/>
    <url>/2024/01/19/%E7%BD%91%E7%AB%99/%E7%BD%91%E7%AB%99%E5%AE%9E%E4%BE%8B/ieir2024/ieir2024%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA/</url>
    
    <content type="html"><![CDATA[<h1 id="ieir2024ç½‘ç«™æ­å»º"><a href="#ieir2024ç½‘ç«™æ­å»º" class="headerlink" title="ieir2024ç½‘ç«™æ­å»º"></a>ieir2024ç½‘ç«™æ­å»º</h1><h2 id="1-åŸŸå"><a href="#1-åŸŸå" class="headerlink" title="1.åŸŸå"></a>1.åŸŸå</h2><p>åœ¨<a href="https://www.gname.com/user#/admin_ym">æˆ‘çš„åŸŸå - GNAMEç®¡ç†ä¸­å¿ƒ</a>è¿›è¡ŒåŸŸåçš„æ³¨å†Œå’Œç®¡ç†</p><p><img src="/2024/01/19/%E7%BD%91%E7%AB%99/%E7%BD%91%E7%AB%99%E5%AE%9E%E4%BE%8B/ieir2024/ieir2024%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA/1.png"></p><p>è§£æåŸŸåï¼š</p><p><img src="/2024/01/19/%E7%BD%91%E7%AB%99/%E7%BD%91%E7%AB%99%E5%AE%9E%E4%BE%8B/ieir2024/ieir2024%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA/2.png"></p><p>å‰ä¸¤æ¡ä¸ºSSLè¯ä¹¦çš„DCVé…ç½®ï¼Œåä¸¤æ¡æ˜¯æ­£å¸¸çš„åŸŸåè§£æï¼Œè§£æåˆ°å¯¹åº”çš„æœåŠ¡å™¨åœ°å€ã€‚</p><h2 id="2-SSLè¯ä¹¦"><a href="#2-SSLè¯ä¹¦" class="headerlink" title="2.SSLè¯ä¹¦"></a>2.SSLè¯ä¹¦</h2><h3 id="2-1-è¯ä¹¦ç”³è¯·"><a href="#2-1-è¯ä¹¦ç”³è¯·" class="headerlink" title="2.1 è¯ä¹¦ç”³è¯·"></a>2.1 è¯ä¹¦ç”³è¯·</h3><p>åœ¨<a href="https://freessl.cn/">FreeSSLé¦–é¡µ - FreeSSL.cnä¸€ä¸ªæä¾›å…è´¹HTTPSè¯ä¹¦ç”³è¯·çš„ç½‘ç«™</a>ç”³è¯·å…è´¹çš„è¯ä¹¦</p><ul><li>Step1ï¼Œè¾“å…¥åŸŸå</li><li>Step2ï¼ŒDCVé…ç½®ï¼šè¿”å›DNSé…ç½®é¡µé¢ï¼Œæ·»åŠ ä¸¤æ¡ä¸»æœºè®°å½•ï¼ˆå¸¦wwwå’Œä¸å¸¦wwwï¼‰ï¼Œç«‹å³æ£€æµ‹ã€‚</li></ul><p>æ£€æµ‹é€šè¿‡åä¼šè¿›å…¥éƒ¨ç½²é˜¶æ®µï¼Œå¾—åˆ°acme.shéƒ¨ç½²å‘½ä»¤ã€‚</p><h3 id="2-2-è¯ä¹¦ä¸‹è½½"><a href="#2-2-è¯ä¹¦ä¸‹è½½" class="headerlink" title="2.2 è¯ä¹¦ä¸‹è½½"></a>2.2 è¯ä¹¦ä¸‹è½½</h3><p>é¦–å…ˆåˆ›å»ºè¯ä¹¦ç›®å½•ï¼Œroot&#x2F;ssl-cert&#x2F;ieir2024.org</p><p><img src="/2024/01/19/%E7%BD%91%E7%AB%99/%E7%BD%91%E7%AB%99%E5%AE%9E%E4%BE%8B/ieir2024/ieir2024%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA/3.png"></p><p>è¿è¡ŒFreeSSLéƒ¨ç½²å‘½ä»¤ï¼ˆFreeSSLç½‘ç«™ç»™å‡ºï¼‰</p><p>æœ€åä¸‹è½½è¯ä¹¦åˆ°ä¸Šé¢åˆ›å»ºçš„ç›®å½•</p><p>acme.sh â€“install-cert -d ieir2024.org â€“cert-file      &#x2F;root&#x2F;ssl_cert&#x2F;ieir2024.org&#x2F;cert.pem  â€“key-file       &#x2F;root&#x2F;ssl_cert&#x2F;ieir2024.org&#x2F;key.pem  â€“fullchain-file &#x2F;root&#x2F;ssl_cert&#x2F;ieir2024.org&#x2F;fullchain.pem â€“ca-file        &#x2F;root&#x2F;ssl_cert&#x2F;ieir2024.org&#x2F;ca.pem </p><p><img src="/2024/01/19/%E7%BD%91%E7%AB%99/%E7%BD%91%E7%AB%99%E5%AE%9E%E4%BE%8B/ieir2024/ieir2024%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA/4.png"></p><h3 id="2-3-é…ç½®ssl-conf"><a href="#2-3-é…ç½®ssl-conf" class="headerlink" title="2.3 é…ç½®ssl.conf"></a>2.3 é…ç½®ssl.conf</h3><p><img src="/2024/01/19/%E7%BD%91%E7%AB%99/%E7%BD%91%E7%AB%99%E5%AE%9E%E4%BE%8B/ieir2024/ieir2024%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA/5.png"></p><p>å°†å…¶ä¸­æ‰€æœ‰å»å¹´çš„ç½‘ç«™åç§°æ”¹æˆä»Šå¹´çš„å†…å®¹ã€‚</p><p>DocumentRoot â€œ&#x2F;var&#x2F;www&#x2F;html&#x2F;ieir2024â€ï¼ˆä¿®æ”¹è¿™ä¸ªè·¯å¾„ä¸‹çš„æ–‡ä»¶å¤¹åç§°ï¼‰</p><h3 id="2-4-é‡å¯httpdæœåŠ¡"><a href="#2-4-é‡å¯httpdæœåŠ¡" class="headerlink" title="2.4 é‡å¯httpdæœåŠ¡"></a>2.4 é‡å¯httpdæœåŠ¡</h3><p><code>systemctl restart httpd</code></p><p><code>service httpd force-reload</code></p><h2 id="3-ä¿®æ”¹ç½‘ç«™"><a href="#3-ä¿®æ”¹ç½‘ç«™" class="headerlink" title="3.ä¿®æ”¹ç½‘ç«™"></a>3.ä¿®æ”¹ç½‘ç«™</h2><p>ä½¿ç”¨Xftpè¿›å…¥<code>/var/www/html/ieir2024</code>è·¯å¾„ä¸‹çš„ç›®å½•ã€‚</p><p><strong>Key Dates:</strong></p><p><img src="/2024/01/19/%E7%BD%91%E7%AB%99/%E7%BD%91%E7%AB%99%E5%AE%9E%E4%BE%8B/ieir2024/ieir2024%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA/6.png"></p><p><strong>News:</strong></p><p><img src="/2024/01/19/%E7%BD%91%E7%AB%99/%E7%BD%91%E7%AB%99%E5%AE%9E%E4%BE%8B/ieir2024/ieir2024%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA/7.png"></p>]]></content>
    
    
    <categories>
      
      <category>ç½‘ç«™ (âœªã‰¨âœª)</category>
      
      <category>ç½‘ç«™å®ä¾‹</category>
      
      <category>ieir2024</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç½‘ç«™</tag>
      
      <tag>å®ä¾‹</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ruståŸºç¡€çŸ¥è¯†ï¼ğŸ–</title>
    <link href="/2024/01/18/%E7%AE%97%E6%B3%95/rust/rust%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/"/>
    <url>/2024/01/18/%E7%AE%97%E6%B3%95/rust/rust%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/</url>
    
    <content type="html"><![CDATA[<h1 id="ruståŸºç¡€çŸ¥è¯†"><a href="#ruståŸºç¡€çŸ¥è¯†" class="headerlink" title="ruståŸºç¡€çŸ¥è¯†"></a>ruståŸºç¡€çŸ¥è¯†</h1><h2 id="1-Cargo"><a href="#1-Cargo" class="headerlink" title="1.Cargo"></a>1.Cargo</h2><p>Cargo æ˜¯ Rust çš„<code>æ„å»ºç³»ç»Ÿ</code>å’Œ<code>åŒ…ç®¡ç†å™¨</code>ã€‚Rust å¼€å‘è€…å¸¸ç”¨ Cargo æ¥ç®¡ç† Rust å·¥ç¨‹å’Œè·å–å·¥ç¨‹æ‰€ä¾èµ–çš„åº“ã€‚</p><p><img src="/2024/01/18/%E7%AE%97%E6%B3%95/rust/rust%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/1.png"></p><p>Cargo é™¤äº†åˆ›å»ºå·¥ç¨‹ä»¥å¤–è¿˜å…·å¤‡æ„å»ºï¼ˆbuildï¼‰å·¥ç¨‹ã€è¿è¡Œï¼ˆrunï¼‰å·¥ç¨‹ç­‰ä¸€ç³»åˆ—åŠŸèƒ½ï¼Œæ„å»ºå’Œè¿è¡Œåˆ†åˆ«å¯¹åº”ä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs rust">cargo build <br>cargo run <br></code></pre></td></tr></table></figure><h2 id="2-è¾“å‡ºåˆ°å‘½ä»¤è¡Œ"><a href="#2-è¾“å‡ºåˆ°å‘½ä»¤è¡Œ" class="headerlink" title="2.è¾“å‡ºåˆ°å‘½ä»¤è¡Œ"></a>2.è¾“å‡ºåˆ°å‘½ä»¤è¡Œ</h2><p>Rust è¾“å‡ºæ–‡å­—çš„æ–¹å¼ä¸»è¦æœ‰ä¸¤ç§ï¼š<code>println!()</code> å’Œ <code>print!()</code>ã€‚è¿™ä¸¤ä¸ªâ€å‡½æ•°â€éƒ½æ˜¯å‘å‘½ä»¤è¡Œè¾“å‡ºå­—ç¬¦ä¸²çš„æ–¹æ³•ï¼ŒåŒºåˆ«ä»…åœ¨äºå‰è€…ä¼šåœ¨è¾“å‡ºçš„æœ€åé™„åŠ è¾“å‡ºä¸€ä¸ª<strong>æ¢è¡Œç¬¦</strong>ã€‚å½“ç”¨è¿™ä¸¤ä¸ªâ€å‡½æ•°â€è¾“å‡ºä¿¡æ¯çš„æ—¶å€™ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ ¼å¼å­—ç¬¦ä¸²ï¼Œåé¢æ˜¯ä¸€ä¸²å¯å˜å‚æ•°ï¼Œå¯¹åº”ç€æ ¼å¼å­—ç¬¦ä¸²ä¸­çš„â€å ä½ç¬¦â€ï¼Œè¿™ä¸€ç‚¹ä¸ C è¯­è¨€ä¸­çš„ printf å‡½æ•°å¾ˆç›¸ä¼¼ã€‚ä½†æ˜¯ï¼ŒRust ä¸­æ ¼å¼å­—ç¬¦ä¸²ä¸­çš„å ä½ç¬¦ä¸æ˜¯ <strong>â€œ% + å­—æ¯â€</strong> çš„å½¢å¼ï¼Œè€Œæ˜¯ä¸€å¯¹ <code>&#123;&#125;</code>ã€‚</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() &#123; <br>Â  Â  <span class="hljs-keyword">let</span> <span class="hljs-variable">a</span> = <span class="hljs-number">12</span>; <br>Â  Â  <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;a is &#123;&#125;&quot;</span>, a); <br>&#125;<br></code></pre></td></tr></table></figure><p>å¦‚æœæˆ‘æƒ³æŠŠ a è¾“å‡ºä¸¤éï¼š</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;a is &#123;0&#125;, a again is &#123;0&#125;&quot;</span>, a); <br></code></pre></td></tr></table></figure><p>åœ¨ {}ä¹‹é—´å¯ä»¥æ”¾ä¸€ä¸ªæ•°å­—ï¼Œå®ƒå°†æŠŠä¹‹åçš„å¯å˜å‚æ•°å½“ä½œä¸€ä¸ªæ•°ç»„æ¥è®¿é—®ï¼Œä¸‹æ ‡ä» 0 å¼€å§‹ã€‚</p><p>å¦‚æœè¦è¾“å‡º { æˆ– } æ€ä¹ˆåŠå‘¢ï¼Ÿæ ¼å¼å­—ç¬¦ä¸²ä¸­é€šè¿‡  åˆ†åˆ«è½¬ä¹‰ä»£è¡¨ { å’Œ }ã€‚ä½†æ˜¯å…¶ä»–å¸¸ç”¨è½¬ä¹‰å­—ç¬¦ä¸ C è¯­è¨€é‡Œçš„è½¬ä¹‰å­—ç¬¦ä¸€æ ·ï¼Œéƒ½æ˜¯<strong>åæ–œæ å¼€å¤´</strong>çš„å½¢å¼ã€‚</p><h2 id="3-å˜é‡"><a href="#3-å˜é‡" class="headerlink" title="3.å˜é‡"></a>3.å˜é‡</h2><p>Rust æ˜¯<strong>å¼ºç±»å‹è¯­è¨€</strong>ï¼Œä½†å…·æœ‰è‡ªåŠ¨åˆ¤æ–­å˜é‡ç±»å‹çš„èƒ½åŠ›ã€‚è¿™å¾ˆå®¹æ˜“è®©äººä¸å¼±ç±»å‹è¯­è¨€äº§ç”Ÿæ··æ·†ã€‚</p><p>å¦‚æœè¦å£°æ˜å˜é‡ï¼Œéœ€è¦ä½¿ç”¨ <strong>let</strong> å…³é”®å­—ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">let</span> <span class="hljs-variable">a</span> = <span class="hljs-number">123</span>;<br></code></pre></td></tr></table></figure><p>åœ¨è¿™å¥å£°æ˜è¯­å¥ä¹‹åï¼Œä»¥ä¸‹ä¸‰è¡Œä»£ç éƒ½æ˜¯è¢«ç¦æ­¢çš„ï¼š</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs rust">a = <span class="hljs-string">&quot;abc&quot;</span>;<br>a = <span class="hljs-number">4.56</span>; <br>a = <span class="hljs-number">456</span>;<br></code></pre></td></tr></table></figure><ul><li>ç¬¬ä¸€è¡Œçš„é”™è¯¯åœ¨äºå½“å£°æ˜ a æ˜¯ 123 ä»¥åï¼Œa å°±è¢«ç¡®å®šä¸ºæ•´å‹æ•°å­—ï¼Œä¸èƒ½æŠŠå­—ç¬¦ä¸²ç±»å‹çš„å€¼èµ‹ç»™å®ƒã€‚</li><li>ç¬¬äºŒè¡Œçš„é”™è¯¯åœ¨äºè‡ªåŠ¨è½¬æ¢æ•°å­—ç²¾åº¦æœ‰æŸå¤±ï¼ŒRust è¯­è¨€ä¸å…è®¸ç²¾åº¦æœ‰æŸå¤±çš„è‡ªåŠ¨æ•°æ®ç±»å‹è½¬æ¢ã€‚</li><li>ç¬¬ä¸‰è¡Œçš„é”™è¯¯åœ¨äº a ä¸æ˜¯ä¸ªå¯å˜å˜é‡ã€‚</li></ul><p>å‰ä¸¤ç§é”™è¯¯å¾ˆå®¹æ˜“ç†è§£ï¼Œä½†ç¬¬ä¸‰ä¸ªæ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿéš¾é“ a ä¸æ˜¯ä¸ªå˜é‡å—ï¼Ÿ</p><p>è¿™å°±ç‰µæ‰¯åˆ°äº† Rust è¯­è¨€ä¸ºäº†é«˜å¹¶å‘å®‰å…¨è€Œåšçš„è®¾è®¡ï¼šåœ¨è¯­è¨€å±‚é¢<strong>å°½é‡å°‘çš„è®©å˜é‡çš„å€¼å¯ä»¥æ”¹å˜</strong>ã€‚æ‰€ä»¥ a çš„å€¼ä¸å¯å˜ã€‚ä½†è¿™**ä¸æ„å‘³ç€ a ä¸æ˜¯â€å˜é‡â€**ï¼ˆè‹±æ–‡ä¸­çš„ variableï¼‰ï¼Œå®˜æ–¹æ–‡æ¡£ç§° a è¿™ç§å˜é‡ä¸ºâ€ä¸å¯å˜å˜é‡â€ã€‚</p><p>å¦‚æœæˆ‘ä»¬ç¼–å†™çš„ç¨‹åºçš„ä¸€éƒ¨åˆ†åœ¨å‡è®¾å€¼æ°¸è¿œä¸ä¼šæ”¹å˜çš„æƒ…å†µä¸‹è¿è¡Œï¼Œè€Œæˆ‘ä»¬ä»£ç çš„å¦ä¸€éƒ¨åˆ†åœ¨æ”¹å˜è¯¥å€¼ï¼Œé‚£ä¹ˆä»£ç çš„ç¬¬ä¸€éƒ¨åˆ†å¯èƒ½å°±ä¸ä¼šæŒ‰ç…§è®¾è®¡çš„æ„å›¾å»è¿è½¬ã€‚ç”±äºè¿™ç§åŸå› é€ æˆçš„é”™è¯¯å¾ˆéš¾åœ¨äº‹åæ‰¾åˆ°ã€‚è¿™æ˜¯ Rust è¯­è¨€è®¾è®¡è¿™ç§æœºåˆ¶çš„åŸå› ã€‚</p><p>å½“ç„¶ï¼Œä½¿å˜é‡å˜å¾—â€å¯å˜â€ï¼ˆmutableï¼‰åªéœ€ä¸€ä¸ª <strong>mut</strong> å…³é”®å­—ã€‚</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">a</span> = <span class="hljs-number">123</span>;<br>a = <span class="hljs-number">456</span>;<br></code></pre></td></tr></table></figure><blockquote><h3 id="å¸¸é‡ä¸ä¸å¯å˜å˜é‡çš„åŒºåˆ«"><a href="#å¸¸é‡ä¸ä¸å¯å˜å˜é‡çš„åŒºåˆ«" class="headerlink" title="å¸¸é‡ä¸ä¸å¯å˜å˜é‡çš„åŒºåˆ«"></a>å¸¸é‡ä¸ä¸å¯å˜å˜é‡çš„åŒºåˆ«</h3></blockquote><p>æ—¢ç„¶ä¸å¯å˜å˜é‡æ˜¯ä¸å¯å˜çš„ï¼Œé‚£ä¸å°±æ˜¯å¸¸é‡å—ï¼Ÿä¸ºä»€ä¹ˆå«å˜é‡ï¼Ÿ</p><p>å˜é‡å’Œå¸¸é‡è¿˜æ˜¯æœ‰åŒºåˆ«çš„ã€‚åœ¨ Rust ä¸­ï¼Œä»¥ä¸‹ç¨‹åºæ˜¯åˆæ³•çš„ï¼š</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">let</span> <span class="hljs-variable">a</span> = <span class="hljs-number">123</span>;   <span class="hljs-comment">// å¯ä»¥ç¼–è¯‘ï¼Œä½†å¯èƒ½æœ‰è­¦å‘Šï¼Œå› ä¸ºè¯¥å˜é‡æ²¡æœ‰è¢«ä½¿ç”¨</span><br><span class="hljs-keyword">let</span> <span class="hljs-variable">a</span> = <span class="hljs-number">456</span>;<br></code></pre></td></tr></table></figure><p>ä½†æ˜¯å¦‚æœ a æ˜¯å¸¸é‡å°±ä¸åˆæ³•ï¼š</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">const</span> a: <span class="hljs-type">i32</span> = <span class="hljs-number">123</span>;<br><span class="hljs-keyword">let</span> <span class="hljs-variable">a</span> = <span class="hljs-number">456</span>;<br></code></pre></td></tr></table></figure><p>å˜é‡çš„å€¼å¯ä»¥â€é‡æ–°ç»‘å®šâ€ï¼Œä½†åœ¨â€é‡æ–°ç»‘å®šâ€ä»¥å‰ä¸èƒ½ç§è‡ªè¢«æ”¹å˜ï¼Œè¿™æ ·å¯ä»¥ç¡®ä¿åœ¨æ¯ä¸€æ¬¡â€ç»‘å®šâ€ä¹‹åçš„åŒºåŸŸé‡Œç¼–è¯‘å™¨å¯ä»¥å……åˆ†çš„æ¨ç†ç¨‹åºé€»è¾‘ã€‚ è™½ç„¶ Rust æœ‰è‡ªåŠ¨åˆ¤æ–­ç±»å‹çš„åŠŸèƒ½ï¼Œä½†æœ‰äº›æƒ…å†µä¸‹å£°æ˜ç±»å‹æ›´åŠ æ–¹ä¾¿ï¼š</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">let</span> <span class="hljs-variable">a</span>: <span class="hljs-type">u64</span> = <span class="hljs-number">123</span>;<br></code></pre></td></tr></table></figure><p>è¿™é‡Œå£°æ˜äº† a ä¸ºæ— ç¬¦å· 64 ä½æ•´å‹å˜é‡ï¼Œå¦‚æœæ²¡æœ‰å£°æ˜ç±»å‹ï¼Œa å°†è‡ªåŠ¨è¢«åˆ¤æ–­ä¸ºæœ‰ç¬¦å· 32 ä½æ•´å‹å˜é‡ï¼Œè¿™å¯¹äº a çš„å–å€¼èŒƒå›´æœ‰å¾ˆå¤§çš„å½±å“ã€‚</p><blockquote><h3 id="é‡å½±"><a href="#é‡å½±" class="headerlink" title="é‡å½±"></a>é‡å½±</h3></blockquote><p>é‡å½±çš„æ¦‚å¿µä¸å…¶ä»–é¢å‘å¯¹è±¡è¯­è¨€é‡Œçš„â€é‡å†™â€ï¼ˆOverrideï¼‰æˆ–â€é‡è½½â€ï¼ˆOverloadï¼‰æ˜¯ä¸ä¸€æ ·çš„ã€‚é‡å½±å°±æ˜¯åˆšæ‰è®²è¿°çš„æ‰€è°“â€é‡æ–°ç»‘å®šâ€ï¼Œä¹‹æ‰€ä»¥åŠ å¼•å·å°±æ˜¯ä¸ºäº†åœ¨æ²¡æœ‰ä»‹ç»è¿™ä¸ªæ¦‚å¿µçš„æ—¶å€™ä»£æ›¿ä¸€ä¸‹æ¦‚å¿µã€‚</p><p>é‡å½±å°±æ˜¯æŒ‡å˜é‡çš„åç§°å¯ä»¥è¢«é‡æ–°ä½¿ç”¨çš„æœºåˆ¶ï¼š</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() &#123;<br>Â  Â  <span class="hljs-keyword">let</span> <span class="hljs-variable">x</span> = <span class="hljs-number">5</span>;<br>Â  Â  <span class="hljs-keyword">let</span> <span class="hljs-variable">x</span> = x + <span class="hljs-number">1</span>;<br>Â  Â  <span class="hljs-keyword">let</span> <span class="hljs-variable">x</span> = x * <span class="hljs-number">2</span>;<br>Â  Â  <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;The value of x is: &#123;&#125;&quot;</span>, x);<br>&#125;<br></code></pre></td></tr></table></figure><p>è¿™æ®µç¨‹åºçš„è¿è¡Œç»“æœï¼š</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs rust">The value of x is: <span class="hljs-number">12</span><br></code></pre></td></tr></table></figure><p>é‡å½±ä¸å¯å˜å˜é‡çš„èµ‹å€¼ä¸æ˜¯ä¸€ä¸ªæ¦‚å¿µï¼Œ<strong>é‡å½±æ˜¯æŒ‡ç”¨åŒä¸€ä¸ªåå­—é‡æ–°ä»£è¡¨å¦ä¸€ä¸ªå˜é‡å®ä½“ï¼Œå…¶ç±»å‹ã€å¯å˜å±æ€§å’Œå€¼éƒ½å¯ä»¥å˜åŒ–ã€‚ä½†å¯å˜å˜é‡èµ‹å€¼ä»…èƒ½å‘ç”Ÿå€¼çš„å˜åŒ–ã€‚</strong></p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">s</span> = <span class="hljs-string">&quot;123&quot;</span>;<br>s = s.<span class="hljs-title function_ invoke__">len</span>();<br></code></pre></td></tr></table></figure><p>è¿™æ®µç¨‹åºä¼šå‡ºé”™ï¼šä¸èƒ½ç»™å­—ç¬¦ä¸²å˜é‡èµ‹æ•´å‹å€¼ã€‚</p><h2 id="4-æ•°æ®ç±»å‹"><a href="#4-æ•°æ®ç±»å‹" class="headerlink" title="4.æ•°æ®ç±»å‹"></a>4.æ•°æ®ç±»å‹</h2><p>Rust è¯­è¨€ä¸­çš„åŸºç¡€æ•°æ®ç±»å‹æœ‰ä»¥ä¸‹å‡ ç§ã€‚</p><h3 id="4-1-æ•´æ•°å‹ï¼ˆIntegerï¼‰"><a href="#4-1-æ•´æ•°å‹ï¼ˆIntegerï¼‰" class="headerlink" title="4.1 æ•´æ•°å‹ï¼ˆIntegerï¼‰"></a>4.1 æ•´æ•°å‹ï¼ˆIntegerï¼‰</h3><p>æ•´æ•°å‹ç®€ç§°æ•´å‹ï¼ŒæŒ‰ç…§æ¯”ç‰¹ä½é•¿åº¦å’Œæœ‰æ— ç¬¦å·åˆ†ä¸ºä»¥ä¸‹ç§ç±»ï¼š</p><table><thead><tr><th>ä½é•¿åº¦</th><th>æœ‰ç¬¦å·</th><th>æ— ç¬¦å·</th></tr></thead><tbody><tr><td>8-bit</td><td>i8</td><td>u8</td></tr><tr><td>16-bit</td><td>i16</td><td>u16</td></tr><tr><td>32-bit</td><td>i32</td><td>u32</td></tr><tr><td>64-bit</td><td>i64</td><td>u64</td></tr><tr><td>128-bit</td><td>i128</td><td>u128</td></tr><tr><td>arch</td><td>isize</td><td>usize</td></tr></tbody></table><p>isize å’Œ usize ä¸¤ç§æ•´æ•°ç±»å‹æ˜¯ç”¨æ¥è¡¡é‡æ•°æ®å¤§å°çš„ï¼Œå®ƒä»¬çš„ä½é•¿åº¦å–å†³äºæ‰€è¿è¡Œçš„ç›®æ ‡å¹³å°ï¼Œå¦‚æœæ˜¯ 32 ä½æ¶æ„çš„å¤„ç†å™¨å°†ä½¿ç”¨ 32 ä½ä½é•¿åº¦æ•´å‹ã€‚</p><p>æ•´æ•°çš„è¡¨è¿°æ–¹æ³•æœ‰ä»¥ä¸‹å‡ ç§ï¼š</p><table><thead><tr><th>è¿›åˆ¶</th><th>ä¾‹</th></tr></thead><tbody><tr><td>åè¿›åˆ¶</td><td>98_222</td></tr><tr><td>åå…­è¿›åˆ¶</td><td>0xff</td></tr><tr><td>å…«è¿›åˆ¶</td><td>0o77</td></tr><tr><td>äºŒè¿›åˆ¶</td><td>0b1111_0000</td></tr><tr><td>å­—èŠ‚(åªèƒ½è¡¨ç¤º u8 å‹)</td><td>bâ€™Aâ€™</td></tr></tbody></table><p>å¾ˆæ˜¾ç„¶ï¼Œæœ‰çš„æ•´æ•°ä¸­é—´å­˜åœ¨ä¸€ä¸ª<strong>ä¸‹åˆ’çº¿</strong>ï¼Œè¿™ç§è®¾è®¡å¯ä»¥è®©äººä»¬åœ¨è¾“å…¥ä¸€ä¸ªå¾ˆå¤§çš„æ•°å­—æ—¶æ›´å®¹æ˜“åˆ¤æ–­æ•°å­—çš„å€¼å¤§æ¦‚æ˜¯å¤šå°‘ã€‚</p><h3 id="4-2-æµ®ç‚¹æ•°å‹ï¼ˆFloating-Pointï¼‰"><a href="#4-2-æµ®ç‚¹æ•°å‹ï¼ˆFloating-Pointï¼‰" class="headerlink" title="4.2 æµ®ç‚¹æ•°å‹ï¼ˆFloating-Pointï¼‰"></a>4.2 æµ®ç‚¹æ•°å‹ï¼ˆFloating-Pointï¼‰</h3><p>Rust ä¸å…¶å®ƒè¯­è¨€ä¸€æ ·æ”¯æŒ 32 ä½æµ®ç‚¹æ•°ï¼ˆf32ï¼‰å’Œ 64 ä½æµ®ç‚¹æ•°ï¼ˆf64ï¼‰ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œ64.0 å°†è¡¨ç¤º 64 ä½æµ®ç‚¹æ•°ï¼Œå› ä¸ºç°ä»£è®¡ç®—æœºå¤„ç†å™¨å¯¹ä¸¤ç§æµ®ç‚¹æ•°è®¡ç®—çš„é€Ÿåº¦å‡ ä¹ç›¸åŒï¼Œä½† 64 ä½æµ®ç‚¹æ•°ç²¾åº¦æ›´é«˜ã€‚</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() &#123;<br>Â  Â  <span class="hljs-keyword">let</span> <span class="hljs-variable">x</span> = <span class="hljs-number">2.0</span>; <span class="hljs-comment">// f64</span><br>Â  Â  <span class="hljs-keyword">let</span> <span class="hljs-variable">y</span>: <span class="hljs-type">f32</span> = <span class="hljs-number">3.0</span>; <span class="hljs-comment">// f32</span><br>&#125;<br></code></pre></td></tr></table></figure><h3 id="4-3-æ•°å­¦è¿ç®—"><a href="#4-3-æ•°å­¦è¿ç®—" class="headerlink" title="4.3 æ•°å­¦è¿ç®—"></a>4.3 æ•°å­¦è¿ç®—</h3><p>ç”¨ä¸€æ®µç¨‹åºåæ˜ æ•°å­¦è¿ç®—ï¼š</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() &#123; <br>Â  Â  <span class="hljs-keyword">let</span> <span class="hljs-variable">sum</span> = <span class="hljs-number">5</span> + <span class="hljs-number">10</span>; <span class="hljs-comment">// åŠ  </span><br>Â  Â  <span class="hljs-keyword">let</span> <span class="hljs-variable">difference</span> = <span class="hljs-number">95.5</span> - <span class="hljs-number">4.3</span>; <span class="hljs-comment">// å‡ </span><br>Â  Â  <span class="hljs-keyword">let</span> <span class="hljs-variable">product</span> = <span class="hljs-number">4</span> * <span class="hljs-number">30</span>; <span class="hljs-comment">// ä¹˜ </span><br>Â  Â  <span class="hljs-keyword">let</span> <span class="hljs-variable">quotient</span> = <span class="hljs-number">56.7</span> / <span class="hljs-number">32.2</span>; <span class="hljs-comment">// é™¤ </span><br>Â  Â  <span class="hljs-keyword">let</span> <span class="hljs-variable">remainder</span> = <span class="hljs-number">43</span> % <span class="hljs-number">5</span>; <span class="hljs-comment">// æ±‚ä½™</span><br>&#125;<br></code></pre></td></tr></table></figure><p>è®¸å¤šè¿ç®—ç¬¦å·ä¹‹ååŠ ä¸Š &#x3D; å·æ˜¯è‡ªè¿ç®—çš„æ„æ€ï¼Œä¾‹å¦‚ï¼š</p><p><strong>sum +&#x3D; 1</strong> ç­‰åŒäº <strong>sum &#x3D; sum + 1</strong>ã€‚</p><p><strong>æ³¨æ„ï¼š</strong>Rust ä¸æ”¯æŒ <strong>++</strong> å’Œ **â€“**ï¼Œå› ä¸ºè¿™ä¸¤ä¸ªè¿ç®—ç¬¦å‡ºç°åœ¨å˜é‡çš„å‰åä¼šå½±å“ä»£ç å¯è¯»æ€§ï¼Œå‡å¼±äº†å¼€å‘è€…å¯¹å˜é‡æ”¹å˜çš„æ„è¯†èƒ½åŠ›ã€‚</p><h3 id="4-4-å¸ƒå°”å‹"><a href="#4-4-å¸ƒå°”å‹" class="headerlink" title="4.4 å¸ƒå°”å‹"></a>4.4 å¸ƒå°”å‹</h3><p>å¸ƒå°”å‹ç”¨ bool è¡¨ç¤ºï¼Œå€¼åªèƒ½ä¸º true æˆ– falseã€‚</p><h3 id="4-5-å­—ç¬¦å‹"><a href="#4-5-å­—ç¬¦å‹" class="headerlink" title="4.5 å­—ç¬¦å‹"></a>4.5 å­—ç¬¦å‹</h3><p>å­—ç¬¦å‹ç”¨ char è¡¨ç¤ºã€‚</p><p>Rustçš„ char ç±»å‹å¤§å°ä¸º 4 ä¸ªå­—èŠ‚ï¼Œä»£è¡¨ Unicodeæ ‡é‡å€¼ï¼Œè¿™æ„å‘³ç€å®ƒå¯ä»¥æ”¯æŒä¸­æ–‡ï¼Œæ—¥æ–‡å’ŒéŸ©æ–‡å­—ç¬¦ç­‰éè‹±æ–‡å­—ç¬¦ç”šè‡³è¡¨æƒ…ç¬¦å·å’Œé›¶å®½åº¦ç©ºæ ¼åœ¨ Rust ä¸­éƒ½æ˜¯æœ‰æ•ˆçš„ char å€¼ã€‚</p><p>Unicode å€¼çš„èŒƒå›´ä» U+0000 åˆ° U+D7FF å’Œ U+E000 åˆ° U+10FFFF ï¼ˆåŒ…æ‹¬ä¸¤ç«¯ï¼‰ã€‚ ä½†æ˜¯ï¼Œâ€å­—ç¬¦â€è¿™ä¸ªæ¦‚å¿µå¹¶ä¸å­˜åœ¨äº Unicode ä¸­ï¼Œå› æ­¤æ‚¨å¯¹â€å­—ç¬¦â€æ˜¯ä»€ä¹ˆçš„ç›´è§‰å¯èƒ½ä¸Rustä¸­çš„å­—ç¬¦æ¦‚å¿µä¸åŒ¹é…ã€‚æ‰€ä»¥ä¸€èˆ¬æ¨èä½¿ç”¨å­—ç¬¦ä¸²å‚¨å­˜ UTF-8 æ–‡å­—ï¼ˆéè‹±æ–‡å­—ç¬¦å°½å¯èƒ½åœ°å‡ºç°åœ¨å­—ç¬¦ä¸²ä¸­ï¼‰ã€‚</p><p><strong>æ³¨æ„ï¼š</strong>ç”±äºä¸­æ–‡æ–‡å­—ç¼–ç æœ‰ä¸¤ç§ï¼ˆGBK å’Œ UTF-8ï¼‰ï¼Œæ‰€ä»¥ç¼–ç¨‹ä¸­ä½¿ç”¨ä¸­æ–‡å­—ç¬¦ä¸²æœ‰å¯èƒ½å¯¼è‡´ä¹±ç çš„å‡ºç°ï¼Œè¿™æ˜¯å› ä¸ºæºç¨‹åºä¸å‘½ä»¤è¡Œçš„æ–‡å­—ç¼–ç ä¸ä¸€è‡´ï¼Œæ‰€ä»¥<strong>åœ¨ Rust ä¸­å­—ç¬¦ä¸²å’Œå­—ç¬¦éƒ½å¿…é¡»ä½¿ç”¨ UTF-8 ç¼–ç </strong>ï¼Œå¦åˆ™ç¼–è¯‘å™¨ä¼šæŠ¥é”™ã€‚</p><h3 id="4-6-å¤åˆç±»å‹"><a href="#4-6-å¤åˆç±»å‹" class="headerlink" title="4.6 å¤åˆç±»å‹"></a>4.6 å¤åˆç±»å‹</h3><p><strong>å…ƒç»„</strong>æ˜¯ç”¨ä¸€å¯¹ <strong>( )</strong> åŒ…æ‹¬çš„ä¸€ç»„æ•°æ®ï¼Œå¯ä»¥åŒ…å«ä¸åŒç§ç±»çš„æ•°æ®ï¼š</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">let</span> <span class="hljs-variable">tup</span>: (<span class="hljs-type">i32</span>, <span class="hljs-type">f64</span>, <span class="hljs-type">u8</span>) = (<span class="hljs-number">500</span>, <span class="hljs-number">6.4</span>, <span class="hljs-number">1</span>);<br><span class="hljs-comment">// tup.0 ç­‰äº 500</span><br><span class="hljs-comment">// tup.1 ç­‰äº 6.4</span><br><span class="hljs-comment">// tup.2 ç­‰äº 1</span><br><span class="hljs-keyword">let</span> (x, y, z) = tup;<br><span class="hljs-comment">// y ç­‰äº 6.4</span><br></code></pre></td></tr></table></figure><p><strong>æ•°ç»„</strong>ç”¨ä¸€å¯¹ <strong>[ ]</strong> åŒ…æ‹¬çš„åŒç±»å‹æ•°æ®ã€‚</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">let</span> <span class="hljs-variable">a</span> = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];<br><span class="hljs-comment">// a æ˜¯ä¸€ä¸ªé•¿åº¦ä¸º 5 çš„æ•´å‹æ•°ç»„</span><br><br><span class="hljs-keyword">let</span> <span class="hljs-variable">b</span> = [<span class="hljs-string">&quot;January&quot;</span>, <span class="hljs-string">&quot;February&quot;</span>, <span class="hljs-string">&quot;March&quot;</span>];<br><span class="hljs-comment">// b æ˜¯ä¸€ä¸ªé•¿åº¦ä¸º 3 çš„å­—ç¬¦ä¸²æ•°ç»„</span><br><br><span class="hljs-keyword">let</span>Â <span class="hljs-variable">c</span>:Â [<span class="hljs-type">i32</span>;Â <span class="hljs-number">5</span>]Â =Â [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];<br><span class="hljs-comment">// c æ˜¯ä¸€ä¸ªé•¿åº¦ä¸º 5 çš„ i32 æ•°ç»„</span><br><br><span class="hljs-keyword">let</span> <span class="hljs-variable">d</span> = [<span class="hljs-number">3</span>; <span class="hljs-number">5</span>];<br><span class="hljs-comment">// ç­‰åŒäº let d = [3, 3, 3, 3, 3];</span><br><br><span class="hljs-keyword">let</span> <span class="hljs-variable">first</span> = a[<span class="hljs-number">0</span>];<br><span class="hljs-keyword">let</span> <span class="hljs-variable">second</span> = a[<span class="hljs-number">1</span>];<br><span class="hljs-comment">// æ•°ç»„è®¿é—®</span><br><br>a[<span class="hljs-number">0</span>] = <span class="hljs-number">123</span>; <span class="hljs-comment">// é”™è¯¯ï¼šæ•°ç»„ a ä¸å¯å˜</span><br><span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">a</span> = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];<br>a[<span class="hljs-number">0</span>] = <span class="hljs-number">4</span>; <span class="hljs-comment">// æ­£ç¡®</span><br></code></pre></td></tr></table></figure><h2 id="5-æ³¨é‡Š"><a href="#5-æ³¨é‡Š" class="headerlink" title="5.æ³¨é‡Š"></a>5.æ³¨é‡Š</h2><p>Rust ä¸­çš„æ³¨é‡Šæ–¹å¼ä¸å…¶å®ƒè¯­è¨€ï¼ˆCã€Javaï¼‰ä¸€æ ·ï¼Œæ”¯æŒä¸¤ç§æ³¨é‡Šæ–¹å¼ï¼š</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-comment">// è¿™æ˜¯ç¬¬ä¸€ç§æ³¨é‡Šæ–¹å¼</span><br><br><span class="hljs-comment">/* è¿™æ˜¯ç¬¬äºŒç§æ³¨é‡Šæ–¹å¼ */</span> <br><br><span class="hljs-comment">/* </span><br><span class="hljs-comment">Â * å¤šè¡Œæ³¨é‡Š</span><br><span class="hljs-comment">Â * å¤šè¡Œæ³¨é‡Š</span><br><span class="hljs-comment">Â * å¤šè¡Œæ³¨é‡Š</span><br><span class="hljs-comment">Â */</span><br></code></pre></td></tr></table></figure><h3 id="5-1-ç”¨äºè¯´æ˜æ–‡æ¡£çš„æ³¨é‡Š"><a href="#5-1-ç”¨äºè¯´æ˜æ–‡æ¡£çš„æ³¨é‡Š" class="headerlink" title="5.1 ç”¨äºè¯´æ˜æ–‡æ¡£çš„æ³¨é‡Š"></a>5.1 ç”¨äºè¯´æ˜æ–‡æ¡£çš„æ³¨é‡Š</h3><p>åœ¨ Rust ä¸­ä½¿ç”¨ <strong>&#x2F;&#x2F;</strong> å¯ä»¥ä½¿å…¶ä¹‹ååˆ°ç¬¬ä¸€ä¸ªæ¢è¡Œç¬¦çš„å†…å®¹å˜æˆæ³¨é‡Šã€‚</p><p>åœ¨è¿™ç§è§„åˆ™ä¸‹ï¼Œä¸‰ä¸ªæ­£æ–œæ  <strong>&#x2F;&#x2F;&#x2F;</strong> ä¾ç„¶æ˜¯åˆæ³•çš„æ³¨é‡Šå¼€å§‹ã€‚æ‰€ä»¥ Rust å¯ä»¥ç”¨ <strong>&#x2F;&#x2F;&#x2F;</strong> ä½œä¸ºè¯´æ˜æ–‡æ¡£æ³¨é‡Šçš„å¼€å¤´ï¼š</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-comment">///â€¯Addsâ€¯oneâ€¯toâ€¯theâ€¯numberâ€¯given. </span><br><span class="hljs-comment">/// </span><br><span class="hljs-comment">///â€¯#â€¯Examples </span><br><span class="hljs-comment">/// </span><br><span class="hljs-comment">///â€¯``` </span><br><span class="hljs-comment">///â€¯let x = add(1, 2); </span><br><span class="hljs-comment">/// </span><br><span class="hljs-comment">///â€¯``` </span><br><br><span class="hljs-keyword">fn</span> <span class="hljs-title function_">add</span>(a: <span class="hljs-type">i32</span>, b: <span class="hljs-type">i32</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">i32</span> &#123; <br>Â  Â  <span class="hljs-keyword">return</span> a + b; <br>&#125; <br>Â  Â  <br><span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() &#123; <br>Â  Â  <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;&#123;&#125;&quot;</span>,<span class="hljs-title function_ invoke__">add</span>(<span class="hljs-number">2</span>,<span class="hljs-number">3</span>)); <br>&#125;<br></code></pre></td></tr></table></figure><p>ç¨‹åºä¸­çš„å‡½æ•° add å°±ä¼šæ‹¥æœ‰ä¸€æ®µä¼˜é›…çš„æ³¨é‡Šï¼Œå¹¶å¯ä»¥æ˜¾ç¤ºï¼š</p><p><img src="/2024/01/18/%E7%AE%97%E6%B3%95/rust/rust%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/2.png"></p><h2 id="6-å‡½æ•°"><a href="#6-å‡½æ•°" class="headerlink" title="6.å‡½æ•°"></a>6.å‡½æ•°</h2><p>å‡½æ•°åœ¨ Rust è¯­è¨€ä¸­æ˜¯æ™®éå­˜åœ¨çš„ã€‚</p><p>é€šè¿‡ä¹‹å‰çš„ç« èŠ‚å·²ç»å¯ä»¥äº†è§£åˆ° Rust å‡½æ•°çš„åŸºæœ¬å½¢å¼ï¼š</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">fn</span> &lt;å‡½æ•°å&gt; ( &lt;å‚æ•°&gt; ) &lt;å‡½æ•°ä½“&gt;<br></code></pre></td></tr></table></figure><p>å…¶ä¸­ Rust å‡½æ•°åç§°çš„å‘½åé£æ ¼æ˜¯<strong>å°å†™å­—æ¯ä»¥ä¸‹åˆ’çº¿åˆ†å‰²</strong>ï¼š</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() &#123;<br>Â  Â  <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;Hello, world!&quot;</span>);<br>Â  Â  <span class="hljs-title function_ invoke__">another_function</span>();<br>&#125;<br><br><span class="hljs-keyword">fn</span> <span class="hljs-title function_">another_function</span>() &#123;<br>Â  Â  <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;Hello, runoob!&quot;</span>);<br>&#125;<br></code></pre></td></tr></table></figure><p>è¿è¡Œç»“æœï¼š</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs rust">Hello, world!<br>Hello, runoob!<br></code></pre></td></tr></table></figure><p>æ³¨æ„ï¼Œæˆ‘ä»¬åœ¨æºä»£ç ä¸­çš„ main å‡½æ•°ä¹‹åå®šä¹‰äº†another_functionã€‚ Rust<strong>ä¸åœ¨ä¹æ‚¨åœ¨ä½•å¤„å®šä¹‰å‡½æ•°</strong>ï¼Œåªéœ€åœ¨æŸä¸ªåœ°æ–¹å®šä¹‰å®ƒä»¬å³å¯ã€‚</p><h3 id="6-1-å‡½æ•°å‚æ•°"><a href="#6-1-å‡½æ•°å‚æ•°" class="headerlink" title="6.1 å‡½æ•°å‚æ•°"></a>6.1 å‡½æ•°å‚æ•°</h3><p>Rust ä¸­å®šä¹‰å‡½æ•°å¦‚æœéœ€è¦å…·å¤‡å‚æ•°å¿…é¡»å£°æ˜å‚æ•°åç§°å’Œç±»å‹ï¼š</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() &#123;<br>Â  Â  <span class="hljs-title function_ invoke__">another_function</span>(<span class="hljs-number">5</span>, <span class="hljs-number">6</span>);<br>&#125;<br><br><span class="hljs-keyword">fn</span> <span class="hljs-title function_">another_function</span>(x: <span class="hljs-type">i32</span>, y: <span class="hljs-type">i32</span>) &#123;<br>Â  Â  <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;x çš„å€¼ä¸º : &#123;&#125;&quot;</span>, x);<br>Â  Â  <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;y çš„å€¼ä¸º : &#123;&#125;&quot;</span>, y);<br>&#125;<br></code></pre></td></tr></table></figure><p>è¿è¡Œç»“æœï¼š</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs rust">x çš„å€¼ä¸º : <span class="hljs-number">5</span><br>y çš„å€¼ä¸º : <span class="hljs-number">6</span><br></code></pre></td></tr></table></figure><h3 id="6-2-å‡½æ•°ä½“çš„è¯­å¥å’Œè¡¨è¾¾å¼"><a href="#6-2-å‡½æ•°ä½“çš„è¯­å¥å’Œè¡¨è¾¾å¼" class="headerlink" title="6.2 å‡½æ•°ä½“çš„è¯­å¥å’Œè¡¨è¾¾å¼"></a>6.2 å‡½æ•°ä½“çš„è¯­å¥å’Œè¡¨è¾¾å¼</h3><p>Rust å‡½æ•°ä½“ç”±ä¸€ç³»åˆ—å¯ä»¥ä»¥è¡¨è¾¾å¼ï¼ˆExpressionï¼‰ç»“å°¾çš„è¯­å¥ï¼ˆStatementï¼‰ç»„æˆã€‚åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬ä»…è§åˆ°äº†æ²¡æœ‰ä»¥è¡¨è¾¾å¼ç»“å°¾çš„å‡½æ•°ï¼Œä½†å·²ç»å°†è¡¨è¾¾å¼ç”¨ä½œè¯­å¥çš„ä¸€éƒ¨åˆ†ã€‚</p><p>è¯­å¥æ˜¯æ‰§è¡ŒæŸäº›æ“ä½œä¸”æ²¡æœ‰è¿”å›å€¼çš„æ­¥éª¤ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">let</span> <span class="hljs-variable">a</span> = <span class="hljs-number">6</span>;<br></code></pre></td></tr></table></figure><p>è¿™ä¸ªæ­¥éª¤æ²¡æœ‰è¿”å›å€¼ï¼Œæ‰€ä»¥ä»¥ä¸‹è¯­å¥ä¸æ­£ç¡®ï¼š</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">let</span> <span class="hljs-variable">a</span> = (<span class="hljs-keyword">let</span> <span class="hljs-variable">b</span> = <span class="hljs-number">2</span>);<br></code></pre></td></tr></table></figure><p>è¡¨è¾¾å¼æœ‰è®¡ç®—æ­¥éª¤ä¸”æœ‰è¿”å›å€¼ã€‚ä»¥ä¸‹æ˜¯è¡¨è¾¾å¼ï¼ˆå‡è®¾å‡ºç°çš„æ ‡è¯†ç¬¦å·²ç»è¢«å®šä¹‰ï¼‰ï¼š</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs rust">a = <span class="hljs-number">7</span><br>b + <span class="hljs-number">2</span><br>c * (a + b)<br></code></pre></td></tr></table></figure><p>Rust ä¸­å¯ä»¥åœ¨ä¸€ä¸ªç”¨ <strong>{}</strong> åŒ…æ‹¬çš„å—é‡Œç¼–å†™ä¸€ä¸ªè¾ƒä¸ºå¤æ‚çš„è¡¨è¾¾å¼ï¼š</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() &#123;<br>Â  Â  <span class="hljs-keyword">let</span> <span class="hljs-variable">x</span> = <span class="hljs-number">5</span>;<br><br>Â  Â  <span class="hljs-keyword">let</span> <span class="hljs-variable">y</span> = &#123;<br>Â  Â  Â  Â  <span class="hljs-keyword">let</span> <span class="hljs-variable">x</span> = <span class="hljs-number">3</span>;<br>Â  Â  Â  Â  x + <span class="hljs-number">1</span><br>Â  Â  &#125;;<br><br>Â  Â  <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;x çš„å€¼ä¸º : &#123;&#125;&quot;</span>, x);<br>Â  Â  <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;y çš„å€¼ä¸º : &#123;&#125;&quot;</span>, y);<br>&#125;<br></code></pre></td></tr></table></figure><p>è¿è¡Œç»“æœï¼š</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs rust">x çš„å€¼ä¸º : <span class="hljs-number">5</span><br>y çš„å€¼ä¸º : <span class="hljs-number">4</span><br></code></pre></td></tr></table></figure><p>å¾ˆæ˜¾ç„¶ï¼Œè¿™æ®µç¨‹åºä¸­åŒ…å«äº†ä¸€ä¸ªè¡¨è¾¾å¼å—ï¼š</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs rust">&#123;<br>    <span class="hljs-keyword">let</span> <span class="hljs-variable">x</span> = <span class="hljs-number">3</span>;<br>    x + <span class="hljs-number">1</span><br>&#125;;<br></code></pre></td></tr></table></figure><p>è€Œä¸”åœ¨å—ä¸­å¯ä»¥ä½¿ç”¨å‡½æ•°è¯­å¥ï¼Œæœ€åä¸€ä¸ªæ­¥éª¤æ˜¯è¡¨è¾¾å¼ï¼Œæ­¤è¡¨è¾¾å¼çš„ç»“æœå€¼æ˜¯æ•´ä¸ªè¡¨è¾¾å¼å—æ‰€ä»£è¡¨çš„å€¼ã€‚è¿™ç§è¡¨è¾¾å¼å—å«åšå‡½æ•°ä½“è¡¨è¾¾å¼ã€‚</p><p>æ³¨æ„ï¼š<strong>x + 1</strong> ä¹‹åæ²¡æœ‰åˆ†å·ï¼Œå¦åˆ™å®ƒå°†å˜æˆä¸€æ¡è¯­å¥ï¼</p><p>è¿™ç§è¡¨è¾¾å¼å—æ˜¯ä¸€ä¸ªåˆæ³•çš„å‡½æ•°ä½“ã€‚è€Œä¸”åœ¨ Rust ä¸­ï¼Œå‡½æ•°å®šä¹‰å¯ä»¥åµŒå¥—ï¼š</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() &#123;<br>Â  Â  <span class="hljs-keyword">fn</span> <span class="hljs-title function_">five</span>() <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">i32</span> &#123;<br>Â  Â  Â  Â  <span class="hljs-number">5</span><br>Â  Â  &#125;<br>Â  Â  <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;five() çš„å€¼ä¸º: &#123;&#125;&quot;</span>, <span class="hljs-title function_ invoke__">five</span>());<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="6-3-å‡½æ•°è¿”å›å€¼"><a href="#6-3-å‡½æ•°è¿”å›å€¼" class="headerlink" title="6.3 å‡½æ•°è¿”å›å€¼"></a>6.3 å‡½æ•°è¿”å›å€¼</h3><p>åœ¨ä¸Šä¸€ä¸ªåµŒå¥—çš„ä¾‹å­ä¸­å·²ç»æ˜¾ç¤ºäº† Rust å‡½æ•°å£°æ˜è¿”å›å€¼ç±»å‹çš„æ–¹å¼ï¼šåœ¨å‚æ•°å£°æ˜ä¹‹åç”¨ <strong>-&gt;</strong> æ¥å£°æ˜å‡½æ•°è¿”å›å€¼çš„ç±»å‹ï¼ˆä¸æ˜¯ <strong>:</strong> ï¼‰ã€‚</p><p>åœ¨å‡½æ•°ä½“ä¸­ï¼Œéšæ—¶éƒ½å¯ä»¥ä»¥ return å…³é”®å­—ç»“æŸå‡½æ•°è¿è¡Œå¹¶è¿”å›ä¸€ä¸ªç±»å‹åˆé€‚çš„å€¼ã€‚è¿™ä¹Ÿæ˜¯æœ€æ¥è¿‘å¤§å¤šæ•°å¼€å‘è€…ç»éªŒçš„åšæ³•ï¼š</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">add</span>(a: <span class="hljs-type">i32</span>, b: <span class="hljs-type">i32</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">i32</span> &#123;<br>Â  Â  <span class="hljs-keyword">return</span> a + b;<br>&#125;<br></code></pre></td></tr></table></figure><p>ä½†æ˜¯ Rust ä¸æ”¯æŒè‡ªåŠ¨è¿”å›å€¼ç±»å‹åˆ¤æ–­ï¼å¦‚æœæ²¡æœ‰æ˜ç¡®å£°æ˜å‡½æ•°è¿”å›å€¼çš„ç±»å‹ï¼Œå‡½æ•°å°†è¢«è®¤ä¸ºæ˜¯â€çº¯è¿‡ç¨‹â€ï¼Œä¸å…è®¸äº§ç”Ÿè¿”å›å€¼ï¼Œreturn åé¢ä¸èƒ½æœ‰è¿”å›å€¼è¡¨è¾¾å¼ã€‚è¿™æ ·åšçš„ç›®çš„æ˜¯ä¸ºäº†è®©å…¬å¼€çš„å‡½æ•°èƒ½å¤Ÿå½¢æˆå¯è§çš„å…¬æŠ¥ã€‚</p><p><strong>æ³¨æ„ï¼š</strong>å‡½æ•°ä½“è¡¨è¾¾å¼å¹¶ä¸èƒ½ç­‰åŒäºå‡½æ•°ä½“ï¼Œå®ƒä¸èƒ½ä½¿ç”¨ <strong>return</strong> <strong>å…³é”®å­—ã€‚</strong></p><h2 id="7-æ¡ä»¶è¯­å¥"><a href="#7-æ¡ä»¶è¯­å¥" class="headerlink" title="7.æ¡ä»¶è¯­å¥"></a>7.æ¡ä»¶è¯­å¥</h2><p>åœ¨ Rust è¯­è¨€ä¸­çš„æ¡ä»¶è¯­å¥æ˜¯è¿™ç§æ ¼å¼çš„ï¼š</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() &#123;<br>Â  Â  <span class="hljs-keyword">let</span> <span class="hljs-variable">number</span> = <span class="hljs-number">3</span>; <br>Â  Â  <span class="hljs-keyword">if</span> number &lt; <span class="hljs-number">5</span> &#123; <br>Â  Â  Â  Â  <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;æ¡ä»¶ä¸º true&quot;</span>); <br>Â  Â  &#125; <span class="hljs-keyword">else</span> &#123; <br>Â  Â  Â  Â  <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;æ¡ä»¶ä¸º false&quot;</span>); <br>Â  Â  &#125; <br>&#125;<br></code></pre></td></tr></table></figure><p>åœ¨ä¸Šè¿°ç¨‹åºä¸­æœ‰æ¡ä»¶ if è¯­å¥ï¼Œè¿™ä¸ªè¯­æ³•åœ¨å¾ˆå¤šå…¶å®ƒè¯­è¨€ä¸­å¾ˆå¸¸è§ï¼Œä½†ä¹Ÿæœ‰ä¸€äº›åŒºåˆ«ï¼šé¦–å…ˆï¼Œæ¡ä»¶è¡¨è¾¾å¼ number &lt; 5 ä¸éœ€è¦ç”¨å°æ‹¬å·åŒ…æ‹¬ï¼ˆæ³¨æ„ï¼Œä¸éœ€è¦ä¸æ˜¯ä¸å…è®¸ï¼‰ï¼›ä½†æ˜¯ Rust ä¸­çš„ if <strong>ä¸å­˜åœ¨å•è¯­å¥ä¸ç”¨åŠ  {} çš„è§„åˆ™</strong>ï¼Œ<strong>ä¸å…è®¸ä½¿ç”¨ä¸€ä¸ªè¯­å¥ä»£æ›¿ä¸€ä¸ªå—</strong>ã€‚å°½ç®¡å¦‚æ­¤ï¼ŒRust è¿˜æ˜¯æ”¯æŒä¼ ç»Ÿ else-if è¯­æ³•çš„ï¼š</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() &#123; <br>Â  Â  <span class="hljs-keyword">let</span> <span class="hljs-variable">a</span> = <span class="hljs-number">12</span>; <br>Â  Â  <span class="hljs-keyword">let</span> <span class="hljs-variable">b</span>; <br>Â  Â  <span class="hljs-keyword">if</span> a &gt; <span class="hljs-number">0</span> &#123; <br>Â  Â  Â  Â  b = <span class="hljs-number">1</span>; <br>Â  Â  &#125; Â <br>Â  Â  <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> a &lt; <span class="hljs-number">0</span> &#123; <br>Â  Â  Â  Â  b = -<span class="hljs-number">1</span>; <br>Â  Â  &#125; Â <br>Â  Â  <span class="hljs-keyword">else</span> &#123; <br>Â  Â  Â  Â  b = <span class="hljs-number">0</span>; <br>Â  Â  &#125; <br>Â  Â  <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;b is &#123;&#125;&quot;</span>, b); <br>&#125;<br></code></pre></td></tr></table></figure><p>è¿è¡Œç»“æœï¼š</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs rust">b ä¸º <span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><p>Rust ä¸­çš„æ¡ä»¶è¡¨è¾¾å¼å¿…é¡»æ˜¯ bool ç±»å‹ï¼Œä¾‹å¦‚ä¸‹é¢çš„ç¨‹åºæ˜¯é”™è¯¯çš„ï¼š</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() &#123; <br>Â  Â  <span class="hljs-keyword">let</span> <span class="hljs-variable">number</span> = <span class="hljs-number">3</span>; <br>Â  Â  <span class="hljs-keyword">if</span> number &#123; Â  <span class="hljs-comment">// æŠ¥é”™ï¼Œexpected `bool`, found integerrustc(E0308)</span><br>Â  Â  Â  Â  <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;Yes&quot;</span>);<br>Â  Â  &#125; <br>&#125;<br></code></pre></td></tr></table></figure><p>è™½ç„¶ C&#x2F;C++ è¯­è¨€ä¸­çš„æ¡ä»¶è¡¨è¾¾å¼ç”¨æ•´æ•°è¡¨ç¤ºï¼Œé 0 å³çœŸï¼Œä½†è¿™ä¸ªè§„åˆ™åœ¨å¾ˆå¤šæ³¨é‡ä»£ç å®‰å…¨æ€§çš„è¯­è¨€ä¸­æ˜¯è¢«ç¦æ­¢çš„ã€‚</p><p>ç»“åˆä¹‹å‰ç« å­¦ä¹ çš„å‡½æ•°ä½“è¡¨è¾¾å¼æˆ‘ä»¬åŠ ä»¥è”æƒ³ï¼š</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">if</span> &lt;condition&gt; &#123; block <span class="hljs-number">1</span> &#125; <span class="hljs-keyword">else</span> &#123; block <span class="hljs-number">2</span> &#125; <br></code></pre></td></tr></table></figure><p>è¿™ç§è¯­æ³•ä¸­çš„ <strong>{ block 1 }</strong> å’Œ <strong>{ block 2 }</strong> å¯ä¸å¯ä»¥æ˜¯å‡½æ•°ä½“è¡¨è¾¾å¼å‘¢ï¼Ÿ</p><p>ç­”æ¡ˆæ˜¯è‚¯å®šçš„ï¼ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨ Rust ä¸­æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ if-else ç»“æ„å®ç°ç±»ä¼¼äºä¸‰å…ƒæ¡ä»¶è¿ç®—è¡¨è¾¾å¼ <strong>(A ? B : C)</strong> çš„æ•ˆæœï¼š</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() &#123; <br>Â  Â  <span class="hljs-keyword">let</span> <span class="hljs-variable">a</span> = <span class="hljs-number">3</span>; <br>Â  Â  <span class="hljs-keyword">let</span> <span class="hljs-variable">number</span> = <span class="hljs-keyword">if</span> a &gt; <span class="hljs-number">0</span> &#123; <span class="hljs-number">1</span> &#125; <span class="hljs-keyword">else</span> &#123; -<span class="hljs-number">1</span> &#125;; <br>Â  Â  <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;number ä¸º &#123;&#125;&quot;</span>, number); <br>&#125;<br></code></pre></td></tr></table></figure><p>è¿è¡Œç»“æœï¼š</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs rust">number ä¸º <span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><p><strong>æ³¨æ„</strong>ï¼šä¸¤ä¸ªå‡½æ•°ä½“è¡¨è¾¾å¼çš„<strong>ç±»å‹å¿…é¡»ä¸€æ ·</strong>ï¼ä¸”å¿…é¡»æœ‰ä¸€ä¸ª else åŠå…¶åçš„è¡¨è¾¾å¼å—ã€‚</p><h2 id="8-å¾ªç¯"><a href="#8-å¾ªç¯" class="headerlink" title="8.å¾ªç¯"></a>8.å¾ªç¯</h2><h3 id="8-1-while-å¾ªç¯"><a href="#8-1-while-å¾ªç¯" class="headerlink" title="8.1 while å¾ªç¯"></a>8.1 while å¾ªç¯</h3><p>while å¾ªç¯æ˜¯æœ€å…¸å‹çš„æ¡ä»¶è¯­å¥å¾ªç¯ï¼š</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() &#123;<br>Â  Â  <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">number</span> = <span class="hljs-number">1</span>; <br>Â  Â  <span class="hljs-keyword">while</span> number != <span class="hljs-number">4</span> &#123; <br>Â  Â  Â  Â  <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;&#123;&#125;&quot;</span>, number); <br>Â  Â  Â  Â  number += <span class="hljs-number">1</span>; <br>Â  Â  &#125; <br>Â  Â  <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;EXIT&quot;</span>); <br>&#125;<br></code></pre></td></tr></table></figure><p>è¿è¡Œç»“æœï¼š</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-number">1</span><br><span class="hljs-number">2</span><br><span class="hljs-number">3</span><br>EXIT<br></code></pre></td></tr></table></figure><p>Rust è¯­è¨€åˆ°æ­¤æ•™ç¨‹ç¼–æ’°ä¹‹æ—¥è¿˜æ²¡æœ‰ do-while çš„ç”¨æ³•ï¼Œä½†æ˜¯ do è¢«è§„å®šä¸ºä¿ç•™å­—ï¼Œä¹Ÿè®¸ä»¥åçš„ç‰ˆæœ¬ä¸­ä¼šç”¨åˆ°ã€‚</p><p>åœ¨ C è¯­è¨€ä¸­ for å¾ªç¯ä½¿ç”¨ä¸‰å…ƒè¯­å¥æ§åˆ¶å¾ªç¯ï¼Œä½†æ˜¯ Rust ä¸­æ²¡æœ‰è¿™ç§ç”¨æ³•ï¼Œéœ€è¦ç”¨ while å¾ªç¯æ¥ä»£æ›¿ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> i; <br><span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) &#123; <br>Â  Â  <span class="hljs-comment">// å¾ªç¯ä½“</span><br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">i</span> = <span class="hljs-number">0</span>; <br><span class="hljs-keyword">while</span> i &lt; <span class="hljs-number">10</span> &#123; <br>Â  Â  <span class="hljs-comment">// å¾ªç¯ä½“ </span><br>Â  Â  i += <span class="hljs-number">1</span>; <br>&#125;<br></code></pre></td></tr></table></figure><h3 id="8-2-for-å¾ªç¯"><a href="#8-2-for-å¾ªç¯" class="headerlink" title="8.2 for å¾ªç¯"></a>8.2 for å¾ªç¯</h3><p>for å¾ªç¯æ˜¯æœ€å¸¸ç”¨çš„å¾ªç¯ç»“æ„ï¼Œå¸¸ç”¨æ¥éå†ä¸€ä¸ªçº¿æ€§æ•°æ®ç»“æ„ï¼ˆæ¯”å¦‚æ•°ç»„ï¼‰ã€‚for å¾ªç¯éå†æ•°ç»„ï¼š</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() &#123; <br>Â  Â  <span class="hljs-keyword">let</span> <span class="hljs-variable">a</span> = [<span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">30</span>, <span class="hljs-number">40</span>, <span class="hljs-number">50</span>]; <br>Â  Â  <span class="hljs-keyword">for</span> <span class="hljs-variable">i</span> <span class="hljs-keyword">in</span> a.<span class="hljs-title function_ invoke__">iter</span>() &#123; <br>Â  Â  Â  Â  <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;å€¼ä¸º : &#123;&#125;&quot;</span>, i); <br>Â  Â  &#125; <br>&#125;<br></code></pre></td></tr></table></figure><p>è¿è¡Œç»“æœï¼š</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs rust">å€¼ä¸º : <span class="hljs-number">10</span><br>å€¼ä¸º : <span class="hljs-number">20</span><br>å€¼ä¸º : <span class="hljs-number">30</span><br>å€¼ä¸º : <span class="hljs-number">40</span><br>å€¼ä¸º : <span class="hljs-number">50</span><br></code></pre></td></tr></table></figure><p>è¿™ä¸ªç¨‹åºä¸­çš„ for å¾ªç¯å®Œæˆäº†å¯¹æ•°ç»„ a çš„éå†ã€‚a.iter() ä»£è¡¨ a çš„è¿­ä»£å™¨ï¼ˆiteratorï¼‰ï¼Œåœ¨å­¦ä¹ æœ‰å…³äºå¯¹è±¡çš„ç« èŠ‚ä»¥å‰ä¸åšèµ˜è¿°ã€‚</p><p>å½“ç„¶ï¼Œfor å¾ªç¯å…¶å®æ˜¯å¯ä»¥é€šè¿‡ä¸‹æ ‡æ¥è®¿é—®æ•°ç»„çš„ï¼š</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() &#123; <br><span class="hljs-keyword">let</span> <span class="hljs-variable">a</span> = [<span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">30</span>, <span class="hljs-number">40</span>, <span class="hljs-number">50</span>]; <br>Â  Â  <span class="hljs-keyword">for</span> <span class="hljs-variable">i</span> <span class="hljs-keyword">in</span> <span class="hljs-number">0</span>..<span class="hljs-number">5</span> &#123; <br>Â  Â  Â  Â  <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;a[&#123;&#125;] = &#123;&#125;&quot;</span>, i, a[i]); <br>Â  Â  &#125; <br>&#125;<br></code></pre></td></tr></table></figure><p>è¿è¡Œç»“æœï¼š</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs rust">a[<span class="hljs-number">0</span>] = <span class="hljs-number">10</span><br>a[<span class="hljs-number">1</span>] = <span class="hljs-number">20</span><br>a[<span class="hljs-number">2</span>] = <span class="hljs-number">30</span><br>a[<span class="hljs-number">3</span>] = <span class="hljs-number">40</span><br>a[<span class="hljs-number">4</span>] = <span class="hljs-number">50</span><br></code></pre></td></tr></table></figure><h3 id="8-3-loop-å¾ªç¯"><a href="#8-3-loop-å¾ªç¯" class="headerlink" title="8.3 loop å¾ªç¯"></a>8.3 loop å¾ªç¯</h3><p>èº«ç»ç™¾æˆ˜çš„å¼€å‘è€…ä¸€å®šé‡åˆ°è¿‡å‡ æ¬¡è¿™æ ·çš„æƒ…å†µï¼šæŸä¸ªå¾ªç¯æ— æ³•åœ¨å¼€å¤´å’Œç»“å°¾åˆ¤æ–­æ˜¯å¦ç»§ç»­è¿›è¡Œå¾ªç¯ï¼Œå¿…é¡»åœ¨å¾ªç¯ä½“ä¸­é—´æŸå¤„æ§åˆ¶å¾ªç¯çš„è¿›è¡Œã€‚å¦‚æœé‡åˆ°è¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬ç»å¸¸ä¼šåœ¨ä¸€ä¸ª while (true) å¾ªç¯ä½“é‡Œå®ç°ä¸­é€”é€€å‡ºå¾ªç¯çš„æ“ä½œã€‚</p><p>Rust è¯­è¨€æœ‰åŸç”Ÿçš„æ— é™å¾ªç¯ç»“æ„ â€”â€” loopï¼š</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() &#123; <br>Â  Â  <span class="hljs-keyword">let</span> <span class="hljs-variable">s</span> = [<span class="hljs-string">&#x27;R&#x27;</span>, <span class="hljs-string">&#x27;U&#x27;</span>, <span class="hljs-string">&#x27;N&#x27;</span>, <span class="hljs-string">&#x27;O&#x27;</span>, <span class="hljs-string">&#x27;O&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>]; <br>Â  Â  <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">i</span> = <span class="hljs-number">0</span>; <br>Â  Â  <span class="hljs-keyword">loop</span> &#123; <br>Â  Â  Â  Â  <span class="hljs-keyword">let</span> <span class="hljs-variable">ch</span> = s[i]; <br>Â  Â  Â  Â  <span class="hljs-keyword">if</span> ch == <span class="hljs-string">&#x27;O&#x27;</span> &#123; <br>Â  Â  Â  Â  Â  Â  <span class="hljs-keyword">break</span>; <br>Â  Â  Â  Â  &#125; <br>Â  Â  Â  Â  <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot;\&#x27;&#123;&#125;\&#x27;&quot;</span>, ch);<br>Â  Â  Â  Â  i += <span class="hljs-number">1</span>; <br>Â  Â  &#125; <br>&#125;<br></code></pre></td></tr></table></figure><p>è¿è¡Œç»“æœï¼š</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-string">&#x27;R&#x27;</span> <br><span class="hljs-string">&#x27;U&#x27;</span> <br><span class="hljs-string">&#x27;N&#x27;</span> <br></code></pre></td></tr></table></figure><p>loop å¾ªç¯å¯ä»¥é€šè¿‡ break å…³é”®å­—ç±»ä¼¼äº return ä¸€æ ·ä½¿æ•´ä¸ªå¾ªç¯é€€å‡ºå¹¶ç»™äºˆå¤–éƒ¨ä¸€ä¸ªè¿”å›å€¼ã€‚è¿™æ˜¯ä¸€ä¸ªååˆ†å·§å¦™çš„è®¾è®¡ï¼Œå› ä¸º loop è¿™æ ·çš„å¾ªç¯å¸¸è¢«ç”¨æ¥å½“ä½œæŸ¥æ‰¾å·¥å…·ä½¿ç”¨ï¼Œå¦‚æœæ‰¾åˆ°äº†æŸä¸ªä¸œè¥¿å½“ç„¶è¦å°†è¿™ä¸ªç»“æœäº¤å‡ºå»ï¼š</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() &#123; <br>Â  Â  <span class="hljs-keyword">let</span> <span class="hljs-variable">s</span> = [<span class="hljs-string">&#x27;R&#x27;</span>, <span class="hljs-string">&#x27;U&#x27;</span>, <span class="hljs-string">&#x27;N&#x27;</span>, <span class="hljs-string">&#x27;O&#x27;</span>, <span class="hljs-string">&#x27;O&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>]; <br>Â  Â  <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">i</span> = <span class="hljs-number">0</span>; <br>Â  Â  <span class="hljs-keyword">let</span> <span class="hljs-variable">location</span> = <span class="hljs-keyword">loop</span> &#123; <br>Â  Â  Â  Â  <span class="hljs-keyword">let</span> <span class="hljs-variable">ch</span> = s[i];<br>Â  Â  Â  Â  <span class="hljs-keyword">if</span> ch == <span class="hljs-string">&#x27;O&#x27;</span> &#123; <br>Â  Â  Â  Â  Â  Â  <span class="hljs-keyword">break</span> i; <br>Â  Â  Â  Â  &#125; <br>Â  Â  Â  Â  i += <span class="hljs-number">1</span>; <br>Â  Â  &#125;; <br>Â  Â  <span class="hljs-built_in">println!</span>(<span class="hljs-string">&quot; \&#x27;O\&#x27; çš„ç´¢å¼•ä¸º &#123;&#125;&quot;</span>, location); <br>&#125;<br></code></pre></td></tr></table></figure><p>è¿è¡Œç»“æœï¼š</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-string">&#x27;O&#x27;</span> çš„ç´¢å¼•ä¸º <span class="hljs-number">3</span><br></code></pre></td></tr></table></figure><h2 id="9-æ‰€æœ‰æƒ"><a href="#9-æ‰€æœ‰æƒ" class="headerlink" title="9.æ‰€æœ‰æƒ"></a>9.æ‰€æœ‰æƒ</h2><p>è®¡ç®—æœºç¨‹åºå¿…é¡»åœ¨è¿è¡Œæ—¶ç®¡ç†å®ƒä»¬æ‰€ä½¿ç”¨çš„å†…å­˜èµ„æºã€‚å¤§å¤šæ•°çš„ç¼–ç¨‹è¯­è¨€éƒ½æœ‰ç®¡ç†å†…å­˜çš„åŠŸèƒ½ï¼šC&#x2F;C++ è¿™æ ·çš„è¯­è¨€ä¸»è¦é€šè¿‡æ‰‹åŠ¨æ–¹å¼ç®¡ç†å†…å­˜ï¼Œå¼€å‘è€…éœ€è¦æ‰‹åŠ¨çš„ç”³è¯·å’Œé‡Šæ”¾å†…å­˜èµ„æºã€‚ä½†ä¸ºäº†æé«˜å¼€å‘æ•ˆç‡ï¼Œåªè¦ä¸å½±å“ç¨‹åºåŠŸèƒ½çš„å®ç°ï¼Œè®¸å¤šå¼€å‘è€…æ²¡æœ‰åŠæ—¶é‡Šæ”¾å†…å­˜çš„ä¹ æƒ¯ã€‚æ‰€ä»¥æ‰‹åŠ¨ç®¡ç†å†…å­˜çš„æ–¹å¼å¸¸å¸¸é€ æˆèµ„æºæµªè´¹ã€‚</p><p>æ‰€æœ‰æƒå¯¹å¤§å¤šæ•°å¼€å‘è€…è€Œè¨€æ˜¯ä¸€ä¸ªæ–°é¢–çš„æ¦‚å¿µï¼Œå®ƒæ˜¯ Rust è¯­è¨€ä¸ºé«˜æ•ˆä½¿ç”¨å†…å­˜è€Œè®¾è®¡çš„è¯­æ³•æœºåˆ¶ã€‚æ‰€æœ‰æƒæ¦‚å¿µæ˜¯ä¸ºäº†è®© Rust åœ¨ç¼–è¯‘é˜¶æ®µæ›´æœ‰æ•ˆåœ°åˆ†æå†…å­˜èµ„æºçš„æœ‰ç”¨æ€§ä»¥å®ç°å†…å­˜ç®¡ç†è€Œè¯ç”Ÿçš„æ¦‚å¿µã€‚</p><h3 id="9-1-æ‰€æœ‰æƒè§„åˆ™"><a href="#9-1-æ‰€æœ‰æƒè§„åˆ™" class="headerlink" title="9.1 æ‰€æœ‰æƒè§„åˆ™"></a>9.1 æ‰€æœ‰æƒè§„åˆ™</h3><p>æ‰€æœ‰æƒæœ‰ä»¥ä¸‹ä¸‰æ¡è§„åˆ™ï¼š</p><ul><li>Rust ä¸­çš„æ¯ä¸ªå€¼éƒ½æœ‰ä¸€ä¸ªå˜é‡ï¼Œç§°ä¸ºå…¶æ‰€æœ‰è€…ã€‚</li><li>ä¸€æ¬¡åªèƒ½æœ‰ä¸€ä¸ªæ‰€æœ‰è€…ã€‚</li><li>å½“æ‰€æœ‰è€…ä¸åœ¨ç¨‹åºè¿è¡ŒèŒƒå›´æ—¶ï¼Œè¯¥å€¼å°†è¢«åˆ é™¤ã€‚</li></ul><p>è¿™ä¸‰æ¡è§„åˆ™æ˜¯æ‰€æœ‰æƒæ¦‚å¿µçš„åŸºç¡€ã€‚</p><h3 id="9-2-å˜é‡èŒƒå›´"><a href="#9-2-å˜é‡èŒƒå›´" class="headerlink" title="9.2 å˜é‡èŒƒå›´"></a>9.2 å˜é‡èŒƒå›´</h3><p>æˆ‘ä»¬ç”¨ä¸‹é¢è¿™æ®µç¨‹åºæè¿°å˜é‡èŒƒå›´çš„æ¦‚å¿µï¼š</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs rust">&#123;<br>    <span class="hljs-comment">// åœ¨å£°æ˜ä»¥å‰ï¼Œå˜é‡ s æ— æ•ˆ</span><br>    <span class="hljs-keyword">let</span> <span class="hljs-variable">s</span> = <span class="hljs-string">&quot;runoob&quot;</span>;<br>    <span class="hljs-comment">// è¿™é‡Œæ˜¯å˜é‡ s çš„å¯ç”¨èŒƒå›´</span><br>&#125;<br><span class="hljs-comment">// å˜é‡èŒƒå›´å·²ç»ç»“æŸï¼Œå˜é‡ s æ— æ•ˆ</span><br></code></pre></td></tr></table></figure><p>å˜é‡èŒƒå›´æ˜¯å˜é‡çš„ä¸€ä¸ªå±æ€§ï¼Œå…¶ä»£è¡¨å˜é‡çš„å¯è¡ŒåŸŸï¼Œé»˜è®¤ä»å£°æ˜å˜é‡å¼€å§‹æœ‰æ•ˆç›´åˆ°å˜é‡æ‰€åœ¨åŸŸç»“æŸã€‚</p><p>æˆ‘ä»¬æŠŠå­—ç¬¦ä¸²æ ·ä¾‹ç¨‹åºç”¨ C è¯­è¨€ç­‰ä»·ç¼–å†™ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs c">&#123;<br>Â  Â  <span class="hljs-type">char</span> *s = strdup(<span class="hljs-string">&quot;runoob&quot;</span>);<br>Â  Â  <span class="hljs-built_in">free</span>(s); <span class="hljs-comment">// é‡Šæ”¾ s èµ„æº</span><br>&#125;<br></code></pre></td></tr></table></figure><p>ust ä¹‹æ‰€ä»¥æ²¡æœ‰æ˜ç¤ºé‡Šæ”¾çš„æ­¥éª¤æ˜¯å› ä¸ºåœ¨å˜é‡èŒƒå›´ç»“æŸçš„æ—¶å€™ï¼ŒRust ç¼–è¯‘å™¨è‡ªåŠ¨æ·»åŠ äº†è°ƒç”¨é‡Šæ”¾èµ„æºå‡½æ•°çš„æ­¥éª¤ã€‚</p><p>è¿™ç§æœºåˆ¶çœ‹ä¼¼å¾ˆç®€å•äº†ï¼šå®ƒä¸è¿‡æ˜¯å¸®åŠ©ç¨‹åºå‘˜åœ¨é€‚å½“çš„åœ°æ–¹æ·»åŠ äº†ä¸€ä¸ªé‡Šæ”¾èµ„æºçš„å‡½æ•°è°ƒç”¨è€Œå·²ã€‚ä½†è¿™ç§ç®€å•çš„æœºåˆ¶å¯ä»¥æœ‰æ•ˆåœ°è§£å†³ä¸€ä¸ªå²ä¸Šæœ€ä»¤ç¨‹åºå‘˜å¤´ç–¼çš„ç¼–ç¨‹é—®é¢˜ã€‚</p><h3 id="9-3-å˜é‡ä¸æ•°æ®äº¤äº’çš„æ–¹å¼"><a href="#9-3-å˜é‡ä¸æ•°æ®äº¤äº’çš„æ–¹å¼" class="headerlink" title="9.3 å˜é‡ä¸æ•°æ®äº¤äº’çš„æ–¹å¼"></a>9.3 å˜é‡ä¸æ•°æ®äº¤äº’çš„æ–¹å¼</h3><p>å˜é‡ä¸æ•°æ®äº¤äº’æ–¹å¼ä¸»è¦æœ‰ç§»åŠ¨ï¼ˆMoveï¼‰å’Œå…‹éš†ï¼ˆCloneï¼‰ä¸¤ç§ï¼š</p>]]></content>
    
    
    <categories>
      
      <category>ç®—æ³• Ê•â‰§á´¥â‰¦Ê”</category>
      
      <category>Rust</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
      <tag>Rust</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>çç è€³ç¯å°‘å¥³ï¼ğŸ…</title>
    <link href="/2023/12/09/%E5%BB%BA%E6%A8%A1/blender/%E8%AE%BE%E8%AE%A1/blender%E7%8F%8D%E7%8F%A0%E8%80%B3%E7%8E%AF%E5%B0%91%E5%A5%B3/"/>
    <url>/2023/12/09/%E5%BB%BA%E6%A8%A1/blender/%E8%AE%BE%E8%AE%A1/blender%E7%8F%8D%E7%8F%A0%E8%80%B3%E7%8E%AF%E5%B0%91%E5%A5%B3/</url>
    
    <content type="html"><![CDATA[<h1 id="çç è€³ç¯å°‘å¥³"><a href="#çç è€³ç¯å°‘å¥³" class="headerlink" title="çç è€³ç¯å°‘å¥³"></a>çç è€³ç¯å°‘å¥³</h1><h2 id="1-å‚è€ƒå›¾"><a href="#1-å‚è€ƒå›¾" class="headerlink" title="1.å‚è€ƒå›¾"></a>1.å‚è€ƒå›¾</h2><p><img src="/2023/12/09/%E5%BB%BA%E6%A8%A1/blender/%E8%AE%BE%E8%AE%A1/blender%E7%8F%8D%E7%8F%A0%E8%80%B3%E7%8E%AF%E5%B0%91%E5%A5%B3/1.png"></p><p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼š<code>shift + A</code>æ–°å»ºèœå•ä¸‹é€‰æ‹©éœ€è¦åŠ è½½çš„å‚è€ƒå›¾ã€‚</p><p><img src="/2023/12/09/%E5%BB%BA%E6%A8%A1/blender/%E8%AE%BE%E8%AE%A1/blender%E7%8F%8D%E7%8F%A0%E8%80%B3%E7%8E%AF%E5%B0%91%E5%A5%B3/2.png"></p><p>ç‚¹å‡»å³ä¾§çª—å£çš„å›¾åƒå±æ€§ã€‚</p><p><strong>tipsï¼š</strong>ç‚¹å‡»ä»€ä¹ˆç±»å‹çš„ç‰©ä½“å°±ä¼šå‡ºç°ç›¸åº”çš„å±æ€§ã€‚</p><p>ä¸¾ä¾‹ï¼šç‚¹å‡»æ‘„åƒæœºåçš„å›¾æ¡ˆå¦‚ä¸‹æ‰€ç¤º</p><p><img src="/2023/12/09/%E5%BB%BA%E6%A8%A1/blender/%E8%AE%BE%E8%AE%A1/blender%E7%8F%8D%E7%8F%A0%E8%80%B3%E7%8E%AF%E5%B0%91%E5%A5%B3/3.png"></p><p>å‹¾é€‰ä¸é€æ˜åº¦ï¼Œè°ƒæ•´é€æ˜åº¦æ–¹ä¾¿åç»­å»ºæ¨¡ã€‚</p><p><img src="/2023/12/09/%E5%BB%BA%E6%A8%A1/blender/%E8%AE%BE%E8%AE%A1/blender%E7%8F%8D%E7%8F%A0%E8%80%B3%E7%8E%AF%E5%B0%91%E5%A5%B3/4.png"></p><p>ç‚¹å‡»é€‰æ‹©é”®ï¼Œä½¿å‚è€ƒå›¾åœ¨è§†çª—å†…æ— æ³•è¢«é€‰æ‹©ã€‚</p><p><img src="/2023/12/09/%E5%BB%BA%E6%A8%A1/blender/%E8%AE%BE%E8%AE%A1/blender%E7%8F%8D%E7%8F%A0%E8%80%B3%E7%8E%AF%E5%B0%91%E5%A5%B3/5.png"></p><p>è°ƒæ•´æ·±åº¦ï¼Œå¯ä»¥å°†å‚è€ƒå›¾çœ‹çš„æ›´æ¸…æ¥šã€‚</p><p><img src="/2023/12/09/%E5%BB%BA%E6%A8%A1/blender/%E8%AE%BE%E8%AE%A1/blender%E7%8F%8D%E7%8F%A0%E8%80%B3%E7%8E%AF%E5%B0%91%E5%A5%B3/7.png"></p><h2 id="2-å»ºæ¨¡"><a href="#2-å»ºæ¨¡" class="headerlink" title="2.å»ºæ¨¡"></a>2.å»ºæ¨¡</h2><p>æ–°å»ºä¸€ä¸ªç»çº¬çƒå’Œä¸‰ä¸ªç¯ä½“</p><p>åœ¨å¦‚ä¸‹æ‰€ç¤ºçš„çª—å£ä¸­ä¿®æ”¹æ–°å»ºç‰©ä½“çš„å‚æ•°</p><p><img src="/2023/12/09/%E5%BB%BA%E6%A8%A1/blender/%E8%AE%BE%E8%AE%A1/blender%E7%8F%8D%E7%8F%A0%E8%80%B3%E7%8E%AF%E5%B0%91%E5%A5%B3/6.png"></p><p><strong>tips1ï¼š</strong><code>/é”®</code>å¯ä»¥ç‹¬æ˜¾æŸä¸€ç‰©ä½“ã€‚</p><p>å…¶ä½™éƒ¨åˆ†åŒä¸Šã€‚</p><p><strong>tips2ï¼š</strong>å®šä½è¿‡ç¨‹ä¸­å¯ä»¥åˆ‡æ¢æ­£è§†å›¾å’Œä¾§è§†å›¾ï¼ˆ1&#x2F;3é”®ï¼‰è°ƒæ•´ç‰©ä½“ä½ç½®ï¼Œ<code>æ­£è§†å›¾ç¡®å®šxå’Œzæ–¹å‘</code>ï¼Œ<code>ä¾§è§†å›¾ç¡®å®šyæ–¹å‘</code>ã€‚</p><p>åŒæ—¶å¯¹äºæ—‹è½¬ç‰©ä½“ï¼Œå¯ä»¥å…ˆç¡®å®šä¸­å¿ƒç‚¹ï¼Œç„¶åæŒ‰xï¼Œyï¼Œzä¸‰ä¸ªæ—‹è½¬è½´æ–¹å‘å¯¹ç‰©ä½“è¿›è¡Œæ—‹è½¬å®šä½ã€‚<strong>ç‰©ä½“æœ€å¤šæ—‹è½¬ä¸‰æ¬¡å³å¯è¾¾åˆ°æŒ‡å®šçš„æ—‹è½¬ä½ç½®ã€‚</strong></p><p><img src="/2023/12/09/%E5%BB%BA%E6%A8%A1/blender/%E8%AE%BE%E8%AE%A1/blender%E7%8F%8D%E7%8F%A0%E8%80%B3%E7%8E%AF%E5%B0%91%E5%A5%B3/8.png"></p><p>æ¨¡å‹æœ€ç»ˆæ•ˆæœå¦‚ä¸Šæ‰€ç¤ºã€‚</p><h2 id="3-æ‘„åƒæœº"><a href="#3-æ‘„åƒæœº" class="headerlink" title="3.æ‘„åƒæœº"></a>3.æ‘„åƒæœº</h2><p>å°é”®ç›˜<code>0</code>åˆ‡æ¢æ‘„åƒæœºæ¨¡å¼ã€‚</p><p>å¿«æ·é”®ï¼š<code>ctrl + alt + 0</code>è®©æ‘„åƒæœºè§†è§’å¿«é€Ÿå®šä½åˆ°è§†å›¾ä½ç½®ã€‚</p><p>æˆ–è€…æŒ‰å¿«æ·é”®<code>N</code>è°ƒå‡ºè§†å›¾é€‰é¡¹æ ï¼Œé€‰æ‹©é”å®šæ‘„åƒæœºï¼Œè¿™æ ·å°±å¯ä»¥ç›´æ¥è°ƒèŠ‚ç‰©ä½“çš„è§’åº¦ã€‚</p><p><img src="/2023/12/09/%E5%BB%BA%E6%A8%A1/blender/%E8%AE%BE%E8%AE%A1/blender%E7%8F%8D%E7%8F%A0%E8%80%B3%E7%8E%AF%E5%B0%91%E5%A5%B3/9.png"></p><p>ç‚¹å‡»è¾“å‡ºè®¾ç½®ï¼Œä¿®æ”¹åˆ†è¾¨ç‡ï¼Œå¦‚å›¾æ‰€ç¤º</p><p><img src="/2023/12/09/%E5%BB%BA%E6%A8%A1/blender/%E8%AE%BE%E8%AE%A1/blender%E7%8F%8D%E7%8F%A0%E8%80%B3%E7%8E%AF%E5%B0%91%E5%A5%B3/10.png"></p><p>ä¿®æ”¹åçš„æ‘„åƒæœºä¸ºä¸€ä¸ªæ­£æ–¹å½¢ã€‚</p><p><img src="/2023/12/09/%E5%BB%BA%E6%A8%A1/blender/%E8%AE%BE%E8%AE%A1/blender%E7%8F%8D%E7%8F%A0%E8%80%B3%E7%8E%AF%E5%B0%91%E5%A5%B3/11.png"></p><p>ä¿®æ”¹æ¸²æŸ“è¾“å‡ºçš„ä½ç½®ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º</p><p><img src="/2023/12/09/%E5%BB%BA%E6%A8%A1/blender/%E8%AE%BE%E8%AE%A1/blender%E7%8F%8D%E7%8F%A0%E8%80%B3%E7%8E%AF%E5%B0%91%E5%A5%B3/12.png"></p><p>ç‚¹å‡»è¿›å…¥æ‘„åƒæœºçš„å±æ€§ï¼Œè°ƒæ•´å¤–è¾¹æ¡†çš„æ•°å€¼ï¼Œå¯ä»¥å±è”½æ‘„åƒæœºè§†è§’å¤–çš„å†…å®¹ï¼Œæ–¹ä¾¿è§‚å¯Ÿã€‚</p><p><img src="/2023/12/09/%E5%BB%BA%E6%A8%A1/blender/%E8%AE%BE%E8%AE%A1/blender%E7%8F%8D%E7%8F%A0%E8%80%B3%E7%8E%AF%E5%B0%91%E5%A5%B3/13.png"></p><h2 id="4-æ¸²æŸ“å™¨"><a href="#4-æ¸²æŸ“å™¨" class="headerlink" title="4.æ¸²æŸ“å™¨"></a>4.æ¸²æŸ“å™¨</h2><table><thead><tr><th align="center">Render Engines</th><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th></tr></thead><tbody><tr><td align="center">EEVEE</td><td>å¿«</td><td>æ²¡æœ‰å…‰çº¿è¿½è¸ª</td></tr><tr><td align="center">CYCLES</td><td>é€¼çœŸï¼Œæ¨¡æ‹Ÿç‰©ç†ä¸–ç•Œ ç»†èŠ‚çš„å…‰çº¿é˜´å½±</td><td>æ…¢ï¼Œæ›´è€—ç¡¬ä»¶</td></tr></tbody></table><p><img src="/2023/12/09/%E5%BB%BA%E6%A8%A1/blender/%E8%AE%BE%E8%AE%A1/blender%E7%8F%8D%E7%8F%A0%E8%80%B3%E7%8E%AF%E5%B0%91%E5%A5%B3/14.png"></p><p>å¦‚ä¸Šå›¾æ‰€ç¤ºä¿®æ”¹æ¸²æŸ“å¼•æ“ã€‚</p><p>å¿«æ·é”®<code>F12</code>æˆ–è€…æŒ‰å¦‚ä¸‹å›¾æ‰€ç¤ºæ¸²æŸ“æ¨¡å‹ã€‚</p><p><img src="/2023/12/09/%E5%BB%BA%E6%A8%A1/blender/%E8%AE%BE%E8%AE%A1/blender%E7%8F%8D%E7%8F%A0%E8%80%B3%E7%8E%AF%E5%B0%91%E5%A5%B3/15.png"></p><p><strong>tipsï¼š</strong>å°†é¼ æ ‡æ”¾åœ¨è§†å›¾ä¸Šæ–¹çš„å·¥å…·æ ï¼Œå‘ä¸‹æ»‘åŠ¨é¼ æ ‡ä¸­é”®ï¼Œå¯ä»¥å°†éšè—çš„èœå•é€‰é¡¹è°ƒå‡ºæ¥ã€‚</p><p><img src="/2023/12/09/%E5%BB%BA%E6%A8%A1/blender/%E8%AE%BE%E8%AE%A1/blender%E7%8F%8D%E7%8F%A0%E8%80%B3%E7%8E%AF%E5%B0%91%E5%A5%B3/16.png"></p><p>å¦‚ä¸Šå›¾æ‰€ç¤ºæ˜¯å››ç§è§†å›¾çš„é¢„è§ˆæ–¹å¼ã€‚</p><blockquote><p>çº¿æ¡†é¢„è§ˆ</p></blockquote><p>å¯ä»¥æ˜¾ç¤ºå†…éƒ¨å’ŒèƒŒé¢çš„èµ°çº¿ï¼Œå»ºæ¨¡å¸¸ç”¨ã€‚</p><blockquote><p>å®ä½“é¢„è§ˆ</p></blockquote><p>ä¸æ˜¾ç¤ºé¢œè‰²å’Œæè´¨ï¼Œå»ºæ¨¡æ—¶å€™ä½¿ç”¨ï¼Œä¸å èµ„æºã€‚</p><blockquote><p>æè´¨é¢„è§ˆ</p></blockquote><p>é¢„è§ˆæè´¨çš„é¢œè‰²å’Œç®€å•çš„çº¹ç†ï¼Œä¸è®¡ç®—å…‰çº¤è¿½è¸ªç»†èŠ‚ï¼Œæ¯”æ¸²æŸ“é¢„è§ˆå¿«ã€‚</p><blockquote><p>æ¸²æŸ“é¢„è§ˆ</p></blockquote><p>æœ€ç»ˆæ¸²æŸ“ç»“æœé¢„è§ˆï¼Œå èµ„æº</p><p><strong>tipsï¼š</strong>å¯ä»¥ä¿®æ”¹æ¸²æŸ“ä½¿ç”¨çš„gpuè®¾å¤‡ã€‚</p><p><img src="/2023/12/09/%E5%BB%BA%E6%A8%A1/blender/%E8%AE%BE%E8%AE%A1/blender%E7%8F%8D%E7%8F%A0%E8%80%B3%E7%8E%AF%E5%B0%91%E5%A5%B3/22.png"></p><h2 id="5-ç¯å…‰"><a href="#5-ç¯å…‰" class="headerlink" title="5.ç¯å…‰"></a>5.ç¯å…‰</h2><p><img src="/2023/12/09/%E5%BB%BA%E6%A8%A1/blender/%E8%AE%BE%E8%AE%A1/blender%E7%8F%8D%E7%8F%A0%E8%80%B3%E7%8E%AF%E5%B0%91%E5%A5%B3/17.png"></p><p>ç‚¹å‡»ç¯å…‰å±æ€§ï¼Œè°ƒèŠ‚åŠå¾„ï¼ŒåŠå¾„è¶Šå¤§ç¯å…‰è¶ŠæŸ”å’Œã€‚</p><p><img src="/2023/12/09/%E5%BB%BA%E6%A8%A1/blender/%E8%AE%BE%E8%AE%A1/blender%E7%8F%8D%E7%8F%A0%E8%80%B3%E7%8E%AF%E5%B0%91%E5%A5%B3/18.png"></p><p>æ”¹å˜ä¸–ç•Œå±æ€§ä¸­çš„å¼ºåº¦&#x2F;åŠ›åº¦å‚æ•°ï¼Œå¯ä»¥æ›´å‡†ç¡®çš„å¸ƒå…‰ã€‚</p><blockquote><p>æ–°å»ºç¯å…‰</p></blockquote><p><code>shift + A</code>é€‰æ‹©ç¯å…‰ç±»å‹ã€‚</p><p><img src="/2023/12/09/%E5%BB%BA%E6%A8%A1/blender/%E8%AE%BE%E8%AE%A1/blender%E7%8F%8D%E7%8F%A0%E8%80%B3%E7%8E%AF%E5%B0%91%E5%A5%B3/20.png"></p><p>åœ¨ç¯å…‰å±æ€§ä¸­è°ƒæ•´å‚æ•°ä¿®æ”¹å¸ƒå…‰ã€‚</p><p><strong>tipsï¼š</strong>å¯ä»¥åœ¨ç‰©ä½“å±æ€§ä¸­å‹¾é€‰è‡ªåŠ¨å…‰æ»‘ï¼Œè®¾ç½®å…‰æ»‘è§’åº¦ï¼Œæ¥ä¿æŒæŸäº›ç‰©ä½“çš„è§’åº¦ã€‚</p><p><img src="/2023/12/09/%E5%BB%BA%E6%A8%A1/blender/%E8%AE%BE%E8%AE%A1/blender%E7%8F%8D%E7%8F%A0%E8%80%B3%E7%8E%AF%E5%B0%91%E5%A5%B3/21.png"></p><h2 id="6-æè´¨"><a href="#6-æè´¨" class="headerlink" title="6.æè´¨"></a>6.æè´¨</h2><p>å¦‚ä¸‹å›¾æ‰€ç¤ºæ–°å»ºæè´¨</p><p><img src="/2023/12/09/%E5%BB%BA%E6%A8%A1/blender/%E8%AE%BE%E8%AE%A1/blender%E7%8F%8D%E7%8F%A0%E8%80%B3%E7%8E%AF%E5%B0%91%E5%A5%B3/23.png"></p><p>ä¿®æ”¹ä¸‹é¢çš„åŸºç¡€å‚æ•°è¿›è¡Œæè´¨çš„ä¿®æ”¹ã€‚</p><p><img src="/2023/12/09/%E5%BB%BA%E6%A8%A1/blender/%E8%AE%BE%E8%AE%A1/blender%E7%8F%8D%E7%8F%A0%E8%80%B3%E7%8E%AF%E5%B0%91%E5%A5%B3/24.png"></p><p><strong>tipsï¼š</strong>å¯åœ¨å³ä¸Šè§’æ–°å»ºé›†åˆï¼Œç®¡ç†æ–‡ä»¶èµ„æºã€‚</p><p><img src="/2023/12/09/%E5%BB%BA%E6%A8%A1/blender/%E8%AE%BE%E8%AE%A1/blender%E7%8F%8D%E7%8F%A0%E8%80%B3%E7%8E%AF%E5%B0%91%E5%A5%B3/25.png"></p><blockquote><p>å…³è”æè´¨</p></blockquote><p>å¿«æ·é”®ï¼š<code>ctrl + L</code></p><p>å…³è”æè´¨çš„ç›®çš„æ˜¯å°†æœªä¸Šæè´¨çš„ç‰©ä½“ä¸å·²ç»ä¸Šæè´¨çš„ç‰©ä½“è¿›è¡Œå…³è”ï¼Œä½¿è¯¥ç‰©ä½“å…·æœ‰å’Œå·²ä¸Šæè´¨çš„ç‰©ä½“åŒæ ·çš„æè´¨ã€‚</p><p>æœ€ç»ˆæ•ˆæœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="/2023/12/09/%E5%BB%BA%E6%A8%A1/blender/%E8%AE%BE%E8%AE%A1/blender%E7%8F%8D%E7%8F%A0%E8%80%B3%E7%8E%AF%E5%B0%91%E5%A5%B3/26.png"></p>]]></content>
    
    
    <categories>
      
      <category>å»ºæ¨¡ Ê•à°¥à±ªà°¥Ê”</category>
      
      <category>Blender</category>
      
      <category>Blenderå»ºæ¨¡æ¡ˆä¾‹</category>
      
    </categories>
    
    
    <tags>
      
      <tag>è®¾è®¡</tag>
      
      <tag>Blender</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç•Œé¢è®¤è¯†ï¼ğŸ¥•</title>
    <link href="/2023/12/08/%E5%BB%BA%E6%A8%A1/blender/%E6%8A%80%E5%B7%A7/Blender%E7%95%8C%E9%9D%A2%E8%AE%A4%E8%AF%86/"/>
    <url>/2023/12/08/%E5%BB%BA%E6%A8%A1/blender/%E6%8A%80%E5%B7%A7/Blender%E7%95%8C%E9%9D%A2%E8%AE%A4%E8%AF%86/</url>
    
    <content type="html"><![CDATA[<h1 id="ç•Œé¢è®¤è¯†"><a href="#ç•Œé¢è®¤è¯†" class="headerlink" title="ç•Œé¢è®¤è¯†"></a>ç•Œé¢è®¤è¯†</h1><h2 id="1-ç•Œé¢"><a href="#1-ç•Œé¢" class="headerlink" title="1.ç•Œé¢"></a>1.ç•Œé¢</h2><blockquote><p>çª—å£å¯æ›¿æ¢</p></blockquote><p><img src="/2023/12/08/%E5%BB%BA%E6%A8%A1/blender/%E6%8A%80%E5%B7%A7/Blender%E7%95%8C%E9%9D%A2%E8%AE%A4%E8%AF%86/1.png"></p><p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œæ¯ä¸€ä¸ªçª—å£éƒ½å¯ä»¥æ›¿æ¢æˆä¸åŒçš„ç±»å‹ã€‚</p><blockquote><p>çª—å£å¯æ‹†åˆ†</p></blockquote><p><img src="/2023/12/08/%E5%BB%BA%E6%A8%A1/blender/%E6%8A%80%E5%B7%A7/Blender%E7%95%8C%E9%9D%A2%E8%AE%A4%E8%AF%86/2.png"></p><p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œå°†é¼ æ ‡æ”¾ç½®åœ¨ä»»ä¸€çª—å£çš„å››è§’ï¼Œå¾€è‡ªå·±æ–¹å‘æ‹–åŠ¨å¯ä»¥æ–°å¢ä¸€ä¸ªçª—å£ï¼Œå¾€å·²å­˜åœ¨çš„çª—å£æ‹–åŠ¨å¯ä»¥åˆå¹¶ã€‚</p><blockquote><p>çª—å£å¯æ¢å¤</p></blockquote><p><img src="/2023/12/08/%E5%BB%BA%E6%A8%A1/blender/%E6%8A%80%E5%B7%A7/Blender%E7%95%8C%E9%9D%A2%E8%AE%A4%E8%AF%86/3.png"></p><p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œå¦‚æœæƒ³è¦æ¢å¤åˆ°æœ€åˆçš„çª—å£ï¼Œå¯ä»¥æŒ‰å›¾ç¤ºæ–¹æ³•æ–°å»ºå¸ƒå±€ã€‚</p><blockquote><p>æœ€å¤§åŒ–å½“å‰é¢æ¿</p></blockquote><p>å¿«æ·é”®ï¼š<code>ctrl + space</code></p><p>å†æŒ‰ä¸€æ¬¡è¿”å›ã€‚</p><h2 id="2-æ¸¸æ ‡"><a href="#2-æ¸¸æ ‡" class="headerlink" title="2.æ¸¸æ ‡"></a>2.æ¸¸æ ‡</h2><p><img src="/2023/12/08/%E5%BB%BA%E6%A8%A1/blender/%E6%8A%80%E5%B7%A7/Blender%E7%95%8C%E9%9D%A2%E8%AE%A4%E8%AF%86/4.png"></p><p>ç‚¹å‡»ä¸Šå›¾çš„æ¸¸æ ‡å·¥å…·å³å¯ç§»åŠ¨æ¸¸æ ‡ã€‚æˆ–è€…åœ¨é€‰æ‹©å·¥å…·ä¸‹<code>shift + å³é”®</code>è¿›è¡Œç§»åŠ¨ã€‚</p><blockquote><p>æ–°å»ºç‰©ä½“çš„ä½ç½®</p></blockquote><p><img src="/2023/12/08/%E5%BB%BA%E6%A8%A1/blender/%E6%8A%80%E5%B7%A7/Blender%E7%95%8C%E9%9D%A2%E8%AE%A4%E8%AF%86/5.png"></p><p>å¦‚å›¾æ‰€ç¤ºï¼Œæ–°å»ºç‰©ä½“çš„ä½ç½®ä¼šå‡ºç°åœ¨æ¸¸æ ‡æ‰€åœ¨çš„ä½ç½®ã€‚</p><blockquote><p>æ¨¡å‹å®šä½</p></blockquote><p><img src="/2023/12/08/%E5%BB%BA%E6%A8%A1/blender/%E6%8A%80%E5%B7%A7/Blender%E7%95%8C%E9%9D%A2%E8%AE%A4%E8%AF%86/6.png"></p><p>å¦‚å›¾æ‰€ç¤ºï¼Œé€šè¿‡<code>shift + S</code>å¯ä»¥å°†æ¨¡å‹çš„ä½ç½®å’Œæ¸¸æ ‡è¿›è¡Œè”ç³»ã€‚</p><p>æ¸¸æ ‡å›åˆ°åŸç‚¹å¿«æ·é”®ï¼š<code>shift + C</code></p><blockquote><p>ç‰©ä½“æ—‹è½¬è½´å¿ƒç‚¹</p></blockquote><p><img src="/2023/12/08/%E5%BB%BA%E6%A8%A1/blender/%E6%8A%80%E5%B7%A7/Blender%E7%95%8C%E9%9D%A2%E8%AE%A4%E8%AF%86/7.png"></p><p>å¦‚å›¾æ‰€ç¤ºï¼Œæ”¹å˜ç‰©ä½“å˜æ¢è½´å¿ƒç‚¹ä¸ºæ¸¸æ ‡ï¼Œç‰©ä½“çš„æ—‹è½¬åˆ™ä»¥æ¸¸æ ‡ä¸ºè½´å¿ƒ</p><p><img src="/2023/12/08/%E5%BB%BA%E6%A8%A1/blender/%E6%8A%80%E5%B7%A7/Blender%E7%95%8C%E9%9D%A2%E8%AE%A4%E8%AF%86/8.png"></p><h2 id="3-åŸç‚¹"><a href="#3-åŸç‚¹" class="headerlink" title="3.åŸç‚¹"></a>3.åŸç‚¹</h2><p>ç‰©ä½“çš„å˜æ¢çš†ä»¥åŸç‚¹ä¸ºä¸­å¿ƒã€‚</p><p>ä¸¾ä¾‹ï¼šå¦‚æœä¸æ”¹å˜åŸç‚¹ä½ç½®ï¼Œåˆ™ä¼šè¿›è¡Œä¸‹åˆ—å˜æ¢</p><p><img src="/2023/12/08/%E5%BB%BA%E6%A8%A1/blender/%E6%8A%80%E5%B7%A7/Blender%E7%95%8C%E9%9D%A2%E8%AE%A4%E8%AF%86/9.png"></p><p>ç‰©ä½“ä»¥åŸç‚¹ä¸ºä¸­å¿ƒè¿›è¡Œç¼©æ”¾ã€‚</p><blockquote><p>å˜æ¢åŸç‚¹</p></blockquote><p><img src="/2023/12/08/%E5%BB%BA%E6%A8%A1/blender/%E6%8A%80%E5%B7%A7/Blender%E7%95%8C%E9%9D%A2%E8%AE%A4%E8%AF%86/10.png"></p><p>å¦‚å›¾æ‰€ç¤ºï¼Œä½¿å˜æ¢ä»…æ”¹å˜åŸç‚¹çš„ä½ç½®ã€‚</p><p>åœ¨æ­£è§†å›¾çš„è§†è§’ä¸‹ï¼Œæ”¹å˜åŸç‚¹çš„ä½ç½®ï¼Œç¼©æ”¾å°†ä»¥è¯¥ç‚¹ä¸ºä¸­å¿ƒã€‚</p><p><img src="/2023/12/08/%E5%BB%BA%E6%A8%A1/blender/%E6%8A%80%E5%B7%A7/Blender%E7%95%8C%E9%9D%A2%E8%AE%A4%E8%AF%86/11.png"></p><h2 id="4-åå¥½è®¾ç½®"><a href="#4-åå¥½è®¾ç½®" class="headerlink" title="4.åå¥½è®¾ç½®"></a>4.åå¥½è®¾ç½®</h2><p><img src="/2023/12/08/%E5%BB%BA%E6%A8%A1/blender/%E6%8A%80%E5%B7%A7/Blender%E7%95%8C%E9%9D%A2%E8%AE%A4%E8%AF%86/12.png"></p><p><img src="/2023/12/08/%E5%BB%BA%E6%A8%A1/blender/%E6%8A%80%E5%B7%A7/Blender%E7%95%8C%E9%9D%A2%E8%AE%A4%E8%AF%86/13.png"></p><h2 id="5-å˜æ¢è½´å¿ƒç‚¹"><a href="#5-å˜æ¢è½´å¿ƒç‚¹" class="headerlink" title="5.å˜æ¢è½´å¿ƒç‚¹"></a>5.å˜æ¢è½´å¿ƒç‚¹</h2><p><img src="/2023/12/08/%E5%BB%BA%E6%A8%A1/blender/%E6%8A%80%E5%B7%A7/Blender%E7%95%8C%E9%9D%A2%E8%AE%A4%E8%AF%86/14.png"></p><blockquote><p>è¾¹ç•Œæ¡†ä¸­å¿ƒ</p></blockquote><p><img src="/2023/12/08/%E5%BB%BA%E6%A8%A1/blender/%E6%8A%80%E5%B7%A7/Blender%E7%95%8C%E9%9D%A2%E8%AE%A4%E8%AF%86/15.png"></p><blockquote><p>å„è‡ªçš„åŸç‚¹</p></blockquote><p><img src="/2023/12/08/%E5%BB%BA%E6%A8%A1/blender/%E6%8A%80%E5%B7%A7/Blender%E7%95%8C%E9%9D%A2%E8%AE%A4%E8%AF%86/16.png"></p><blockquote><p>è´¨å¿ƒç‚¹</p></blockquote><p><img src="/2023/12/08/%E5%BB%BA%E6%A8%A1/blender/%E6%8A%80%E5%B7%A7/Blender%E7%95%8C%E9%9D%A2%E8%AE%A4%E8%AF%86/17.png"></p><blockquote><p>æ´»åŠ¨å…ƒç´ </p></blockquote><p><img src="/2023/12/08/%E5%BB%BA%E6%A8%A1/blender/%E6%8A%80%E5%B7%A7/Blender%E7%95%8C%E9%9D%A2%E8%AE%A4%E8%AF%86/18.png"></p><p>ä»¥æœ€åä¸€ä¸ªé€‰ä¸­çš„å¯¹è±¡ä¸ºä¸­å¿ƒï¼Œå³ä¸­ç‚¹ä¸ºé»„è‰²çš„ç‚¹ã€‚</p><h2 id="6-åæ ‡"><a href="#6-åæ ‡" class="headerlink" title="6.åæ ‡"></a>6.åæ ‡</h2><p><img src="/2023/12/08/%E5%BB%BA%E6%A8%A1/blender/%E6%8A%80%E5%B7%A7/Blender%E7%95%8C%E9%9D%A2%E8%AE%A4%E8%AF%86/19.png"></p><blockquote><p>å…¨å±€åæ ‡</p></blockquote><p>ä¸–ç•Œåæ ‡ï¼Œå³ä¸œå—è¥¿åŒ—ã€‚</p><p><img src="/2023/12/08/%E5%BB%BA%E6%A8%A1/blender/%E6%8A%80%E5%B7%A7/Blender%E7%95%8C%E9%9D%A2%E8%AE%A4%E8%AF%86/20.png"></p><p>å¦‚å›¾æ‰€ç¤ºï¼Œå…¨å±€åæ ‡ä¸‹ï¼Œåæ ‡è½´ä¸ä¼šéšç€ç‰©ä½“çš„æ—‹è½¬è€Œæ”¹å˜ã€‚</p><blockquote><p>å±€éƒ¨åæ ‡</p></blockquote><p>è‡ªèº«åæ ‡ï¼Œå³ä¸Šä¸‹å·¦å³ã€‚</p><p><img src="/2023/12/08/%E5%BB%BA%E6%A8%A1/blender/%E6%8A%80%E5%B7%A7/Blender%E7%95%8C%E9%9D%A2%E8%AE%A4%E8%AF%86/21.png"></p><p>å¦‚å›¾æ‰€ç¤ºï¼Œå±€éƒ¨åæ ‡ä¸‹ï¼Œåæ ‡è½´éšç€ç‰©ä½“æ–¹å‘çš„æ”¹å˜è€Œæ”¹å˜ã€‚</p><blockquote><p>åˆ‡æ¢å…¨å±€ &#x2F; å±€éƒ¨</p></blockquote><p>å…ˆæŒ‰å¿«æ·é”®å¹¶é€‰æ‹©å›ºå®šè½´ï¼Œå†æŒ‰ä¸€æ¬¡é€‰æ‹©è½´å³å¯åˆ‡æ¢ã€‚</p><p>ä¸¾ä¾‹ï¼š<code>G + Z (å±€éƒ¨) + Z (å…¨å±€)</code></p>]]></content>
    
    
    <categories>
      
      <category>å»ºæ¨¡ Ê•à°¥à±ªà°¥Ê”</category>
      
      <category>Blender</category>
      
      <category>Blenderå»ºæ¨¡æŠ€å·§</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æŠ€å·§</tag>
      
      <tag>Blender</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>è¿­ä»£å™¨å’Œitertoolsåº“çš„ä½¿ç”¨ï¼â˜ƒï¸</title>
    <link href="/2023/12/08/%E7%AE%97%E6%B3%95/python/python%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/python%E4%B8%AD%E8%BF%AD%E4%BB%A3%E5%99%A8%E5%92%8Citertools%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
    <url>/2023/12/08/%E7%AE%97%E6%B3%95/python/python%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/python%E4%B8%AD%E8%BF%AD%E4%BB%A3%E5%99%A8%E5%92%8Citertools%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/</url>
    
    <content type="html"><![CDATA[<h1 id="è¿­ä»£å™¨å’Œitertoolsåº“çš„ä½¿ç”¨"><a href="#è¿­ä»£å™¨å’Œitertoolsåº“çš„ä½¿ç”¨" class="headerlink" title="è¿­ä»£å™¨å’Œitertoolsåº“çš„ä½¿ç”¨"></a>è¿­ä»£å™¨å’Œitertoolsåº“çš„ä½¿ç”¨</h1><h2 id="1-è¿­ä»£å™¨"><a href="#1-è¿­ä»£å™¨" class="headerlink" title="1.è¿­ä»£å™¨"></a>1.è¿­ä»£å™¨</h2><p>åœ¨Pythonä¸­ï¼Œè¿­ä»£å™¨ï¼ˆIteratorï¼‰æ˜¯ä¸€ç§å¯¹è±¡ï¼Œå®ƒå¯ä»¥ç”¨æ¥éå†å¯è¿­ä»£å¯¹è±¡ä¸­çš„å…ƒç´ ï¼Œå¦‚åˆ—è¡¨ã€å…ƒç»„ã€å­—å…¸ç­‰ã€‚è¿­ä»£å™¨å¯¹è±¡å®ç°äº†ä¸¤ä¸ªæ–¹æ³•ï¼š<code>__iter__()</code> å’Œ <code>__next__()</code>ã€‚</p><h3 id="1-è‡ªå®šä¹‰è¿­ä»£å™¨"><a href="#1-è‡ªå®šä¹‰è¿­ä»£å™¨" class="headerlink" title="1.è‡ªå®šä¹‰è¿­ä»£å™¨"></a>1.è‡ªå®šä¹‰è¿­ä»£å™¨</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªç®€å•çš„è¿­ä»£å™¨ç±»</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyIterator</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, start, end</span>):<br>        self.current = start<br>        self.end = end<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__iter__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">return</span> self<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__next__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">if</span> self.current &lt; self.end:<br>            result = self.current<br>            self.current += <span class="hljs-number">1</span><br>            <span class="hljs-keyword">return</span> result<br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-keyword">raise</span> StopIteration<br><br><span class="hljs-comment"># ä½¿ç”¨è¿­ä»£å™¨éå†å…ƒç´ </span><br>my_iterator = MyIterator(<span class="hljs-number">1</span>, <span class="hljs-number">5</span>)<br><br><span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> my_iterator:<br>    <span class="hljs-built_in">print</span>(item)<br></code></pre></td></tr></table></figure><p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œ<code>MyIterator</code> ç±»å®ç°äº† <code>__iter__()</code> å’Œ <code>__next__()</code> æ–¹æ³•ã€‚<code>__iter__()</code> æ–¹æ³•è¿”å›è¿­ä»£å™¨å¯¹è±¡æœ¬èº«ï¼Œè€Œ <code>__next__()</code> æ–¹æ³•ç”¨äºè¿”å›è¿­ä»£å™¨çš„ä¸‹ä¸€ä¸ªå…ƒç´ ã€‚å½“æ²¡æœ‰å…ƒç´ å¯ä»¥è¿”å›æ—¶ï¼ŒæŠ›å‡º <code>StopIteration</code> å¼‚å¸¸ï¼Œè¡¨ç¤ºè¿­ä»£ç»“æŸã€‚</p><h3 id="2-å†…ç½®å¯è¿­ä»£å¯¹è±¡"><a href="#2-å†…ç½®å¯è¿­ä»£å¯¹è±¡" class="headerlink" title="2.å†…ç½®å¯è¿­ä»£å¯¹è±¡"></a>2.å†…ç½®å¯è¿­ä»£å¯¹è±¡</h3><p>é™¤äº†è‡ªå®šä¹‰è¿­ä»£å™¨ç±»ä¹‹å¤–ï¼ŒPythonå†…ç½®äº†ä¸€äº›å¯è¿­ä»£å¯¹è±¡ï¼Œæ¯”å¦‚åˆ—è¡¨ã€å…ƒç»„ã€å­—å…¸ç­‰ã€‚ä½ å¯ä»¥ä½¿ç”¨ <code>iter()</code> å‡½æ•°è·å–è¿™äº›å¯¹è±¡çš„è¿­ä»£å™¨ï¼Œç„¶åä½¿ç”¨ <code>next()</code> å‡½æ•°é€ä¸ªè·å–å…ƒç´ ã€‚</p><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªä½¿ç”¨å†…ç½®å‡½æ•°çš„ä¾‹å­ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python">my_list = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]<br>my_iterator = <span class="hljs-built_in">iter</span>(my_list)<br><br><span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>    <span class="hljs-keyword">try</span>:<br>        item = <span class="hljs-built_in">next</span>(my_iterator)<br>        <span class="hljs-built_in">print</span>(item)<br>    <span class="hljs-keyword">except</span> StopIteration:<br>        <span class="hljs-keyword">break</span><br></code></pre></td></tr></table></figure><p>æ³¨æ„ï¼šåœ¨å®é™…ç¼–ç ä¸­ï¼Œé€šå¸¸ä½¿ç”¨ <code>for</code> å¾ªç¯æ¥éå†å¯è¿­ä»£å¯¹è±¡ï¼Œè€Œä¸æ˜¯ç›´æ¥æ“ä½œè¿­ä»£å™¨ã€‚<code>for</code> å¾ªç¯ä¼šè‡ªåŠ¨å¤„ç†è¿­ä»£å™¨çš„åˆ›å»ºå’Œå¼‚å¸¸ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python">my_list = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]<br><br><span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> my_list:<br>    <span class="hljs-built_in">print</span>(item)<br></code></pre></td></tr></table></figure><h3 id="3-ä½¿ç”¨Iteratoræ³›å‹æ¥è¡¨ç¤ºè¿­ä»£å™¨"><a href="#3-ä½¿ç”¨Iteratoræ³›å‹æ¥è¡¨ç¤ºè¿­ä»£å™¨" class="headerlink" title="3.ä½¿ç”¨Iteratoræ³›å‹æ¥è¡¨ç¤ºè¿­ä»£å™¨"></a>3.ä½¿ç”¨<code>Iterator</code>æ³›å‹æ¥è¡¨ç¤ºè¿­ä»£å™¨</h3><p>åœ¨Pythonä¸­ï¼Œ<code>typing</code>æ¨¡å—æä¾›äº†ç±»å‹æç¤ºå·¥å…·ï¼Œä½†æ˜¯å®ƒæœ¬èº«å¹¶ä¸åŒ…å«è¿­ä»£å™¨ç±»å‹ã€‚è¿­ä»£å™¨ç±»å‹é€šå¸¸ç”¨äºè¡¨ç¤ºå¯ä»¥è¿­ä»£çš„å¯¹è±¡ï¼Œä¾‹å¦‚åˆ—è¡¨ã€å…ƒç»„å’Œå­—å…¸ç­‰ã€‚åœ¨<code>typing</code>æ¨¡å—ä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨<code>Iterator</code>æ³›å‹æ¥è¡¨ç¤ºè¿­ä»£å™¨ã€‚</p><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œæ¼”ç¤ºå¦‚ä½•åœ¨<code>typing</code>ä¸­ä½¿ç”¨<code>Iterator</code>ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> Iterator, <span class="hljs-type">List</span><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">iterate_list</span>(<span class="hljs-params">input_list: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>) -&gt; Iterator[<span class="hljs-built_in">int</span>]:<br>    <span class="hljs-comment"># ä½¿ç”¨ iter() å‡½æ•°å°†åˆ—è¡¨è½¬æ¢ä¸ºè¿­ä»£å™¨</span><br>    iterator = <span class="hljs-built_in">iter</span>(input_list)<br>    <span class="hljs-keyword">return</span> iterator<br><br><span class="hljs-comment"># ç¤ºä¾‹ç”¨æ³•</span><br>my_list = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]<br>my_iterator = iterate_list(my_list)<br><br><span class="hljs-comment"># ä½¿ç”¨è¿­ä»£å™¨éå†å…ƒç´ </span><br><span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> my_iterator:<br>    <span class="hljs-built_in">print</span>(item)<br></code></pre></td></tr></table></figure><p>åœ¨ä¸Šè¿°ç¤ºä¾‹ä¸­ï¼Œ<code>iterate_list</code>å‡½æ•°æ¥å—ä¸€ä¸ª<code>List[int]</code>ç±»å‹çš„å‚æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ª<code>Iterator[int]</code>ç±»å‹çš„è¿­ä»£å™¨ã€‚åœ¨å‡½æ•°å†…éƒ¨ï¼Œæˆ‘ä»¬ä½¿ç”¨<code>iter()</code>å‡½æ•°å°†ä¼ å…¥çš„åˆ—è¡¨è½¬æ¢ä¸ºè¿­ä»£å™¨ï¼Œå¹¶å°†å…¶è¿”å›ã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ<code>Iterator</code>æ³›å‹åªæ˜¯ä¸€ä¸ªç±»å‹æç¤ºï¼Œå®ƒåœ¨è¿è¡Œæ—¶å¹¶ä¸ä¼šå¼•å…¥æ–°çš„è¿­ä»£å™¨å¯¹è±¡ã€‚å®ƒä¸»è¦ç”¨äºé™æ€ç±»å‹æ£€æŸ¥ï¼Œä»¥å¸®åŠ©å¼€å‘è€…åœ¨ç¼–å†™ä»£ç æ—¶æ›´å¥½åœ°ç†è§£å’Œç»´æŠ¤ä»£ç ã€‚</p><p>æ€»çš„æ¥è¯´ï¼Œ<code>typing</code>æ¨¡å—æä¾›äº†ä¸€äº›ç”¨äºç±»å‹æç¤ºçš„å·¥å…·ï¼Œä½†åœ¨å¤„ç†å®é™…çš„è¿­ä»£å™¨æ—¶ï¼Œä¸»è¦è¿˜æ˜¯ä½¿ç”¨Pythonæ ‡å‡†åº“ä¸­çš„<code>iter</code>å’Œ<code>next</code>ç­‰è¿­ä»£å™¨ç›¸å…³çš„å‡½æ•°ã€‚</p><h2 id="2-itertoolsåº“çš„ä½¿ç”¨"><a href="#2-itertoolsåº“çš„ä½¿ç”¨" class="headerlink" title="2.itertoolsåº“çš„ä½¿ç”¨"></a>2.itertoolsåº“çš„ä½¿ç”¨</h2><p><code>itertools</code> æ˜¯ Python ä¸­çš„ä¸€ä¸ªæ ‡å‡†åº“æ¨¡å—ï¼Œæä¾›äº†ä¸€ç»„ç”¨äºé«˜æ•ˆå¾ªç¯å’Œè¿­ä»£çš„å·¥å…·å‡½æ•°ã€‚è¿™äº›å‡½æ•°è¿”å›çš„æ˜¯è¿­ä»£å™¨ï¼Œè€Œä¸æ˜¯å°†æ‰€æœ‰å…ƒç´ ä¸€æ¬¡æ€§åŠ è½½åˆ°å†…å­˜ä¸­çš„åºåˆ—ã€‚è¿™å¯¹äºå¤„ç†å¤§å‹æ•°æ®é›†æˆ–è€…ç”Ÿæˆæ— é™åºåˆ—éå¸¸æœ‰ç”¨ã€‚</p><h3 id="1-itertools-count-start-0-step-1"><a href="#1-itertools-count-start-0-step-1" class="headerlink" title="1.itertools.count(start&#x3D;0, step&#x3D;1)"></a>1.<strong>itertools.count(start&#x3D;0, step&#x3D;1)</strong></h3><p><strong>ç”¨æ³•ï¼š</strong> ä»æŒ‡å®šçš„èµ·å§‹å€¼å¼€å§‹åˆ›å»ºä¸€ä¸ªæ— é™è®¡æ•°å™¨ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> itertools <span class="hljs-keyword">import</span> count<br><br>counter = count(start=<span class="hljs-number">5</span>, step=<span class="hljs-number">2</span>)<br>result = [<span class="hljs-built_in">next</span>(counter) <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">5</span>)]<br><span class="hljs-built_in">print</span>(result)<br><br>&gt;&gt;&gt;[<span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9</span>, <span class="hljs-number">11</span>, <span class="hljs-number">13</span>]<br></code></pre></td></tr></table></figure><h3 id="2-itertools-cycle-iterable"><a href="#2-itertools-cycle-iterable" class="headerlink" title="2.itertools.cycle(iterable)"></a>2.<strong>itertools.cycle(iterable)</strong></h3><p><strong>ç”¨æ³•ï¼š</strong> åˆ›å»ºä¸€ä¸ªæ— é™å¾ªç¯çš„è¿­ä»£å™¨ï¼Œé‡å¤è¿­ä»£æŒ‡å®šçš„å¯è¿­ä»£å¯¹è±¡ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> itertools <span class="hljs-keyword">import</span> cycle<br><br>colors = cycle([<span class="hljs-string">&#x27;red&#x27;</span>, <span class="hljs-string">&#x27;green&#x27;</span>, <span class="hljs-string">&#x27;blue&#x27;</span>])<br>result = [<span class="hljs-built_in">next</span>(colors) <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">8</span>)]<br><span class="hljs-built_in">print</span>(result)<br><br>&gt;&gt;&gt;[<span class="hljs-string">&#x27;red&#x27;</span>, <span class="hljs-string">&#x27;green&#x27;</span>, <span class="hljs-string">&#x27;blue&#x27;</span>, <span class="hljs-string">&#x27;red&#x27;</span>, <span class="hljs-string">&#x27;green&#x27;</span>, <span class="hljs-string">&#x27;blue&#x27;</span>, <span class="hljs-string">&#x27;red&#x27;</span>, <span class="hljs-string">&#x27;green&#x27;</span>]<br></code></pre></td></tr></table></figure><h3 id="3-itertools-chain-iterables"><a href="#3-itertools-chain-iterables" class="headerlink" title="3.itertools.chain(*iterables)"></a>3.<strong>itertools.chain(*iterables)</strong></h3><p><strong>ç”¨æ³•ï¼š</strong> å°†å¤šä¸ªå¯è¿­ä»£å¯¹è±¡é“¾æ¥æˆä¸€ä¸ªè¿­ä»£å™¨ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> itertools <span class="hljs-keyword">import</span> chain<br><br>list1 = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]<br>tuple1 = (<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>)<br>result = <span class="hljs-built_in">list</span>(chain(list1, tuple1))<br><span class="hljs-built_in">print</span>(result)<br><br>&gt;&gt;&gt;[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>]<br></code></pre></td></tr></table></figure><h3 id="4-itertools-combinations-iterable-r"><a href="#4-itertools-combinations-iterable-r" class="headerlink" title="4.itertools.combinations(iterable, r)"></a>4.<strong>itertools.combinations(iterable, r)</strong></h3><p><strong>ç”¨æ³•ï¼š</strong> è¿”å›å¯è¿­ä»£å¯¹è±¡ä¸­æ‰€æœ‰é•¿åº¦ä¸º <code>r</code> çš„ç»„åˆã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> itertools <span class="hljs-keyword">import</span> combinations<br><br>colors = [<span class="hljs-string">&#x27;red&#x27;</span>, <span class="hljs-string">&#x27;green&#x27;</span>, <span class="hljs-string">&#x27;blue&#x27;</span>]<br>result = <span class="hljs-built_in">list</span>(combinations(colors, <span class="hljs-number">2</span>))<br><span class="hljs-built_in">print</span>(result)<br><br>&gt;&gt;&gt;[(<span class="hljs-string">&#x27;red&#x27;</span>, <span class="hljs-string">&#x27;green&#x27;</span>), (<span class="hljs-string">&#x27;red&#x27;</span>, <span class="hljs-string">&#x27;blue&#x27;</span>), (<span class="hljs-string">&#x27;green&#x27;</span>, <span class="hljs-string">&#x27;blue&#x27;</span>)]<br></code></pre></td></tr></table></figure><h3 id="5-itertools-product-iterables-repeat-1"><a href="#5-itertools-product-iterables-repeat-1" class="headerlink" title="5.itertools.product(*iterables, repeat&#x3D;1)"></a>5.<strong>itertools.product(*iterables, repeat&#x3D;1)</strong></h3><p><strong>ç”¨æ³•ï¼š</strong> è¿”å›å¯è¿­ä»£å¯¹è±¡çš„ç¬›å¡å°”ç§¯ï¼Œå¯é€‰æ‹©é‡å¤å…ƒç´ ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> itertools <span class="hljs-keyword">import</span> product<br><br>dice = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>]<br>result = <span class="hljs-built_in">list</span>(product(dice, repeat=<span class="hljs-number">2</span>))<br><span class="hljs-built_in">print</span>(result)<br><br>&gt;&gt;&gt;[(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>), (<span class="hljs-number">1</span>, <span class="hljs-number">2</span>), ..., (<span class="hljs-number">6</span>, <span class="hljs-number">6</span>)]<br></code></pre></td></tr></table></figure><p>è¿™äº›ä¾‹å­æ¶µç›–äº†ä¸€äº›å¸¸è§çš„ <code>itertools</code> å‡½æ•°ï¼Œä½†è¯¥æ¨¡å—è¿˜æä¾›äº†å…¶ä»–æœ‰ç”¨çš„å·¥å…·ï¼Œå¯ä»¥æ ¹æ®å…·ä½“éœ€æ±‚é€‰æ‹©åˆé€‚çš„å‡½æ•°ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>ç®—æ³• Ê•â‰§á´¥â‰¦Ê”</category>
      
      <category>Python</category>
      
      <category>Pythonåº“</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ABCåº“çš„ä½¿ç”¨ï¼â˜ƒï¸</title>
    <link href="/2023/12/08/%E7%AE%97%E6%B3%95/python/python%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/pythonABC%E5%BA%93/"/>
    <url>/2023/12/08/%E7%AE%97%E6%B3%95/python/python%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/pythonABC%E5%BA%93/</url>
    
    <content type="html"><![CDATA[<h1 id="ABCåº“çš„ä½¿ç”¨"><a href="#ABCåº“çš„ä½¿ç”¨" class="headerlink" title="ABCåº“çš„ä½¿ç”¨"></a>ABCåº“çš„ä½¿ç”¨</h1><p>åœ¨Pythonä¸­ï¼Œ<code>abc</code>åº“æ˜¯Abstract Base Classesï¼ˆæŠ½è±¡åŸºç±»ï¼‰çš„ç¼©å†™ã€‚æŠ½è±¡åŸºç±»æ˜¯ä¸€ç§ç”¨äºå®šä¹‰æŠ½è±¡æ•°æ®ç±»å‹æˆ–æ¥å£çš„æ–¹å¼ï¼Œå®ƒä»¬æä¾›äº†ä¸€ç§æœºåˆ¶æ¥ç¡®ä¿å­ç±»å®ç°äº†ç‰¹å®šçš„æ–¹æ³•ã€‚<code>abc</code>æ¨¡å—æä¾›äº†ç”¨äºåˆ›å»ºå’Œä½¿ç”¨æŠ½è±¡åŸºç±»çš„å·¥å…·ã€‚</p><p>ä»¥ä¸‹æ˜¯ä¸€äº›<code>abc</code>æ¨¡å—ä¸­å¸¸ç”¨çš„ç±»å’Œå‡½æ•°ã€‚</p><h2 id="1-ABCï¼ˆAbstract-Base-Classï¼‰"><a href="#1-ABCï¼ˆAbstract-Base-Classï¼‰" class="headerlink" title="1.ABCï¼ˆAbstract Base Classï¼‰"></a>1.<strong>ABCï¼ˆAbstract Base Classï¼‰</strong></h2><p><code>ABC</code>ç±»æ˜¯æ‰€æœ‰æŠ½è±¡åŸºç±»çš„åŸºç±»ã€‚é€šè¿‡ç»§æ‰¿<code>ABC</code>ç±»ï¼Œå¯ä»¥å®šä¹‰ä¸€ä¸ªæŠ½è±¡åŸºç±»ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> abc <span class="hljs-keyword">import</span> ABC, abstractmethod<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyAbstractClass</span>(<span class="hljs-title class_ inherited__">ABC</span>):<br><span class="hljs-meta">    @abstractmethod</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">my_abstract_method</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">pass</span><br></code></pre></td></tr></table></figure><h2 id="2-abstractmethod-è£…é¥°å™¨"><a href="#2-abstractmethod-è£…é¥°å™¨" class="headerlink" title="2.@abstractmethod è£…é¥°å™¨"></a>2.<strong>@abstractmethod è£…é¥°å™¨</strong></h2><p>ä½¿ç”¨<code>@abstractmethod</code>è£…é¥°å™¨å¯ä»¥æ ‡è®°ä¸€ä¸ªæ–¹æ³•ä¸ºæŠ½è±¡æ–¹æ³•ï¼Œè¯¥æ–¹æ³•å¿…é¡»åœ¨å­ç±»ä¸­å®ç°ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> abc <span class="hljs-keyword">import</span> ABC, abstractmethod<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyAbstractClass</span>(<span class="hljs-title class_ inherited__">ABC</span>):<br><span class="hljs-meta">    @abstractmethod</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">my_abstract_method</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">pass</span><br></code></pre></td></tr></table></figure><h2 id="3-register-æ–¹æ³•"><a href="#3-register-æ–¹æ³•" class="headerlink" title="3.register æ–¹æ³•"></a>3.<strong>register æ–¹æ³•</strong></h2><p>ä½¿ç”¨<code>register</code>æ–¹æ³•å¯ä»¥å°†ä¸€ä¸ªç±»æ³¨å†Œä¸ºæŠ½è±¡åŸºç±»çš„è™šæ‹Ÿå­ç±»ï¼Œå³ä½¿å®ƒå¹¶ä¸ç›´æ¥ç»§æ‰¿è‡ªè¯¥æŠ½è±¡åŸºç±»ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> abc <span class="hljs-keyword">import</span> ABC, abstractmethod<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyAbstractClass</span>(<span class="hljs-title class_ inherited__">ABC</span>):<br><span class="hljs-meta">    @abstractmethod</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">my_abstract_method</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">pass</span><br><br><span class="hljs-comment"># Registering a class as a virtual subclass</span><br>MyConcreteClass = <span class="hljs-built_in">type</span>(<span class="hljs-string">&#x27;MyConcreteClass&#x27;</span>, (MyAbstractClass,), &#123;&#125;)<br>MyAbstractClass.register(MyConcreteClass)<br></code></pre></td></tr></table></figure><h2 id="4-å®ä¾‹æ£€æŸ¥"><a href="#4-å®ä¾‹æ£€æŸ¥" class="headerlink" title="4.å®ä¾‹æ£€æŸ¥"></a>4.<strong>å®ä¾‹æ£€æŸ¥</strong></h2><p>ä½¿ç”¨<code>isinstance</code>å‡½æ•°å¯ä»¥æ£€æŸ¥ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯ç‰¹å®šæŠ½è±¡åŸºç±»çš„å®ä¾‹ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> abc <span class="hljs-keyword">import</span> ABC, abstractmethod<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyAbstractClass</span>(<span class="hljs-title class_ inherited__">ABC</span>):<br><span class="hljs-meta">    @abstractmethod</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">my_abstract_method</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">pass</span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyConcreteClass</span>(<span class="hljs-title class_ inherited__">MyAbstractClass</span>):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">my_abstract_method</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Concrete class implementation&quot;</span>)<br><br>obj = MyConcreteClass()<br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">isinstance</span>(obj, MyAbstractClass))  <span class="hljs-comment"># True</span><br></code></pre></td></tr></table></figure><p><strong>æ€»ç»“ï¼š</strong><code>abc</code>æ¨¡å—çš„ä¸»è¦ç›®çš„æ˜¯æä¾›ä¸€ç§æ–¹å¼æ¥å®šä¹‰å’Œä½¿ç”¨æŠ½è±¡åŸºç±»ï¼Œä»¥ç¡®ä¿åœ¨ç»§æ‰¿å…³ç³»ä¸­æ­£ç¡®åœ°å®ç°äº†å¿…éœ€çš„æ¥å£æˆ–æ–¹æ³•ã€‚è¿™æœ‰åŠ©äºæé«˜ä»£ç çš„å¯ç»´æŠ¤æ€§å’Œå¯è¯»æ€§ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>ç®—æ³• Ê•â‰§á´¥â‰¦Ê”</category>
      
      <category>Python</category>
      
      <category>Pythonåº“</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>pythoné­”æœ¯æ–¹æ³•ä½¿ç”¨ï¼ğŸ©</title>
    <link href="/2023/12/07/%E7%AE%97%E6%B3%95/python/python%E6%96%B9%E6%B3%95%E5%92%8C%E6%8A%80%E5%B7%A7/python%E9%AD%94%E6%B3%95%E6%96%B9%E6%B3%95%E5%A4%A7%E5%85%A8/"/>
    <url>/2023/12/07/%E7%AE%97%E6%B3%95/python/python%E6%96%B9%E6%B3%95%E5%92%8C%E6%8A%80%E5%B7%A7/python%E9%AD%94%E6%B3%95%E6%96%B9%E6%B3%95%E5%A4%A7%E5%85%A8/</url>
    
    <content type="html"><![CDATA[<h1 id="pythoné­”æœ¯æ–¹æ³•ä½¿ç”¨"><a href="#pythoné­”æœ¯æ–¹æ³•ä½¿ç”¨" class="headerlink" title="pythoné­”æœ¯æ–¹æ³•ä½¿ç”¨"></a>pythoné­”æœ¯æ–¹æ³•ä½¿ç”¨</h1><p>æ‰€è°“é­”æ³•å‡½æ•°ï¼ˆMagic Methodsï¼‰ï¼Œæ˜¯Pythonçš„ä¸€ç§é«˜çº§è¯­æ³•ï¼Œå…è®¸ä½ åœ¨ç±»ä¸­è‡ªå®šä¹‰å‡½æ•°ï¼Œå¹¶ç»‘å®šåˆ°ç±»çš„ç‰¹æ®Šæ–¹æ³•ä¸­ã€‚æ¯”å¦‚åœ¨ç±»Aä¸­è‡ªå®šä¹‰__str__()å‡½æ•°ï¼Œåˆ™åœ¨è°ƒç”¨str(A())æ—¶ï¼Œä¼šè‡ªåŠ¨è°ƒç”¨__str__()å‡½æ•°ï¼Œå¹¶è¿”å›ç›¸åº”çš„ç»“æœã€‚</p><p>Python çš„ç±»ä»¥å…¶ç¥å¥‡çš„æ–¹æ³•è€Œé—»åï¼Œé€šå¸¸ç§°ä¸º dunderï¼ˆåŒä¸‹åˆ’çº¿ï¼‰æ–¹æ³•ã€‚ä¸‹é¢å…ˆåˆ—ä¸¾Pythoné‡Œé¢çš„é­”æœ¯æ–¹æ³•ï¼ŒæŒ‘ä¸€äº›å¸¸ç”¨çš„é­”æœ¯æ–¹æ³•è¿›è¡Œå­¦ä¹ ã€‚</p><h2 id="1-é­”æœ¯æ–¹æ³•ç´¢å¼•"><a href="#1-é­”æœ¯æ–¹æ³•ç´¢å¼•" class="headerlink" title="1.é­”æœ¯æ–¹æ³•ç´¢å¼•"></a>1.é­”æœ¯æ–¹æ³•ç´¢å¼•</h2><h3 id="1-äºŒå…ƒæ“ä½œç¬¦"><a href="#1-äºŒå…ƒæ“ä½œç¬¦" class="headerlink" title="1.äºŒå…ƒæ“ä½œç¬¦"></a>1.äºŒå…ƒæ“ä½œç¬¦</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python">+<span class="hljs-built_in">object</span>.__add__(self, other)<br>-<span class="hljs-built_in">object</span>.__sub__(self, other)<br>*<span class="hljs-built_in">object</span>.__mul__(self, other)<br>//<span class="hljs-built_in">object</span>.__floordiv__(self, other)<br>/<span class="hljs-built_in">object</span>.__div__(self, other)<br>%<span class="hljs-built_in">object</span>.__mod__(self, other)<br>**<span class="hljs-built_in">object</span>.__pow__(self, other[, modulo])<br>&lt;&lt;<span class="hljs-built_in">object</span>.__lshift__(self, other)<br>&gt;&gt;<span class="hljs-built_in">object</span>.__rshift__(self, other)<br>&amp;<span class="hljs-built_in">object</span>.__and__(self, other)<br>^<span class="hljs-built_in">object</span>.__xor__(self, other)<br>|<span class="hljs-built_in">object</span>.__or__(self, other)<br></code></pre></td></tr></table></figure><h3 id="2-æ‰©å±•äºŒå…ƒæ“ä½œç¬¦"><a href="#2-æ‰©å±•äºŒå…ƒæ“ä½œç¬¦" class="headerlink" title="2.æ‰©å±•äºŒå…ƒæ“ä½œç¬¦"></a>2.æ‰©å±•äºŒå…ƒæ“ä½œç¬¦</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python">+=<span class="hljs-built_in">object</span>.__iadd__(self, other)<br>-=<span class="hljs-built_in">object</span>.__isub__(self, other)<br>*=<span class="hljs-built_in">object</span>.__imul__(self, other)<br>/=<span class="hljs-built_in">object</span>.__idiv__(self, other)<br>//=<span class="hljs-built_in">object</span>.__ifloordiv__(self, other)<br>%=<span class="hljs-built_in">object</span>.__imod__(self, other)<br>**=<span class="hljs-built_in">object</span>.__ipow__(self, other[, modulo])<br>&lt;&lt;=<span class="hljs-built_in">object</span>.__ilshift__(self, other)<br>&gt;&gt;=<span class="hljs-built_in">object</span>.__irshift__(self, other)<br>&amp;=<span class="hljs-built_in">object</span>.__iand__(self, other)<br>^=<span class="hljs-built_in">object</span>.__ixor__(self, other)<br>|=<span class="hljs-built_in">object</span>.__ior__(self, other)<br></code></pre></td></tr></table></figure><h3 id="3-ä¸€å…ƒæ“ä½œç¬¦"><a href="#3-ä¸€å…ƒæ“ä½œç¬¦" class="headerlink" title="3.ä¸€å…ƒæ“ä½œç¬¦"></a>3.ä¸€å…ƒæ“ä½œç¬¦</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python">-<span class="hljs-built_in">object</span>.__neg__(self)<br>+<span class="hljs-built_in">object</span>.__pos__(self)<br><span class="hljs-built_in">abs</span>()<span class="hljs-built_in">object</span>.__abs__(self)<br>~<span class="hljs-built_in">object</span>.__invert__(self)<br><span class="hljs-built_in">complex</span>()<span class="hljs-built_in">object</span>.__complex__(self)<br><span class="hljs-built_in">int</span>()<span class="hljs-built_in">object</span>.__int__(self)<br>long()<span class="hljs-built_in">object</span>.__long__(self)<br><span class="hljs-built_in">float</span>()<span class="hljs-built_in">object</span>.__float__(self)<br><span class="hljs-built_in">oct</span>()<span class="hljs-built_in">object</span>.__oct__(self)<br><span class="hljs-built_in">hex</span>()<span class="hljs-built_in">object</span>.__hex__(self)<br><span class="hljs-built_in">round</span>()<span class="hljs-built_in">object</span>.__round__(self, n)<br>floor()object__floor__(self)<br>ceil()<span class="hljs-built_in">object</span>.__ceil__(self)<br>trunc()<span class="hljs-built_in">object</span>.__trunc__(self)<br></code></pre></td></tr></table></figure><h3 id="4-æ¯”è¾ƒå‡½æ•°"><a href="#4-æ¯”è¾ƒå‡½æ•°" class="headerlink" title="4.æ¯”è¾ƒå‡½æ•°"></a>4.æ¯”è¾ƒå‡½æ•°</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python">&lt;<span class="hljs-built_in">object</span>.__lt__(self, other)<br>&lt;=<span class="hljs-built_in">object</span>.__le__(self, other)<br>==<span class="hljs-built_in">object</span>.__eq__(self, other)<br>!=<span class="hljs-built_in">object</span>.__ne__(self, other)<br>&gt;=<span class="hljs-built_in">object</span>.__ge__(self, other)<br>&gt;<span class="hljs-built_in">object</span>.__gt__(self, other)<br></code></pre></td></tr></table></figure><h3 id="5-ç±»çš„è¡¨ç¤ºã€è¾“å‡º"><a href="#5-ç±»çš„è¡¨ç¤ºã€è¾“å‡º" class="headerlink" title="5.ç±»çš„è¡¨ç¤ºã€è¾“å‡º"></a>5.ç±»çš„è¡¨ç¤ºã€è¾“å‡º</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">str</span>()<span class="hljs-built_in">object</span>.__str__(self) <br><span class="hljs-built_in">repr</span>()<span class="hljs-built_in">object</span>.__repr__(self)<br><span class="hljs-built_in">len</span>()<span class="hljs-built_in">object</span>.__len__(self)<br><span class="hljs-built_in">hash</span>()<span class="hljs-built_in">object</span>.__hash__(self) <br><span class="hljs-built_in">bool</span>()<span class="hljs-built_in">object</span>.__nonzero__(self) <br><span class="hljs-built_in">dir</span>()<span class="hljs-built_in">object</span>.__dir__(self)<br>sys.getsizeof()<span class="hljs-built_in">object</span>.__sizeof__(self)<br></code></pre></td></tr></table></figure><h3 id="6-ç±»å®¹å™¨"><a href="#6-ç±»å®¹å™¨" class="headerlink" title="6.ç±»å®¹å™¨"></a>6.ç±»å®¹å™¨</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">len</span>()<span class="hljs-built_in">object</span>.__len__(self)<br>self[key]<span class="hljs-built_in">object</span>.__getitem__(self, key)<br>self[key] = value<span class="hljs-built_in">object</span>.__setitem__(self, key, value)<br><span class="hljs-keyword">del</span>[key] <span class="hljs-built_in">object</span>.__delitem__(self, key)<br><span class="hljs-built_in">iter</span>()<span class="hljs-built_in">object</span>.__iter__(self)<br><span class="hljs-built_in">reversed</span>()<span class="hljs-built_in">object</span>.__reversed__(self)<br><span class="hljs-keyword">in</span>æ“ä½œ<span class="hljs-built_in">object</span>.__contains__(self, item)<br>å­—å…¸keyä¸å­˜åœ¨æ—¶<span class="hljs-built_in">object</span>.__missing__(self, key)<br></code></pre></td></tr></table></figure><h2 id="2-å¸¸ç”¨é­”æœ¯æ–¹æ³•"><a href="#2-å¸¸ç”¨é­”æœ¯æ–¹æ³•" class="headerlink" title="2.å¸¸ç”¨é­”æœ¯æ–¹æ³•"></a>2.å¸¸ç”¨é­”æœ¯æ–¹æ³•</h2><h3 id="1-init"><a href="#1-init" class="headerlink" title="1.__init__"></a>1.<code>__init__</code></h3><p>å®ƒæ˜¯ä¸€ä¸ªç±»åˆå§‹åŒ–å™¨ã€‚ æ¯å½“åˆ›å»ºä¸€ä¸ªç±»çš„å®ä¾‹æ—¶ï¼Œéƒ½ä¼šè°ƒç”¨å…¶ <code>__init__()</code>æ–¹æ³•ã€‚ ä¾‹å¦‚ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">GetTest</span>(<span class="hljs-title class_ inherited__">object</span>):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Greetings!!&#x27;</span>)<br>        <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">another_method</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;I am another method which is not automatically called&#x27;</span>)<br></code></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°åœ¨å®ä¾‹åœ¨åˆ›å»ºåä¼šç«‹å³è°ƒç”¨ <code>__init__</code>ã€‚ è¿˜å¯ä»¥åœ¨åˆå§‹åŒ–æœŸé—´å°†å‚æ•°ä¼ é€’ç»™ç±»ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">GetTest</span>(<span class="hljs-title class_ inherited__">object</span>):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, name</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Greetings!! &#123;0&#125;&#x27;</span>.<span class="hljs-built_in">format</span>(name))<br>        <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">another_method</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;I am another method which is not automatically called&#x27;</span>)<br></code></pre></td></tr></table></figure><h3 id="2-getitem"><a href="#2-getitem" class="headerlink" title="2.__getitem__"></a>2.<code>__getitem__</code></h3><p>åœ¨ç±»ä¸­å®ç° <code>__getitem__</code> å…è®¸å…¶å®ä¾‹ä½¿ç”¨<code>[]</code>ï¼ˆç´¢å¼•å™¨ï¼‰è¿ç®—ç¬¦ã€‚è¿™æ˜¯ä¸€ä¸ªä¾‹å­ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">GetTest</span>(<span class="hljs-title class_ inherited__">object</span>):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        self.info = &#123;<br>            <span class="hljs-string">&#x27;name&#x27;</span>:<span class="hljs-string">&#x27;Yasoob&#x27;</span>,<br>            <span class="hljs-string">&#x27;country&#x27;</span>:<span class="hljs-string">&#x27;Pakistan&#x27;</span>,<br>            <span class="hljs-string">&#x27;number&#x27;</span>:<span class="hljs-number">12345812</span><br>        &#125;<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__getitem__</span>(<span class="hljs-params">self,i</span>):<br>        <span class="hljs-keyword">return</span> self.info[i]<br>    <br><span class="hljs-meta">&gt;&gt;&gt; </span>foo = GetTest()<br><span class="hljs-meta">&gt;&gt;&gt; </span>foo[<span class="hljs-string">&#x27;name&#x27;</span>]<br><span class="hljs-string">&#x27;Yasoob&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>foo[<span class="hljs-string">&#x27;number&#x27;</span>]<br><span class="hljs-number">12345812</span><br></code></pre></td></tr></table></figure><p>å¦‚æœæ²¡æœ‰<code>__getitem__</code>æ–¹æ³•ï¼Œæˆ‘ä»¬ä¼šé‡åˆ°ä»¥ä¸‹é”™è¯¯ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>foo[<span class="hljs-string">&#x27;name&#x27;</span>]<br>Traceback (most recent call last):<br>  File <span class="hljs-string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="hljs-number">1</span>, <span class="hljs-keyword">in</span> &lt;module&gt;<br>TypeError: <span class="hljs-string">&#x27;GetTest&#x27;</span> <span class="hljs-built_in">object</span> has no attribute <span class="hljs-string">&#x27;__getitem__&#x27;</span><br></code></pre></td></tr></table></figure><h3 id="3-del"><a href="#3-del" class="headerlink" title="3.__del__"></a>3.<code>__del__</code></h3><p><strong>del</strong>()æ˜¯deleteçš„ç¼©å†™ï¼Œè¿™æ˜¯ææ„é­”æœ¯æ–¹æ³•ã€‚å½“ä¸€å—ç©ºé—´æ²¡æœ‰äº†ä»»ä½•å¼•ç”¨æ—¶ é»˜è®¤æ‰§è¡Œ__del__å›æ”¶è¿™ä¸ªç±»åœ°å€ï¼Œä¸€èˆ¬æˆ‘ä»¬ä¸è‡ªå®šä¹‰__del__ æœ‰å¯èƒ½ä¼šå¯¼è‡´é—®é¢˜ã€‚</p><p>è§¦å‘æ—¶æœºï¼šå½“å¯¹è±¡è¢«å†…å­˜å›æ”¶çš„æ—¶å€™è‡ªåŠ¨è§¦å‘ï¼Œæœ‰ä¸‹é¢ä¸¤ç§æƒ…å†µï¼š<br>é¡µé¢æ‰§è¡Œå®Œæ¯•å›æ”¶æ‰€æœ‰å˜é‡<br>å½“å¤šä¸ªå¯¹è±¡æŒ‡å‘åŒä¸€åœ°å€ï¼Œæ‰€æœ‰å¯¹è±¡è¢«delçš„æ—¶å€™<br>åŠŸèƒ½ï¼šå¯¹è±¡ä½¿ç”¨å®Œæ¯•åèµ„æºå›æ”¶<br>å‚æ•°ï¼šä¸€ä¸ªselfæ¥å—å¯¹è±¡<br>è¿”å›å€¼ï¼šæ— </p><blockquote><p>æ³¨æ„ï¼šç¨‹åºè‡ªåŠ¨è°ƒç”¨<code>__del__()</code>æ–¹æ³•ï¼Œä¸éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨è°ƒç”¨ã€‚</p></blockquote><p>æ¥çœ‹ä¾‹å­ï¼šç°åœ¨æˆ‘ä»¬æœ‰ä¸€ä¸ªç±»ï¼Œåœ¨<code>__del__()</code>ä¸­æ‰“å°ä¸€äº›ä¿¡æ¯ï¼Œä»¥ä¾¿æˆ‘ä»¬çœ‹åˆ°<code>__del__()</code>çš„è°ƒç”¨æ—¶æœºã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Cat</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">eat</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æˆ‘å˜å˜èƒ½åƒ&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__del__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;ohohohï¼Œæˆ‘è¢«é”€æ¯äº†&quot;</span>)<br></code></pre></td></tr></table></figure><p>ç°åœ¨æˆ‘ä»¬å¯¹ç±»å®ä¾‹åŒ–ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&lt;=======start======&gt;&quot;</span>)<br>cat1 = Cat()<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&lt;=======ends======&gt;&quot;</span>)<br></code></pre></td></tr></table></figure><p>ç¨‹åºçš„è¾“å‡ºä¸ºï¼š</p><blockquote><p>&lt;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;start&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&gt;<br>&lt;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;ends&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&gt;<br>ohohohï¼Œæˆ‘è¢«é”€æ¯äº†</p></blockquote><p>å‡ºç°ä¸Šé¢ç°è±¡çš„åŸå› æ˜¯åœ¨æ²¡æœ‰æ‰‹åŠ¨æ‰§è¡Œ<code>del</code>çš„æƒ…å†µä¸‹ï¼Œç¨‹åºæ‰§è¡Œç»“æŸåè‡ªåŠ¨è§¦å‘ææ„æ–¹æ³•ã€‚</p><p>ç»§ç»­ï¼Œç°åœ¨åŠ ä¸€ä¸ªå®ä¾‹åŒ–ï¼Œå¹¶ä¸”æˆ‘ä»¬<code>del</code>cat1ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python">cat1 = Cat()<br>cat2 = cat1<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&lt;=======start======&gt;&quot;</span>)<br><span class="hljs-keyword">del</span> cat1<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&lt;=======ends======&gt;&quot;</span>)<br></code></pre></td></tr></table></figure><p>ç¨‹åºçš„è¾“å‡ºä¸ºï¼š</p><blockquote><p>&lt;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;start&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&gt;<br>&lt;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;ends&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&gt;<br>ohohohï¼Œæˆ‘è¢«é”€æ¯äº†</p></blockquote><p>æ—¢ç„¶æˆ‘ä»¬åœ¨startä¸endä¸­é—´åˆ é™¤äº†cat1ï¼Œä¸ºå•¥ç¨‹åºè¿˜æ˜¯åœ¨æ‰§è¡Œå®Œåè§¦å‘ææ„æ–¹æ³•ï¼Ÿè¿™ä¸»è¦æ˜¯å› ä¸ºcat2è¿˜åœ¨ç»§ç»­å ç”¨cat1çš„å†…å­˜åœ°å€ï¼Œæ‰€ä»¥ä¼šåœ¨cat2æ‰§è¡Œå®Œæ¯•åè§¦å‘ææ„æ–¹æ³•ã€‚</p><p>åªè¦åŒæ—¶åˆ é™¤cat1å’Œcat2ï¼Œå†…å­˜åœ°å€æ²¡æœ‰æŒ‡å‘çš„å€¼ï¼Œè¿™å—å†…å­˜è¢«é‡Šæ”¾å°±ä¼šè§¦å‘ææ„æ–¹æ³•ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python">cat1 = Cat()<br>cat2 = cat1<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&lt;=======start======&gt;&quot;</span>)<br><span class="hljs-keyword">del</span> cat1<br><span class="hljs-keyword">del</span> cat2<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&lt;=======ends======&gt;&quot;</span>)<br></code></pre></td></tr></table></figure><p>ç¨‹åºçš„è¾“å‡ºä¸ºï¼š</p><blockquote><p>&lt;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;start&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&gt;<br>ohohohï¼Œæˆ‘è¢«é”€æ¯äº†<br>&lt;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;ends&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&gt;</p></blockquote><p><strong>æ³¨æ„</strong>ï¼šå¦‚æœè¿™ä¸ªå¯¹è±¡äº§ç”Ÿäº†å¾ªç¯å¼•ç”¨ï¼Œå¹¶ä¸”å®ç°äº†<code>__del__</code>æ–¹æ³•ï¼Œé‚£ä¹ˆè¿™ä¸ªå¯¹è±¡å°†å¾—ä¸åˆ°é‡Šæ”¾ï¼Œä»è€Œäº§ç”Ÿå†…å­˜æ³„æ¼ã€‚</p><h3 id="4-call"><a href="#4-call" class="headerlink" title="4.__call__"></a>4.<code>__call__</code></h3><p><strong>call</strong>()æ–¹æ³•å¯ä»¥è®©ç±»çš„å®ä¾‹å…·æœ‰ç±»ä¼¼äºå‡½æ•°çš„è¡Œä¸ºï¼Œè¿™è¿›ä¸€æ­¥æ¨¡ç³Šäº†å‡½æ•°å’Œå¯¹è±¡ä¹‹é—´çš„æ¦‚å¿µã€‚</p><p>è§¦å‘æ—¶æœºï¼šæŠŠå¯¹è±¡å½“ä½œå‡½æ•°è°ƒç”¨çš„æ—¶å€™è‡ªåŠ¨è§¦å‘<br>åŠŸèƒ½ï¼šæ¨¡æ‹Ÿå‡½æ•°åŒ–æ“ä½œ<br>å‚æ•°ï¼šå‚æ•°ä¸å›ºå®šï¼Œè‡³å°‘ä¸€ä¸ªselfå‚æ•°<br>è¿”å›å€¼ï¼šçœ‹éœ€æ±‚<br>å…¶ä½¿ç”¨æ–¹å¼ä¸ºï¼šå¯¹è±¡åé¢åŠ æ‹¬å·ï¼Œè§¦å‘æ‰§è¡Œã€‚å³ï¼šå¯¹è±¡() æˆ–è€… ç±»()()</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span>(<span class="hljs-title class_ inherited__">object</span>):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__call__</span>(<span class="hljs-params">self, *args, **kwargs</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;call....&#x27;</span>)<br><br><br>a = A()<br>a()  <span class="hljs-comment"># è‡ªåŠ¨è°ƒç”¨__call__()</span><br></code></pre></td></tr></table></figure><p>æ¥çœ‹ä¸ªä¾‹å­ï¼šä½¿ç”¨<code>__call__()</code>æ–¹æ³•å®ç°æ–æ³¢é‚£å¥‘æ•°åˆ—</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Fibonacci</span>(<span class="hljs-title class_ inherited__">object</span>):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__call__</span>(<span class="hljs-params">self, num</span>):<br>        a, b = <span class="hljs-number">1</span>, <span class="hljs-number">1</span><br>        lst = []<br>        <span class="hljs-keyword">if</span> num &lt;= <span class="hljs-number">2</span>:<br>            lst.append(a)<br>            lst.append(b)<br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(num):<br>                lst.append(a)<br>                a, b = b, a + b<br>        <span class="hljs-keyword">return</span> lst<br><br><br><span class="hljs-meta">&gt;&gt;&gt; </span>f = Fibonacci()<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(f(<span class="hljs-number">5</span>))<br>[<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>]<br></code></pre></td></tr></table></figure><h3 id="5-slots"><a href="#5-slots" class="headerlink" title="5.__slots__"></a>5.<code>__slots__</code></h3><p>Pythonæ˜¯ä¸€é—¨åŠ¨æ€è¯­è¨€ï¼Œè¿™ä½¿å¾—æˆ‘ä»¬å¯ä»¥åœ¨ç¨‹åºè¿è¡Œçš„æ—¶å€™ç»™å¯¹è±¡ç»‘å®šæ–°çš„å±æ€§æˆ–æ–¹æ³•ï¼Œè¿™å°±æ˜¯åŠ¨æ€è¯­è¨€çš„çµæ´»æ€§ã€‚</p><p>æˆ‘ä»¬å…ˆå®šä¹‰ä¸€ä¸ªç±»ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span>(<span class="hljs-title class_ inherited__">object</span>):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, name, age</span>):<br>        self._name = name<br>        self._age = age<br></code></pre></td></tr></table></figure><p>ç„¶ååˆ›å»ºä¸€ä¸ªå®ä¾‹å¹¶<strong>åŠ¨æ€ä¸ºè¿™ä¸ªå®ä¾‹ç»‘å®šä¸€ä¸ªå±æ€§å’Œæ–¹æ³•</strong>ï¼Œä½†æ˜¯ä¸ºå®ä¾‹ç»‘å®šçš„å±æ€§å’Œæ–¹æ³•å¯¹å¦ä¸€ä¸ªå®ä¾‹å¹¶ä¸èµ·ä½œç”¨ï¼Œå¦‚æœéœ€è¦åº”ç”¨åœ¨å¤šä¸ªå®ä¾‹ä¸Šï¼Œåˆ™éœ€è¦å°†å…¶ç»‘å®šåˆ°ç±»ä¸Šï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> types <span class="hljs-keyword">import</span> MethodType<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">fly</span>(<span class="hljs-params">self</span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;I can fly~&#x27;</span>)<br><br><br><span class="hljs-meta">&gt;&gt;&gt; </span>p1 = Person(<span class="hljs-string">&#x27;ç‹å¤§é”¤&#x27;</span>, <span class="hljs-number">18</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>p2 = Person(<span class="hljs-string">&#x27;çˆ±ä¸½ä¸&#x27;</span>, <span class="hljs-number">16</span>)<br>&gt;&gt;&gt;<br><span class="hljs-comment"># åŠ¨æ€ç»‘å®šå±æ€§å’Œæ–¹æ³•</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>p1.fly = MethodType(fly, p1)<br><span class="hljs-meta">&gt;&gt;&gt; </span>p1.fly()<br>I can fly~<br>&gt;&gt;&gt;<br><span class="hljs-meta">&gt;&gt;&gt; </span>p2.fly()  <span class="hljs-comment"># p1ç»‘å®šçš„å±æ€§å’Œæ–¹æ³•å¯¹p2æ— æ•ˆ</span><br>Traceback (most recent call last):<br>  File <span class="hljs-string">&quot;D:\Anaconda3\lib\site-packages\IPython\core\interactiveshell.py&quot;</span>, line <span class="hljs-number">3331</span>, <span class="hljs-keyword">in</span> run_code<br>    <span class="hljs-built_in">exec</span>(code_obj, self.user_global_ns, self.user_ns)<br>  File <span class="hljs-string">&quot;&lt;ipython-input-31-07b12cf8c526&gt;&quot;</span>, line <span class="hljs-number">1</span>, <span class="hljs-keyword">in</span> &lt;module&gt;<br>    p2.fly()<br>AttributeError: <span class="hljs-string">&#x27;Person&#x27;</span> <span class="hljs-built_in">object</span> has no attribute <span class="hljs-string">&#x27;fly&#x27;</span><br></code></pre></td></tr></table></figure><p>åŠ¨æ€ç»‘å®šç¡®å®æ–¹ä¾¿ï¼Œä½†æ˜¯å¦‚æœæˆ‘ä»¬éœ€è¦é™å®šè‡ªå®šä¹‰ç±»å‹çš„å¯¹è±¡åªèƒ½ç»‘å®šæŸäº›å±æ€§è¦æ€ä¹ˆåŠå‘¢ï¼Ÿ<code>__slots__</code>å¯ä»¥è§£å†³è¿™ä¸ªéœ€æ±‚ã€‚</p><p>å®šä¹‰ç±»çš„æ—¶å€™ï¼Œå¯ä»¥å®šä¹‰ä¸€ä¸ªç‰¹æ®Šçš„<code>__slots__</code>å˜é‡ï¼Œæ¥é™åˆ¶è¯¥ç±»å®ä¾‹èƒ½æ·»åŠ çš„å±æ€§ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span>(<span class="hljs-title class_ inherited__">object</span>):<br>    __slots__ = (<span class="hljs-string">&#x27;_name&#x27;</span>, <span class="hljs-string">&#x27;_age&#x27;</span>, <span class="hljs-string">&#x27;_gender&#x27;</span>)<br> <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, name, age</span>):<br>        self._name = name<br>        self._age = age<br></code></pre></td></tr></table></figure><p>å®ä¾‹å°±ä¸èƒ½å†æ·»åŠ ä¸åœ¨é™å®šèŒƒå›´å†…çš„å±æ€§äº†ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>p = Person(<span class="hljs-string">&#x27;é™†ä¸ƒå²&#x27;</span>, <span class="hljs-number">7</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>p._gender = <span class="hljs-string">&#x27;ç”·&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>p._gender<br><span class="hljs-string">&#x27;ç”·&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>p._school = <span class="hljs-string">&#x27;Qå°å­¦&#x27;</span><br>Traceback (most recent call last):<br>  File <span class="hljs-string">&quot;D:\Anaconda3\lib\site-packages\IPython\core\interactiveshell.py&quot;</span>, line <span class="hljs-number">3331</span>, <span class="hljs-keyword">in</span> run_code<br>    <span class="hljs-built_in">exec</span>(code_obj, self.user_global_ns, self.user_ns)<br>  File <span class="hljs-string">&quot;&lt;ipython-input-36-c90af696bffa&gt;&quot;</span>, line <span class="hljs-number">1</span>, <span class="hljs-keyword">in</span> &lt;module&gt;<br>    p._school = <span class="hljs-string">&#x27;Qå°å­¦&#x27;</span><br>AttributeError: <span class="hljs-string">&#x27;Person&#x27;</span> <span class="hljs-built_in">object</span> has no attribute <span class="hljs-string">&#x27;_school&#x27;</span><br></code></pre></td></tr></table></figure><p>ä½†è¦æ³¨æ„çš„æ˜¯ï¼Œ<strong>é™åˆ¶åªæ˜¯é’ˆå¯¹å®ä¾‹</strong>ï¼Œ<strong>ç±»æœ¬èº«å¹¶ä¸ä¼šè¢«é™åˆ¶</strong>ã€‚æ€ä¹ˆç†è§£èƒ½ï¼Ÿå°±æ˜¯æˆ‘ä»¬ä»ç„¶å¯ä»¥é€šè¿‡ç±»å»æ·»åŠ å±æ€§æˆ–æ–¹æ³•ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>Person._school = <span class="hljs-string">&#x27;Qå°å­¦&#x27;</span> <br><span class="hljs-meta">&gt;&gt;&gt; </span>Person._school<br><span class="hljs-string">&#x27;Qå°å­¦&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>p1._school<br>Traceback (most recent call last):<br>  File <span class="hljs-string">&quot;D:\Anaconda3\lib\site-packages\IPython\core\interactiveshell.py&quot;</span>, line <span class="hljs-number">3331</span>, <span class="hljs-keyword">in</span> run_code<br>    <span class="hljs-built_in">exec</span>(code_obj, self.user_global_ns, self.user_ns)<br>  File <span class="hljs-string">&quot;&lt;ipython-input-38-f12357d4471f&gt;&quot;</span>, line <span class="hljs-number">1</span>, <span class="hljs-keyword">in</span> &lt;module&gt;<br>    p1._school<br>AttributeError: <span class="hljs-string">&#x27;Person&#x27;</span> <span class="hljs-built_in">object</span> has no attribute <span class="hljs-string">&#x27;_school&#x27;</span><br></code></pre></td></tr></table></figure><p>æ€»ç»“ï¼š</p><p>__slots__æ˜¯é’ˆå¯¹ç±»å®ä¾‹çš„é™åˆ¶ï¼Œè¦æ·»åŠ å±æ€§æˆ–æ–¹æ³•ä»å¯ä»¥é€šè¿‡ç±»å»æ·»åŠ ï¼›<br>__slots__å®šä¹‰çš„å±æ€§ä»…å¯¹å½“å‰ç±»å®ä¾‹èµ·ä½œç”¨ï¼Œå¯¹ç»§æ‰¿çš„å­ç±»æ˜¯ä¸èµ·ä½œç”¨çš„ã€‚</p><h3 id="6-str"><a href="#6-str" class="headerlink" title="6.__str__"></a>6.<code>__str__</code></h3><p><code>__str__()</code>æ–¹æ³•å¯ä»¥æ”¹å˜å¯¹è±¡çš„å­—ç¬¦ä¸²æ˜¾ç¤ºã€‚åœ¨æ‰“å°æŸä¸ªå¯¹è±¡çš„æ—¶å€™ï¼Œä¼šè°ƒç”¨è¿™ä¸ªå¯¹è±¡çš„<code>__str__</code>æ–¹æ³•ï¼Œæ‰“å°è¿™ä¸ªæ–¹æ³•çš„è¿”å›å€¼ã€‚</p><ul><li>è§¦å‘æ—¶æœºï¼šä½¿ç”¨<code>print(å¯¹è±¡)</code>æˆ–<code>str(å¯¹è±¡)</code>æ—¶è§¦å‘ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Cat</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, name, sex</span>):<br>        self.name = name<br>        self.sex = sex<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__str__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">f&quot;æˆ‘æ˜¯ä¸€åªå¯çˆ±çš„å°<span class="hljs-subst">&#123;self.sex&#125;</span>çŒ«å’ªï¼Œæˆ‘çš„åå­—æ˜¯<span class="hljs-subst">&#123;self.name&#125;</span>&quot;</span><br><br><br><span class="hljs-meta">&gt;&gt;&gt; </span>cat = Cat(<span class="hljs-string">&quot;å°ç™½&quot;</span>, <span class="hljs-string">&quot;å…¬&quot;</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(cat)<br>æˆ‘æ˜¯ä¸€åªå¯çˆ±çš„å°å…¬çŒ«å’ªï¼Œæˆ‘çš„åå­—æ˜¯å°ç™½<br></code></pre></td></tr></table></figure><h3 id="7-repr"><a href="#7-repr" class="headerlink" title="7.__repr__"></a>7.<code>__repr__</code></h3><p><strong>repr</strong>()æ–¹æ³•å¯ä»¥æ”¹å˜å¯¹è±¡çš„å­—ç¬¦ä¸²æ˜¾ç¤ºã€‚__repr__é­”æœ¯æ–¹æ³•æ˜¯ç”¨æ¥è¡¨è¿°æŸä¸ªå¯¹è±¡åœ¨å†…å­˜ä¸­çš„å±•ç¤ºå½¢å¼ã€‚å¦‚æœåœ¨ç»ˆç«¯ç›´æ¥è¾“å…¥ä¸€ä¸ªå¯¹è±¡ï¼Œç„¶åæŒ‰å›è½¦ï¼Œé‚£ä¹ˆå°†ä¼šæ‰§è¡Œè¿™ä¸ªå¯¹è±¡çš„__repr__æ–¹æ³•ã€‚</p><ul><li>æ­¤æ–¹æ³•æ˜¯<code>__str__()</code>çš„â€œå¤‡èƒâ€ï¼Œå¦‚æœæ‰¾ä¸åˆ°<code>__str__()</code>å°±ä¼šæ‰¾<code>__repr__()</code>æ–¹æ³•ã€‚</li><li><code>%r</code>é»˜è®¤è°ƒç”¨çš„æ˜¯<code>__repr__()</code>æ–¹æ³•ï¼Œ<code>%s</code>è°ƒç”¨<code>__str__()</code>æ–¹æ³•</li><li><code>repr()</code>æ–¹æ³•é»˜è®¤è°ƒç”¨<code>__repr__()</code>æ–¹æ³•</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span>(<span class="hljs-title class_ inherited__">object</span>):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, name, age</span>):<br>        self.name = name<br>        self.age = age<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__str__</span>(<span class="hljs-params">self</span>):<br>        msg = <span class="hljs-string">&#x27;name:&#123;&#125;,age:&#123;&#125;&#x27;</span>.<span class="hljs-built_in">format</span>(self.name, self.age)<br>        <span class="hljs-keyword">return</span> msg<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__repr__</span>(<span class="hljs-params">self</span>):<br>        msg = <span class="hljs-string">&#x27;name---&gt;&#123;&#125;,age---&gt;&#123;&#125;&#x27;</span>.<span class="hljs-built_in">format</span>(self.name, self.age)<br>        <span class="hljs-keyword">return</span> msg<br><br><br><span class="hljs-meta">&gt;&gt;&gt; </span>a = A(<span class="hljs-string">&#x27;za&#x27;</span>, <span class="hljs-number">34</span>)<br><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;%s&#x27;</span> % a) <br>name:za, age:<span class="hljs-number">34</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;%r&#x27;</span> % a)  <span class="hljs-comment"># ç”¨ %r,é»˜è®¤è°ƒç”¨__repr__()æ–¹æ³•</span><br>name--&gt;za, age--&gt;<span class="hljs-number">34</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(a)  <span class="hljs-comment"># æœ‰__str__()æ–¹æ³•å°±ä¼šè°ƒç”¨__str__()æ–¹æ³•ï¼Œæ²¡æœ‰å°±è°ƒç”¨__repr__()æ–¹æ³•</span><br>name:za, age:<span class="hljs-number">34</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(<span class="hljs-built_in">repr</span>(a))  <span class="hljs-comment"># repr()æ–¹æ³•é»˜è®¤è°ƒç”¨__repr__()æ–¹æ³•</span><br>name--&gt;za, age--&gt;<span class="hljs-number">34</span><br></code></pre></td></tr></table></figure><p>æ³¨æ„ï¼šå¦‚æœå°†å‡ ä¸ªå¯¹è±¡æ‰”åˆ°ä¸€ä¸ªå®¹å™¨ä¸­ï¼ˆæ¯”å¦‚ï¼šåˆ—è¡¨ï¼‰ï¼Œé‚£ä¹ˆåœ¨æ‰“å°è¿™ä¸ªå®¹å™¨çš„æ—¶å€™ï¼Œä¼šä¾æ¬¡è°ƒç”¨è¿™ä¸ªå®¹å™¨ä¸­çš„å…ƒç´ çš„<code>__repr__</code>æ–¹æ³•ã€‚å¦‚æœæ²¡æœ‰å®ç°è¿™ä¸ª<code>__repr__</code>æ–¹æ³•ï¼Œé‚£ä¹ˆå¾—åˆ°çš„å°†æ˜¯ä¸€ä¸ªç±»å+åœ°å€çš„å½¢å¼ï¼Œè¿™ç§å½¢å¼çš„æ˜¯ä¸å¥½ç†è§£çš„ã€‚</p><h3 id="8-new"><a href="#8-new" class="headerlink" title="8.__new__"></a>8.<code>__new__</code></h3><p>è§¦å‘æ—¶æœºï¼š åœ¨å®ä¾‹åŒ–å¯¹æ—¶è§¦å‘<br>å‚æ•°ï¼šè‡³å°‘ä¸€ä¸ªcls æ¥æ”¶å½“å‰ç±»<br>è¿”å›å€¼ï¼šå¿…é¡»è¿”å›ä¸€ä¸ªå¯¹è±¡å®ä¾‹<br>ä½œç”¨ï¼šå®ä¾‹åŒ–å¯¹è±¡</p><blockquote><p>æ³¨æ„ï¼šå®ä¾‹åŒ–å¯¹è±¡æ˜¯<code>Object</code>ç±»åº•å±‚å®ç°ï¼Œå…¶ä»–ç±»ç»§æ‰¿äº†<code>Object</code>çš„<code>__new__</code>æ‰èƒ½å¤Ÿå®ç°å®ä¾‹åŒ–å¯¹è±¡ã€‚</p></blockquote><p>ç¬¬ä¸€ä¸ªä¾‹å­ï¼šæŸ¥çœ‹<code>__new__</code>æ–¹æ³•çš„æ‰§è¡Œæ—¶æœºã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span>(<span class="hljs-title class_ inherited__">object</span>):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;__init__(): æˆ‘ä¹Ÿè¢«è°ƒç”¨å•¦~&#x27;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__new__</span>(<span class="hljs-params">cls, *args, **kwargs</span>):  <span class="hljs-comment"># é‡å†™å,ä¸å†åˆ›å»ºå¯¹è±¡</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;__new__(): å“ˆå“ˆæˆ‘è¢«è°ƒç”¨å•¦~&#x27;</span>)<br><br><br><span class="hljs-meta">&gt;&gt;&gt; </span>per = Person()<br>__new__(): å“ˆå“ˆæˆ‘è¢«è°ƒç”¨å•¦~<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(per)<br><span class="hljs-literal">None</span><br></code></pre></td></tr></table></figure><p><code>None</code>è¯´æ˜æ²¡æœ‰åˆ›å»ºå¯¹è±¡ï¼Œå› ä¸ºæˆ‘ä»¬é‡å†™äº†<code>__new__</code>æ–¹æ³•ï¼Œ<code>__new__</code>æ–¹æ³•ä¸å†å…·æœ‰åˆ›å»ºå¯¹è±¡çš„åŠŸèƒ½ï¼Œåªæœ‰æ‰“å°çš„åŠŸèƒ½ã€‚</p><p>ç¬¬äºŒä¸ªä¾‹å­ï¼šè°ƒç”¨çˆ¶ç±»çš„<code>__new__</code>æ–¹æ³•ï¼Œåˆ›å»ºå½“å‰å¯¹è±¡ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span>(<span class="hljs-title class_ inherited__">object</span>):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;__init__(): æˆ‘ä¹Ÿè¢«è°ƒç”¨å•¦~&#x27;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__new__</span>(<span class="hljs-params">cls, *args, **kwargs</span>): <br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;__new__(): å“ˆå“ˆæˆ‘è¢«è°ƒç”¨å•¦~&#x27;</span>)<br>        ret = <span class="hljs-built_in">super</span>().__new__(cls)  <span class="hljs-comment"># è°ƒç”¨çˆ¶ç±»objectçš„__new__æ–¹æ³•åˆ›å»ºå¯¹è±¡</span><br>        <span class="hljs-keyword">return</span> ret<br><br><br><span class="hljs-meta">&gt;&gt;&gt; </span>per = Person()<br>__new__(): å“ˆå“ˆæˆ‘è¢«è°ƒç”¨å•¦~<br>__init__(): æˆ‘ä¹Ÿè¢«è°ƒç”¨å•¦~<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(per)<br>&lt;__main__.Person <span class="hljs-built_in">object</span> at <span class="hljs-number">0x0000020FA3892848</span>&gt;<br></code></pre></td></tr></table></figure><h3 id="9-eq"><a href="#9-eq" class="headerlink" title="9.__eq__"></a>9.<code>__eq__</code></h3><p>è¯´åˆ°<code>__eq__()</code>é­”æ³•æ–¹æ³•ï¼Œå°±å¿…é¡»æåˆ°Pythonä¸­çš„<code>is</code>å’Œ<code>==</code>ã€‚å…ˆæ¥çœ‹çœ‹è¿™ä¸¤è€…çš„åŒºåˆ«ï¼š</p><ul><li><code>is</code> æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡çš„ <code>id </code>å€¼æ˜¯å¦ç›¸ç­‰ï¼Œæ˜¯å¦æŒ‡å‘åŒä¸€ä¸ªå†…å­˜åœ°å€ï¼›</li><li><code>==</code> æ¯”è¾ƒçš„æ˜¯ä¸¤ä¸ªå¯¹è±¡çš„å†…å®¹æ˜¯å¦ç›¸ç­‰ï¼Œå³å†…å­˜åœ°å€å¯ä»¥ä¸ä¸€æ ·ï¼Œå†…å®¹ä¸€æ ·å°±å¯ä»¥äº†ã€‚</li></ul><p><code>==</code>åœ¨æ¯”è¾ƒç±»æ—¶ï¼Œä¼šé»˜è®¤è°ƒç”¨<code>object.__eq__</code>æ–¹æ³•ï¼Œé»˜è®¤æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡çš„åœ°å€ï¼ˆidï¼‰ã€‚</p><p>ç¬¬ä¸€ä¸ªä¾‹å­ï¼š<code>list1</code>å’Œ<code>list2</code>çš„å€¼ç›¸åŒï¼Œä½†<code>id</code>ä¸åŒï¼Œæ¥çœ‹çœ‹<code>is</code>å’Œ<code>==</code>çš„åŒºåˆ«ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>list1 = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]<br><span class="hljs-meta">&gt;&gt;&gt; </span>list2 = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]<br><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(<span class="hljs-built_in">id</span>(list1)) <br><span class="hljs-number">1759352803720</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(<span class="hljs-built_in">id</span>(list2))<br><span class="hljs-number">1759352804232</span><br><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(list1 == list2)  <br><span class="hljs-literal">True</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(list1 <span class="hljs-keyword">is</span> list2)  <br><span class="hljs-literal">False</span><br></code></pre></td></tr></table></figure><p>ç¬¬äºŒä¸ªä¾‹å­ï¼šç±»çš„æ¯”è¾ƒï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Cat</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, name, sex</span>):<br>        self.name = name<br>        self.sex = sex<br><br><br><span class="hljs-meta">&gt;&gt;&gt; </span>c1 = Cat(<span class="hljs-string">&#x27;å°ç™½&#x27;</span>, <span class="hljs-number">2</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>c2 = Cat(<span class="hljs-string">&#x27;å°ç™½&#x27;</span>, <span class="hljs-number">2</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(c1.__dict__)  <br>&#123;<span class="hljs-string">&#x27;name&#x27;</span>: <span class="hljs-string">&#x27;å°ç™½&#x27;</span>, <span class="hljs-string">&#x27;sex&#x27;</span>: <span class="hljs-number">2</span>&#125;<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(c2.__dict__) <br>&#123;<span class="hljs-string">&#x27;name&#x27;</span>: <span class="hljs-string">&#x27;å°ç™½&#x27;</span>, <span class="hljs-string">&#x27;sex&#x27;</span>: <span class="hljs-number">2</span>&#125;<br><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(c1 == c2)  <span class="hljs-comment"># ==æ¯”è¾ƒæ—¶é»˜è®¤è°ƒç”¨object.__eq__æ–¹æ³•ï¼Œé»˜è®¤æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡çš„åœ°å€</span><br><span class="hljs-literal">False</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(c1 <span class="hljs-keyword">is</span> c2) <br><span class="hljs-literal">False</span><br></code></pre></td></tr></table></figure><p>é‡å†™<code>__eq__()</code>æ–¹æ³•ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Cat</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, name, sex</span>):<br>        self.name = name<br>        self.sex = sex<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__eq__</span>(<span class="hljs-params">self, other</span>):<br>        <span class="hljs-keyword">return</span> self.__dict__ == other.__dict__<br><br><br><span class="hljs-meta">&gt;&gt;&gt; </span>c1 = Cat(<span class="hljs-string">&#x27;å°ç™½&#x27;</span>, <span class="hljs-number">2</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>c2 = Cat(<span class="hljs-string">&#x27;å°ç™½&#x27;</span>, <span class="hljs-number">2</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(c1.__dict__)  <br>&#123;<span class="hljs-string">&#x27;name&#x27;</span>: <span class="hljs-string">&#x27;å°ç™½&#x27;</span>, <span class="hljs-string">&#x27;sex&#x27;</span>: <span class="hljs-number">2</span>&#125;<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(c2.__dict__) <br>&#123;<span class="hljs-string">&#x27;name&#x27;</span>: <span class="hljs-string">&#x27;å°ç™½&#x27;</span>, <span class="hljs-string">&#x27;sex&#x27;</span>: <span class="hljs-number">2</span>&#125;<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(c1 == c2)  <span class="hljs-comment"># ==æ¯”è¾ƒæ—¶é»˜è®¤è°ƒç”¨object.__eq__æ–¹æ³•ï¼Œé»˜è®¤æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡çš„åœ°å€</span><br><span class="hljs-literal">True</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(c1 <span class="hljs-keyword">is</span> c2) <br><span class="hljs-literal">False</span><br></code></pre></td></tr></table></figure><h3 id="10-bool"><a href="#10-bool" class="headerlink" title="10.__bool__"></a>10.<code>__bool__</code></h3><ul><li>è§¦å‘æ—¶æœºï¼šä½¿ç”¨<code>bool(å¯¹è±¡)</code>çš„æ—¶å€™è‡ªåŠ¨è§¦å‘</li><li>åŠŸèƒ½ï¼šå¼ºè½¬å¯¹è±¡</li><li>å‚æ•°ï¼šä¸€ä¸ª<code>self</code>æ¥å—å½“å‰å¯¹è±¡</li><li>è¿”å›å€¼ï¼šå¿…é¡»æ˜¯å¸ƒå°”ç±»å‹</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Cat</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, name, sex</span>):<br>        self.name = name<br>        self.sex = sex<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__bool__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span><br><br><br><span class="hljs-meta">&gt;&gt;&gt; </span>cat = Cat(<span class="hljs-string">&quot;å°ç™½&quot;</span>, <span class="hljs-string">&quot;å…¬&quot;</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(<span class="hljs-built_in">bool</span>(cat))<br><span class="hljs-literal">True</span><br></code></pre></td></tr></table></figure><h3 id="11-add"><a href="#11-add" class="headerlink" title="11.__add__"></a>11.<code>__add__</code></h3><p><code>__add__</code>ä¸<code>__radd__</code>éƒ½æ˜¯åšåŠ æ³•ï¼Œåªæ˜¯åŠ æ³•çš„é¡ºåºä¸ä¸€æ ·ï¼Œä¼šè°ƒç”¨ä¸åŒçš„é­”æ³•å‡½æ•°ã€‚</p><ul><li>è§¦å‘æ—¶æœºï¼šä½¿ç”¨å¯¹è±¡è¿›è¡Œè¿ç®—ç›¸åŠ çš„æ—¶å€™è‡ªåŠ¨è§¦å‘</li><li>åŠŸèƒ½ï¼šå¯¹è±¡è¿ç®—</li><li>å‚æ•°ï¼šä¸¤ä¸ªå¯¹è±¡å‚æ•°</li><li>è¿”å›å€¼ï¼šè¿ç®—åçš„å€¼</li></ul><p>å¯¹è±¡åœ¨åŠ å·çš„å·¦ä¾§æ—¶ï¼Œè‡ªåŠ¨è°ƒç”¨<code>__add__()</code>å‡½æ•°ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Sum</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, num</span>):<br>        self.num = num<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__add__</span>(<span class="hljs-params">self, other</span>):  <span class="hljs-comment"># å¯¹è±¡åœ¨åŠ å·+çš„å·¦ä¾§æ—¶,è‡ªåŠ¨è§¦å‘</span><br>        <span class="hljs-keyword">return</span> self.num + other<br><br><br><span class="hljs-meta">&gt;&gt;&gt; </span>value = Sum(<span class="hljs-number">7</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>res = value + <span class="hljs-number">8</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(res)<br><span class="hljs-number">15</span><br></code></pre></td></tr></table></figure><p>å¯¹è±¡åœ¨åŠ å·çš„å³ä¾§æ—¶ï¼Œè‡ªåŠ¨è°ƒç”¨<code>__radd__()</code>å‡½æ•°ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Sum</span>():<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, num</span>):<br>        self.num = num<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__radd__</span>(<span class="hljs-params">self, other</span>):  <br>        <span class="hljs-keyword">return</span> self.num + other<br><br><br><span class="hljs-meta">&gt;&gt;&gt; </span>value = Sum(<span class="hljs-number">7</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>res = <span class="hljs-number">10</span> + value<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(res)<br><span class="hljs-number">17</span><br></code></pre></td></tr></table></figure><p>ä¸¾ä¾‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Sum1</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, num</span>):<br>        self.num = num<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__add__</span>(<span class="hljs-params">self, other</span>):<br>        <span class="hljs-keyword">return</span> self.num + other<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Sum2</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, num</span>):<br>        self.num = num<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__radd__</span>(<span class="hljs-params">self, other</span>):<br>        <span class="hljs-keyword">return</span> self.num * <span class="hljs-number">2</span> + other<br><br><br><span class="hljs-meta">&gt;&gt;&gt; </span>value1 = Sum1(<span class="hljs-number">10</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>value2 = Sum2(<span class="hljs-number">7</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>res = value1 + value2<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(res)<br></code></pre></td></tr></table></figure><p>åˆ†æï¼šé¦–å…ˆå°†<code>res=value1+value2</code>ä¼ å…¥<code>Sum1</code>ä¸­ï¼Œå¾—å‡ºå€¼<code>res=10+value2</code>ï¼Œå†å°†<code>res=10+value2</code>ä¼ å…¥<code>Sum2</code>ä¸­ï¼Œæ‰€ä»¥<code>res=14+10=24</code>ã€‚</p><h3 id="12-len"><a href="#12-len" class="headerlink" title="12.__len__"></a>12.<code>__len__</code></h3><ul><li>è§¦å‘æ—¶æœºï¼šä½¿ç”¨lenå¯¹è±¡çš„æ—¶å€™è‡ªåŠ¨è§¦å‘</li><li>åŠŸèƒ½ï¼šç”¨äºæ£€æµ‹å¯¹è±¡ä¸­æˆ–è€…ç±»ä¸­æˆå‘˜ä¸ªæ•°</li><li>å‚æ•°ï¼šä¸€ä¸ªselfæ¥æ”¶å½“å‰å¯¹è±¡</li><li>è¿”å›å€¼ï¼šå¿…é¡»æ˜¯<strong>æ•´å‹</strong></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">List</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        self.num = []<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">add</span>(<span class="hljs-params">self, x</span>):<br>        self.num.append(x)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__len__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">len</span>(self.num)<br><br><br><span class="hljs-meta">&gt;&gt;&gt; </span>l = <span class="hljs-type">List</span>()<br><span class="hljs-meta">&gt;&gt;&gt; </span>l.add(<span class="hljs-number">2</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(<span class="hljs-built_in">len</span>(l))<br></code></pre></td></tr></table></figure><h3 id="13-dict"><a href="#13-dict" class="headerlink" title="13.__dict__"></a>13.<code>__dict__</code></h3><p>è·å–ç±»æˆ–å¯¹è±¡çš„çš„<strong>å†…éƒ¨æˆå‘˜ç»“æ„</strong>ã€‚ä¸»è¦ç”¨æ¥è·å–ç”¨æˆ·è‡ªå®šä¹‰çš„å±æ€§ï¼Œä»¥åŠè¿™ä¸ªå±æ€§å¯¹åº”çš„å€¼ã€‚è¿”å›çš„æ˜¯ä¸€ä¸ª<strong>å­—å…¸</strong>ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span>():<br>    name1 = <span class="hljs-string">&quot;Lsir&quot;</span><br>    name2 = <span class="hljs-string">&quot;Wsir&quot;</span><br>    name3 = <span class="hljs-string">&quot;Zsir&quot;</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">task1</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;task1&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">task2</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;tesk2&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">task3</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;task3&quot;</span>)<br><br><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(MyClass.__dict__)<br>&#123;<span class="hljs-string">&#x27;__module__&#x27;</span>: <span class="hljs-string">&#x27;__main__&#x27;</span>, <span class="hljs-string">&#x27;name1&#x27;</span>: <span class="hljs-string">&#x27;Lsir&#x27;</span>, <span class="hljs-string">&#x27;name2&#x27;</span>: <span class="hljs-string">&#x27;Wsir&#x27;</span>, <span class="hljs-string">&#x27;name3&#x27;</span>: <span class="hljs-string">&#x27;Zsir&#x27;</span>, <span class="hljs-string">&#x27;task1&#x27;</span>: &lt;function MyClass.task1 at <span class="hljs-number">0x0000020C16385558</span>&gt;, <span class="hljs-string">&#x27;task2&#x27;</span>: &lt;function MyClass.task2 at <span class="hljs-number">0x0000020C16385D38</span>&gt;, <span class="hljs-string">&#x27;task3&#x27;</span>: &lt;function MyClass.task3 at <span class="hljs-number">0x0000020C16385708</span>&gt;, <span class="hljs-string">&#x27;__dict__&#x27;</span>: &lt;attribute <span class="hljs-string">&#x27;__dict__&#x27;</span> of <span class="hljs-string">&#x27;MyClass&#x27;</span> objects&gt;, <span class="hljs-string">&#x27;__weakref__&#x27;</span>: &lt;attribute <span class="hljs-string">&#x27;__weakref__&#x27;</span> of <span class="hljs-string">&#x27;MyClass&#x27;</span> objects&gt;, <span class="hljs-string">&#x27;__doc__&#x27;</span>: <span class="hljs-literal">None</span>&#125;<br></code></pre></td></tr></table></figure><p>å’Œ<code>dir</code>å‡½æ•°åšä¸€ä¸ªåŒºåˆ†ã€‚<code>dir</code>å‡½æ•°è¿”å›çš„æ˜¯è¿™ä¸ªå¯¹è±¡ä¸Šæ‹¥æœ‰çš„æ‰€æœ‰å±æ€§ï¼ŒåŒ…æ‹¬Pythonå†…ç½®çš„å±æ€§å’Œç”¨æˆ·è‡ªå·±æ·»åŠ çš„ï¼Œå¹¶ä¸”åªæ˜¯è·å–å±æ€§åå­—ï¼Œä¸ä¼šè·å–è¿™ä¸ªå±æ€§å¯¹åº”çš„å€¼ã€‚</p><h3 id="14-doc"><a href="#14-doc" class="headerlink" title="14.__doc__"></a>14.<code>__doc__</code></h3><p>è·å–ç±»æˆ–å¯¹è±¡å†…éƒ¨æ–‡æ¡£ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span>():<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        æˆ‘æ˜¯ä¸€ä¸ªç±»ï¼Œè¿™é‡Œè¯´æ˜ä¸€äº›æœ‰ç”¨çš„ä¿¡æ¯</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">pass</span><br><br><br><span class="hljs-built_in">print</span>(MyClass.__doc__)<br><br>        æˆ‘æ˜¯ä¸€ä¸ªç±»ï¼Œè¿™é‡Œè¯´æ˜ä¸€äº›æœ‰ç”¨çš„ä¿¡æ¯<br>    <br></code></pre></td></tr></table></figure><h3 id="15-name"><a href="#15-name" class="headerlink" title="15.__name__"></a>15.<code>__name__</code></h3><p>è·å–ç±»åæˆ–å‡½æ•°å</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Class1</span>:<br>    <span class="hljs-keyword">pass</span><br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">task1</span>(<span class="hljs-params">self, func1</span>):<br>        <span class="hljs-built_in">print</span>(func1.__name__)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">func</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æˆ‘æ˜¯func1å‡½æ•°&quot;</span>)<br><br><br><span class="hljs-meta">&gt;&gt;&gt; </span>obj = MyClass()<br><span class="hljs-meta">&gt;&gt;&gt; </span>obj.task1(func)<br>func<br><span class="hljs-meta">&gt;&gt;&gt; </span>obj.task1(Class1)<br>Class1<br></code></pre></td></tr></table></figure><h3 id="16-class"><a href="#16-class" class="headerlink" title="16.__class__"></a>16.<code>__class__</code></h3><p>è·å–å½“å‰å¯¹è±¡è·å–çš„ç±»</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Class1</span>:<br>    <span class="hljs-keyword">pass</span><br><br><br><span class="hljs-meta">&gt;&gt;&gt; </span>obj = Class1()<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(obj.__class__)<br>&lt;<span class="hljs-keyword">class</span> <span class="hljs-string">&#x27;__main__.Class1&#x27;</span>&gt;<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(obj.__class__.__name__)<br>Class1<br></code></pre></td></tr></table></figure><h3 id="17-bases"><a href="#17-bases" class="headerlink" title="17.__bases__"></a>17.<code>__bases__</code></h3><p>è·å–ä¸€ä¸ªç±»ç›´æ¥ç»§æ‰¿çš„æ‰€æœ‰çˆ¶ç±»ï¼Œè¿”å›å…ƒç»„ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Class1</span>:<br>    <span class="hljs-keyword">pass</span><br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Class2</span>:<br>    <span class="hljs-keyword">pass</span><br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span>(Class1, Class2):<br>    <span class="hljs-keyword">pass</span><br><br><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(MyClass.__bases__)<br>(&lt;<span class="hljs-keyword">class</span> <span class="hljs-string">&#x27;__main__.Class1&#x27;</span>&gt;, &lt;<span class="hljs-keyword">class</span> <span class="hljs-string">&#x27;__main__.Class2&#x27;</span>&gt;)<br></code></pre></td></tr></table></figure><h3 id="18-getattr"><a href="#18-getattr" class="headerlink" title="18.__getattr__"></a>18.<code>__getattr__</code></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Base</span>:<br>    n = <span class="hljs-number">0</span><br>    <br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Point</span>(<span class="hljs-title class_ inherited__">Base</span>):<br>    z = <span class="hljs-number">6</span><br>    <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, x, y</span>):<br>        self.x = x<br>        self.y = y<br>        <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">show</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(self.x, self.y)<br>        <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__getattr__</span>(<span class="hljs-params">self, item</span>):<br>        <span class="hljs-keyword">return</span> item<br>    <br><span class="hljs-meta">&gt;&gt;&gt; </span>p1.x<br><span class="hljs-number">4</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>p1.z<br><span class="hljs-number">6</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>p1.n<br><span class="hljs-number">0</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>p1.t<br><span class="hljs-string">&#x27;t&#x27;</span><br></code></pre></td></tr></table></figure><p>å®ä¾‹å±æ€§ä¼šæŒ‰ç…§<strong>ç»§æ‰¿å…³ç³»</strong>å¯»æ‰¾ï¼Œå¦‚æœæ‰¾ä¸åˆ°ï¼Œå°±ä¼šæ‰§è¡Œ<code>__getattr__()</code>æ–¹æ³•ï¼Œå¦‚æœæ²¡æœ‰è¿™ä¸ªæ–¹æ³•ï¼Œå°±ä¼šæŠ›å‡º<code>AttributeError</code>å¼‚å¸¸æ ‡è¯†æ‰¾ä¸åˆ°å±æ€§ã€‚</p><h3 id="19-setattr"><a href="#19-setattr" class="headerlink" title="19.__setattr__"></a>19.<code>__setattr__</code></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Base</span>:<br>    n = <span class="hljs-number">0</span><br>    <br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Point</span>(<span class="hljs-title class_ inherited__">Base</span>):<br>    z = <span class="hljs-number">6</span><br>    <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, x, y</span>):<br>        self.x = x<br>        self.y = y<br>        <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">show</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(self.x, self.y)<br>        <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__getattr__</span>(<span class="hljs-params">self, item</span>):<br>        <span class="hljs-keyword">return</span> item<br>    <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__setattr__</span>(<span class="hljs-params">self, key, value</span>):<br>        <span class="hljs-built_in">print</span>(key, value)<br>        <br><span class="hljs-comment"># --------------------------------------------------</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>p1 = Point(<span class="hljs-number">4</span>, <span class="hljs-number">5</span>)<br>x <span class="hljs-number">4</span><br>y <span class="hljs-number">5</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(p1.x)<br>x<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(p1.z)<br><span class="hljs-number">6</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(p1.n)<br><span class="hljs-number">0</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(p1.t)<br>t<br><span class="hljs-comment"># --------------------------------------------------</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>p1.x = <span class="hljs-number">50</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(p1.x)<br>x<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(p1.__dict__)<br>&#123;&#125;<br><span class="hljs-meta">&gt;&gt;&gt; </span>p1.__dict__[<span class="hljs-string">&#x27;x&#x27;</span>] = <span class="hljs-number">60</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(p1.__dict__)<br>&#123;<span class="hljs-string">&#x27;x&#x27;</span>: <span class="hljs-number">60</span>&#125;<br><span class="hljs-meta">&gt;&gt;&gt; </span>p1.x<br><span class="hljs-number">60</span><br></code></pre></td></tr></table></figure><p>å®ä¾‹é€šè¿‡<code>.</code>ç‚¹å·è®¾ç½®å±æ€§ï¼Œä¾‹å¦‚<code>self.x=x</code>ï¼Œå°±ä¼šè°ƒç”¨<code>__setattr__()</code>ï¼Œå±æ€§è¦åŠ åˆ°å®ä¾‹çš„<code>__dict__</code>ä¸­ï¼Œå°±éœ€è¦è‡ªå·±å®Œæˆã€‚</p><p><code>setattr()</code>æ–¹æ³•ï¼Œå¯ä»¥æ‹¦æˆªå †å®ä¾‹å±æ€§çš„å¢åŠ ï¼Œä¿®æ”¹æ“ä½œï¼Œå¦‚æœè¦è®¾ç½®ç”Ÿæ•ˆï¼Œéœ€è¦è‡ªå·±æ“ä½œå®ä¾‹çš„<code>__dict__</code>ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Base</span>:<br>    n = <span class="hljs-number">200</span><br>    <br><span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span>(<span class="hljs-title class_ inherited__">Base</span>):<br>    z = <span class="hljs-number">100</span><br>    d = &#123;&#125;<br>    <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, x, y</span>):<br>        self.x = x<br>        <span class="hljs-built_in">setattr</span>(self, <span class="hljs-string">&#x27;y&#x27;</span>, y)<br>        self.__dict__[<span class="hljs-string">&#x27;a&#x27;</span>] = <span class="hljs-number">5</span><br>        <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__getattr__</span>(<span class="hljs-params">self, item</span>):<br>        <span class="hljs-built_in">print</span>(item)<br>        <span class="hljs-keyword">return</span> self.d[item]<br>    <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__setattr__</span>(<span class="hljs-params">self, key, value</span>):<br>        <span class="hljs-built_in">print</span>(key, value)<br>        self.d[key] = value<br>        <br><span class="hljs-meta">&gt;&gt;&gt; </span>a = A(<span class="hljs-number">4</span>, <span class="hljs-number">5</span>)<br>x <span class="hljs-number">4</span><br>y <span class="hljs-number">5</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(a.__dict__)<br>&#123;<span class="hljs-string">&#x27;a&#x27;</span>: <span class="hljs-number">5</span>&#125;<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(A.__dict__)<br>A.__dict__<br>mappingproxy(&#123;<span class="hljs-string">&#x27;__module__&#x27;</span>: <span class="hljs-string">&#x27;__main__&#x27;</span>,<br>              <span class="hljs-string">&#x27;z&#x27;</span>: <span class="hljs-number">100</span>,<br>              <span class="hljs-string">&#x27;d&#x27;</span>: &#123;<span class="hljs-string">&#x27;x&#x27;</span>: <span class="hljs-number">4</span>, <span class="hljs-string">&#x27;y&#x27;</span>: <span class="hljs-number">5</span>&#125;,<br>              <span class="hljs-string">&#x27;__init__&#x27;</span>: &lt;function __main__.A.__init__(self, x, y)&gt;,<br>              <span class="hljs-string">&#x27;__getattr__&#x27;</span>: &lt;function __main__.A.__getattr__(self, item)&gt;,<br>              <span class="hljs-string">&#x27;__setattr__&#x27;</span>: &lt;function __main__.A.__setattr__(self, key, value)&gt;,<br>              <span class="hljs-string">&#x27;__doc__&#x27;</span>: <span class="hljs-literal">None</span>&#125;)<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(a.x, a.y)<br>x<br>y<br><span class="hljs-number">4</span> <span class="hljs-number">5</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(a.a)<br><span class="hljs-number">5</span><br></code></pre></td></tr></table></figure><h3 id="20-delattr"><a href="#20-delattr" class="headerlink" title="20.__delattr__"></a>20.<code>__delattr__</code></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Point</span>:<br>    z = <span class="hljs-number">5</span><br>    <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, x, y</span>):<br>        self.x = x<br>        self.y = y<br>        <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__delattr__</span>(<span class="hljs-params">self, item</span>):<br>        <span class="hljs-built_in">print</span>(item)<br>        p = Point(<span class="hljs-number">14</span>, <span class="hljs-number">5</span>)<br><br>        <br><span class="hljs-meta">&gt;&gt;&gt; </span>p = Point(<span class="hljs-number">3</span>, <span class="hljs-number">4</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">del</span> p.x<br>x<br><span class="hljs-meta">&gt;&gt;&gt; </span>p.z=<span class="hljs-number">15</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">del</span> p.z<br>z<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">del</span> p.Z        <br>Z<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(Point.__dict__)<br>&#123;<span class="hljs-string">&#x27;__module__&#x27;</span>: <span class="hljs-string">&#x27;__main__&#x27;</span>, <span class="hljs-string">&#x27;z&#x27;</span>: <span class="hljs-number">5</span>, <span class="hljs-string">&#x27;__init__&#x27;</span>: &lt;function Point.__init__ at <span class="hljs-number">0x0000019E93B01318</span>&gt;, <span class="hljs-string">&#x27;__delattr__&#x27;</span>: &lt;function Point.__delattr__ at <span class="hljs-number">0x0000019E93B013A8</span>&gt;, <span class="hljs-string">&#x27;__dict__&#x27;</span>: &lt;attribute <span class="hljs-string">&#x27;__dict__&#x27;</span> of <span class="hljs-string">&#x27;Point&#x27;</span> objects&gt;, <span class="hljs-string">&#x27;__weakref__&#x27;</span>: &lt;attribute <span class="hljs-string">&#x27;__weakref__&#x27;</span> of <span class="hljs-string">&#x27;Point&#x27;</span> objects&gt;, <span class="hljs-string">&#x27;__doc__&#x27;</span>: <span class="hljs-literal">None</span>&#125;<br></code></pre></td></tr></table></figure><h3 id="21-getattribute"><a href="#21-getattribute" class="headerlink" title="21.__getattribute__"></a>21.<code>__getattribute__</code></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Base</span>:<br>    n = <span class="hljs-number">0</span><br>    <br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Point</span>(<span class="hljs-title class_ inherited__">Base</span>):<br>    z = <span class="hljs-number">6</span><br>    <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, x, y</span>):<br>        self.x = x<br>        self.y = y<br>        <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__getattr__</span>(<span class="hljs-params">self, item</span>):<br>        <span class="hljs-keyword">return</span> item<br>    <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__getattribute__</span>(<span class="hljs-params">self, item</span>):<br>        <span class="hljs-keyword">return</span> item<br>     <br><span class="hljs-meta">&gt;&gt;&gt; </span>p1 = Point(<span class="hljs-number">4</span>, <span class="hljs-number">5</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(p1.__dict__)<br>__dict__<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(p1.x)<br>x<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(p1.z)<br>z<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(p1.n)<br>n<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(p1.t)<br>t<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(Point.__dict__)<br>&#123;<span class="hljs-string">&#x27;__module__&#x27;</span>: <span class="hljs-string">&#x27;__main__&#x27;</span>, <span class="hljs-string">&#x27;z&#x27;</span>: <span class="hljs-number">6</span>, <span class="hljs-string">&#x27;__init__&#x27;</span>: &lt;function Point.__init__ at <span class="hljs-number">0x000001F5EB7063A8</span>&gt;, <span class="hljs-string">&#x27;__getattr__&#x27;</span>: &lt;function Point.__getattr__ at <span class="hljs-number">0x000001F5EB706558</span>&gt;, <span class="hljs-string">&#x27;__getattribute__&#x27;</span>: &lt;function Point.__getattribute__ at <span class="hljs-number">0x000001F5EB706168</span>&gt;, <span class="hljs-string">&#x27;__doc__&#x27;</span>: <span class="hljs-literal">None</span>&#125;<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(Point.z)<br><span class="hljs-number">6</span><br></code></pre></td></tr></table></figure><p>å®ä¾‹çš„æ‰€æœ‰çš„å±æ€§è®¿é—®ï¼Œç¬¬ä¸€ä¸ªéƒ½ä¼šè°ƒç”¨__getattribute__æ–¹æ³•ï¼Œå®ƒé˜»æ­¢äº†å±æ€§çš„æŸ¥æ‰¾ï¼Œè¯¥æ–¹æ³•åº”è¯¥è¿”å›å€¼æˆ–è€…æŠ›å‡ºä¸€ä¸ªAttributeErrorå¼‚å¸¸ã€‚</p><ul><li>è¯¥æ–¹æ³•çš„è¿”å›å€¼å°†ä½œä¸ºå±æ€§æŸ¥æ‰¾çš„ç»“æœã€‚</li><li>å¦‚æœæŠ›å‡º<code>AttributeError</code>å¼‚å¸¸ï¼Œåˆ™ä¼šç›´æ¥è°ƒç”¨<code>__getattr__</code>æ–¹æ³•ï¼Œå› ä¸ºå±æ€§æ²¡æœ‰æ‰¾åˆ°ï¼Œ<code>__getattribute__</code>æ–¹æ³•ä¸­ä¸ºäº†é¿å…åœ¨è¯¥æ–¹æ³•ä¸­æ— é™é€’å½’ï¼Œå®ƒçš„å®ç°åº”è¯¥æ°¸è¿œè°ƒç”¨åŸºç±»çš„åŒåæ–¹æ³•ä»¥è®¿é—®éœ€è¦çš„ä»»ä½•å±æ€§ã€‚</li></ul><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œé™¤éæ˜ç¡®çŸ¥é“__getattrtbute__æ–¹æ³•ç”¨æ¥åšä»€ä¹ˆï¼Œå¦åˆ™ä¸è¦ä½¿ç”¨ã€‚</p><h2 id="3-å®ä¾‹"><a href="#3-å®ä¾‹" class="headerlink" title="3.å®ä¾‹"></a>3.å®ä¾‹</h2><h3 id="3-1-setitemå’Œgetitem"><a href="#3-1-setitemå’Œgetitem" class="headerlink" title="3.1 setitemå’Œgetitem"></a>3.1 setitemå’Œgetitem</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        self.data = &#123;&#125;<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__setitem__</span>(<span class="hljs-params">self, key, value</span>):<br>        self.data[key] = value<br><br><span class="hljs-comment"># åˆ›å»º MyClass å®ä¾‹</span><br>obj = MyClass()<br><br><span class="hljs-comment"># ä½¿ç”¨ square bracket notation è¿›è¡Œèµ‹å€¼</span><br>obj[<span class="hljs-string">&#x27;name&#x27;</span>] = <span class="hljs-string">&#x27;John&#x27;</span><br>obj[<span class="hljs-string">&#x27;age&#x27;</span>] = <span class="hljs-number">30</span><br><br><span class="hljs-comment"># æ‰“å°ç»“æœ</span><br><span class="hljs-built_in">print</span>(obj.data)<br></code></pre></td></tr></table></figure><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>__setitem__</code> æ–¹æ³•å…è®¸æˆ‘ä»¬ä½¿ç”¨ç±»ä¼¼å­—å…¸èµ‹å€¼çš„è¯­æ³•ï¼ˆ<code>obj[&#39;name&#39;] = &#39;John&#39;</code>ï¼‰å°†æ•°æ®å­˜å‚¨åˆ° <code>MyClass</code> å®ä¾‹ä¸­ã€‚åœ¨è¿™é‡Œï¼Œ<code>obj.data</code> å°†åŒ…å«é”®å€¼å¯¹ <code>&#123;&#39;name&#39;: &#39;John&#39;, &#39;age&#39;: 30&#125;</code>ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        self.data = &#123;<span class="hljs-string">&#x27;name&#x27;</span>: <span class="hljs-string">&#x27;John&#x27;</span>, <span class="hljs-string">&#x27;age&#x27;</span>: <span class="hljs-number">30</span>&#125;<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__getitem__</span>(<span class="hljs-params">self, item</span>):<br>        <span class="hljs-keyword">return</span> self.data.get(item, <span class="hljs-literal">None</span>)<br><br><span class="hljs-comment"># åˆ›å»º MyClass å®ä¾‹</span><br>obj = MyClass()<br><br><span class="hljs-comment"># ä½¿ç”¨æ–¹æ‹¬å·è¡¨ç¤ºæ³•è·å–å…ƒç´ </span><br>name = obj[<span class="hljs-string">&#x27;name&#x27;</span>]<br>age = obj[<span class="hljs-string">&#x27;age&#x27;</span>]<br>unknown_key = obj[<span class="hljs-string">&#x27;unknown_key&#x27;</span>]<br><br><span class="hljs-comment"># æ‰“å°ç»“æœ</span><br><span class="hljs-built_in">print</span>(name)  <span class="hljs-comment"># è¾“å‡º: John</span><br><span class="hljs-built_in">print</span>(age)   <span class="hljs-comment"># è¾“å‡º: 30</span><br><span class="hljs-built_in">print</span>(unknown_key)  <span class="hljs-comment"># è¾“å‡º: Noneï¼Œå› ä¸ºé”® &#x27;unknown_key&#x27; åœ¨ data ä¸­ä¸å­˜åœ¨</span><br></code></pre></td></tr></table></figure><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>__getitem__</code> æ–¹æ³•å…è®¸æˆ‘ä»¬ä½¿ç”¨æ–¹æ‹¬å·è¡¨ç¤ºæ³•è·å– <code>MyClass</code> å®ä¾‹ä¸­çš„å…ƒç´ ã€‚å¦‚æœè¯·æ±‚çš„é”®åœ¨ <code>self.data</code> å­—å…¸ä¸­å­˜åœ¨ï¼Œåˆ™è¿”å›å¯¹åº”çš„å€¼ï¼›å¦åˆ™è¿”å› <code>None</code>ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>ç®—æ³• Ê•â‰§á´¥â‰¦Ê”</category>
      
      <category>Python</category>
      
      <category>Pythonæ–¹æ³•å’ŒæŠ€å·§</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>dataclassesåº“çš„ä½¿ç”¨ï¼â˜ƒï¸</title>
    <link href="/2023/12/07/%E7%AE%97%E6%B3%95/python/python%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/python%E4%B8%ADDataclasses%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
    <url>/2023/12/07/%E7%AE%97%E6%B3%95/python/python%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/python%E4%B8%ADDataclasses%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/</url>
    
    <content type="html"><![CDATA[<h1 id="dataclassesåº“çš„ä½¿ç”¨"><a href="#dataclassesåº“çš„ä½¿ç”¨" class="headerlink" title="dataclassesåº“çš„ä½¿ç”¨"></a>dataclassesåº“çš„ä½¿ç”¨</h1><h2 id="1-ç®€ä»‹"><a href="#1-ç®€ä»‹" class="headerlink" title="1.ç®€ä»‹"></a>1.ç®€ä»‹</h2><p><code>Dataclasses</code>æ˜¯ä¸€äº›é€‚åˆäºå­˜å‚¨æ•°æ®å¯¹è±¡ï¼ˆdata objectï¼‰çš„Pythonç±»ã€‚</p><p>ä»–ä»¬å­˜å‚¨å¹¶è¡¨ç¤ºç‰¹å®šçš„æ•°æ®ç±»å‹ã€‚ä¾‹å¦‚ï¼šä¸€ä¸ªæ•°å­—ã€‚</p><p>å¹¶ä¸”ä»–ä»¬èƒ½å¤Ÿè¢«ç”¨äºå’ŒåŒç±»å‹çš„å…¶ä»–å¯¹è±¡è¿›è¡Œæ¯”è¾ƒã€‚</p><h2 id="2-ç”¨æ³•"><a href="#2-ç”¨æ³•" class="headerlink" title="2.ç”¨æ³•"></a>2.ç”¨æ³•</h2><p>Python3.7 æä¾›äº†ä¸€ä¸ªè£…é¥°å™¨<code>dataclass</code>ï¼Œç”¨ä»¥æŠŠä¸€ä¸ªç±»è½¬åŒ–ä¸º<code>dataclass</code>ã€‚</p><p>ä½ éœ€è¦åšçš„å°±æ˜¯æŠŠç±»åŒ…è£¹è¿›è£…é¥°å™¨é‡Œï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> dataclasses <span class="hljs-keyword">import</span> dataclass<br><span class="hljs-meta">@dataclass</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span>:<br> ...<br></code></pre></td></tr></table></figure><h2 id="3-åˆå§‹åŒ–"><a href="#3-åˆå§‹åŒ–" class="headerlink" title="3.åˆå§‹åŒ–"></a>3.åˆå§‹åŒ–</h2><p>æ­£å¸¸çš„åˆå§‹åŒ–è¿‡ç¨‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Number</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, val</span>):<br>        self.val = val<br><span class="hljs-meta">&gt;&gt;&gt; </span>one = Number(<span class="hljs-number">1</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>one.val<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><p>ç”¨<code>dataclass</code>æ˜¯è¿™æ ·ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">@dataclass</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Number</span>:<br>    val:<span class="hljs-built_in">int</span> <br><span class="hljs-meta">&gt;&gt;&gt; </span>one = Number(<span class="hljs-number">1</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>one.val<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><p>ä»¥ä¸‹æ˜¯<code>dataclass</code>è£…é¥°å™¨å¸¦æ¥çš„å˜åŒ–ï¼š</p><ol><li>æ— éœ€å®šä¹‰<code>__init__</code>ï¼Œç„¶åå°†å€¼èµ‹ç»™<code>self</code>ï¼Œ<code>dataclass</code>è´Ÿè´£å¤„ç†å®ƒ</li><li>æˆ‘ä»¬ä»¥æ›´åŠ æ˜“è¯»çš„æ–¹å¼é¢„å…ˆå®šä¹‰äº†æˆå‘˜å±æ€§ï¼Œä»¥åŠ<strong>ç±»å‹æç¤º</strong>ã€‚æˆ‘ä»¬ç°åœ¨ç«‹å³èƒ½çŸ¥é“<code>val</code>æ˜¯<code>int</code>ç±»å‹ã€‚è¿™æ— ç–‘æ¯”ä¸€èˆ¬å®šä¹‰ç±»æˆå‘˜çš„æ–¹å¼æ›´å…·å¯è¯»æ€§ã€‚</li></ol><p>å®ƒä¹Ÿå¯ä»¥å®šä¹‰é»˜è®¤å€¼ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">@dataclass</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Number</span>:<br>    val:<span class="hljs-built_in">int</span> = <span class="hljs-number">0</span><br></code></pre></td></tr></table></figure><h2 id="4-è¡¨ç¤º"><a href="#4-è¡¨ç¤º" class="headerlink" title="4.è¡¨ç¤º"></a>4.è¡¨ç¤º</h2><p>å¯¹è±¡è¡¨ç¤ºæŒ‡çš„æ˜¯å¯¹è±¡çš„ä¸€ä¸ªæœ‰æ„ä¹‰çš„å­—ç¬¦ä¸²è¡¨ç¤ºï¼Œå®ƒåœ¨è°ƒè¯•æ—¶éå¸¸æœ‰ç”¨ã€‚</p><p>é»˜è®¤çš„ Python å¯¹è±¡è¡¨ç¤ºä¸æ˜¯å¾ˆç›´è§‚ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Number</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, val = <span class="hljs-number">0</span></span>):<br>    self.val = val<br><span class="hljs-meta">&gt;&gt;&gt; </span>a = Number(<span class="hljs-number">1</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>a<br><span class="hljs-meta">&gt;&gt;&gt; </span>&lt;__main__.Number <span class="hljs-built_in">object</span> at <span class="hljs-number">0x7ff395b2ccc0</span>&gt;<br></code></pre></td></tr></table></figure><p>è¿™è®©æˆ‘ä»¬æ— æ³•çŸ¥æ‚‰å¯¹è±¡çš„ä½œç”¨ï¼Œå¹¶ä¸”ä¼šå¯¼è‡´ç³Ÿç³•çš„è°ƒè¯•ä½“éªŒã€‚</p><p>ä¸€ä¸ªæœ‰æ„ä¹‰çš„è¡¨ç¤ºå¯ä»¥é€šè¿‡åœ¨ç±»ä¸­å®šä¹‰ä¸€ä¸ª<code>__repr__</code>æ–¹æ³•æ¥å®ç°ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">__repr__</span>(<span class="hljs-params">self</span>):<br>    <span class="hljs-keyword">return</span> self.val<br></code></pre></td></tr></table></figure><p>ç°åœ¨æˆ‘ä»¬å¾—åˆ°è¿™ä¸ªå¯¹è±¡æœ‰æ„ä¹‰çš„è¡¨ç¤ºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>a = Number(<span class="hljs-number">1</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>a<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><p><code>dataclass</code>ä¼šè‡ªåŠ¨æ·»åŠ ä¸€ä¸ª<code>__repr__</code>å‡½æ•°ï¼Œè¿™æ ·æˆ‘ä»¬å°±ä¸å¿…æ‰‹åŠ¨å®ç°å®ƒäº†ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">@dataclass</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Number</span>:<br>    val: <span class="hljs-built_in">int</span> = <span class="hljs-number">0</span><br><br><span class="hljs-meta">&gt;&gt;&gt; </span>a = Number(<span class="hljs-number">1</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>a<br><span class="hljs-meta">&gt;&gt;&gt; </span>Number(val = <span class="hljs-number">1</span>)<br></code></pre></td></tr></table></figure><h2 id="5-æ•°æ®æ¯”è¾ƒ"><a href="#5-æ•°æ®æ¯”è¾ƒ" class="headerlink" title="5.æ•°æ®æ¯”è¾ƒ"></a>5.æ•°æ®æ¯”è¾ƒ</h2><p>é€šå¸¸ï¼Œæ•°æ®å¯¹è±¡ä¹‹é—´éœ€è¦ç›¸äº’æ¯”è¾ƒã€‚</p><p>ä¸¤ä¸ªå¯¹è±¡<code>a</code>å’Œ<code>b</code>ä¹‹é—´çš„æ¯”è¾ƒé€šå¸¸åŒ…æ‹¬ä»¥ä¸‹æ“ä½œï¼š</p><ul><li>a &lt; b</li><li>a &gt; b</li><li>a &#x3D;&#x3D; b</li><li>a &gt;&#x3D; b</li><li>a &lt;&#x3D; b</li></ul><p>åœ¨ Python ä¸­ï¼Œèƒ½å¤Ÿåœ¨å¯ä»¥æ‰§è¡Œä¸Šè¿°æ“ä½œçš„ç±»ä¸­å®šä¹‰æ–¹æ³•ã€‚ä¸ºäº†ç®€å•èµ·è§ï¼Œåªå±•ç¤º<code>==</code>å’Œ<code>&lt;</code>çš„å®ç°ã€‚</p><p>é€šå¸¸è¿™æ ·å†™ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Number</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params"> self, val = <span class="hljs-number">0</span></span>):<br>       self.val = val<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__eq__</span>(<span class="hljs-params">self, other</span>):<br>        <span class="hljs-keyword">return</span> self.val == other.val<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__lt__</span>(<span class="hljs-params">self, other</span>):<br>        <span class="hljs-keyword">return</span> self.val &lt; other.val<br></code></pre></td></tr></table></figure><p>ä½¿ç”¨<code>dataclass</code>ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">@dataclass(<span class="hljs-params">order = <span class="hljs-literal">True</span></span>)</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Number</span>:<br>    val: <span class="hljs-built_in">int</span> = <span class="hljs-number">0</span><br></code></pre></td></tr></table></figure><p>æˆ‘ä»¬ä¸éœ€è¦å®šä¹‰<code>__eq__</code>å’Œ<code>__lt__</code>æ–¹æ³•ï¼Œå› ä¸ºå½“<code>order = True</code>è¢«è°ƒç”¨æ—¶ï¼Œ<code>dataclass è£…é¥°å™¨</code>ä¼šè‡ªåŠ¨å°†å®ƒä»¬æ·»åŠ åˆ°æˆ‘ä»¬çš„ç±»å®šä¹‰ä¸­ã€‚</p><p>å½“ä½ ä½¿ç”¨<code>dataclass</code>æ—¶ï¼Œå®ƒä¼šåœ¨ç±»å®šä¹‰ä¸­æ·»åŠ å‡½æ•°<code>__eq__</code>å’Œ<code>__lt__</code>ã€‚</p><p>ç”Ÿæˆ<code>__eq__</code>å‡½æ•°çš„ dataclass ç±»ä¼šæ¯”è¾ƒä¸¤ä¸ªå±æ€§æ„æˆçš„å…ƒç»„ï¼Œä¸€ä¸ªç”±è‡ªå·±å±æ€§æ„æˆçš„ï¼Œå¦ä¸€ä¸ªç”±åŒç±»çš„å…¶ä»–å®ä¾‹çš„å±æ€§æ„æˆã€‚åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œè‡ªåŠ¨ç”Ÿæˆçš„<code>__eq__</code>å‡½æ•°ç›¸å½“äºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">__eq__</span>(<span class="hljs-params">self, other</span>):<br>    <span class="hljs-keyword">return</span> (self.val,) == (other.val,)<br></code></pre></td></tr></table></figure><p>è®©æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªæ›´è¯¦ç»†çš„ä¾‹å­ï¼š</p><p>æˆ‘ä»¬ä¼šç¼–å†™ä¸€ä¸ª<code>dataclass</code>ç±»<code>Person</code>æ¥ä¿å­˜<code>name</code>å’Œ<code>age</code>ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">@dataclass(<span class="hljs-params">order = <span class="hljs-literal">True</span></span>)</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span>:<br>    name: <span class="hljs-built_in">str</span><br>    age:<span class="hljs-built_in">int</span> = <span class="hljs-number">0</span><br></code></pre></td></tr></table></figure><p>è‡ªåŠ¨ç”Ÿæˆçš„<code>__eq__</code>æ–¹æ³•ç­‰åŒäºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">__eq__</span>(<span class="hljs-params">self, other</span>):<br>    <span class="hljs-keyword">return</span> (self.name, self.age) == ( other.name, other.age)<br></code></pre></td></tr></table></figure><p>è¯·æ³¨æ„å±æ€§çš„é¡ºåºã€‚å®ƒä»¬æ€»æ˜¯æŒ‰ç…§ä½ åœ¨<code>dataclass</code>ç±»ä¸­å®šä¹‰çš„é¡ºåºç”Ÿæˆã€‚</p><p>åŒæ ·ï¼Œç­‰æ•ˆçš„<code>__le__</code>å‡½æ•°ç±»ä¼¼äºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">__le__</span>(<span class="hljs-params">self, other</span>):<br>    <span class="hljs-keyword">return</span> (self.name, self.age) &lt;= (other.name, other.age)<br></code></pre></td></tr></table></figure><h2 id="6-dataclass-ä½œä¸ºä¸€ä¸ªå¯è°ƒç”¨çš„è£…é¥°å™¨"><a href="#6-dataclass-ä½œä¸ºä¸€ä¸ªå¯è°ƒç”¨çš„è£…é¥°å™¨" class="headerlink" title="6.dataclass ä½œä¸ºä¸€ä¸ªå¯è°ƒç”¨çš„è£…é¥°å™¨"></a>6.dataclass ä½œä¸ºä¸€ä¸ªå¯è°ƒç”¨çš„è£…é¥°å™¨</h2><p>å®šä¹‰æ‰€æœ‰çš„<strong>é­”æ³•æ–¹æ³•</strong>ï¼ˆä¸‹ä¸€ç¯‡è¯¦ç»†ä»‹ç»ï¼‰å¹¶ä¸æ€»æ˜¯å€¼å¾—çš„ã€‚ä½ çš„ç”¨ä¾‹å¯èƒ½åªåŒ…æ‹¬å­˜å‚¨å€¼å’Œæ£€æŸ¥ç›¸ç­‰æ€§ã€‚å› æ­¤ï¼Œä½ åªéœ€å®šä¹‰<code>__init__</code>å’Œ<code>__eq__</code>æ–¹æ³•ã€‚å¦‚æœæˆ‘ä»¬å¯ä»¥å‘Šè¯‰è£…é¥°å™¨ä¸ç”Ÿæˆå…¶ä»–æ–¹æ³•ï¼Œé‚£ä¹ˆå®ƒä¼šå‡å°‘ä¸€äº›å¼€é”€ï¼Œå¹¶ä¸”æˆ‘ä»¬å°†åœ¨æ•°æ®å¯¹è±¡ä¸Šæœ‰æ­£ç¡®çš„æ“ä½œã€‚</p><p>å¹¸è¿çš„æ˜¯ï¼Œè¿™å¯ä»¥é€šè¿‡å°†<code>dataclass</code>è£…é¥°å™¨ä½œä¸ºå¯è°ƒç”¨å¯¹è±¡æ¥å®ç°ã€‚</p><p>è£…é¥°å™¨å¯ä»¥ç”¨ä½œå…·æœ‰å¦‚ä¸‹å‚æ•°çš„å¯è°ƒç”¨å¯¹è±¡ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">@dataclass(<span class="hljs-params">init=<span class="hljs-literal">True</span>, <span class="hljs-built_in">repr</span>=<span class="hljs-literal">True</span>, eq=<span class="hljs-literal">True</span>, order=<span class="hljs-literal">False</span>, unsafe_hash=<span class="hljs-literal">False</span>, frozen=<span class="hljs-literal">False</span></span>)</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">C</span>:<br> â€¦<br></code></pre></td></tr></table></figure><ul><li><code>init</code>ï¼šé»˜è®¤å°†ç”Ÿæˆ<code>__init__</code>æ–¹æ³•ã€‚å¦‚æœä¼ å…¥<code>False</code>ï¼Œé‚£ä¹ˆè¯¥ç±»å°†ä¸ä¼šæœ‰<code>__init__</code>æ–¹æ³•ã€‚</li><li><code>repr</code>ï¼š<code>__repr__</code>æ–¹æ³•é»˜è®¤ç”Ÿæˆã€‚å¦‚æœä¼ å…¥<code>False</code>ï¼Œé‚£ä¹ˆè¯¥ç±»å°†ä¸ä¼šæœ‰<code>__repr__</code>æ–¹æ³•ã€‚</li><li><code>eq</code>ï¼šé»˜è®¤å°†ç”Ÿæˆ<code>__eq__</code>æ–¹æ³•ã€‚å¦‚æœä¼ å…¥<code>False</code>ï¼Œé‚£ä¹ˆ<code>__eq__</code>æ–¹æ³•å°†ä¸ä¼šè¢«<code>dataclass</code>æ·»åŠ ï¼Œä½†é»˜è®¤ä¸º<code>object.__eq__</code>ã€‚</li><li><code>order</code>ï¼šé»˜è®¤å°†ç”Ÿæˆ<code>__gt__</code>ã€<code>__ge__</code>ã€<code>__lt__</code>ã€<code>__le__</code>æ–¹æ³•ã€‚å¦‚æœä¼ å…¥<code>False</code>ï¼Œåˆ™çœç•¥å®ƒä»¬ã€‚<br>æˆ‘ä»¬åœ¨æ¥ä¸‹æ¥ä¼šè®¨è®º<code>frozen</code>ã€‚ç”±äº<code>unsafe_hash</code>å‚æ•°å¤æ‚çš„ç”¨ä¾‹ï¼Œå®ƒå€¼å¾—å•ç‹¬å‘å¸ƒä¸€ç¯‡æ–‡ç« ã€‚</li></ul><p>ç°åœ¨å›åˆ°æˆ‘ä»¬çš„ç”¨ä¾‹ï¼Œä»¥ä¸‹æ˜¯æˆ‘ä»¬éœ€è¦çš„ï¼š</p><ol><li><strong>init</strong></li><li><strong>eq</strong></li></ol><p>é»˜è®¤ä¼šç”Ÿæˆè¿™äº›å‡½æ•°ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦çš„æ˜¯ä¸ç”Ÿæˆå…¶ä»–å‡½æ•°ã€‚é‚£ä¹ˆæˆ‘ä»¬è¯¥æ€ä¹ˆåšå‘¢ï¼Ÿå¾ˆç®€å•ï¼Œåªéœ€å°†ç›¸å…³å‚æ•°ä½œä¸º<code>false</code>ä¼ å…¥ç»™ç”Ÿæˆå™¨å³å¯ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">@dataclass(<span class="hljs-params"><span class="hljs-built_in">repr</span> = <span class="hljs-literal">False</span></span>) </span><span class="hljs-comment"># order, unsafe_hash and frozen are False</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Number</span>:<br>    val: <span class="hljs-built_in">int</span> = <span class="hljs-number">0</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>a = Number(<span class="hljs-number">1</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>a<br><span class="hljs-meta">&gt;&gt;&gt; </span>&lt;__main__.Number <span class="hljs-built_in">object</span> at <span class="hljs-number">0x7ff395afe898</span>&gt;<br><span class="hljs-meta">&gt;&gt;&gt; </span>b = Number(<span class="hljs-number">2</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>c = Number(<span class="hljs-number">1</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>a == b<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-literal">False</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>a &lt; b<br><span class="hljs-comment">#ä¸‹åˆ—é”™è¯¯è¡¨ç¤º &lt; æ“ä½œæ²¡æœ‰å®ç°</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>Traceback (most recent call last):<br> File â€œ&lt;stdin&gt;â€, line <span class="hljs-number">1</span>, <span class="hljs-keyword">in</span> &lt;module&gt;<br>TypeError: â€˜&lt;â€™ <span class="hljs-keyword">not</span> supported between instances of â€˜Numberâ€™ <span class="hljs-keyword">and</span> â€˜Numberâ€™<br></code></pre></td></tr></table></figure><h2 id="7-Frozenï¼ˆä¸å¯å˜ï¼‰-å®ä¾‹"><a href="#7-Frozenï¼ˆä¸å¯å˜ï¼‰-å®ä¾‹" class="headerlink" title="7.Frozenï¼ˆä¸å¯å˜ï¼‰ å®ä¾‹"></a>7.Frozenï¼ˆä¸å¯å˜ï¼‰ å®ä¾‹</h2><p>Frozen å®ä¾‹æ˜¯åœ¨åˆå§‹åŒ–å¯¹è±¡åæ— æ³•ä¿®æ”¹å…¶å±æ€§çš„å¯¹è±¡ã€‚</p><blockquote><p>æ— æ³•åˆ›å»ºçœŸæ­£ä¸å¯å˜çš„ Python å¯¹è±¡</p></blockquote><p>ä»¥ä¸‹æ˜¯æˆ‘ä»¬æœŸæœ›ä¸å¯å˜å¯¹è±¡èƒ½å¤Ÿåšåˆ°çš„ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>a = Number(<span class="hljs-number">10</span>) <span class="hljs-comment">#Assuming Number class is immutable</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>a.val = <span class="hljs-number">10</span> <span class="hljs-comment"># Raises Error</span><br></code></pre></td></tr></table></figure><p>æœ‰äº†<code>dataclass</code>ï¼Œå°±å¯ä»¥é€šè¿‡ä½¿ç”¨<code>dataclass</code>è£…é¥°å™¨ä½œä¸ºå¯è°ƒç”¨å¯¹è±¡é…åˆå‚æ•°<code>frozen=True</code>æ¥å®šä¹‰ä¸€ä¸ª<code>frozen</code>å¯¹è±¡ã€‚</p><p>å½“å®ä¾‹åŒ–ä¸€ä¸ª<code>frozen</code>å¯¹è±¡æ—¶ï¼Œä»»ä½•ä¼å›¾ä¿®æ”¹å¯¹è±¡å±æ€§çš„è¡Œä¸ºéƒ½ä¼šå¼•å‘<code>FrozenInstanceError</code>ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">@dataclass(<span class="hljs-params">frozen = <span class="hljs-literal">True</span></span>)</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Number</span>:<br>    val: <span class="hljs-built_in">int</span> = <span class="hljs-number">0</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>a = Number(<span class="hljs-number">1</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>a.val<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-number">1</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>a.val = <span class="hljs-number">2</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>Traceback (most recent call last):<br> File â€œ&lt;stdin&gt;â€, line <span class="hljs-number">1</span>, <span class="hljs-keyword">in</span> &lt;module&gt;<br> File â€œ&lt;string&gt;â€, line <span class="hljs-number">3</span>, <span class="hljs-keyword">in</span> __setattr__<br>dataclasses.FrozenInstanceError: cannot assign to field â€˜valâ€™<br></code></pre></td></tr></table></figure><p>å› æ­¤ï¼Œä¸€ä¸ª<code>frozen å®ä¾‹</code>æ˜¯ä¸€ç§å¾ˆå¥½æ–¹å¼æ¥å­˜å‚¨ï¼š</p><ul><li>å¸¸æ•°</li><li>è®¾ç½®<br>è¿™äº›é€šå¸¸ä¸ä¼šåœ¨åº”ç”¨ç¨‹åºçš„ç”Ÿå‘½å‘¨æœŸå†…å‘ç”Ÿå˜åŒ–ï¼Œä»»ä½•ä¼å›¾ä¿®æ”¹å®ƒä»¬çš„è¡Œä¸ºéƒ½åº”è¯¥è¢«ç¦æ­¢ã€‚</li></ul><h2 id="8-åæœŸåˆå§‹åŒ–å¤„ç†"><a href="#8-åæœŸåˆå§‹åŒ–å¤„ç†" class="headerlink" title="8.åæœŸåˆå§‹åŒ–å¤„ç†"></a>8.åæœŸåˆå§‹åŒ–å¤„ç†</h2><p>æœ‰äº†<code>dataclass</code>ï¼Œéœ€è¦å®šä¹‰ä¸€ä¸ª<code>__init__</code>æ–¹æ³•æ¥å°†å˜é‡èµ‹ç»™<code>self</code>è¿™ç§åˆå§‹åŒ–æ“ä½œå·²ç»å¾—åˆ°äº†å¤„ç†ã€‚ä½†æ˜¯æˆ‘ä»¬å¤±å»äº†åœ¨å˜é‡è¢«èµ‹å€¼ä¹‹åç«‹å³éœ€è¦çš„å‡½æ•°è°ƒç”¨æˆ–å¤„ç†çš„çµæ´»æ€§ã€‚</p><p>è®©æˆ‘ä»¬æ¥è®¨è®ºä¸€ä¸ªç”¨ä¾‹ï¼Œåœ¨è¿™ä¸ªç”¨ä¾‹ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ª<code>Float</code>ç±»æ¥åŒ…å«æµ®ç‚¹æ•°ï¼Œç„¶ååœ¨åˆå§‹åŒ–ä¹‹åç«‹å³è®¡ç®—æ•´æ•°å’Œå°æ•°éƒ¨åˆ†ã€‚</p><p>é€šå¸¸æ˜¯è¿™æ ·ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> math<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Float</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, val = <span class="hljs-number">0</span></span>):<br>        self.val = val<br>        self.process()<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">process</span>(<span class="hljs-params">self</span>):<br>        self.decimal, self.integer = math.modf(self.val)<br><span class="hljs-meta">&gt;&gt;&gt; </span>a = Float( <span class="hljs-number">2.2</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>a.decimal<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-number">0.2000</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>a.integer<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-number">2.0</span><br></code></pre></td></tr></table></figure><p>å¹¸è¿çš„æ˜¯ï¼Œä½¿ç”¨<strong>post_init</strong>æ–¹æ³•å·²ç»èƒ½å¤Ÿå¤„ç†åæœŸåˆå§‹åŒ–æ“ä½œã€‚</p><p>ç”Ÿæˆçš„<code>__init__</code>æ–¹æ³•åœ¨è¿”å›ä¹‹å‰è°ƒç”¨<code>__post_init__</code>è¿”å›ã€‚å› æ­¤ï¼Œå¯ä»¥åœ¨å‡½æ•°ä¸­è¿›è¡Œä»»ä½•å¤„ç†ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> math<br><span class="hljs-meta">@dataclass</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">FloatNumber</span>:<br>    val: <span class="hljs-built_in">float</span> = <span class="hljs-number">0.0</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__post_init__</span>(<span class="hljs-params">self</span>):<br>        self.decimal, self.integer = math.modf(self.val)<br><span class="hljs-meta">&gt;&gt;&gt; </span>a = Number(<span class="hljs-number">2.2</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>a.val<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-number">2.2</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>a.integer<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-number">2.0</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>a.decimal<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-number">0.2</span><br></code></pre></td></tr></table></figure><h2 id="9-ç»§æ‰¿"><a href="#9-ç»§æ‰¿" class="headerlink" title="9.ç»§æ‰¿"></a>9.ç»§æ‰¿</h2><p><code>Dataclasses</code>æ”¯æŒç»§æ‰¿ï¼Œå°±åƒæ™®é€šçš„<code>Python</code>ç±»ä¸€æ ·ã€‚</p><p>å› æ­¤ï¼Œçˆ¶ç±»ä¸­å®šä¹‰çš„å±æ€§å°†åœ¨å­ç±»ä¸­å¯ç”¨ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">@dataclass</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span>:<br>    age: <span class="hljs-built_in">int</span> = <span class="hljs-number">0</span><br>    name: <span class="hljs-built_in">str</span><br><span class="hljs-meta">@dataclass</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span>(<span class="hljs-title class_ inherited__">Person</span>):<br>    grade: <span class="hljs-built_in">int</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>s = Student(<span class="hljs-number">20</span>, <span class="hljs-string">&quot;John Doe&quot;</span>, <span class="hljs-number">12</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>s.age<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-number">20</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>s.name<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-string">&quot;John Doe&quot;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>s.grade<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-number">12</span><br></code></pre></td></tr></table></figure><p>è¯·æ³¨æ„ï¼Œ<code>Student</code>çš„å‚æ•°æ˜¯åœ¨ç±»ä¸­å®šä¹‰çš„å­—æ®µçš„é¡ºåºã€‚</p><p>ç»§æ‰¿è¿‡ç¨‹ä¸­<code>__post_init__</code>çš„è¡Œä¸ºæ˜¯æ€æ ·çš„ï¼Ÿ</p><p>ç”±äº<code>__post_init__</code>åªæ˜¯å¦ä¸€ä¸ªå‡½æ•°ï¼Œå› æ­¤å¿…é¡»ä»¥ä¼ ç»Ÿæ–¹å¼è°ƒç”¨å®ƒï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">@dataclass</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span>:<br>    a: <span class="hljs-built_in">int</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__post_init__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;A&quot;</span>)<br><span class="hljs-meta">@dataclass</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">B</span>(<span class="hljs-title class_ inherited__">A</span>):<br>    b: <span class="hljs-built_in">int</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__post_init__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;B&quot;</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>a = B(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>B<br></code></pre></td></tr></table></figure><p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œåªæœ‰<code>B</code>çš„<code>__post_init__</code>è¢«è°ƒç”¨ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•è°ƒç”¨<code>A</code>çš„<code>__post_init__</code>å‘¢ï¼Ÿ</p><p>å› ä¸ºå®ƒæ˜¯çˆ¶ç±»çš„å‡½æ•°ï¼Œæ‰€ä»¥å¯ä»¥ç”¨<code>super</code>æ¥è°ƒç”¨å®ƒã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">@dataclass</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">B</span>(<span class="hljs-title class_ inherited__">A</span>):<br>    b: <span class="hljs-built_in">int</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__post_init__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">super</span>().__post_init__() <span class="hljs-comment"># è°ƒç”¨ A çš„ post init</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;B&quot;</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>a = B(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>A<br>    B<br></code></pre></td></tr></table></figure><h2 id="10-field"><a href="#10-field" class="headerlink" title="10.field"></a>10.field</h2><p>æˆ‘ä»¬å·²ç»çŸ¥é“<code>Dataclasses</code>ä¼šç”Ÿæˆä»–ä»¬è‡ªèº«çš„<code>__init__</code>æ–¹æ³•ã€‚å®ƒåŒæ—¶æŠŠåˆå§‹åŒ–çš„å€¼èµ‹ç»™è¿™äº›å­—æ®µã€‚</p><ul><li>å˜é‡å</li><li>æ•°æ®ç±»å‹</li></ul><p>è¿™äº›å†…å®¹ä»…ç»™æˆ‘ä»¬æœ‰é™çš„<code>dataclass</code>å­—æ®µä½¿ç”¨èŒƒå›´ã€‚è®©æˆ‘ä»¬è®¨è®ºä¸€ä¸‹è¿™äº›å±€é™æ€§ï¼Œä»¥åŠå®ƒä»¬å¦‚ä½•é€šè¿‡<code>dataclass.field</code>è¢«è§£å†³ã€‚</p><h3 id="1-å¤åˆåˆå§‹åŒ–"><a href="#1-å¤åˆåˆå§‹åŒ–" class="headerlink" title="1.å¤åˆåˆå§‹åŒ–"></a>1.å¤åˆåˆå§‹åŒ–</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> random<br><span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> <span class="hljs-type">List</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_random_marks</span>():<br>    retun [random.randint(<span class="hljs-number">1</span>,<span class="hljs-number">10</span>) <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">5</span>)]<br><br><span class="hljs-meta">@dataclass</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span>:<br>    marks:<span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__post_init__</span>(<span class="hljs-params">seif</span>):<br>    self.marks = get_random_marks() <span class="hljs-comment">#Assign random speeds</span><br><br>&gt;&gt;&gt;a= Student()<br>&gt;&gt;&gt;a.marks<br>&gt;&gt;&gt;[<span class="hljs-number">1</span>,<span class="hljs-number">4</span>,<span class="hljs-number">2</span>,<span class="hljs-number">6</span>,<span class="hljs-number">9</span>]<br></code></pre></td></tr></table></figure><p>æ•°æ®ç±»<code>Student</code>äº§ç”Ÿäº†ä¸€ä¸ªåä¸º<code>marks</code>çš„åˆ—è¡¨ã€‚æˆ‘ä»¬ä¸ä¼ é€’<code>marks</code>çš„å€¼ï¼Œè€Œæ˜¯ä½¿ç”¨<code>__post_init__</code>æ–¹æ³•åˆå§‹åŒ–ã€‚è¿™æ˜¯æˆ‘ä»¬å®šä¹‰çš„å•ä¸€å±æ€§ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬å¿…é¡»åœ¨<code>__post_init__</code>é‡Œè°ƒç”¨<code>get_random_marks</code>å‡½æ•°ã€‚è¿™äº›å·¥ä½œæ˜¯é¢å¤–çš„ã€‚</p><p>è¾›è¿çš„æ˜¯ï¼Œ<code>Python</code>ä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªè§£å†³æ–¹æ¡ˆã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>dataclasses.field</code>æ¥å®šåˆ¶åŒ–<code>dataclass</code>å­—æ®µçš„è¡Œä¸ºä»¥åŠå®ƒä»¬åœ¨<code>dataclass</code>çš„å½±å“ã€‚</p><p>ä»ç„¶æ˜¯ä¸Šè¿°çš„ä½¿ç”¨æƒ…å½¢ï¼Œè®©æˆ‘ä»¬ä»<code>__post_init__</code>é‡Œå»é™¤<code>get_random_marks</code>çš„è°ƒç”¨ã€‚ä»¥ä¸‹æ˜¯ä½¿ç”¨<code>dataclasses.field</code>çš„æƒ…å½¢ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> dataclasses <span class="hljs-keyword">import</span> field<br><span class="hljs-meta">@dataclass</span><br>c1ass Student:<br>marks:<span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]= field(default_factory=get_random_marks)<br>&gt;&gt;&gt;s = Student()<br>&gt;&gt;&gt;s.marks<br>&gt;&gt;&gt;[<span class="hljs-number">1</span>,<span class="hljs-number">4</span>,<span class="hljs-number">2</span>,<span class="hljs-number">6</span>,<span class="hljs-number">9</span>]<br></code></pre></td></tr></table></figure><p><code>dataclasses.field</code>æ¥å—äº†ä¸€ä¸ªåä¸º<code>default_factory</code>çš„å‚æ•°ï¼Œå®ƒçš„ä½œç”¨æ˜¯ï¼šå¦‚æœåœ¨åˆ›å»ºå¯¹è±¡æ—¶æ²¡æœ‰èµ‹å€¼ï¼Œåˆ™ä½¿ç”¨è¯¥æ–¹æ³•åˆå§‹åŒ–è¯¥å­—æ®µã€‚</p><p><code>default_factory</code>å¿…é¡»æ˜¯ä¸€ä¸ªå¯ä»¥è°ƒç”¨çš„æ— å‚æ•°æ–¹æ³•ï¼ˆé€šå¸¸ä¸ºä¸€ä¸ªå‡½æ•°ï¼‰ã€‚</p><h3 id="2-ä½¿ç”¨å…¨éƒ¨å­—æ®µè¿›è¡Œæ•°æ®æ¯”è¾ƒ"><a href="#2-ä½¿ç”¨å…¨éƒ¨å­—æ®µè¿›è¡Œæ•°æ®æ¯”è¾ƒ" class="headerlink" title="2.ä½¿ç”¨å…¨éƒ¨å­—æ®µè¿›è¡Œæ•°æ®æ¯”è¾ƒ"></a>2.ä½¿ç”¨å…¨éƒ¨å­—æ®µè¿›è¡Œæ•°æ®æ¯”è¾ƒ</h3><p>æˆ‘ä»¬äº†è§£åˆ°ï¼Œ<code>dataclass</code>èƒ½å¤Ÿè‡ªåŠ¨ç”Ÿæˆ<code>&lt;</code>,<code>=,&gt;</code>,<code>&lt;=</code>å’Œ<code>&gt;=</code>è¿™äº›æ¯”è¾ƒæ–¹æ³•ã€‚ä½†æ˜¯è¿™äº›æ¯”è¾ƒæ–¹æ³•çš„ä¸€ä¸ªç¼ºé™·æ˜¯ï¼Œå®ƒä»¬ä½¿ç”¨ç±»ä¸­çš„æ‰€æœ‰å­—æ®µè¿›è¡Œæ¯”è¾ƒï¼Œè€Œè¿™ç§æƒ…å†µå¾€å¾€ä¸å¸¸è§ã€‚æ›´ç»å¸¸åœ°ï¼Œè¿™ç§æ¯”è¾ƒæ–¹æ³•ä¼šç»™æˆ‘ä»¬ä½¿ç”¨<code>dataclasses</code>é€ æˆéº»çƒ¦ã€‚</p><p>è€ƒè™‘ä»¥ä¸‹çš„ä½¿ç”¨æƒ…å½¢ï¼šä½ æœ‰ä¸€ä¸ªæ•°æ®ç±»ç”¨äºå­˜æ”¾ç”¨æˆ·çš„ä¿¡æ¯ã€‚ç°åœ¨ï¼Œå®ƒå¯èƒ½å­˜åœ¨ä»¥ä¸‹å­—æ®µï¼š</p><ul><li>å§“å</li><li>å¹´é¾„</li><li>èº«é«˜</li><li>ä½“é‡</li></ul><p>ä½ ä»…æƒ³æ¯”è¾ƒç”¨æˆ·å¯¹è±¡çš„å¹´é¾„ã€èº«é«˜å’Œä½“é‡ã€‚ä½ ä¸æƒ³æ¯”è¾ƒå§“åã€‚è¿™æ˜¯åç«¯å¼€å‘è€…ç»å¸¸ä¼šé‡åˆ°çš„ä½¿ç”¨æƒ…æ™¯ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">@dataclass(<span class="hljs-params">order=<span class="hljs-literal">True</span></span>)</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span>:<br>    name:<span class="hljs-built_in">str</span><br>    ageï¼š<span class="hljs-built_in">int</span><br>    height:<span class="hljs-built_in">float</span><br>weight:<span class="hljs-built_in">float</span><br></code></pre></td></tr></table></figure><p>è‡ªåŠ¨ç”Ÿæˆçš„æ¯”è¾ƒæ–¹æ³•ä¼šæ¯”è¾ƒä»¥ä¸‹çš„æ•°ç»„ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">(self.nameï¼Œself.agerself.heightï¼Œ self.weight)<br></code></pre></td></tr></table></figure><p>è¿™å°†ä¼šç ´åæˆ‘ä»¬çš„æ„å›¾ã€‚æˆ‘ä»¬ä¸æƒ³è®©å§“å<code>ï¼ˆnameï¼‰</code>ç”¨äºæ¯”è¾ƒã€‚é‚£ä¹ˆï¼Œå¦‚ä½•ä½¿ç”¨<code>dataclasses.field</code>æ¥å®ç°æˆ‘ä»¬çš„æƒ³æ³•å‘¢ï¼Ÿ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">@dataclass(<span class="hljs-params">orde=<span class="hljs-literal">True</span></span>)</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span>:<br>name:<span class="hljs-built_in">str</span>=field(compare=<span class="hljs-literal">False</span>)<br>age:<span class="hljs-built_in">int</span><br>weight:<span class="hljs-built_in">float</span><br>height:<span class="hljs-built_in">float</span><br>&gt;&gt;&gt;user_1=User(<span class="hljs-string">&quot;John Doe&quot;</span>,<span class="hljs-number">23</span>,<span class="hljs-number">70</span>,<span class="hljs-number">1.70</span>)<br>&gt;&gt;&gt;user_2=User(<span class="hljs-string">&quot;Adam&quot;</span>,<span class="hljs-number">24</span>,<span class="hljs-number">65</span>,<span class="hljs-number">1.60</span>)<br>&gt;&gt;&gt;user_1&lt;user_2<br>&gt;&gt;&gt;<span class="hljs-literal">True</span><br></code></pre></td></tr></table></figure><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€ç”¨çš„å­—æ®µéƒ½ç”¨äºæ¯”è¾ƒï¼Œå› æ­¤æˆ‘ä»¬ä»…ä»…éœ€è¦æŒ‡å®šå“ªäº›å­—æ®µç”¨äºæ¯”è¾ƒï¼Œè€Œå®ç°æ–¹æ³•æ˜¯ç›´æ¥æŠŠä¸éœ€è¦çš„å­—æ®µå®šä¹‰ä¸º<code>filedï¼ˆcompare=Falseï¼‰</code>ã€‚</p><h3 id="3-ä½¿ç”¨å…¨éƒ¨å­—æ®µè¿›è¡Œæ•°æ®è¡¨ç¤º"><a href="#3-ä½¿ç”¨å…¨éƒ¨å­—æ®µè¿›è¡Œæ•°æ®è¡¨ç¤º" class="headerlink" title="3.ä½¿ç”¨å…¨éƒ¨å­—æ®µè¿›è¡Œæ•°æ®è¡¨ç¤º"></a>3.ä½¿ç”¨å…¨éƒ¨å­—æ®µè¿›è¡Œæ•°æ®è¡¨ç¤º</h3><p>è‡ªåŠ¨ç”Ÿæˆçš„<code>__repr__</code>æ–¹æ³•ä½¿ç”¨æ‰€æœ‰çš„å­—æ®µç”¨äºè¡¨ç¤ºã€‚å½“ç„¶ï¼Œè¿™ä¹Ÿä¸æ˜¯å¤§å¤šæ•°æƒ…å½¢ä¸‹çš„ç†æƒ³é€‰æ‹©ï¼Œå°¤å…¶æ˜¯å½“ä½ çš„æ•°æ®ç±»æœ‰å¤§é‡çš„å­—æ®µæ—¶ã€‚å•ä¸ªå¯¹è±¡çš„è¡¨ç¤ºä¼šå˜å¾—å¼‚å¸¸è‡ƒè‚¿ï¼Œå¯¹è°ƒè¯•æ¥è¯´ä¹Ÿä¸åˆ©ã€‚</p><p>æˆ‘ä»¬ä¹Ÿèƒ½å¤Ÿä¸ªæ€§åŒ–è¿™ç§è¡Œä¸ºã€‚è€ƒè™‘ä¸€ä¸ªç±»ä¼¼çš„ä½¿ç”¨åœºæ™¯ï¼Œä¹Ÿè®¸æœ€åˆé€‚çš„ç”¨äºè¡¨ç¤ºçš„å±æ€§æ˜¯å§“åï¼ˆnameï¼‰ã€‚é‚£ä¹ˆå¯¹<code>__repr__</code>ï¼Œæˆ‘ä»¬ä»…ä½¿ç”¨å®ƒï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">@dataclass(<span class="hljs-params">order=<span class="hljs-literal">True</span></span>)</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span>:<br>name:<span class="hljs-built_in">str</span>=field(compare=false)<br>age:<span class="hljs-built_in">int</span>= field(<span class="hljs-built_in">repr</span>=<span class="hljs-literal">False</span>)<br>height:<span class="hljs-built_in">float</span>= field(<span class="hljs-built_in">repr</span>=<span class="hljs-literal">False</span>)<br>weight:<span class="hljs-built_in">float</span>= field(<span class="hljs-built_in">repr</span>=<span class="hljs-literal">False</span>)<br>city:<span class="hljs-built_in">str</span>=field(<span class="hljs-built_in">repr</span>=<span class="hljs-literal">False</span>,compare=<span class="hljs-literal">False</span>)<br>country:<span class="hljs-built_in">str</span>=field(<span class="hljs-built_in">repr</span>=<span class="hljs-literal">False</span>,compare=<span class="hljs-literal">False</span>)<br><br>&gt;&gt;&gt;a=User(<span class="hljs-string">&quot;john Doe&quot;</span>,<span class="hljs-number">24</span>,<span class="hljs-number">1.7</span>,<span class="hljs-number">70</span>,<span class="hljs-string">&quot;Massachusetts&quot;</span>,<span class="hljs-string">&quot;United States ofAmerica&quot;</span>)<br>&gt;&gt;&gt;b=User(<span class="hljs-string">&quot;Adam&quot;</span>,<span class="hljs-number">24</span>,<span class="hljs-number">1.6</span>,<span class="hljs-number">65</span>,<span class="hljs-string">&quot;San Jose&quot;</span>,<span class="hljs-string">&quot;United Statesof America&quot;</span>)<br><br>&gt;&gt;&gt;a<br>&gt;&gt;&gt;User(name=<span class="hljs-string">&#x27;john Doe&#x27;</span>)<br>&gt;&gt;&gt;b<br>&gt;&gt;&gt;User(name=<span class="hljs-string">&#x27;Adam&#x27;</span>)<br>&gt;&gt;&gt;b&gt;a<br>&gt;&gt;&gt;<span class="hljs-literal">True</span><br></code></pre></td></tr></table></figure><h3 id="4-ä»åˆå§‹åŒ–ä¸­çœç•¥å­—æ®µ"><a href="#4-ä»åˆå§‹åŒ–ä¸­çœç•¥å­—æ®µ" class="headerlink" title="4.ä»åˆå§‹åŒ–ä¸­çœç•¥å­—æ®µ"></a>4.ä»åˆå§‹åŒ–ä¸­çœç•¥å­—æ®µ</h3><p>ç›®å‰ä¸ºæ­¢æˆ‘ä»¬çœ‹åˆ°çš„æ‰€æœ‰ä¾‹å­ï¼Œéƒ½æœ‰ä¸€ä¸ªå…±åŒç‰¹ç‚¹â€”â€”å³æˆ‘ä»¬éœ€è¦ä¸ºæ‰€æœ‰è¢«å£°æ˜çš„å­—æ®µä¼ é€’å€¼ï¼Œé™¤äº†æœ‰é»˜è®¤å€¼ä¹‹å¤–ã€‚åœ¨é‚£ç§æƒ…å½¢ä¸‹ï¼ˆæŒ‡æœ‰é»˜è®¤å€¼çš„æƒ…å†µä¸‹ï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©ä¼ é€’å€¼ï¼Œä¹Ÿå¯ä»¥ä¸ä¼ é€’ã€‚</p><p>ä½†æ˜¯ï¼Œè¿˜æœ‰ä¸€ç§æƒ…å½¢ï¼šæˆ‘ä»¬å¯èƒ½ä¸æƒ³åœ¨åˆå§‹åŒ–æ—¶è®¾å®šæŸä¸ªå­—æ®µçš„å€¼ã€‚è¿™ä¹Ÿæ˜¯ä¸€ç§å¸¸è§çš„ä½¿ç”¨åœºæ™¯ã€‚ä¹Ÿè®¸ä½ åœ¨è¿½è¸ªä¸€ä¸ªå¯¹è±¡çš„çŠ¶æ€ï¼Œå¹¶ä¸”å¸Œæœ›å®ƒåœ¨åˆå§‹åŒ–æ—¶ä¸€ç›´è¢«è®¾ä¸º<code>False</code>ã€‚æ›´ä¸€èˆ¬åœ°ï¼Œè¿™ä¸ªå€¼åœ¨åˆå§‹åŒ–æ—¶ä¸èƒ½å¤Ÿè¢«ä¼ é€’ã€‚</p><p>é‚£ä¹ˆï¼Œæˆ‘ä»¬å¦‚ä½•å®ç°ä¸Šè¿°æƒ³æ³•å‘¢ï¼Ÿä»¥ä¸‹æ˜¯å…·ä½“å†…å®¹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">@dataclass</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span>:<br>email:<span class="hljs-built_in">str</span>= field(<span class="hljs-built_in">repr</span>= <span class="hljs-literal">True</span>)<br>verified:<span class="hljs-built_in">bool</span>=field(<span class="hljs-built_in">repr</span> = <span class="hljs-literal">False</span>,init=<span class="hljs-literal">False</span>,default=<span class="hljs-literal">False</span>)<br><span class="hljs-comment">#Omit verified from representation as well as __init__</span><br><br><br>&gt;&gt;&gt;a = User(<span class="hljs-string">&quot;a@test.com&quot;</span>)<br>&gt;&gt;&gt;User(email=<span class="hljs-string">&#x27;a@test.com&#x27;</span>)<br>&gt;&gt;&gt;a.verified<br>&gt;&gt;&gt;<span class="hljs-literal">False</span><br>        <br>        <br>&gt;&gt;&gt;b= User(<span class="hljs-string">&quot;betest.com&quot;</span>,<span class="hljs-literal">True</span>)<span class="hljs-comment">#Let us try to pass the value of verified</span><br>&gt;&gt;&gt;Traceback(most recent cal1 last):<br>    File<span class="hljs-string">&quot;&lt;stdin&gt;&quot;</span>,line1,<span class="hljs-keyword">in</span>&lt;module&gt;<br>TypeError:__init__()<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>ç®—æ³• Ê•â‰§á´¥â‰¦Ê”</category>
      
      <category>Python</category>
      
      <category>Pythonåº“</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>typingåº“çš„ä½¿ç”¨ï¼â˜ƒï¸</title>
    <link href="/2023/12/06/%E7%AE%97%E6%B3%95/python/python%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/python%E4%B8%ADtyping%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
    <url>/2023/12/06/%E7%AE%97%E6%B3%95/python/python%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/python%E4%B8%ADtyping%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/</url>
    
    <content type="html"><![CDATA[<h1 id="typingåº“çš„ä½¿ç”¨"><a href="#typingåº“çš„ä½¿ç”¨" class="headerlink" title="typingåº“çš„ä½¿ç”¨"></a>typingåº“çš„ä½¿ç”¨</h1><h2 id="1-åŸºæœ¬ä»‹ç»"><a href="#1-åŸºæœ¬ä»‹ç»" class="headerlink" title="1.åŸºæœ¬ä»‹ç»"></a>1.åŸºæœ¬ä»‹ç»</h2><ul><li><strong>typingæ¨¡å—çš„ä½œç”¨ï¼š</strong></li></ul><ol><li>ç±»å‹æ£€æŸ¥ï¼Œé˜²æ­¢è¿è¡Œæ—¶å‡ºç°å‚æ•°å’Œè¿”å›å€¼ç±»å‹ä¸ç¬¦åˆã€‚</li><li>ä½œä¸ºå¼€å‘æ–‡æ¡£é™„åŠ è¯´æ˜ï¼Œæ–¹ä¾¿ä½¿ç”¨è€…è°ƒç”¨æ—¶ä¼ å…¥å’Œè¿”å›å‚æ•°ç±»å‹ã€‚</li><li>è¯¥æ¨¡å—åŠ å…¥åå¹¶ä¸ä¼šå½±å“ç¨‹åºçš„è¿è¡Œï¼Œä¸ä¼šæŠ¥æ­£å¼çš„é”™è¯¯ï¼Œåªæœ‰æé†’ã€‚</li></ol><ul><li><strong>ä¸‹é¢è¯´è¯´typingæ¨¡å—å¸¸ç”¨çš„æ–¹å¼ï¼š</strong></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> <span class="hljs-type">List</span>, <span class="hljs-type">Tuple</span>, <span class="hljs-type">Dict</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">add</span>(<span class="hljs-params">a:<span class="hljs-built_in">int</span>, string:<span class="hljs-built_in">str</span>, f:<span class="hljs-built_in">float</span>, b:<span class="hljs-built_in">bool</span></span>) -&gt; <span class="hljs-type">Tuple</span>[<span class="hljs-type">List</span>, <span class="hljs-type">Tuple</span>, <span class="hljs-type">Dict</span>, <span class="hljs-built_in">bool</span>]:<br>    list1 = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">range</span>(a))<br>    tup = (string, string, string)<br>    d = &#123;<span class="hljs-string">&quot;a&quot;</span>:f&#125;<br>    bl = b<br>    <span class="hljs-keyword">return</span> list1, tup, d,bl<br><span class="hljs-built_in">print</span>(add(<span class="hljs-number">5</span>,<span class="hljs-string">&quot;hhhh&quot;</span>, <span class="hljs-number">2.3</span>, <span class="hljs-literal">False</span>))<br><span class="hljs-comment"># ç»“æœï¼š([0, 1, 2, 3, 4], (&#x27;hhhh&#x27;, &#x27;hhhh&#x27;, &#x27;hhhh&#x27;), &#123;&#x27;a&#x27;: 2.3&#125;, False)</span><br></code></pre></td></tr></table></figure><ul><li><strong>è¯´æ˜ï¼š</strong></li><li>åœ¨ä¼ å…¥å‚æ•°æ—¶é€šè¿‡â€œå‚æ•°å:ç±»å‹â€çš„å½¢å¼å£°æ˜å‚æ•°çš„ç±»å‹ï¼›</li><li>è¿”å›ç»“æœé€šè¿‡â€-&gt; ç»“æœç±»å‹â€çš„å½¢å¼å£°æ˜ç»“æœçš„ç±»å‹ã€‚</li><li>åœ¨è°ƒç”¨çš„æ—¶å€™å¦‚æœå‚æ•°çš„ç±»å‹ä¸æ­£ç¡®pycharmä¼šæœ‰æé†’ï¼Œä½†ä¸ä¼šå½±å“ç¨‹åºçš„è¿è¡Œã€‚</li><li>å¯¹äºå¦‚liståˆ—è¡¨ç­‰ï¼Œè¿˜å¯ä»¥è§„å®šå¾—æ›´åŠ å…·ä½“ä¸€äº›ï¼Œå¦‚ï¼šâ€œ-&gt; List[str]â€,è§„å®šè¿”å›çš„æ˜¯åˆ—è¡¨ï¼Œå¹¶ä¸”å…ƒç´ æ˜¯å­—ç¬¦ä¸²ã€‚</li><li><strong>ç”±äºpythonå¤©ç”Ÿæ”¯æŒå¤šæ€ï¼Œè¿­ä»£å™¨ä¸­çš„å…ƒç´ å¯èƒ½å¤šç§ï¼Œå¦‚ä¸‹ï¼š</strong></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> <span class="hljs-type">List</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">func</span>(<span class="hljs-params">a:<span class="hljs-built_in">int</span>, string:<span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span> <span class="hljs-keyword">or</span> <span class="hljs-built_in">str</span>]:<br>    list1 = []<br>    list1.append(a)<br>    list1.append(string)<br>    <span class="hljs-keyword">return</span> list1<br><br><span class="hljs-comment"># ä½¿ç”¨orå…³é”®å­—è¡¨ç¤ºå¤šç§ç±»å‹</span><br></code></pre></td></tr></table></figure><ul><li><strong>typingå¸¸ç”¨çš„ç±»å‹ï¼š</strong></li><li>int,long,float: æ•´å‹,é•¿æ•´å½¢,æµ®ç‚¹å‹;</li><li>bool,str: å¸ƒå°”å‹ï¼Œå­—ç¬¦ä¸²ç±»å‹ï¼›</li><li>List, Tuple, Dict, Set:åˆ—è¡¨ï¼Œå…ƒç»„ï¼Œå­—å…¸, é›†åˆ;</li><li>Iterable,Iterator:å¯è¿­ä»£ç±»å‹ï¼Œè¿­ä»£å™¨ç±»å‹ï¼›</li><li>Generatorï¼šç”Ÿæˆå™¨ç±»å‹ï¼›</li></ul><h2 id="2-å…·ä½“æ¡ˆä¾‹"><a href="#2-å…·ä½“æ¡ˆä¾‹" class="headerlink" title="2.å…·ä½“æ¡ˆä¾‹"></a>2.å…·ä½“æ¡ˆä¾‹</h2><h3 id="2-1-typingçš„ä½¿ç”¨èŒƒå›´"><a href="#2-1-typingçš„ä½¿ç”¨èŒƒå›´" class="headerlink" title="2.1 typingçš„ä½¿ç”¨èŒƒå›´"></a>2.1 typingçš„ä½¿ç”¨èŒƒå›´</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">DataLoader</span>:<br>    <span class="hljs-string">&quot;&quot;&quot;docstring for FileToProblemText.&quot;&quot;&quot;</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, user_config: UserConfig</span>):<br>        self.file_path = user_config.get_dataset_path()<br>        self.file_type = user_config.get_dataset_type()<br>        self.chunk_size = user_config.get_dataset_size()<br></code></pre></td></tr></table></figure><p>è¿™æ®µä»£ç ä¸­çš„<code>user_config: UserConfig</code>ä¸éœ€è¦å¯¼å…¥typingåº“ï¼Œåœ¨Python 3.5åŠæ›´é«˜ç‰ˆæœ¬ä¸­ï¼Œç±»å‹æç¤ºå·²ç»æˆä¸ºä¸€ç§æ ‡å‡†çš„è¯­è¨€ç‰¹æ€§ã€‚åŒæ—¶ï¼Œå¯¹äºè¿”å›å€¼çš„ç±»å‹æç¤º<code>â€”&gt;</code>ä¹Ÿä¸éœ€è¦å¯¼å…¥ã€‚</p><p>åªæœ‰åœ¨æ³›å‹æç¤ºï¼Œå³å‡†ç¡®çŸ¥é“åˆ—è¡¨æˆ–å­—å…¸ä¸­çš„æ•°æ®ç±»å‹æ—¶ï¼Œæ‰éœ€è¦ç”¨åˆ°Typingåº“ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> <span class="hljs-type">List</span>, <span class="hljs-type">Dict</span>, <span class="hljs-type">Any</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">SolvingEngine</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        self.logger = logging.getLogger(self.__class__.__module__)<br>        self.graph: GraphOfStates = GOS_generator()<br>        self.shared_state_data: SharedStateData = SharedStateData()<br>        self.run_states: <span class="hljs-type">List</span>[State] = []<br>        self.result: <span class="hljs-type">Dict</span>[<span class="hljs-built_in">str</span>, <span class="hljs-type">Any</span>] = &#123;&#125;<br>        self.executed: <span class="hljs-built_in">bool</span> = <span class="hljs-literal">False</span><br></code></pre></td></tr></table></figure><p>å¯¹äºå…·ä½“çš„ç±»å‹ï¼Œä½¿ç”¨<code>List</code>æˆ–è€…<code>Dict</code>æ¥è¡¨ç¤ºã€‚</p><h3 id="2-2-Unionçš„ä½¿ç”¨"><a href="#2-2-Unionçš„ä½¿ç”¨" class="headerlink" title="2.2 Unionçš„ä½¿ç”¨"></a>2.2 Unionçš„ä½¿ç”¨</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> <span class="hljs-type">Type</span>, <span class="hljs-type">Union</span><br><br><span class="hljs-comment"># è¿™ä¸ªç±»å‹æç¤ºè¡¨ç¤ºä¸€ä¸ªç±»å‹ï¼Œè¯¥ç±»å‹å¯ä»¥æ˜¯ä»¥ä¸‹ç±»ä¹‹ä¸€çš„å®ä¾‹ï¼š</span><br><span class="hljs-comment"># DatasetMultiEncDec, DatasetEPT, DatasetHMS, DatasetGPT2,</span><br><span class="hljs-comment"># PretrainDataset, SingleEquationDataset, MultiEquationDataset, AbstractDataset</span><br>DatasetType = <span class="hljs-type">Type</span>[<span class="hljs-type">Union</span>[<br>    DatasetMultiEncDec, DatasetEPT, DatasetHMS, DatasetGPT2,<br>    PretrainDataset, SingleEquationDataset, MultiEquationDataset, AbstractDataset<br>]]<br><br></code></pre></td></tr></table></figure><p>è¿™ä¸ªç±»å‹æç¤ºä½¿ç”¨äº† <code>Union</code> ç±»å‹ï¼Œè¡¨ç¤ºè¢«æ³¨è§£çš„å¯¹è±¡å¯ä»¥æ˜¯å…¶ä¸­åˆ—ä¸¾çš„å¤šä¸ªç±»å‹ä¸­çš„ä»»æ„ä¸€ä¸ªã€‚åŒæ—¶ï¼Œä½¿ç”¨ <code>Type</code> ç±»å‹è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªç±»å¯¹è±¡çš„ç±»å‹æç¤ºã€‚å› æ­¤ï¼Œ<code>DatasetType</code> è¡¨ç¤ºä¸€ä¸ªç±»ï¼Œè¯¥ç±»æ˜¯ä¸Šè¿°åˆ—ä¸¾çš„å¤šä¸ªç±»ä¹‹ä¸€ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>ç®—æ³• Ê•â‰§á´¥â‰¦Ê”</category>
      
      <category>Python</category>
      
      <category>Pythonåº“</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Live2dåŸºç¡€çŸ¥è¯†!ğŸ¹</title>
    <link href="/2023/12/06/live2d/%E6%8A%80%E5%B7%A7/live2d%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/"/>
    <url>/2023/12/06/live2d/%E6%8A%80%E5%B7%A7/live2d%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/</url>
    
    <content type="html"><![CDATA[]]></content>
    
    
    <categories>
      
      <category>Live2d Ê•Ê½ÉÊ¼Ê”</category>
      
      <category>Live2dåˆ¶ä½œæŠ€å·§</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æŠ€å·§</tag>
      
      <tag>Live2d</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>è§†å›¾å’Œç‰©ä½“æ§åˆ¶!ğŸ¥•</title>
    <link href="/2023/12/06/%E5%BB%BA%E6%A8%A1/blender/%E6%8A%80%E5%B7%A7/blender%E5%BB%BA%E6%A8%A1%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/"/>
    <url>/2023/12/06/%E5%BB%BA%E6%A8%A1/blender/%E6%8A%80%E5%B7%A7/blender%E5%BB%BA%E6%A8%A1%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/</url>
    
    <content type="html"><![CDATA[<h1 id="è§†å›¾å’Œç‰©ä½“æ§åˆ¶"><a href="#è§†å›¾å’Œç‰©ä½“æ§åˆ¶" class="headerlink" title="è§†å›¾å’Œç‰©ä½“æ§åˆ¶"></a>è§†å›¾å’Œç‰©ä½“æ§åˆ¶</h1><h2 id="1-æ§åˆ¶è§†å›¾å’Œè§†è§’"><a href="#1-æ§åˆ¶è§†å›¾å’Œè§†è§’" class="headerlink" title="1.æ§åˆ¶è§†å›¾å’Œè§†è§’"></a>1.æ§åˆ¶è§†å›¾å’Œè§†è§’</h2><blockquote><p>è§‚å¯Ÿ3Dç©ºé—´</p></blockquote><p><code>é¼ æ ‡ä¸­é”®</code>æˆ–è€…ç‚¹å‡»è§†å›¾çª—å£å³ä¸Šè§’çš„<code>å°çƒå›¾æ ‡</code><img src="/2023/12/06/%E5%BB%BA%E6%A8%A1/blender/%E6%8A%80%E5%B7%A7/blender%E5%BB%BA%E6%A8%A1%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/2.png"></p><blockquote><p>å¹³ç§»3Dç©ºé—´</p></blockquote><p><code>shift+é¼ æ ‡ä¸­é”®</code>æˆ–è€…ç‚¹å‡»è§†å›¾çª—å£å³ä¸Šè§’çš„<code>å°æ‰‹å›¾æ ‡</code><img src="/2023/12/06/%E5%BB%BA%E6%A8%A1/blender/%E6%8A%80%E5%B7%A7/blender%E5%BB%BA%E6%A8%A1%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/1.png"></p><blockquote><p>ç¼©æ”¾3Dç©ºé—´</p></blockquote><p><code>æ»šåŠ¨é¼ æ ‡ä¸­é”®</code>æˆ–è€…ç‚¹å‡»è§†å›¾çª—å£å³ä¸Šè§’çš„<code>æ”¾å¤§é•œå›¾æ ‡</code><img src="/2023/12/06/%E5%BB%BA%E6%A8%A1/blender/%E6%8A%80%E5%B7%A7/blender%E5%BB%BA%E6%A8%A1%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/3.png"></p><blockquote><p>æ‘„åƒæœºè§†è§’å’Œæ­£äº¤ &#x2F; é€è§†è§†è§’åˆ‡æ¢</p></blockquote><p><img src="/2023/12/06/%E5%BB%BA%E6%A8%A1/blender/%E6%8A%80%E5%B7%A7/blender%E5%BB%BA%E6%A8%A1%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/4.png"></p><h2 id="2-æ§åˆ¶ç‰©ä½“æ¨¡å‹"><a href="#2-æ§åˆ¶ç‰©ä½“æ¨¡å‹" class="headerlink" title="2.æ§åˆ¶ç‰©ä½“æ¨¡å‹"></a>2.æ§åˆ¶ç‰©ä½“æ¨¡å‹</h2><blockquote><p>æ–°å»ºç‰©ä½“</p></blockquote><p><code>shift + A</code></p><blockquote><p>æ­£å¸¸çš„ç§»åŠ¨ &#x2F; æ—‹è½¬ &#x2F; ç¼©æ”¾å·¥å…·</p></blockquote><p><img src="/2023/12/06/%E5%BB%BA%E6%A8%A1/blender/%E6%8A%80%E5%B7%A7/blender%E5%BB%BA%E6%A8%A1%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/5.png"></p><blockquote><p>ç§»åŠ¨</p></blockquote><p>ç§»åŠ¨å¿«æ·é”®ï¼š<code>G</code></p><p>ç§»åŠ¨ä¸”å…·æœ‰æ‰€æœ‰å›ºå®šè½´ï¼š<code>G + é¼ æ ‡ä¸­é”®</code>ï¼Œé€‰æ‹©è½´åæ¾å¼€é¼ æ ‡ä¸­é”®å³ä¼šä¿ç•™é€‰æ‹©è½´ã€‚</p><p>å›ºå®šè½´ç§»åŠ¨ï¼š<code>G + X/Y/Z</code></p><p>æ’¤é”€ç§»åŠ¨ï¼ˆæ¢å¤åˆ°åŸç‚¹ï¼‰ï¼š<code>alt + G</code></p><p>å¸é™„ç§»åŠ¨ï¼š<code>G + ctrl</code></p><blockquote><p>æ—‹è½¬</p></blockquote><p>æ—‹è½¬å¿«æ·é”®ï¼š<code>R</code></p><p>æ—‹è½¬ä¸”å…·æœ‰æ‰€æœ‰å›ºå®šè½´ï¼š<code>R + é¼ æ ‡ä¸­é”®</code>ï¼Œé€‰æ‹©è½´åæ¾å¼€é¼ æ ‡ä¸­é”®å³ä¼šä¿ç•™é€‰æ‹©è½´ã€‚</p><p>å›ºå®šè½´æ—‹è½¬ï¼š<code>R + X/Y/Z</code></p><p>æ’¤é”€æ—‹è½¬ï¼š<code>alt + R</code></p><blockquote><p>ç¼©æ”¾</p></blockquote><p>ç¼©æ”¾å¿«æ·é”®ï¼š<code>S</code></p><p>ç¼©æ”¾ä¸”å…·æœ‰æ‰€æœ‰å›ºå®šè½´ï¼š<code>S + é¼ æ ‡ä¸­é”®</code>ï¼Œé€‰æ‹©è½´åæ¾å¼€é¼ æ ‡ä¸­é”®å³ä¼šä¿ç•™é€‰æ‹©è½´ã€‚</p><p>å›ºå®šè½´ç¼©æ”¾ï¼š<code>S + X/Y/Z</code></p><p>æ’¤é”€ç¼©æ”¾ï¼š<code>alt + S</code></p><blockquote><p>åˆ é™¤</p></blockquote><p>åˆ é™¤å¿«æ·é”®ï¼š<code>Del</code> æˆ–è€…  <code>X</code></p><blockquote><p>éšè— &#x2F; æ˜¾ç¤º</p></blockquote><p>éšè—é€‰ä¸­ç‰©ä½“å¿«æ·é”®ï¼š<code>H</code></p><p>éšè—æœªé€‰ä¸­ç‰©ä½“å¿«æ·é”®ï¼š<code>shift + H</code></p><p>æ˜¾ç¤ºå¿«æ·é”®ï¼š<code>alt + H</code></p><p>æˆ–è€…å³ä¸Šè§’<code>çœ¼ç›å›¾æ ‡</code></p><p><img src="/2023/12/06/%E5%BB%BA%E6%A8%A1/blender/%E6%8A%80%E5%B7%A7/blender%E5%BB%BA%E6%A8%A1%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/6.png"></p><blockquote><p>å¤åˆ¶</p></blockquote><p>ç§»åŠ¨å¹¶å¤åˆ¶å¿«æ·é”®ï¼š<code>shift + D</code></p><p><strong>æ³¨æ„ï¼š</strong>ctrl + Zæ’¤å›çš„è¯åªæ˜¯æ’¤å›ç§»åŠ¨éƒ¨åˆ†ï¼Œç‰©ä½“ä»ç„¶è¢«å¤åˆ¶ã€‚</p><blockquote><p>é€‰æ‹©</p></blockquote><p>é•¿æŒ‰å·¦ä¸Šè§’ç®­å¤´ï¼Œå‡ºç°å››ä¸ªé€‰é¡¹</p><p><img src="/2023/12/06/%E5%BB%BA%E6%A8%A1/blender/%E6%8A%80%E5%B7%A7/blender%E5%BB%BA%E6%A8%A1%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/7.png"></p><p>è°ƒæ•´ï¼šå•é€‰å¹¶ç§»åŠ¨ç‰©ä½“ã€‚</p><p>æ¡†é€‰ï¼šé€‰æ¡†çš„æ–¹å¼è¿›è¡Œå¤šé€‰ã€‚</p><p>åˆ·é€‰ï¼šç§»åŠ¨é¼ æ ‡è¿›è¡Œå¤šé€‰ã€‚</p><p>å¥—ç´¢ï¼šå¥—ç´¢çš„æ–¹å¼è¿›è¡Œå¤šé€‰ã€‚</p><p>åˆ‡æ¢é€‰æ‹©å·¥å…·ï¼š<code>W</code></p><h2 id="3-åˆ‡æ¢è§†å›¾"><a href="#3-åˆ‡æ¢è§†å›¾" class="headerlink" title="3.åˆ‡æ¢è§†å›¾"></a>3.åˆ‡æ¢è§†å›¾</h2><blockquote><p>æ–¹æ³•ä¸€</p></blockquote><p>ç›´æ¥ç‚¹å‡»å³ä¸Šè§’å°åœ†çƒçš„çº¢è“ç»¿ä¸‰ä¸ªé”®</p><blockquote><p>æ–¹æ³•äºŒ</p></blockquote><p>å°é”®ç›˜çš„æ•°å­—é”®ï¼š</p><p>0 æ‘„åƒæœºè§†è§’</p><p>1 &#x2F; 3 &#x2F; 7 &#x2F; 9 è°ƒæ•´è§†å›¾</p><p>2 &#x2F; 4 &#x2F; 6 &#x2F; 8 åç§»è§†è§’ï¼Œæ¯æŒ‰ä¸€æ¬¡è½¬15Â°</p><p>5 è°ƒæ•´æ­£äº¤å’Œé€è§†</p><p>ç‚¹å‡»<code>.</code>ï¼Œç‚¹å‡»ç‰©ä½“å¯å°†å¯¹è±¡æ”¾å¤§è‡³è§†å›¾ä¸­å¿ƒ</p><blockquote><p>æ–¹æ³•ä¸‰</p></blockquote><p>é•¿æŒ‰<code>~</code>é”®ï¼Œé€‰æ‹©è§†å›¾</p><blockquote><p>æ–¹æ³•å››</p></blockquote><p><code>alt + é¼ æ ‡ä¸­é”®</code>æ”¹å˜è§†å›¾</p>]]></content>
    
    
    <categories>
      
      <category>å»ºæ¨¡ Ê•à°¥à±ªà°¥Ê”</category>
      
      <category>Blender</category>
      
      <category>Blenderå»ºæ¨¡æŠ€å·§</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æŠ€å·§</tag>
      
      <tag>Blender</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>mayaå»ºæ¨¡åŸºç¡€çŸ¥è¯†ï¼ğŸ’</title>
    <link href="/2023/12/06/%E5%BB%BA%E6%A8%A1/maya/%E6%8A%80%E5%B7%A7/maya%E5%BB%BA%E6%A8%A1%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/"/>
    <url>/2023/12/06/%E5%BB%BA%E6%A8%A1/maya/%E6%8A%80%E5%B7%A7/maya%E5%BB%BA%E6%A8%A1%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/</url>
    
    <content type="html"><![CDATA[]]></content>
    
    
    <categories>
      
      <category>å»ºæ¨¡ Ê•à°¥à±ªà°¥Ê”</category>
      
      <category>Maya</category>
      
      <category>Mayaå»ºæ¨¡æŠ€å·§</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æŠ€å·§</tag>
      
      <tag>Maya</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>VFXé­”æ³•çƒç‰¹æ•ˆï¼ğŸˆ</title>
    <link href="/2023/11/19/%E6%B8%B8%E6%88%8F/VFX/%E8%AE%BE%E8%AE%A1/Unity-VFX-MagicBall/"/>
    <url>/2023/11/19/%E6%B8%B8%E6%88%8F/VFX/%E8%AE%BE%E8%AE%A1/Unity-VFX-MagicBall/</url>
    
    <content type="html"><![CDATA[<p><img src="/2023/11/19/%E6%B8%B8%E6%88%8F/VFX/%E8%AE%BE%E8%AE%A1/Unity-VFX-MagicBall/1.gif"></p>]]></content>
    
    
    <categories>
      
      <category>Unity á¶˜ áµ’á´¥áµ’á¶…</category>
      
      <category>VFX</category>
      
      <category>VFXè®¾è®¡æ¡ˆä¾‹</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Unity</tag>
      
      <tag>è®¾è®¡</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Aiç¿»ä¹¦ç‰¹æ•ˆï¼ğŸŒ</title>
    <link href="/2023/11/18/Adobe/Ai/%E8%AE%BE%E8%AE%A1/Ai%E7%BF%BB%E4%B9%A6%E7%89%B9%E6%95%88/"/>
    <url>/2023/11/18/Adobe/Ai/%E8%AE%BE%E8%AE%A1/Ai%E7%BF%BB%E4%B9%A6%E7%89%B9%E6%95%88/</url>
    
    <content type="html"><![CDATA[<h1 id="Aiç¿»ä¹¦ç‰¹æ•ˆ"><a href="#Aiç¿»ä¹¦ç‰¹æ•ˆ" class="headerlink" title="Aiç¿»ä¹¦ç‰¹æ•ˆ"></a>Aiç¿»ä¹¦ç‰¹æ•ˆ</h1><p>æ•ˆæœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="/2023/11/18/Adobe/Ai/%E8%AE%BE%E8%AE%A1/Ai%E7%BF%BB%E4%B9%A6%E7%89%B9%E6%95%88/13.png"></p><p>å®ç°è¯¥æ•ˆæœéœ€è¦ç”¨åˆ°ä¸‰ä¸ªæ­¥éª¤ï¼š</p><p>1.æ–‡å­—å·¥å…·</p><p>2.æ··åˆå·¥å…·</p><p>3.å˜å½¢å·¥å…·</p><p>4.é˜´å½±å·¥å…·</p><h2 id="1-æ–‡å­—å·¥å…·åˆ›é€ è½®å»“"><a href="#1-æ–‡å­—å·¥å…·åˆ›é€ è½®å»“" class="headerlink" title="1.æ–‡å­—å·¥å…·åˆ›é€ è½®å»“"></a>1.æ–‡å­—å·¥å…·åˆ›é€ è½®å»“</h2><p>é¦–å…ˆç”¨æ–‡å­—å·¥å…·åˆ›é€ å¸Œæœ›äº§ç”Ÿç‰¹æ•ˆçš„æ–‡å­—</p><p><img src="/2023/11/18/Adobe/Ai/%E8%AE%BE%E8%AE%A1/Ai%E7%BF%BB%E4%B9%A6%E7%89%B9%E6%95%88/1.png"></p><p>ç„¶åå¯¹æ•´ä½“è¿›è¡Œæ‰©å±•</p><p><img src="/2023/11/18/Adobe/Ai/%E8%AE%BE%E8%AE%A1/Ai%E7%BF%BB%E4%B9%A6%E7%89%B9%E6%95%88/2.png"></p><p>æ‰©å±•åæ–‡å­—å°†æŒ‰ç…§å½¢çŠ¶äº§ç”Ÿç›¸åº”çš„è·¯å¾„ï¼Œå¹¶å½¢æˆä¸€ä¸ªç¼–ç»„</p><p><img src="/2023/11/18/Adobe/Ai/%E8%AE%BE%E8%AE%A1/Ai%E7%BF%BB%E4%B9%A6%E7%89%B9%E6%95%88/3.png"></p><p>æœ€åå°†å…¶è§£ç»„ï¼Œå½¢æˆä¸€ä¸ªä¸ªå•ç‹¬çš„æ–‡å­—è·¯å¾„</p><p><img src="/2023/11/18/Adobe/Ai/%E8%AE%BE%E8%AE%A1/Ai%E7%BF%BB%E4%B9%A6%E7%89%B9%E6%95%88/4.png"></p><h2 id="2-æ··åˆå·¥å…·äº§ç”ŸåŸºæœ¬çš„æ•ˆæœ"><a href="#2-æ··åˆå·¥å…·äº§ç”ŸåŸºæœ¬çš„æ•ˆæœ" class="headerlink" title="2.æ··åˆå·¥å…·äº§ç”ŸåŸºæœ¬çš„æ•ˆæœ"></a>2.æ··åˆå·¥å…·äº§ç”ŸåŸºæœ¬çš„æ•ˆæœ</h2><p>é¦–å…ˆå¤åˆ¶ä¸€ä¸ªæ–‡å­—ï¼Œå¹¶æ”¹å˜å…¶é¢œè‰²</p><p><img src="/2023/11/18/Adobe/Ai/%E8%AE%BE%E8%AE%A1/Ai%E7%BF%BB%E4%B9%A6%E7%89%B9%E6%95%88/5.png"></p><p>ç„¶åä½¿ç”¨æ··åˆå·¥å…·æŒ‡å®šæ­¥æ•°äº§ç”Ÿæ··åˆåçš„æ•ˆæœ</p><p><img src="/2023/11/18/Adobe/Ai/%E8%AE%BE%E8%AE%A1/Ai%E7%BF%BB%E4%B9%A6%E7%89%B9%E6%95%88/6.png"></p><h2 id="3-å˜å½¢å·¥å…·è°ƒæ•´è§’åº¦"><a href="#3-å˜å½¢å·¥å…·è°ƒæ•´è§’åº¦" class="headerlink" title="3.å˜å½¢å·¥å…·è°ƒæ•´è§’åº¦"></a>3.å˜å½¢å·¥å…·è°ƒæ•´è§’åº¦</h2><p>ä½¿ç”¨å˜å½¢å·¥å…·è°ƒæ•´è§’åº¦ï¼Œä½¿å…¶æ›´åŠ ç«‹ä½“</p><p><img src="/2023/11/18/Adobe/Ai/%E8%AE%BE%E8%AE%A1/Ai%E7%BF%BB%E4%B9%A6%E7%89%B9%E6%95%88/7.png"></p><p>è°ƒæ•´åçš„æ•ˆæœå¦‚ä¸‹å›¾æ‰€ç¤º</p><p><img src="/2023/11/18/Adobe/Ai/%E8%AE%BE%E8%AE%A1/Ai%E7%BF%BB%E4%B9%A6%E7%89%B9%E6%95%88/8.png"></p><h2 id="4-æ·»åŠ é˜´å½±æ•ˆæœ"><a href="#4-æ·»åŠ é˜´å½±æ•ˆæœ" class="headerlink" title="4.æ·»åŠ é˜´å½±æ•ˆæœ"></a>4.æ·»åŠ é˜´å½±æ•ˆæœ</h2><p>é¦–å…ˆå°†æ··åˆåçš„æ–‡å­—è¿›è¡Œæ‰©å±•å¹¶è§£ç»„ï¼Œæ‰©å±•ä¼šè®©å…¶æ¯ä¸€å±‚éƒ½å…·æœ‰è·¯å¾„</p><p>è§£ç»„åæ¯ä¸€å±‚éƒ½å¯ä»¥è‡ªç”±ç§»åŠ¨</p><p><img src="/2023/11/18/Adobe/Ai/%E8%AE%BE%E8%AE%A1/Ai%E7%BF%BB%E4%B9%A6%E7%89%B9%E6%95%88/10.png"></p><p>ç„¶ååœ¨æ•ˆæœä¸­æ·»åŠ é˜´å½±</p><p><img src="/2023/11/18/Adobe/Ai/%E8%AE%BE%E8%AE%A1/Ai%E7%BF%BB%E4%B9%A6%E7%89%B9%E6%95%88/9.png"></p><p>æ·»åŠ é˜´å½±åå†å¯¹æ‰€æœ‰å›¾å±‚ç¼–ç»„</p><p><strong>æ³¨æ„ï¼š</strong>ç¼–ç»„å¿«æ·é”®ä¸ºCtrl+G</p><p>æœ€åä¸ºç¬¬ä¸€å±‚æ·»åŠ æ¸å˜æ•ˆæœï¼Œäº§ç”Ÿå…‰æ³½æ„Ÿ</p><p><img src="/2023/11/18/Adobe/Ai/%E8%AE%BE%E8%AE%A1/Ai%E7%BF%BB%E4%B9%A6%E7%89%B9%E6%95%88/12.png"></p>]]></content>
    
    
    <categories>
      
      <category>Adobe Ê•ï¿«á´¥ï¿©Ê”</category>
      
      <category>Ai</category>
      
      <category>Aiè®¾è®¡æ¡ˆä¾‹</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Ai</tag>
      
      <tag>è®¾è®¡</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Aiæ··åˆå·¥å…·çš„ä½¿ç”¨ï¼ğŸŒ¸</title>
    <link href="/2023/11/18/Adobe/Ai/%E6%8A%80%E5%B7%A7/Ai%E6%B7%B7%E5%90%88%E5%B7%A5%E5%85%B7%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
    <url>/2023/11/18/Adobe/Ai/%E6%8A%80%E5%B7%A7/Ai%E6%B7%B7%E5%90%88%E5%B7%A5%E5%85%B7%E7%9A%84%E4%BD%BF%E7%94%A8/</url>
    
    <content type="html"><![CDATA[<h1 id="Aiæ··åˆå·¥å…·çš„ä½¿ç”¨"><a href="#Aiæ··åˆå·¥å…·çš„ä½¿ç”¨" class="headerlink" title="Aiæ··åˆå·¥å…·çš„ä½¿ç”¨"></a>Aiæ··åˆå·¥å…·çš„ä½¿ç”¨</h1><p>Aiæ··åˆä¸»è¦ç”±æ··åˆé€‰é¡¹ä¸­ä¸‰ä¸ªä¸åŒçš„å‚æ•°æ§åˆ¶</p><p>è¿›å…¥æ–¹å¼ä¸ºï¼š<strong>å¯¹è±¡â€”-&gt;æ··åˆ</strong></p><p>1.å¹³æ»‘çš„é¢œè‰²</p><p>2.æŒ‡å®šçš„æ­¥æ•°</p><p>3.æŒ‡å®šçš„è·ç¦»</p><p><img src="/2023/11/18/Adobe/Ai/%E6%8A%80%E5%B7%A7/Ai%E6%B7%B7%E5%90%88%E5%B7%A5%E5%85%B7%E7%9A%84%E4%BD%BF%E7%94%A8/1.png"></p><p>åˆå§‹å›¾å¦‚ä¸‹æ‰€ç¤ºï¼š</p><p><img src="/2023/11/18/Adobe/Ai/%E6%8A%80%E5%B7%A7/Ai%E6%B7%B7%E5%90%88%E5%B7%A5%E5%85%B7%E7%9A%84%E4%BD%BF%E7%94%A8/2.png"></p><h2 id="1-å¹³æ»‘çš„é¢œè‰²"><a href="#1-å¹³æ»‘çš„é¢œè‰²" class="headerlink" title="1.å¹³æ»‘çš„é¢œè‰²"></a>1.å¹³æ»‘çš„é¢œè‰²</h2><p><img src="/2023/11/18/Adobe/Ai/%E6%8A%80%E5%B7%A7/Ai%E6%B7%B7%E5%90%88%E5%B7%A5%E5%85%B7%E7%9A%84%E4%BD%BF%E7%94%A8/3.png"></p><h2 id="2-æŒ‡å®šçš„æ­¥æ•°"><a href="#2-æŒ‡å®šçš„æ­¥æ•°" class="headerlink" title="2.æŒ‡å®šçš„æ­¥æ•°"></a>2.æŒ‡å®šçš„æ­¥æ•°</h2><p><img src="/2023/11/18/Adobe/Ai/%E6%8A%80%E5%B7%A7/Ai%E6%B7%B7%E5%90%88%E5%B7%A5%E5%85%B7%E7%9A%84%E4%BD%BF%E7%94%A8/4.png"></p><h2 id="3-æŒ‡å®šçš„è·ç¦»"><a href="#3-æŒ‡å®šçš„è·ç¦»" class="headerlink" title="3.æŒ‡å®šçš„è·ç¦»"></a>3.æŒ‡å®šçš„è·ç¦»</h2><p><img src="/2023/11/18/Adobe/Ai/%E6%8A%80%E5%B7%A7/Ai%E6%B7%B7%E5%90%88%E5%B7%A5%E5%85%B7%E7%9A%84%E4%BD%BF%E7%94%A8/5.png"></p><h2 id="4-æ··åˆçš„åŸå› "><a href="#4-æ··åˆçš„åŸå› " class="headerlink" title="4.æ··åˆçš„åŸå› "></a>4.æ··åˆçš„åŸå› </h2><p><img src="/2023/11/18/Adobe/Ai/%E6%8A%80%E5%B7%A7/Ai%E6%B7%B7%E5%90%88%E5%B7%A5%E5%85%B7%E7%9A%84%E4%BD%BF%E7%94%A8/6.png"><img src="/2023/11/18/Adobe/Ai/%E6%8A%80%E5%B7%A7/Ai%E6%B7%B7%E5%90%88%E5%B7%A5%E5%85%B7%E7%9A%84%E4%BD%BF%E7%94%A8/7.png"></p><p><img src="/2023/11/18/Adobe/Ai/%E6%8A%80%E5%B7%A7/Ai%E6%B7%B7%E5%90%88%E5%B7%A5%E5%85%B7%E7%9A%84%E4%BD%BF%E7%94%A8/8.png"></p><p><img src="/2023/11/18/Adobe/Ai/%E6%8A%80%E5%B7%A7/Ai%E6%B7%B7%E5%90%88%E5%B7%A5%E5%85%B7%E7%9A%84%E4%BD%BF%E7%94%A8/9.png"></p><p>å¦‚ä¸Šå›¾æ‰€ç¤ºæˆ‘ä»¬å¯ä»¥è§‚å¯Ÿåˆ°ï¼Œæ”¹å˜å›¾å±‚çš„é¡ºåºä¼šæ”¹å˜æ··åˆçš„æ–¹å¼</p><p>å“ªä¸€ä¸ªå›¾å±‚åœ¨ä¸Šé¢ï¼Œå“ªä¸€ä¸ªå›¾å±‚åœ¨æ··åˆå›¾å±‚ä¸­ä¹Ÿä¼šåœ¨æœ€ä¸Šæ–¹</p><p>è€Œå¦ä¸€ä¸ªå›¾å±‚åœ¨æœ€ä¸‹æ–¹</p>]]></content>
    
    
    <categories>
      
      <category>Adobe Ê•ï¿«á´¥ï¿©Ê”</category>
      
      <category>Ai</category>
      
      <category>AiçŸ¢é‡å›¾è®¾è®¡æŠ€å·§</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æŠ€å·§</tag>
      
      <tag>Ai</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Aiä½œå›¾çš„æ“ä½œé¡ºåºï¼ğŸŒ¸</title>
    <link href="/2023/11/16/Adobe/Ai/%E6%8A%80%E5%B7%A7/Ai%E5%9B%BE%E5%83%8F%E7%9A%84%E6%93%8D%E4%BD%9C/"/>
    <url>/2023/11/16/Adobe/Ai/%E6%8A%80%E5%B7%A7/Ai%E5%9B%BE%E5%83%8F%E7%9A%84%E6%93%8D%E4%BD%9C/</url>
    
    <content type="html"><![CDATA[<h1 id="Aiä½œå›¾çš„æ“ä½œé¡ºåº"><a href="#Aiä½œå›¾çš„æ“ä½œé¡ºåº" class="headerlink" title="Aiä½œå›¾çš„æ“ä½œé¡ºåº"></a>Aiä½œå›¾çš„æ“ä½œé¡ºåº</h1><p>å¦‚ä¸‹å›¾æ‰€ç¤ºæ˜¯ä¸€å¼ ç”¨Aiç”»çš„çŸ¢é‡äººè„¸å›¾ï¼š</p><p><img src="/2023/11/16/Adobe/Ai/%E6%8A%80%E5%B7%A7/Ai%E5%9B%BE%E5%83%8F%E7%9A%84%E6%93%8D%E4%BD%9C/1.png"></p><p>å› ä¸ºAiå¡«è‰²éœ€è¦å¯¹é—­åˆçš„é’¢ç¬”çº¿åœˆè¿›è¡Œæ“ä½œï¼Œæ‰€ä»¥é¢å¯¹ä¸Šå›¾ä¸­å¸¦æœ‰å‹¾çº¿çš„å›¾å½¢ï¼Œéœ€è¦åˆ†å±‚è¿›è¡Œæ“ä½œã€‚</p><h2 id="1-ç”»å‡ºåº•è‰²"><a href="#1-ç”»å‡ºåº•è‰²" class="headerlink" title="1.ç”»å‡ºåº•è‰²"></a>1.ç”»å‡ºåº•è‰²</h2><p>å…ˆç”¨é’¢ç¬”ç”»å‡ºå›¾åƒæœ€åº•å±‚çš„å›¾å½¢ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="/2023/11/16/Adobe/Ai/%E6%8A%80%E5%B7%A7/Ai%E5%9B%BE%E5%83%8F%E7%9A%84%E6%93%8D%E4%BD%9C/2.png"></p><p><strong>æ³¨æ„ï¼š</strong>ç”»åº•è‰²æ—¶ï¼Œé€‰æ‹©æ²¡æœ‰æè¾¹çš„é’¢ç¬”</p><h2 id="2-é€å±‚ä¸Šè‰²"><a href="#2-é€å±‚ä¸Šè‰²" class="headerlink" title="2.é€å±‚ä¸Šè‰²"></a>2.é€å±‚ä¸Šè‰²</h2><p>å¦‚ä¸‹å›¾æ‰€ç¤ºç”»å‡ºå›¾å½¢åˆ†å±‚çš„è‰²å½©ï¼š</p><p><img src="/2023/11/16/Adobe/Ai/%E6%8A%80%E5%B7%A7/Ai%E5%9B%BE%E5%83%8F%E7%9A%84%E6%93%8D%E4%BD%9C/3.png"></p><p>æ¯ä¸€å±‚ç”»å‡ºé—­åˆçš„é’¢ç¬”çº¿åœˆ</p><h2 id="3-ç”»å‡ºå‹¾çº¿"><a href="#3-ç”»å‡ºå‹¾çº¿" class="headerlink" title="3.ç”»å‡ºå‹¾çº¿"></a>3.ç”»å‡ºå‹¾çº¿</h2><p>åœ¨å°†åº•è‰²ç”»å®Œä¹‹åï¼Œé€‰æ‹©æœ‰æè¾¹çš„é’¢ç¬”è¿›è¡Œæè¾¹ï¼Œæœ€ç»ˆå‘ˆç°å®Œæ•´çš„å›¾å½¢</p><p><img src="/2023/11/16/Adobe/Ai/%E6%8A%80%E5%B7%A7/Ai%E5%9B%BE%E5%83%8F%E7%9A%84%E6%93%8D%E4%BD%9C/4.png"></p><p>çº¿æ¡†å›¾å¦‚ä¸Šæ‰€ç¤º</p>]]></content>
    
    
    <categories>
      
      <category>Adobe Ê•ï¿«á´¥ï¿©Ê”</category>
      
      <category>Ai</category>
      
      <category>AiçŸ¢é‡å›¾è®¾è®¡æŠ€å·§</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æŠ€å·§</tag>
      
      <tag>Ai</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç¬¬åç«  Â· ä¹Œé¹Šç»•å—æâ¤ï¸â€ğŸ”¥</title>
    <link href="/2023/11/15/%E5%86%99%E4%BD%9C/%E5%8D%97%E5%86%A0%E6%AC%B2%E7%83%82%E6%9F%AF/%E5%8D%97%E5%86%A0-%E7%AC%AC%E5%8D%81%E7%AB%A0/"/>
    <url>/2023/11/15/%E5%86%99%E4%BD%9C/%E5%8D%97%E5%86%A0%E6%AC%B2%E7%83%82%E6%9F%AF/%E5%8D%97%E5%86%A0-%E7%AC%AC%E5%8D%81%E7%AB%A0/</url>
    
    <content type="html"><![CDATA[<h1 id="ä¹Œé¹Šç»•å—æ"><a href="#ä¹Œé¹Šç»•å—æ" class="headerlink" title="ä¹Œé¹Šç»•å—æ"></a>ä¹Œé¹Šç»•å—æ</h1><p>  ã€€ã€€â€œå’šï¼â€”â€”â€”â€”â€”â€”â€</p><p>ã€€ã€€å¯ºåº™çš„é’Ÿå£°ä¸çŸ¥ä½•æ—¶æ•²å“ï¼Œåº„ä¸¥è€Œåˆå¸¦ç€æ‚²æ‚¯ã€‚</p><p>ã€€ã€€â€œé—»é’Ÿå£°ï¼Œè©æç”Ÿã€‚â€è‹æ™¯å›å¤´ç„äº†ä¸€çœ¼å¯ºåº™æ–‘é©³çº¢å¢™ä¸Šçš„è››ä¸ï¼Œæœ‰äº›å¥½å¥‡æ˜¯è°åœ¨è¿™åº§æ— äººé—®æ´¥çš„å¯ºåº™é‡Œé†’é’Ÿã€‚</p><p>ã€€ã€€ä»–çš„ç¥è¯†æ‰«è¿‡æ¥æ¥å¾€å¾€çš„äººç¾¤ï¼Œå°†æ¯ä¸ªäººè„¸ä¸Šçš„è¡¨æƒ…å’Œç¥è‰²éƒ½ç§äº†ä¸ªæ˜ç™½ã€‚</p><p>ã€€ã€€æœ‰èº«ç€å¸ƒè¡£çš„å¦‡äººèƒŒç€è¡£ä¸é®ä½“çš„å©´å„¿æ„å®¹æ»¡é¢ï¼›ä¹Ÿæœ‰æ»¡é¢ä¹¦ç”Ÿæ°”çš„æ–‡äººç§€æ‰ç«™åœ¨è·¯æ—å‘å‘†ï¼Œç¥æƒ…æœ¨è®·ï¼›è€Œæ›´å¤šçš„æ˜¯èƒŒç€å¤§åˆ€é•¿æªï¼Œæˆ–å†·æ¼ ï¼Œæˆ–å¥¸é‚ªï¼Œæˆ–ç‹ å†³åœ°å¾˜å¾Šæ¸¸è¡åœ¨å¤§è¡—ä¸Šçš„äººã€‚</p><p>ã€€ã€€è©è¨å¥½åƒéƒ½æ— åŠ¨äºè¡·åœ°æ”¾å¼ƒäº†ä»–ä»¬ã€‚</p><p>ã€€ã€€å¦‚ä»Šå„åœ°éƒ½ä¸å¤ªå¹³ï¼Œè¾¹å¢ƒå¤„å°¤ç”šï¼Œè¿™é‡Œçš„äººä»¬éƒ½æŠ±ç€æ´»ä¸€æ—¥æ˜¯ä¸€æ—¥çš„å¿µå¤´ã€‚ä¸ºä½•è¿™é‡Œçš„å¯ºåº™é—¨å¯ç½—é›€ï¼Œè¡°è´¥åœ°æ²¡æœ‰ä»»ä½•é¦™ç«ï¼Œè‹æ™¯è½¬å¿µé—´ä¾¿æœ‰äº†ç­”æ¡ˆã€‚</p><p>ã€€ã€€åœ¨æ´»ç€éƒ½æ˜¯å¥¢æœ›çš„åœ°æ–¹ï¼Œçƒ§é¦™æ‹œä½›å°±æˆäº†ç¨€ç½•äº‹å„¿ã€‚èƒ½æ•‘ä»–ä»¬çš„ä¸æ˜¯æ—¥å¤œç¤¼ä½›ï¼Œä¹Ÿä¸æ˜¯ç£•ç ´äº†è„‘è¢‹æ±‚è©è¨ä¿ä½‘ï¼Œè€Œæ˜¯æ¡åœ¨ä»–ä»¬æ‰‹ä¸­çš„çœŸåˆ€å®æªã€‚</p><p>ã€€ã€€è‹æ™¯è¿˜æ²‰æµ¸åœ¨æ€ç»ªä¹‹ä¸­ï¼Œå°±è¢«ä¸è¿œå¤„äººç¾¤ä¸­ä¼ æ¥çš„éªšä¹±æ‰“æ–­ã€‚ä»–æ‚„æ‚„è¿œè½¬å†…åŠ›ï¼Œæ­£æƒ³æ”¶å›ç¥è¯†ï¼Œå´å‘ç°éªšä¹±å¤„æœ‰ä¸€ç¾¤è’™ç€é¢çš„æ­¦å£«å¤§æ­¥æµæ˜Ÿåœ°æœä»–ä»¬è¿™è¾¹é—¯æ¥ã€‚</p><p>ã€€ã€€è‹æ™¯åå¤´æœ›å‘è‹é‡ï¼Œæ­£å·§è‹é‡ä¹Ÿåœ¨å›æœ›ç€ä»–ã€‚â€œä»–ä»¬å¥½åƒæ˜¯å†²æˆ‘ä»¬æ¥çš„ã€‚â€è‹æ™¯æŒ‡äº†æŒ‡åœ°ä¸Šçš„è‰è¯ï¼Œæœ‰äº›æ„æ–™ä¹‹ä¸­åœ°æ‘Šæ‰‹è¯´é“ã€‚</p><p>ã€€ã€€â€œå—¯ã€‚â€è‹é‡æ²‰å£°å›åº”ï¼Œâ€œè¯¥æ¥çš„æ€»ä¼šæ¥çš„ã€‚â€è¯´ç½¢ï¼Œä»–æ‰­å¤´çœ‹å‘äº†é‚£äº›è¿é¢è€Œæ¥çš„æ­¦å£«ï¼Œå¾€å‰åŠæ­¥å°†è‹æ™¯æŠ¤åœ¨èº«åï¼ŒåŒæ—¶æ‚„ç„¶è¿è½¬è¡€è„‰ä¹‹åŠ›ï¼ŒåŠ²é£åœ¨å‘¨èº«é¼“åŠ¨ï¼Œè¡£è¢‚çŒçŒã€‚</p><p>ã€€ã€€â€œçœ‹è¿™æ¶åŠ¿ï¼Œå€’ä¸åƒæ˜¯å°é—¨å°æ´¾çš„äººã€‚å¯ä¸ºä½•è¦è’™ç€é¢ï¼Œéš¾é“æ˜¯â€¦â€è‹æ™¯çœ‹å‘é‚£ç¾¤æ­¦å£«ï¼Œåˆæ‰«äº†ä¸€åœˆåæ­¥å¼€å¤–æœè¿™è¾¹å¥½å¥‡å¼ æœ›çš„äººç¾¤ã€‚è™½ç„¶è¿™äº›æ­¦å£«éƒ½åœ¨æåŠ›è¡¨ç°å‡ºè½æ’ï¼Œä½†ä»–ä»¬ç›¸äº’ä¹‹é—´çš„è·ç¦»å´æ—¶åˆ»ç»´æŒç€ä¸€ç§å¾®å¦™çš„å¹³è¡¡ã€‚</p><p>ã€€ã€€çŸ­çŸ­æ•°æ¯åï¼Œé‚£åæ•°åæ­¦å£«å°±å°†è‹æ™¯å’Œè‹é‡å‘ˆç¯å½¢åŒ…å›´èµ·æ¥ã€‚è‹é‡ä½å£°å¯¹è‹æ™¯è¯´ï¼šâ€œä¸€ä¼šå„¿æˆ‘æ¥æ‹¦ä½ä»–ä»¬ï¼Œä½ å¸¦ç€è¯æå…ˆèµ°ã€‚â€è¯´ç½¢ï¼Œä¸ç­‰è‹æ™¯å›ç­”ï¼Œç„é’è‰²ç‹¼å½±ä¾¿ä»¥ç£…ç¤´ä¹‹åŠ¿ä»è‹é‡èº«åè…¾èµ·ï¼Œå¯æ€–çš„èƒ½é‡ç‹‚æ½®æ¯«æ— ä¿ç•™åœ°ä»è‹é‡ä½“å†…å¸­å·è€Œå‡ºã€‚</p><p>ã€€ã€€ä¸ºé¦–çš„æ­¦å£«æ­»æ­»ç›¯ç€è‹é‡èº«åçš„ç‹¼å½±ï¼Œé‡‘è‰²é¢å…·èƒŒåçš„åŒçœ¸ä¹‹ä¸­ä¼¼ä¹æœ‰æ£®ç„¶çš„ç«ç„°åœ¨æ›³åŠ¨ã€‚ä»–ç¼“ç¼“æ¡ä½è…°é—´çš„åˆ€æŸ„ï¼Œç„¶åæœè‹é‡å¼€å£è¯´é“ï¼šâ€œäº¤å‡ºè¯æï¼Œèµ°ï¼›ä¸äº¤ï¼Œæ­»ã€‚â€</p><p>ã€€ã€€è¯éŸ³åˆšè½ï¼Œä¸€é“è£¹æŒŸç€å‡›å†½æˆ˜æ„çš„æ‹³é£ä¾¿æœä¸ºé¦–çš„æ­¦å£«å¥”è¢­è€Œå»ï¼Œéšåä¼ æ¥è‹é‡å†·æ¼ åˆ°æè‡´çš„å£°éŸ³ï¼šâ€œå°±å‡­ä½ ä»¬ï¼Œä¹Ÿé…ï¼Ÿâ€</p><p>ã€€ã€€ä¸ºé¦–çš„é‚£åæ­¦å£«åœ¨æ„Ÿå—åˆ°æ‹³é£ä¹‹ä¸­è•´å«çš„æµ©ç€šèƒ½é‡ä¹‹åï¼Œçœ¸ä¸­æ˜¾éœ²äº†è¯§å¼‚ä¹‹è‰²ã€‚ä½†ä»–ä¹Ÿæ²¡æœ‰è¡¨ç°å‡ºä¸æ¯«çš„æ…Œä¹±ï¼Œè€Œæ˜¯ç´§é—­åŒçœ¼ï¼ŒåŒæ—¶å³è„šå‘å¤–è¿ˆå‡ºä¸€æ­¥ï¼Œè„šä¸‹æœ‰æœ±çº¢æµå…‰æ¶ŒåŠ¨ã€‚</p><p>ã€€ã€€åœ¨æ‹³é£ç¦»ä»–ä»…æœ‰æ¯«å˜ä¹‹å·®æ—¶ï¼Œä¸ºé¦–çš„æ­¦å£«é™¡ç„¶ççœ¼ã€‚æœ±çº¢è‰²çš„ç«ç„°å®›å¦‚å®è´¨ä¸€èˆ¬çš„åœ¨ä»–åŒçœ¸å‰è‚†æ„åœ°ç‡ƒçƒ§ï¼Œè€Œè‹é‡çš„æ‹³é£å¥½åƒè¢«ç¦é”¢ä½ä¼¼çš„åœæ»ä¸å‰ï¼Œéšåä¾¿åŒé‚£æ²¸è…¾åçš„æ°´æ±½å„¿ï¼Œåœ¨ååé—´ä¾¿æ¶ˆèåœ¨ç©ºæ°”ä¹‹ä¸­ã€‚</p><p>ã€€ã€€å‘¨é­çš„å£°éŸ³çªç„¶å®‰é™äº†ä¸‹æ¥ï¼Œåªå¬å¾—è§é‚£ç†Šç†Šçš„ç«ç„°å‘å‡ºçš„â€œæ»‹æ»‹â€å£°ã€‚çªç„¶ï¼Œä¸ºé¦–çš„é‚£åæ­¦å£«å‘åé€€äº†ä¸€æ­¥ï¼Œç„¶åæŠ¬æ‰‹æœå‰ä¸€æŒ¥ï¼Œé¡¿æ—¶æ‰€æœ‰æ­¦å£«éƒ½æ‹”å‡ºäº†è…°é—´çš„ä½©åˆ€ï¼Œæ‹”åˆ€çš„é”µé¸£å£°æƒŠåœ°æ ‘ä¸Šçš„é¸Ÿå„¿éƒ½æ…Œäº†ç¿…è†€é€ƒèµ°ã€‚</p><p>ã€€ã€€æ¯ä¸€æŠŠåˆ€çš„åˆ€å°–éƒ½ç›´ç›´åœ°æŒ‡å‘äº†è‹é‡ã€‚</p><p>ã€€ã€€è‹é‡å´ä»¿ä½›æ²¡çœ‹è§é‚£äº›åˆ€å°–ä¸Šæµè½¬çš„è¡€è…¥æ°”ï¼Œè€Œæ˜¯åå¤´æœ›å‘è‹æ™¯ã€‚åœ¨å’Œè‹æ™¯çœ¼ç¥äº¤æ±‡çš„ä¸€åˆ¹é‚£ï¼Œè‹é‡è‡ªå·±éƒ½æ²¡å‘ç°ä»–çœ‰å³°é™¡ç„¶åœ°èˆ’å±•ã€‚</p><p>ã€€ã€€å°½ç®¡è¿™ä¸ªä¸–ç•Œç ´çƒ‚ä¸å ªï¼Œä½†ä»–å›å¤´ä»èƒ½çœ‹åˆ°å¸Œæœ›ï¼Œè¿™ä¾¿å¤Ÿäº†ã€‚</p><p>ã€€ã€€â€œæˆ‘æ•°åˆ°ä¸‰ï¼Œä½ å°±å¾€åè·‘ã€‚â€è‹é‡è½»å£°å¯¹è‹æ™¯è¯´ã€‚ä¸å¾…è‹æ™¯å›ç­”ï¼Œè‹é‡åˆè¡¥å……é“ï¼šâ€œå¬è¯ã€‚â€</p><p>ã€€ã€€è‹æ™¯æŠŠæ²¡è¯´çš„è¯å’½è¿›è‚šå­é‡Œï¼Œæœ‰äº›æ— å¥ˆçš„æ‘‡æ‘‡å¤´ï¼Œå¿ƒæƒ³ç€ï¼Œè‹é‡è¿˜æ˜¯æŠŠä»–å½“å°å­©å­å“„ã€‚</p><p>ã€€ã€€â€œä¸€ã€‚â€è‹é‡å›å¤´ï¼Œé‚£äº›æ­¦å£«å·²ç»æåˆ€å‘è¿™è¾¹å†²æ¥ã€‚ä»–æ¯«æ— ä¿ç•™çš„å°†ä½“å†…çš„æ‰€æœ‰èƒ½é‡é‡Šæ”¾ï¼Œèº«åçš„ç‹¼å½±é¡·åˆ»é—´åˆæš´æ¶¨äº†ä¸‰åˆ†ï¼Œå·¨å¤§çš„ç„é’è‰²ç‹¼å½±å°†èº«ä½“å¼“èµ·ï¼Œå¯»æ‰¾ä¸€å‡»åˆ¶æ•Œçš„æœºä¼šã€‚</p><p>ã€€ã€€â€œå·¦äºŒè¿›ä¸€ï¼Œå³äº”å¹³ä¸‰ã€‚â€</p><p>ã€€ã€€â€œäºŒã€‚â€</p><p>ã€€ã€€â€œä¸‰â€¦â€è¯éŸ³æœªè½ï¼Œæ­£å½“è‹é‡å‡†å¤‡è°ƒåŠ¨è¡€è„‰ä¸‹éšè—çš„å‡¶ç…ä¹‹åŠ›æ—¶ï¼Œå´å¬åˆ°äº†è‹æ™¯åœ°å¤§å–Šå£°ã€‚</p><p>ã€€ã€€â€œç­‰ä¸€ä¸‹ï¼â€</p><p>ã€€ã€€æ­¦å£«èµ°è¿›äº†èº«åçš„åº™å®‡ï¼Œè‹æ™¯è‡ªé¡¾è‡ªåœ°å–ƒå–ƒé“ï¼šâ€œæœç„¶æ˜¯ä»–ã€‚â€</p><p>ã€€ã€€è‹æ™¯é—®ï¼šâ€œäºŒå½“å®¶ä¸ºä½•æœ‰å¿ƒæƒ…åœ¨è¿™é†’é’Ÿï¼Ÿâ€</p><p>ã€€ã€€â€œæœ‰äº›è£…ç¡çš„äººå•Šï¼Œä¹Ÿè¯¥é†’é†’äº†ã€‚â€</p><p>ã€€ã€€å›å»çš„è·¯ä¸Šï¼Œè‹æ™¯ç»™ä¸€ä¸ªç”Ÿç—…çš„å°å­©è¯æã€‚</p><p>ã€€ã€€</p><p>ã€€ã€€</p><p>ã€€ã€€</p><p>ã€€ã€€</p><p>ã€€ã€€</p><p>ã€€ã€€</p><p>ã€€ã€€</p><p>ã€€ã€€ã€€ã€€</p><p>ã€€ã€€</p><p>ã€€ã€€</p><p>ã€€ã€€</p><p>ã€€ã€€</p><p>ã€€ã€€</p><p>ã€€ã€€</p><p>ã€€ã€€</p><p>ã€€äºŒå½“å®¶é€›äº†é€›è¿™é‡Œçš„å¯ºåº™ï¼Œéšæ„çš„åœ¨è©è¨é¢å‰åšç€ä¸æ­£ç»çš„äº‹æƒ…ã€‚</p><p>ã€€ã€€</p><p>ã€€â€œæˆ‘ä»¬å•Šï¼Œéƒ½æ˜¯ç«™åœ¨è©è¨èƒŒåçš„äººï¼Œè©è¨å“ªç§å¾—è§å’±ä»¬ï¼Ÿâ€</p><p>ã€€ã€€</p><p>ã€€ã€€</p>]]></content>
    
    
    <categories>
      
      <category>å†™ä½œ Ê•â—‰á´¥â—‰Ê”</category>
      
      <category>ã€Šå—å† æ¬²çƒ‚æŸ¯ã€‹</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å†™ä½œ</tag>
      
      <tag>å—å† </tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç¬¬ä¹ç«  Â· é¸£è›©æƒŠæ¢§æ¡ğŸ¤</title>
    <link href="/2023/11/15/%E5%86%99%E4%BD%9C/%E5%8D%97%E5%86%A0%E6%AC%B2%E7%83%82%E6%9F%AF/%E5%8D%97%E5%86%A0-%E7%AC%AC%E4%B9%9D%E7%AB%A0/"/>
    <url>/2023/11/15/%E5%86%99%E4%BD%9C/%E5%8D%97%E5%86%A0%E6%AC%B2%E7%83%82%E6%9F%AF/%E5%8D%97%E5%86%A0-%E7%AC%AC%E4%B9%9D%E7%AB%A0/</url>
    
    <content type="html"><![CDATA[<h1 id="é¸£è›©æƒŠæ¢§æ¡"><a href="#é¸£è›©æƒŠæ¢§æ¡" class="headerlink" title="é¸£è›©æƒŠæ¢§æ¡"></a>é¸£è›©æƒŠæ¢§æ¡</h1><p> ã€€ã€€æ ‹å®‡ç›¸æœ›ï¼Œæ¡‘æ¢“æ¥è¿ã€‚æ€€æ¡‘æ®¿ä¸­çš„æ¡‘æ ‘åƒæ˜¯ä¸€å¤œä¹‹é—´è€—å°½äº†ç”Ÿæ°”ï¼Œè¿å¸¦ç€æ€€æ¢“æ®¿ä¸­çš„æ¢“æ ‘ä¹Ÿè¡°è´¥äº†å¤§åŠã€‚å®ƒä»¬åƒæ˜¯æµå¹²äº†çœ¼æ³ªçš„å­©ç«¥ï¼Œçœ¼åº•åªå‰©ä¸‹ä¸ä»çš„éº»æœ¨ã€‚</p><p>ã€€ã€€æ²¡è¿‡å‡ æ—¥ï¼Œä¸€åˆ™éœ‡æƒŠæ•´ä¸ªç™½è°·åŸŸï¼Œä¹ƒè‡³æ•´ä¸ªå¤§ä¹Œéƒ½æœ‰æ‰€è€³é—»çš„æ¶ˆæ¯ä¼ äº†å‡ºæ¥ï¼Œç™½è°·åŸŸåŸŸä¸»çš„å°å„¿å­ï¼Œå› ä¸é•¿å…„ç”Ÿå«Œå·²ä¹…ï¼Œé‚åœ¨é‡‘é¸¾ç¥­å½“æ™šæ‰‹åˆƒäº†å…„é•¿ï¼ŒåŸŸä¸»å¤§äººä¸€æ€’ä¹‹ä¸‹å°†å…¶å‡»æ€ï¼Œç„¶åæ€¥ç«æ”»å¿ƒæ˜å€’åœ¨äº†æ®¿ä¸­ã€‚</p><p>ã€€ã€€åˆè¿‡äº†å¥½äº›æ—¶æ—¥ï¼Œå½“è‹æ™¯åœ¨é¥­æ¡Œä¸Šå¬åˆ°è‹é‡æèµ·æ­¤äº‹æ—¶ï¼Œä¸ç¦æ„Ÿæ…¨é“ï¼šâ€œå¤§ä¹Œçš„äººå¯çœŸå¤Ÿç‹ çš„ã€‚â€è‹é‡æŒ‘äº†æŒ‘çœ‰ï¼ŒçŠ¶è‹¥æ— æ„çš„å›äº†ä¸€å¥ï¼šâ€œå‡ä½œçœŸæ—¶çœŸäº¦å‡ï¼Œæ— ä¸ºæœ‰å¤„æœ‰è¿˜æ— ã€‚â€ç„¶åä¸¤äººå¯¹è§†ä¸€çœ¼ï¼Œç»§ç»­åƒé¥­äº†ã€‚</p><p>ã€€ã€€è‹é‡å‡ æ—¥å‰å°±è·Ÿè‹æ™¯å•†é‡ç€å»å±±è°·çš„æ›´æ·±å¤„å¯»äº›çè´µçš„è‰è¯ï¼Œç„¶åæ‹¿åˆ°åŸä¸­å»å–ã€‚æœ€è¿‘æˆ˜äº‹é¢‡å¤šï¼Œå¤§å¤§å°å°çš„æµå¯‡æ‰°çš„äººå¿ƒæƒ¶æƒ¶ï¼Œéœ€è¦è¯æçš„äººåº”è¯¥ä¹Ÿä¸å°‘ã€‚</p><p>ã€€ã€€â€œé‚£æ—¥ç‹è§‹åŒ»ç¦»å¼€å‰æˆ‘æ›¾é—®è¿‡ï¼Œè¿™ç‰‡å±±è°·é‡Œæœ‰ä¸€ç§æä¸ºç½•è§çš„ç‰éºŸè‰ï¼Œå¯æ²»ç™¾ç—…ï¼Œä»–æ›¾åœ¨å¹´å°‘çš„æ—¶å€™é‡è¿‡ä¸€æ ªï¼Œä¹‹åä¾¿æ— è¿¹å¯å¯»äº†ã€‚â€è‹é‡å¯¹è‹æ™¯è¯´é“ã€‚</p><p>ã€€ã€€è‹æ™¯ååœ¨é—¨å£çš„é’çŸ³ä¸Šï¼Œæœ›ç€ä¸è¿œå¤„åœ¨ææ¡ é—´è½½é£è½½ä¸‹çš„è¡”æ¬¢ç‡•ï¼Œæ’‘ç€è„‘è¢‹è¯´ï¼šâ€œè¿™å¥½åŠï¼Œæˆ‘å’Œä½ ä¸€å—å»å¯»ã€‚â€è‹é‡æ‘‡äº†æ‘‡å¤´ï¼Œçš±çœ‰é“ï¼šâ€œå¤ªå±é™©äº†ï¼Œæˆ‘ä¸€ä¸ªäººå»ä¾¿å¯ã€‚â€</p><p>ã€€ã€€è‹æ™¯æ’‡äº†æ’‡å˜´ï¼Œä»°å¤´çœ‹ç€è‹é‡ï¼ŒçŠ¶ä¼¼ä¸æ»¡çš„è¯´é“ï¼šâ€œè‹é‡ï¼Œä½ å¿˜äº†æˆ‘çš„çœ‹å®¶æœ¬é¢†æ˜¯ä»€ä¹ˆäº†å—ï¼Ÿâ€è‹é‡æ€”ç„¶ï¼Œéšåæƒ³èµ·ä»€ä¹ˆä¼¼çš„æç„¶å¤§æ‚Ÿï¼Œç•¥å¾®æ€ç´¢äº†ç‰‡åˆ»åè¯´ï¼šâ€œé‚£æˆ‘ä»¬æ˜æ—©å‡ºå‘ã€‚â€</p><p>ã€€ã€€è‹æ™¯æ‹äº†æ‹è‡ªå·±çš„èƒ¸è„¯ï¼Œè‡ªä¿¡éå¸¸çš„è¯´é“ï¼šâ€œåŒ…åœ¨æˆ‘èº«ä¸Šï¼ä»€ä¹ˆç‰éºŸè‰ï¼Œä¸‡å¹´å‚æˆ‘éƒ½èƒ½ç»™ä½ æŒ–å‡ºæ¥ï¼â€è‹é‡å¾®å¾®ç‚¹å¤´ï¼Œä¸ç½®å¯å¦ã€‚</p><p>ã€€ã€€ç¬¬äºŒæ—¥å¤©åˆšè’™è’™äº®ï¼Œä¸€æŠ¹é±¼è‚šç™½å¥½ä¼¼ä»å±±æ¶§æ¸…æ·™ä¸­ç¼“ç¼“æµæ·Œè€Œå‡ºã€‚è‹é‡åœ¨é—­ç›®å‡ç¥ä¹‹é™…å°±å¬åˆ°è€³è¾¹ä¼ æ¥ä¸€é˜µçª¸çª£ï¼Œç´§æ¥ç€å°±å¬åˆ°è‹æ™¯æ‰¯ç€å—“å­å–Šï¼šâ€œèµ·ï¼åºŠï¼â€¦å””ï¼â€</p><p>ã€€ã€€è‹é‡ä¸€æ‰‹æ‚ç€è‹æ™¯çš„å˜´å·´ï¼Œä¸€æ‰‹æ‰äº†æ‰è‡ªå·±çš„è€³æœµï¼Œç„¶åä»è¢«è¤¥ä¸Šä»°èº«è€Œèµ·ã€‚è‹æ™¯ä»ç‹¼çˆªä¸‹èº²å¼€ï¼Œé¢‡æœ‰äº›è¿«ä¸åŠå¾…åœ°æ‹‰ç€è‹é‡å¾€å¤–èµ°ï¼Œè¾¹èµ°è¾¹è¯´é“ï¼šâ€œæ—©ä¸Šæˆ‘å·²ç»åœ¨é™„è¿‘æ¢æŸ¥äº†ä¸€ç•ªï¼Œè·Ÿæˆ‘æ¥ï¼â€</p><p>ã€€ã€€è‹é‡å°±è¿™ä¹ˆè·Ÿç€è‹æ™¯å¾€å±±è°·çš„æ·±å¤„èµ°ï¼Œè‹æ™¯èµ°åœ¨å‰é¢ï¼Œçœ¼çœ¸è™šå¼ ï¼Œåœ¨ä»–èº«å‰è¿˜æœ‰æ˜Ÿæ˜Ÿç‚¹ç‚¹çš„å¢¨ç»¿è‰²è§å…‰è·ƒåŠ¨ç€æ±‡æˆä¸€æ¡èœ¿èœ’çš„è›‡çº¿ï¼Œä¼¼ä¹åœ¨æŒ‡å¼•ç€ä»–ä»¬å‰è¡Œçš„æ–¹å‘ã€‚</p><p>ã€€ã€€è‹é‡åœ¨è·è‹æ™¯èº«åä¸€æ­¥ä¹‹å¤–çš„åœ°æ–¹ä¸ç´§ä¸æ…¢çš„è·Ÿéšç€ï¼Œç‹¼çœ¸å¾®çœ¯ï¼Œç³å­”é‡Œè¡€è‰²çº¹è·¯è‹¥éšè‹¥ç°ã€‚å½“ä»–ä»¬æ¥åˆ°æ¯«æ— äººè¿¹çš„åœ°æ–¹åï¼Œæ¯å¾€å±±è°·æ·±å¤„è¡Œè¿›ä¸€é‡Œï¼Œè‹é‡çš„ç¥ç»ä¾¿æ›´ç´§ç»·ä¸€åˆ†ã€‚</p><p>ã€€ã€€èµ°ç€èµ°ç€ï¼Œé˜³å…‰å¥½åƒå˜çš„è¶Šæ¥è¶Šç¨€è–„ï¼Œä¸¤ä¸ªäººçš„æ­¥å­æ”¾ç¼“ï¼Œè‹æ™¯èº«å‰çš„ç»¿è‰²è§å…‰çªç„¶çªå…€çš„å››æ•£å¼€æ¥ï¼Œå¦‚æƒŠå¼“ä¹‹é¸Ÿèˆ¬çš„æ¶ˆå¤±åœ¨ä¸¤äººçœ¼å‰ã€‚</p><p>ã€€ã€€è‹æ™¯è“¦åœ°çå¼€çœ¼ï¼Œç¥è¯†å‘å‘¨å›´é‡Šæ”¾è€Œå‡ºï¼Œéè‰²çš„é‡‘å…‰å°†è¿™æ–¹ç©ºé—´éƒ½ç…§äº®äº†å‡ åˆ†ã€‚è‹æ™¯å¾®å¾®çš±çœ‰ï¼Œåœ¨ç¨€è–„çš„é˜³å…‰ä¸‹ä¼¼ä¹æœ‰ä¸€å±‚ææ·¡çš„é›¾åœ¨æ¸¸èµ°ç€ã€‚</p><p>ã€€ã€€ä¸€ç¼•ä¼¼æœ‰è‹¥æ— çš„ç©ºæ°”æ è¿‡è‹æ™¯çš„é¼»å°–ï¼Œéœæ—¶é—´æ»”å¤©çš„ç«å…‰åœ¨è‹æ™¯çš„è„‘æµ·é‡Œæ¶Œç°ï¼Œåå¤©å¼åœ°çš„è½°é¸£å£°è®©è‹æ™¯çš„ç¥è¯†éƒ½å˜çš„æ‘‡æ‘‡æ¬²å ã€‚è‹æ™¯èµ¶ç´§è¿è½¬ç¥è¯†ï¼Œå°†æ‰©æ•£äºå¤–çš„ç¥è¯†èšæ‹¢åœ¨çœ‰å¿ƒï¼Œå˜´é‡Œå¤§å–ï¼šâ€œè‹é‡ï¼å±æ°”å‡ç¥ï¼è¿™é‡Œæœ‰å¦„æ°”ï¼â€</p><p>ã€€ã€€å¦„æ°”ï¼Œè¨€å…¶è™šå¦„ä¹‹ç›¸éšå¿µè€Œèµ·ä¹Ÿã€‚å®ƒèƒ½å”¤èµ·äººå¿ƒä¸­æœ€å¯æ€•çš„å¿µå¤´ï¼Œç¥è¯†å­±å¼±è€…ä¸€ä¸ªä¸æ…ä¾¿ä¼šåœ¨æ— å°½çš„è™šå¦„ä¸­æ²‰æ²¦ã€‚</p><p>ã€€ã€€è‹æ™¯è™½è¯´æ²¡ä¿®ç‚¼å¿ƒæ³•ï¼Œä½†ç¥è¯†èƒ½é‡æä¸ºåºå¤§ï¼Œåœ¨å¸å…¥å¦„æ°”çš„åˆ¹é‚£é—´ä¾¿é ç€ç£…ç¤´çš„ç¥è¯†èƒ½é‡æŠ‘ä½äº†å†…å¿ƒçš„å¦„å¿µã€‚å¯å¦„å¿µåœ¨è„‘æµ·é‡Œå‡ºç°çš„é‚£ç‰‡åˆ»ï¼Œä¾æ—§è®©ä»–çš„å¿ƒç¥åŠ¨è¡ä¸å·²ã€‚</p><p>ã€€ã€€è‹æ™¯æ·±å‘¼äº†ä¸€å£æ°”ï¼Œé™¡ç„¶å¬è§äº†èº«åä¸€å£°læ‚²æˆšçš„ç‹¼åšã€‚â€œä¸å¥½ï¼â€è‹æ™¯æ€¥å¿™è½¬å¤´ï¼Œå‘ç°è‹é‡åŒæ‰‹æŠ±ç€è„‘è¢‹è·ªååœ¨åœ°ä¸Šï¼Œè„–é¢ˆå’Œé¢å¤´çš„é’ç­‹æš´èµ·ï¼ŒçŒ›çƒˆçš„æŠ½åŠ¨ç€ã€‚</p><p>ã€€ã€€è‹é‡æ­»æ­»å’¬ç€ç‰™ï¼Œé¢éƒ¨çš„è‚Œè‚‰å› ä¸ºå¤ªè¿‡ç”¨åŠ›è€Œä¸ä½åœ°é¢¤æŠ–ï¼Œç´§é”çš„çœ‰å³°è¢«è¡€å…‰å’Œæˆ¾æ°”ç¬¼ç½©åœ¨å†…ï¼Œèº«åä¸€å¼ å·¨å¤§çš„ç„é’è‰²ç‹¼å½±ä¹Ÿä½ä¼ç€å¤´é¢…ï¼Œç‹¼å°¾ä¸å®‰åˆç‹‚èºçš„ä¸æ–­æ™ƒåŠ¨ã€‚</p><p>ã€€ã€€è‹é‡æ„Ÿè§‰è¡€æ¶²é‡Œçš„é‚£è‚¡èƒ½é‡è¦æŠŠä»–æ’•ç¢äº†ï¼Œä»–å¥½åƒç½®èº«åœ¨æ»šçƒ«çš„æ²¸æ°´ä¸­ï¼Œä½“å†…å‡è…¾çš„çƒ­æµªå°†ä»–ä¸€å¯¸ä¸€å¯¸çš„åå™¬ã€‚è„‘å­é‡Œæ˜¯æ— ç©·æ— å°½çš„å°¸å±±è¡€æµ·ï¼Œæ— æ•°å‡„å‰çš„å“€é¸£å£°ä»¿ä½›åœ¨æ’•æ‰¯ç€ä»–çš„ç¥ç»ï¼ŒåŠ¿å¿…è¦è®©ä»–ä¸€åŒå å…¥è¡€æµ·ã€‚</p><p>ã€€ã€€è‹æ™¯çœ‹åˆ°ä»–è¿™å‰¯æ¨¡æ ·ï¼Œæ€¥å¿™åŒæ‰‹ç»“å°ï¼Œå®‰ç¥è¯€å’Œç¥è¯†å¦‚æ´ªæµèˆ¬çš„æœè‹é‡æ¶Œå»ï¼Œé™¤äº†ç»´æŒè‡ªå·±ä¸è¢«å¦„æ°”ä¾µè¢­çš„é‚£ä¸€éƒ¨åˆ†èƒ½é‡å¤–ï¼Œå…¶ä½™çš„èƒ½é‡å°½æ•°ä¼ å‘äº†è‹é‡ã€‚</p><p>ã€€ã€€è‹æ™¯çš„ç¥è¯†åˆšæ¥è§¦è‹é‡çš„é‚£ä¸€åˆ»ï¼Œè‹é‡æµ‘èº«æš´åŠ¨çš„èƒ½é‡æœ‰ç‰‡åˆ»çš„æ”¶æ•›ï¼Œç„¶è€Œæ²¡è¿‡å¤šä¹…ï¼Œè‹æ™¯å°±å‘ç°æ— è®ºæ˜¯ä»–çš„ç¥è¯†è¿˜æ˜¯å®‰ç¥è¯€éƒ½æ²¡æ³•å‡å¼±è‹é‡çš„ç—›è‹¦ã€‚</p><p>ã€€ã€€å†·æ±—ä¸æ–­çš„è‡ªè‹é‡é¢å¤´æ»‘è½ï¼ŒèƒŒåä¹Ÿæ—©å·²è¢«æ±—æ°´æµ¸æ¹¿ã€‚ä»–åƒæ˜¯ææµ…åœ¨å²¸çš„é±¼ï¼Œç‹¼ç‹ˆåˆæ— æªçš„å–˜æ¯ç€ã€‚è‹æ™¯åˆå°è¯•ç»™è‹é‡çŒè¾“è‡ªå·±çš„èƒ½é‡ï¼Œä»æ˜¯ä¸èµ·åŠåˆ†ä½œç”¨ã€‚</p><p>ã€€ã€€è‹æ™¯æ¯«ä¸çŠ¹è±«çš„å³æ‰‹åŒ–åˆƒï¼Œæ­£æ¬²å¾€è‡ªå·±å·¦æ‰‹åŠ¨è„‰åˆ’ä¸‹çš„æ—¶å€™ï¼Œè¢«ä¸€åªé¢¤æŠ–å´æœ‰åŠ›çš„æ‰‹æ¡ä½äº†æ‰‹è…•ã€‚</p><p>ã€€ã€€è‹é‡å¾®å¾®ä¾§å¤´ï¼Œçœ¼ç¥é‡Œæ˜¯éšæ™¦çš„åšæŒï¼Œä»–å–‰é—´å¾®åŠ¨ï¼Œä»ç‰™ç¼é—´æŒ¤å‡ºå‡ ä¸ªå­—ï¼šâ€œä¸â€¦è¦â€¦â€ï¼Œç„¶åè½»è½»æ™ƒäº†æ™ƒè‹æ™¯åŒ–åˆƒçš„èƒ³è†Šã€‚</p><p>ã€€ã€€è‹æ™¯åæ‰‹å°±æŠ“ä½äº†è‹é‡çš„æ‰‹æŒï¼Œæœ‰äº›å“½å’½çš„ç»†å£°è¯´é“ï¼šâ€œåˆ«æ€•ï¼Œæˆ‘é©¬ä¸Šå°±å¸¦ä½ å›å®¶ã€‚â€è¯´ç½¢ï¼Œä¾¿æ¬²èµ·èº«å»èƒŒè‹é‡ã€‚è‹é‡æ‘‡äº†æ‘‡å¤´ï¼Œæ— åŠ›åœ°è¯´ï¼šâ€œåˆ«è®©â€¦å¥¶å¥¶çŸ¥é“â€¦ï¼Œæˆ‘ä»¬è¿˜è¦â€¦è¿˜è¦é‡‡è¯â€¦â€</p><p>ã€€ã€€ä»–æœ›ç€è‹æ™¯ï¼Œæ‰¯äº†æ‰¯å¹²æ¶©çš„å˜´è§’ï¼Œé“ï¼šâ€œä½ â€¦èƒ½ä¸èƒ½â€¦è½¬è¿‡å»ï¼Œé™ªæˆ‘è¯´è¯´è¯â€¦â€è¯­æ°”é‡Œæœ‰æåŠ›éåˆ¶çš„ç—›è‹¦ã€‚è‹æ™¯ç›¯äº†ä»–ç‰‡åˆ»ï¼Œç„¶ååœ¨è‹é‡å¸¦ç€å“€æ±‚çš„ç›®å…‰ä¸­ç¼“ç¼“è½¬èº«ã€‚</p><p>ã€€ã€€ä»–åŒæ‰‹æ­»æ­»æ”’ç€è¡£è§’ï¼ŒåŠªåŠ›å¼ºè¿«è‡ªå·±æ²‰æµ¸åœ¨å›å¿†é‡Œã€‚</p><p>ã€€ã€€â€œå°çš„æ—¶å€™ï¼Œæˆ‘ä¸å°å¿ƒæ‰“ç¢äº†æ¯äº²ç•™ä¸‹çš„ä¸€å¯¹é¸³é¸¯ç‰ï¼Œé‚£æ˜¯çˆ¶äº²ç¬¬ä¸€æ¬¡ï¼Œä¹Ÿæ˜¯æœ€åä¸€æ¬¡å†²æˆ‘å‘ç«â€¦â€</p><p>ã€€ã€€â€œåœ¨å­¦å ‚ä¸Šå­¦ï¼Œæˆ‘äº¤äº†å¾ˆå¤šå¥½æœ‹å‹ï¼Œå¶å°”å–œæ¬¢å‘å‘†çš„å°å’Œå°šï¼Œæ€»æ˜¯æƒ³å®¶çš„è™å¦ï¼Œè¿˜æœ‰å˜´ç¡¬å¿ƒè½¯çš„â€¦â€<br>ã€€ã€€â€¦â€¦</p><p>ã€€ã€€è‹æ™¯ä¸çŸ¥é“è‡ªå·±è¯´äº†å¤šä¹…ï¼Œä»–åªèƒ½æ„Ÿè§‰åˆ°èº«åä¹‹äººä¸æ–­ä¼ æ¥å‹æŠ‘çš„é—·å“¼å’Œèº«ä½“æ‘©æ“¦åœ°é¢çš„å£°éŸ³ã€‚</p><p>ã€€ã€€æ…¢æ…¢åœ°ï¼Œé˜³å…‰æŠ½ä¸å‰¥èŒ§èˆ¬çš„è¤ªå»ï¼Œè¿å¸¦ç€å¦„æ°”ä¹Ÿæ¶ˆå¤±åœ¨é˜´å½±é‡Œã€‚ç­‰ç©ºæ°”ä¸­çš„å¦„æ°”å°½æ•°é€€æ•£åï¼Œè‹æ™¯æ‚¬ç€çš„å¿ƒæ‰æ¾äº†ç»³ã€‚ä»–è¯•æ¢æ€§åœ°å–Šäº†ä¸€å£°ï¼šâ€œè‹é‡ï¼Ÿâ€æ²¡æœ‰å¬åˆ°å›ç­”ï¼Œä»–çŒ›åœ°å›å¤´ï¼Œå´è½è¿›äº†ä¸€åŒæ·±é‚ƒçš„çœ¸å­é‡Œã€‚</p><p>ã€€ã€€ä»–ä»é‚£çœ¸å­é‡Œçœ‹åˆ°äº†å¯¥å»“çš„å±±ï¼Œå‡›å†½çš„é£ï¼Œè¿˜æœ‰â€¦æ„£ç¥çš„è‡ªå·±ã€‚çœ¸å­é‡Œçš„å±±é£å°±é‚£ä¹ˆæŠŠä»–åŒ…è£¹ç€ï¼Œè£¹å¾—ä»–çš„èƒ¸è†›ä¸å—æ§åˆ¶çš„èµ·ä¼èµ·æ¥ã€‚</p><p>ã€€ã€€è‹æ™¯çš„å‘¼å¸æœ‰äº›æ€¥ä¿ƒï¼Œåˆšæ¬²å¼€å£å°±å¬åˆ°è‹é‡å¼±å¼±å–Šäº†å£°ï¼šâ€œå†·ã€‚â€ä»–èµ¶ç´§åçš„ç¦»è‹é‡è¿‘äº›ï¼Œå°±è§åˆ°è‹é‡ä¼¸æ‰‹ç´§ç´§ç¯ä½äº†ä»–çš„æ‰‹è‡‚ï¼Œå˜´é‡Œå˜Ÿå›”ç€ï¼šâ€œå¤ªé˜³æ˜¯ä¸æ˜¯è¢«ä½ èµ¶è·‘äº†ï¼Ÿâ€</p><p>ã€€ã€€è‹æ™¯ä¸å…æœ‰äº›å¥½ç¬‘ï¼Œå“„å°å­©å­ä¸€æ ·çš„è¯´ï¼šâ€œå¤ªé˜³å•Šä¹Ÿè¦ä¼‘æ¯äº†ï¼Œå†ç­‰ä¸€ä¼šå„¿ï¼Œç­‰æˆ‘ä»¬å°ç‹¼ç¡ç€äº†ï¼Œå¤ªé˜³å°±å‡ºæ¥äº†ã€‚â€è‹é‡é—­ä¸Šçœ¼ï¼Œè¿‡äº†ä¸€ä¼šå„¿åˆçš±ç€çœ‰å¤´è¯´ï¼šâ€œç¡ä¸ç€ã€‚â€</p><p>ã€€ã€€â€œç¡ä¸ç€å°±æ•°â€¦â€è‹æ™¯åˆšæƒ³è¯´æ•°æ˜Ÿæ˜Ÿï¼Œå´å‘ç°ä»Šæ™šçš„å¤©ç©ºé»‘çš„æ²¡æœ‰ä»»ä½•å…‰äº®ã€‚è€³è¾¹å´ä¼ æ¥è‹é‡çš„å£°éŸ³ï¼šâ€œä¸€ï¼ŒäºŒï¼Œä¸‰â€¦â€æ•°ç€æ•°ç€ï¼Œè‹é‡çš„å£°éŸ³æ…¢æ…¢å˜è½»ï¼Œç›´åˆ°â€œä¸ƒåä¸€ã€‚â€è‹é‡æŠŠè¿™ä¸ªæ•°å­—å¿µçš„æ ¼å¤–æ¸…æ™°ï¼Œç„¶åä¾¿å®‰é™äº†ä¸‹æ¥ã€‚</p><p>ã€€ã€€ç¬¬äºŒæ—¥ä¸€æ—©ï¼Œè‹é‡è¢«é˜³å…‰æ™’å¾—çœ¼çš®å‘çƒ«ã€‚ä»–æƒºå¿ªåœ°çå¼€çœ¼ï¼Œå°±è§åˆ°è‹æ™¯ç«™åœ¨å…‰äº®é‡Œï¼Œæœä»–ä¼¸å‡ºæ‰‹ï¼Œé¢å¸¦ç¬‘æ„çš„å¯¹ä»–è¯´ï¼šâ€œå›å®¶å§ã€‚â€</p><p>ã€€ã€€è‹é‡æ„£åœ¨åŸåœ°ï¼Œé˜³å…‰ä»å¤´é¡¶å°†è‹æ™¯ç¬¼ç½©èµ·æ¥ï¼Œç„¶åæ…¢æ…¢çš„ï¼Œä¸€ç‚¹ç‚¹çš„ï¼Œé©±èµ°äº†ä»–èº«åçš„é»‘æš—ã€‚</p><p>ã€€ã€€å°˜èŠ¥é•‡ã€‚é¹¿è¡Œæ‰¬å°˜ï¼Œä½™èˆŸä¸€èŠ¥ã€‚</p><p>ã€€ã€€å°˜èŠ¥é•‡æ˜¯å¤§èµ¢å’Œå¤§ä¹¾ç»µå»¶ä¸‡é‡Œçš„è¾¹ç•Œçº¿ä¸­ï¼Œè¾ƒä¸ºå‡ºåçš„ä¸€åº§å¤§é•‡ã€‚è¿™é‡Œæ··æ‚ç€å¤§èµ¢å’Œå¤§ä¹¾å„æ–¹åŠ¿åŠ›çš„çœ¼çº¿ï¼Œä¹Ÿæ˜¯æ— æ•°èµ°é€”æ— è·¯ä¹‹äººçš„é¿éš¾æ‰€ã€‚</p><p>ã€€ã€€ç”±äºå¤§èµ¢å’Œå¤§ä¹¾ç»å¹´ç´¯æœˆçš„æ‘©æ“¦ï¼Œé€ƒç¦»åœ¨æ­¤çš„æµæ°‘ä¸æ–­å£®å¤§ï¼Œé€æ¸å‘å±•æˆä¸€äº›å¤§å¤§å°å°çš„é›†å›¢åŠ¿åŠ›ï¼Œå…¶ä¸­æœ€å‡ºåçš„å°±æ˜¯â€œé›”å¸®â€ã€‚</p><p>ã€€ã€€é›”å¸®æœ‰ä¸¤ä½å¸®ä¸»ï¼Œå¤§å¸®ä¸»æ˜¯èµ¢å›½çš„è¾¹é˜²å£«å…µï¼Œæ®è¯´åœ¨ä¸€æ¬¡å’Œå¤§ä¹¾çš„æˆ˜äº‰ä¸­ï¼Œå› ä¸ºä¸æˆ˜è€Œé€€è¢«å°†å†›å…¨å¢ƒæ‰æ‹¿ï¼Œæ–¹æ‰é€ƒåˆ°æ­¤åœ°ã€‚</p><p>ã€€ã€€äºŒå¸®ä¸»çš„èº«ä»½é²œæœ‰äººçŸ¥é“ï¼Œæ±Ÿæ¹–è°£ä¼ ï¼Œå¤§å¸®ä¸»åœ¨å’Œå…¶ä»–å¸®æ´¾çš„æ–—äº‰ä¸­ï¼Œé™©äº›èº«äº¡ï¼Œæ˜¯äºŒå¸®ä¸»åœ¨å…³é”®æ—¶åˆ»æŒºèº«è€Œå‡ºï¼Œæ•‘å¤§å¸®ä¸»äºå±éš¾ã€‚</p><p>ã€€ã€€è‹æ™¯å’Œè‹é‡å°†è¿™å°˜èŠ¥é•‡çš„å¤§è‡´æƒ…å†µäº†è§£åï¼Œä¾¿æ‰¾äº†å—é è¿‘å¯ºåº™çš„å¹²å‡€åœ°æ–¹ï¼Œå°†è¯æåˆ†é—¨åˆ«ç±»çš„é“ºåœ¨åœ°ä¸Šã€‚</p><p>ã€€ã€€ä¸Šæ¬¡è‹é‡è¢«å¦„æ°”ä¾µè¢­åï¼Œè‹æ™¯ä¾¿åœ¨å‘¨å›´å‘ç°äº†ä¸€å°ç‰‡ç‰éºŸè‰ï¼Œçº¦è«åæ•°æ ªã€‚åæ¥ä¸¤äººåˆåœ¨æ•´ç‰‡å±±ç¾¤æ¢æŸ¥äº†ä¸€ç•ªï¼Œå°†å¥½äº›çç¨€ç½•è§çš„è¯æéƒ½æœåˆ®äº†ä¸ªå¹²å‡€ã€‚</p><p>ã€€ã€€è‹æ™¯æ‰¾äº†ä¸ªæœ‰æ ‘è«çš„åœ°æ–¹é ç€ï¼Œæ¥æ¥å¾€å¾€çš„äººç¾¤ä¸­æœ‰ä¸å°‘äººçš„è§†çº¿éƒ½ä¼šå¾€è¿™ä¸ªæ–¹å‘æ‰“é‡ã€‚å½“ä»–ä»¬å‘ç°åœ°ä¸Šçš„è¯ææ—¶ï¼Œè®¸å¤šäººçœ¼ç›é‡Œéƒ½å†’ç€è´ªå©ªçš„å…‰ã€‚</p><p>ã€€ã€€ä½†æ˜¯æ²¡å¤šä¹…ä»–ä»¬å°±å‘ç°ï¼Œç«™åœ¨è¯æå †æ—çš„è¿˜æœ‰ä¸€ä½èº«ææŒºæ‹”ï¼Œç›®å«è¡€å…‰çš„å°‘å¹´ã€‚å°‘å¹´èƒŒåç„é’è‰²ç‹¼å½±å®›å¦‚å®è´¨ï¼Œç‹¼çœ¸æ‰«è¿‡æ¯ä¸€ä½è¿‡è·¯äººæ—¶ï¼Œéƒ½ä¼šæ•£å‘ç‹ å‰çš„å¨å‹ã€‚<br>ã€€ã€€<br>ã€€ã€€ä»Šæ—¥çš„å¤©æ°”æœ‰äº›é—·çƒ­ï¼Œè‰é¸£çš„æµå“ä»æ¢§æ¡æ ‘æ¢¢é—´æ·Œå‡ºï¼Œè‹æ™¯å¬ç€ï¼Œæœ‰äº›å¥½å¥‡åœ°è¯´ï¼šâ€œä»Šæ—¥è¿™è‰å£°å€’æ˜¯æ¯”å¾€æ—¥å±±é—´çš„æ›´ä¸ºæ¸…äº®ã€‚â€</p><p>ã€€ã€€è‹é‡æŠ¬çœ¼æœæ ‘ä¸Šæœ›å»ï¼Œè¯´ï¼šâ€œæ¢§æ¡æ ‘é«˜ï¼Œè€Œä¸”æå¶ç¹ç–ï¼Œè‰å±…é«˜å¤„è€Œé¸£ï¼Œè¿™å£°éŸ³è‡ªç„¶ä¼ çš„è¿œäº›ã€‚â€</p><p>ã€€ã€€ä¸è¿œå¤„çš„ä¸€åº§æ¥¼é˜ä¸Šï¼Œä¸€é“æ¸…æ‹”çš„èº«å½±ååœ¨å¢¨ç»¿å±é£æ—ï¼Œé¢å‰æ˜¯çº¢æœ¨èŒ¶å°ã€‚ä»–æ­å¼€å°ä¸Šçš„èŒ¶ç›ï¼Œçƒ­æ°”è¢…è¢…å‡èµ·ã€‚ä»–å¯¹ç€æ¯æ²¿è½»è½»å¹äº†å£æ°”ï¼Œå°±å¬åˆ°è‹é‡çš„è¯éŸ³ä¼ å…¥è€³ä¾§ã€‚é‚£äººæ‰‹ä¸Šçš„åŠ¨ä½œé¡¿äº†é¡¿ï¼Œç„¶åå—¤ç¬‘äº†ä¸€å£°ã€‚</p><p>ã€€ã€€â€œå±…é«˜å£°è‡ªè¿œå•Šã€‚â€</p><p>ã€€ã€€ä»–æµ…æŠ¿äº†ä¸€å£æ¯ä¸­çš„èŒ¶æ°´ï¼Œç„¶åéšæ‰‹æœæ¢§æ¡æ ‘ç”©å»ä¸€é“ç»¿è‰²çš„åŠ²é£ï¼Œè‰å£°é¡¿æ—¶æˆ›ç„¶è€Œæ­¢ã€‚</p><p>ã€€ã€€â€œè’å™ªã€‚â€  </p>]]></content>
    
    
    <categories>
      
      <category>å†™ä½œ Ê•â—‰á´¥â—‰Ê”</category>
      
      <category>ã€Šå—å† æ¬²çƒ‚æŸ¯ã€‹</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å†™ä½œ</tag>
      
      <tag>å—å† </tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç¬¬å…«ç«  Â· èŠ±ç¯æ©æ™¦å½±ğŸ¤</title>
    <link href="/2023/11/15/%E5%86%99%E4%BD%9C/%E5%8D%97%E5%86%A0%E6%AC%B2%E7%83%82%E6%9F%AF/%E5%8D%97%E5%86%A0-%E7%AC%AC%E5%85%AB%E7%AB%A0/"/>
    <url>/2023/11/15/%E5%86%99%E4%BD%9C/%E5%8D%97%E5%86%A0%E6%AC%B2%E7%83%82%E6%9F%AF/%E5%8D%97%E5%86%A0-%E7%AC%AC%E5%85%AB%E7%AB%A0/</url>
    
    <content type="html"><![CDATA[<h1 id="èŠ±ç¯æ©æ™¦å½±"><a href="#èŠ±ç¯æ©æ™¦å½±" class="headerlink" title="èŠ±ç¯æ©æ™¦å½±"></a>èŠ±ç¯æ©æ™¦å½±</h1><p>ã€€ã€€â€œæƒ³ä»€ä¹ˆå‘¢è¿™ä¹ˆå…¥ç¥ï¼Ÿâ€ç™½æ©–è¿˜æ²‰æµ¸åœ¨é‚£å¹´çš„æ·…æ·…æ²¥æ²¥ä¸­ï¼Œå°±å¬åˆ°å‰æ–¹ä¸€é“å¸¦ç€å…³å¿ƒçš„å£°éŸ³ä¼ æ¥ã€‚â€œæ²¡ä»€ä¹ˆã€‚â€ç™½æ©–æ•›äº†æ•›å˜´è§’ï¼Œè¯­æ°”æ·¡æ·¡çš„åœ°å¯¹å¸ˆå…„è¯´é“ã€‚</p><p>ã€€ã€€ä»–æ”¾æ…¢äº†è„šæ­¥ï¼Œæ— å£°åœ°å’Œäººç¾¤è„±ç¦»äº†äº›ï¼Œç„¶åä¾§å¤´æœ›å‘å±±å¤–è¿ç»µå‘¼å•¸åœ°å¤§é›ªã€‚å‡šç‰å±±å°±è¿™ä¹ˆç»å¹´ç´¯æœˆåœ°è¢«è¿™ç‰‡é“¶è£…ç´ è£¹è¦†ç›–ç€ï¼Œåƒæ˜¯æ²‰ç¡åœ¨åœ°åº•çš„å¢“æ£ºï¼Œåº„ä¸¥åˆæ°¸æ— å¤©æ—¥ã€‚</p><p>ã€€ã€€å‡ ç“£é›ªèŠ±å¸¦ç€é†‰æ„ä¼¼çš„è½åœ¨äº†ç™½æ©–çš„æ°´äº‘è¢ä¸Šï¼Œåƒæ˜¯é‚£æ—¥æŠµåœ¨è‚©å¤´çš„å‘µå‘¢ã€‚ç™½æ©–å¿ƒç¥å¾®åŠ¨ï¼Œç›®å…‰åœ¨çœ¼å‰çš„ç™½èŒ«èŒ«ä¸Šé©»äº†è®¸ä¹…ï¼Œå¥½ä¸€ä¼šå„¿æ–¹æ‰æŒªåŠ¨æ­¥å­ï¼Œå¾€äººç¾¤çš„æ–¹å‘èµ°å»ã€‚</p><p>ã€€ã€€è€Œåˆšåˆšåœ¨ç™½æ©–è‚©å¤´å°æ†©çš„é‚£å‡ ç“£é›ªèŠ±ä»¬ï¼Œåœ¨åŒ–æˆæ°´æ±½å„¿å‰ä¼¼ä¹å¬åˆ°äº†é‚£äººçš„ä½è¯­ã€‚</p><p>ã€€ã€€â€œç¦»æ¨èƒœä¼¼å†¬é›ªï¼Œæ›´è¡Œæ›´è¿œä¸æ­‡ã€‚â€</p><p>ã€€ã€€è‹æ™¯ï¼Œä½ è¿˜å¥½å—ã€‚</p><p>ã€€ã€€è‹æ™¯åœ¨ç¡æ¢¦ä¸­ä¸è‡ªè§‰åœ°ç¿»äº†èº«ï¼Œç›–åœ¨è„¸ä¸Šçš„è¯æœ¬å­é¡ºç€è„¸é¢Šå‘ä¸‹æ»‘è½ï¼Œåœ¨å¿«è¦ç ¸åˆ°åœ°é¢æ—¶è¢«ä¸€åªå®½å¤§çš„æ‰‹ç¨³ç¨³åœ°æ¥ä½ã€‚è‹é‡æŠŠè¯æœ¬å­æ”¾åˆ°æ¡Œé¢ä¸Šï¼Œåˆç»™è‹æ™¯æ‹¢äº†æ‹¢è¢«å­ï¼Œç„¶åå°†åºŠå¤´çš„æ²¹ç¯å¹ç­äº†ã€‚</p><p>ã€€ã€€ä»–æŠŠåœ°ä¸Šçš„è¢«è¤¥å¾€è‹æ™¯çš„æ–¹å‘æŒªäº†æŒªï¼Œçœ‹ç€ç†Ÿç¡ä¸­çš„äººå„¿ä¸å®‰åˆ†åœ°æŠŠè¢«å­è¸¢æ¥è¸¢å»ï¼Œè‹é‡åˆæ— å¥ˆåˆå¥½ç¬‘åœ°æŠŠä»–éœ²åœ¨å¤–é¢çš„è‚šå­é®ä¸Šï¼Œç„¶ååŒæ‰‹æåœ¨è„‘åèººä¸‹äº†ã€‚</p><p>ã€€ã€€æŒ¨ç€è‹æ™¯ï¼Œè‹é‡èƒ½é—»åˆ°ä»–èº«ä¸Šæµ…æµ…åœ°é…’é¦™ã€‚è‹é‡è§‰ç€ï¼Œè¿™å‘³é“é‡Œé¢æœ‰å†¬æ—¥æ™¨é˜³èˆ¬çš„æš–æ„ï¼Œè®©ä»–èƒ½çœ‹åˆ°å¯¥å»“çš„å¤©ç©ºï¼Œå­¤æ—‹çš„é›„é¹°ï¼Œè·ƒè¹„çš„é‡é©¬ï¼Œä¹Ÿèƒ½è®©ä»–æ¯æ™šç‡¥åŠ¨éš¾æ±çš„å¿ƒç»ªé€æ¸å¹³å¤ã€‚</p><p>ã€€ã€€è‹é‡æƒ³èµ·æ¥ä»–ä»¬ç¬¬ä¸€æ¬¡æ¥åˆ°å¥¶å¥¶è¿™çš„åœºæ™¯ã€‚è¿™é‡Œåªæœ‰ä¸€é—´ç©ºç€çš„å±‹å­ï¼Œå±‹é‡Œä¹Ÿåªæœ‰ä¸€å¼ å•äººçš„å°åºŠã€‚è‹æ™¯èµ°è¿›æ¥çš„æ—¶å€™å°±å¯¹ä»–è¯´ï¼šâ€œä½ ç¡åºŠï¼Œæˆ‘ç¡åœ°ä¸Šã€‚æˆ‘åœ¨å¤–é¢ç¡ä¹ æƒ¯äº†ï¼Œç¡åºŠè¿˜ä¸å¤ªèˆ’æœã€‚â€</p><p>ã€€ã€€è¯´ç½¢ï¼Œæ­£æƒ³å°†å¤šä½™çš„è¢«è¤¥å¾€åœ°ä¸Šé“ºçš„æ—¶å€™ï¼Œå°±è¢«è‹é‡æ‰”åˆ°äº†åºŠä¸Šã€‚â€œï¼Ÿï¼Ÿï¼Ÿâ€è‹æ™¯çªç€å¤§çœ¼ç›çœ‹å‘è‹¥æ— å…¶äº‹æ”¶æ‹¾è¢«è¤¥çš„è‹é‡ï¼Œè„‘è¢‹é‡Œç›˜ç®—ç€ä»–ä¿©è¦æ˜¯æ‰“ä¸€æ¶è°çš„èƒœç®—æ›´å¤§ã€‚</p><p>ã€€ã€€æ²¡è¿‡ä¸€ä¼šå„¿è‹æ™¯å°±è®¤å‘½åœ°èººåœ¨äº†åºŠä¸Šï¼Œå˜´è§’å´æ‚„æ‚„ç¿˜èµ·äº†å¼§åº¦ã€‚ä¸¤ä¸ªäººå°±è¿™ä¹ˆåœ¨è¿™é‡Œä½ä¸‹äº†ï¼Œä¸€ä½ä¾¿æ˜¯ä¸‰å¹´ã€‚</p><p>ã€€ã€€è‹é‡æœè‹æ™¯çš„æ–¹å‘ç¿»äº†ä¸ªèº«ï¼Œç‹¼çœ¸ç‰¢ç‰¢åœ°æ³¨è§†ç€è‹æ™¯ï¼Œä¼¼ä¹è¦å°†ä»–çœ‹è¿›éª¨å­é‡Œã€‚è€³ç•”è¾¹é‚£é“å¸¦ç€å“­è…”çš„å£°éŸ³ä¸æ–­é‡å¤ç€ï¼Œä¸€ä¸‹ä¸€ä¸‹è§¦ç¢°ç€è‹é‡å¿ƒé‡Œçš„é‚£ç‰‡æŸ”è½¯ã€‚</p><p>ã€€ã€€ä»–æ‘©æŒ²ç€æ‰‹ä¸Šçš„æˆ’æŒ‡ï¼Œå¿ƒé‡Œå´çªå…€åœ°å“èµ·ä¸€é“å£°éŸ³ã€‚</p><p>ã€€ã€€è°ä¹Ÿåˆ«æƒ³æŠ¢èµ°è‹æ™¯ã€‚</p><p>ã€€ã€€é•¿å¤œæ¼«æ¼«ï¼Œæ˜Ÿè¾°æµè½¬ã€‚æœˆæŒ‚è¥¿å±±ï¼Œå®¿é¸Ÿå‡ºæ—ã€‚</p><p>ã€€ã€€ç­‰è‹æ™¯å†æ¬¡çå¼€çœ¼ç›çš„æ—¶å€™ï¼Œæˆ¿é—´é‡Œé¢é™¤äº†ä»–ç©ºæ— ä¸€äººã€‚å·³æ—¶çš„é˜³å…‰å¦‚å±±é—´æ¸…æ³‰ä¼¼çš„å€¾æ³»è¿›å±‹å­é‡Œï¼Œè‹æ™¯æœ‰äº›è¿·ç³Šåœ°æ‰äº†æ‰çœ¼ç›ï¼Œç›®å…‰ä»çœ¼ç¼é—´æœ›è§äº†æ¡Œä¸Šä¸€åªç”¨ç«¹å­åšçš„å°å¥¶çŒ«ã€‚</p><p>ã€€ã€€â€œç‹¼æ—éƒ½è¿™ä¹ˆå–œæ¬¢çŒ«çš„å—ï¼Ÿä»–ä»¬æ˜¯æœ‰ä»€ä¹ˆå§»äº²å…³ç³»ï¼Ÿâ€è‹æ™¯æœ‰äº›è´¹è§£çš„æ‰“äº†ä¸ªå“ˆæ¬ ï¼Œç„¶åæ‰“é‡äº†ä¸€åœˆå±‹å­é‡Œå„å¼å„æ ·ç”¨ç«¹å­åšçš„å°çŒ«ä»¬ï¼Œæ¯ä¸€ä¸ªéƒ½æ ©æ ©å¦‚ç”Ÿã€‚ä¸å¾—ä¸è¯´ï¼Œè‹é‡ç«¹åˆ»çš„æ‰‹è‰ºæ˜¯è¶Šæ¥è¶Šå¨´ç†Ÿäº†ã€‚</p><p>ã€€ã€€è‹æ™¯æ…¢æ‚ æ‚ çš„æ™ƒè¡åˆ°æˆ¿é—¨å£ï¼Œæ¨å¼€é—¨å°±çœ‹åˆ°å¥¶å¥¶å’Œè‹é‡ååœ¨æ¡Œå‰åƒé¥­ã€‚é—¨æ‰“å¼€çš„å‰ä¸€åˆ»è‹é‡è¿˜åœ¨ä½å¤´å–ç€ç²¥ï¼Œæ¨å¼€é—¨çš„ä¸€åˆ¹é‚£è‹é‡å°±æŠŠç›®å…‰é”åœ¨äº†è‹æ™¯èº«ä¸Šã€‚</p><p>ã€€ã€€è‹æ™¯å’Œè‹é‡å¯¹è§†ä¸€çœ¼ï¼Œç„¶åæœ‰äº›æ‹…å¿ƒçš„é—®å¥¶å¥¶ï¼šâ€œå¥¶å¥¶ï¼Œæ‚¨çš„è…°å¥½äº›äº†ä¹ˆï¼Ÿâ€å¥¶å¥¶å¬åˆ°è‹æ™¯çš„å£°éŸ³å°±ä¹çš„åˆä¸æ‹¢å˜´ï¼Œå¥¹æœè‹æ™¯æ‹›æ‹›æ‰‹ï¼Œç¤ºæ„ä»–åä¸‹æ¥åƒé¥­ï¼Œç„¶åé¡ºäº†é¡ºè‹æ™¯ç¿˜èµ·æ¥çš„å¤´å‘ï¼Œçœ¼å«ç¬‘æ„åœ°æ…ˆå£°è¯´é“ï¼šâ€œå¥½å¤šäº†ã€‚æ¥ï¼Œèµ¶ç´§åƒé¥­ã€‚â€</p><p>ã€€ã€€è¯éŸ³åˆšè½ï¼Œè‹é‡å°±é€’è¿‡æ¥ä¸€ç¢—åˆšç››çš„çƒ­ç²¥ã€‚è‹æ™¯å†²ç€ç²¥å‘¼å‘¼å¹äº†å‡ å£æ°”ï¼Œç„¶åä¸‰ä¸‹äº”é™¤äºŒçš„å°±æŠŠç²¥å–çš„è§äº†åº•ã€‚ä»–æŠŠç¢—æ”¾ä¸‹ï¼Œçœ‹åˆ°è‹é‡å·²ç»åœ¨ç­‰ä»–äº†ï¼Œäºæ˜¯å¯¹å¥¶å¥¶è¯´ï¼šâ€œå¥¶å¥¶ï¼Œæˆ‘ä»¬å…ˆå»å±±ä¸‹ä¿®ç‚¼äº†ï¼Œæ™šä¸Šå†ç»™æ‚¨æŠ“æ¡å¤§é±¼å›æ¥ï¼â€</p><p>ã€€ã€€å¥¶å¥¶å¾®ç¬‘ç€ç‚¹å¤´åº”å¥½ï¼Œè‹æ™¯å°±è·Ÿç€è‹é‡å‡ºé—¨äº†ã€‚å¤æ—¥æ¸©ç…¦ï¼Œæ— é£æ— äº‘ï¼Œç©ºæ°”ä¸­å¸¦ç€æ–°é•¿å‡ºæ¥çš„é’è‰å‘³å„¿ï¼Œé˜³å…‰æ··ç€æ°´æ±½å„¿åœ¨å±±æ—é—´æ¼¾å‡ºä¸€å±‚ä¸€å±‚ç»†å¾®çš„å…‰åœˆã€‚</p><p>ã€€ã€€è‹æ™¯åˆšèµ°åˆ°å±±æ—çš„ä¸€å¤„æ‹è§’ï¼Œç¥è¯†å°±ä¸è‡ªè§‰åœ°æ³›èµ·éå…‰ã€‚ä»–æƒ¬æ„åœ°å¼ å¼€åŒè‡‚ï¼Œæ·±å¸äº†ä¸€å£æ°”ï¼Œå°†è‡ªå·±åŒ…è£¹è¿›é˜³å…‰çš„æ€€æŠ±ï¼ŒåŒ…è£¹è¿›è‡ªç„¶çš„æ‘‡ç¯®ã€‚ä¸¤ä¸ªäººé¡ºç€å±±è·¯æ¥åˆ°äº†ä¸€å—ç©ºæ—·çš„å¹³åœ°ï¼Œè¿™æ˜¯ä»–ä»¬å¹³æ—¶ä¿®ç‚¼çš„åœ°æ–¹ã€‚</p><p>ã€€ã€€è‹æ™¯æœ‰äº›è¿«ä¸åŠå¾…åœ°ç›˜è…¿ååœ¨åœ°ä¸Šï¼Œè½»è½»é—­ä¸ŠåŒçœ¼ï¼Œä»»å‡­ç¥è¯†å‘å¤–æ‰©æ•£ï¼Œè·ƒåŠ¨ç€çš„ç¥è¯†èƒ½é‡å’Œç©ºæ°”ä¸­çš„è‡ªç„¶å› å­æ‚„ç„¶ç¢°æ’ç€ï¼Œä¸æ–­äº§ç”Ÿå…‰èŠ’æµè½¬çš„èƒ½é‡æ¶Ÿæ¼ªã€‚</p><p>ã€€ã€€è‹é‡çœ‹ç€è‹æ™¯æ‰©æ•£çš„è¶Šæ¥è¶Šè¿œçš„ç¥è¯†ï¼Œä¸€ä¸ˆï¼Œäº”ä¸ˆï¼Œåä¸ˆâ€¦è‹é‡å‡çœ¸ï¼Œè‹æ™¯çš„ç¥è¯†é¢†åŸŸæœ‰æ¥è¿‘åäºŒä¸ˆçš„èŒƒå›´ï¼æ”¾çœ¼æ•´ä¸ªå¤§èµ¢ï¼Œåœ¨åä¸ƒå²å°±èƒ½åˆ°è¾¾è¿™ä¸ªé¢†åŸŸèŒƒå›´çš„äººï¼Œä¸€èˆ¬éƒ½æ˜¯å‡ºè‡ªå„å¤§ä¸–å®¶çš„å«¡ç³»å­å¼Ÿã€‚</p><p>ã€€ã€€å¤§èµ¢çš„ä¿®ç‚¼ä½“ç³»åˆ†ä¸ºå¿ƒæ³•å’Œèº«æ³•ã€‚å¿ƒæ³•ä¿®çš„æ˜¯ç¥è¯†ï¼Œèº«æ³•æ˜¯ä»¥èº«åŒ–åˆƒã€‚æ‰€è°“ç¥ï¼Œç²¾æ°”ä¸ç­è€…ä½•ï¼Œå¤šé—»è§è€Œè¯†ä¹è‡³é“è€…ï¼Œè‡³è¯†ä¹Ÿï¼Œæ•…æ›°â€œç¥è¯†â€ã€‚å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªäººçš„ç¥è¯†æ˜¯å¦å¼ºå¤§ï¼Œæœ€ç›´è§‚çš„å°±æ˜¯é¢†åŸŸèŒƒå›´ã€‚</p><p>ã€€ã€€èŒƒå›´è¶Šå¤§ï¼Œè¯´æ˜ä¿®ç‚¼ä¹‹äººçš„ç¥è¯†èƒ½é‡è¶Šæµ©ç€šï¼Œè¶Šèƒ½å¤Ÿæ”¯æ’‘çš„èµ·ç¥è¯†é¢†åŸŸä¸­çš„å¿ƒæ³•æ•ˆæœã€‚å¯æ˜¯ï¼Œè‹é‡çœ‰å³°å¾®è¹™ï¼Œå¿ƒä¸­æ€ç´¢ç€ï¼Œè‹æ™¯çš„ç¥è¯†é¢†åŸŸè™½ç„¶å¾ˆè¾½é˜”ï¼Œä½†ä¼¼ä¹å¹¶æ²¡æœ‰å¤§èµ¢ä»»ä½•ä¸€æ–¹æ´¾ç³»å¿ƒæ³•çš„å½±å­ã€‚</p><p>ã€€ã€€è€Œä¸”è‹æ™¯çš„ç¥è¯†è™½æœ‰æŠšäººå¿ƒç¥ï¼Œå¹³å¿ƒé™æ°”çš„èƒ½åŠ›ï¼Œå´ææ˜“å’Œé¢†åŸŸå†…çš„ç”Ÿçµå…±æƒ…ï¼Œå¦‚è‹¥æ§åˆ¶ä¸å¾—å½“ï¼Œå°±ä¼šé­åˆ°åå™¬ã€‚è¿™å€’æ˜¯å’Œå¤§ä¹Œåœ£çµæ•™çš„æ•™æœ¯æœ‰å¼‚æ›²åŒå·¥ä¹‹æ•ˆã€‚</p><p>ã€€ã€€è‹é‡å¿ƒä¸­è¿™èˆ¬æƒ³ç€ï¼Œçªç„¶å¯Ÿè§‰åˆ°è‡ªå·±è¡€è„‰ä¸­é‚£è‚¡èºåŠ¨ä¸å®‰çš„èƒ½é‡åˆå¼€å§‹éšéšè‚†è™ã€‚ä»–é˜–çœ¸è¿è½¬å†…åŠ›ï¼Œå°†è¡€è„‰ä¸­é‚£å¦‚é™„éª¨ä¹‹è›†èˆ¬çš„èƒ½é‡å‹åˆ¶ä½ã€‚åªè¦å’Œè‹æ™¯åœ¨ä¸€èµ·ï¼Œä»–å‹åˆ¶é‚£è‚¡èƒ½é‡çš„æ•ˆç‡å°±è¦å¿«ä¸Šè®¸å¤šã€‚</p><p>ã€€ã€€è¿‡äº†ä¸€ä¼šå„¿ï¼Œè‹é‡çå¼€çœ¼ï¼Œç¼“ç¼“åå‡ºä¸€å£æµŠæ°”ã€‚ä»–çœ‹å‘è‹æ™¯ï¼Œå‘ç°ä»–ä»æ²‰æµ¸åœ¨ç¥è¯†é¢†åŸŸçš„èƒ½é‡æ½®æ±ä¸­ã€‚è‹é‡å‘å››å‘¨ç¯è§†ä¸€åœˆï¼Œç‹¼çœ¸ä¸­æœ‰æš—çº¢è‰²è¡€å…‰é—ªçƒï¼Œåƒæ˜¯ä¸€å¤´å­¤ç‹¼åœ¨å®¡è§†è‡ªå·±çš„é¢†åœ°ã€‚</p><p>ã€€ã€€æœ€ç»ˆï¼Œä»–ç¼“ç¼“ä»°å¤´ï¼Œæ­»æ­»ç›¯ç€ä»Šæ—¥åˆºçœ¼çš„æœ‰äº›è¿‡å¤´çš„å¤ªé˜³ã€‚ä»–æ ¹æœ¬ä¸åœ¨ä¹è‹æ™¯çš„ç¥è¯†æ˜¯å¦å¼ºå¤§ï¼Œæœ‰ä»–åœ¨ï¼Œå°±æ²¡äººæ•¢æ¬ºè´Ÿä»–ã€‚</p><p>ã€€ã€€ä»–åªåœ¨ä¹ï¼Œè‹æ™¯æ˜¯å¦ç¾åœ¨ä»–çš„é¢†åœ°ã€‚</p><p>ã€€ã€€å¤§ä¹Œâ€¢é‡‘é˜³åŸŸã€‚<br>ã€€ã€€<br>ã€€ã€€æ¯å¹´çš„ä¸ƒæœˆåˆä¹ï¼Œæ˜¯åœ£çµæ•™æœ€é‡è¦çš„æ—¥å­ï¼Œå› ä¸ºåœ¨è¿™ä¸€æ—¥ï¼Œæ•™å†…ä¼šä¸¾è¡Œç››å¤§çš„åœ£é¸¾ç¥­ã€‚å±Šæ—¶ï¼Œå¤ªé˜³çš„æ— ä¸Šè£å…‰ä¼šé™ä¸´åœ¨æ¯ä¸€ä½åœ£æ•™å¾’çš„èº«ä¸Šã€‚</p><p>ã€€ã€€å¤§ä¹Œæ²¡æœ‰çš‡æ—ï¼Œè€Œæ˜¯ä»¥ä¸¤å¤§æ•™æ´¾ä¸ºé¦–ï¼Œç»Ÿæ²»ç€è¿™æ–¹åœ°åŸŸã€‚ä¸¤å¤§æ•™æ´¾å…¶ä¸€ä¾¿æ˜¯è¿™åœ£çµæ•™ã€‚åœ£çµæ•™è§†å¤ªé˜³ä¸ºä¿¡ä»°ï¼Œæ®åœ£çµæ•™æ•™å®—è®°è½½ï¼šâ€œæˆ‘æ•™å§‹ç«‹ä¹Ÿï¼Œå‡¤é¸Ÿé€‚è‡³ï¼Œæ•…çºªæ–¼é¸Ÿï¼Œä»¥æ²»å‰æ­£ã€‚â€</p><p>ã€€ã€€é‡‘é˜³åŸŸçš„æœ€ä¸­å¿ƒå¤„ï¼Œæœ‰ä¸€åº§å¯Œä¸½å ‚çš‡çš„æ®¿å®‡ï¼Œåé‡‘é¸¾æ®¿ã€‚æ®¿å®‡å†…å¤–ï¼Œæ¢§æ¡è€¸ç«‹ï¼Œæ®¿å®‡ä¸Šæ–¹ï¼Œé‡‘å‡¤ç›˜æ –ã€‚</p><p>ã€€ã€€æ®¿å†…æœ‰æ•°é“äººå½±ï¼Œä¸ºé¦–ä¹‹äººæœäººç¾¤ä¹‹ä¸­çœ‹äº†çœ‹ï¼Œå¾…æ‰€æœ‰äººåˆ°é½ä¹‹åï¼Œæ–¹æ‰å¯¹ç€å¤§æ®¿ä¸Šæ–¹æ‹±æ‰‹è¯´é“ï¼šâ€œå†•ä¸‹ï¼Œåœ£é¸¾ç¥­çš„è¯¸å¤šäº‹å®œå·²ç»å‡†å¤‡å°±ç»ªï¼Œå¾…åˆ°åˆæ—¶ï¼Œä¾¿å¯é™ä¸‹åœ£è°•äº†ã€‚â€</p><p>ã€€ã€€å¤§æ®¿å†…æœ€é«˜å¤„ï¼Œä¸€é“æ…µæ‡’çš„å£°éŸ³ä¼ æ¥ï¼šâ€œç¥å·«æ•™é‚£è¾¹å¯æœ‰å¼‚å¸¸ï¼Ÿâ€ä¸ºé¦–ä¹‹äººç•¥ä½œæ€è€ƒï¼Œæ–¹æ‰å›åº”é“ï¼šâ€œå¤§ç¥­å¸é‚£è¾¹ä¸€åˆ‡å¦‚å¸¸ï¼Œå‡ ä½ç¥ä½¿ä¹Ÿéƒ½æ²¡ä»€ä¹ˆå¼‚æ ·ã€‚â€</p><p>ã€€ã€€çªç„¶ï¼Œä¸ºé¦–ä¹‹äººåƒæ˜¯æƒ³èµ·ä»€ä¹ˆæ¥çš„ï¼Œåˆè¡¥å……äº†ä¸€å¥ï¼šâ€œå±±ç¥ä½¿ä»Šæ—¥åŒé›¨ç¥ä½¿ä¸€èµ·å‰å¾€å‡«æ›´åŸäº†ã€‚â€é‚£æœ€é«˜å¤„åˆæ˜¯ä¸€é“å£°éŸ³ä¼ æ¥ï¼šâ€œå‡«æ›´ï¼Ÿé¸¤é¸ ï¼Œæ˜¯ä½ ä»¬ç™½è°·åŸŸè¾¹å¢ƒå¤–çš„é‚£åº§å°åŸï¼Ÿâ€</p><p>ã€€ã€€åä¸ºé¸¤é¸ çš„ä¸»æ•™å¾®å¾®æ¬ èº«ï¼Œæ‹±æ‰‹å›åº”é“ï¼šâ€œå›å†•ä¸‹ï¼Œæ­£æ˜¯é ç€ç™½è°·åŸŸè¾¹å¢ƒçš„ä¸€åº§å°åŸã€‚å®ƒåœ¨å±±ç¥ä½¿çš„ç®¡è¾–èŒƒå›´å†…ï¼Œæœ€è¿‘å€’æ˜¯æ²¡å¬è¯´æœ‰ä»€ä¹ˆåå¸¸ä¹‹å¤„ã€‚â€</p><p>ã€€ã€€â€œç„é¸Ÿï¼Œé’é¸Ÿï¼Œä½ ä»¬äºŒäººåœ¨åœ£é¸¾ç¥­ä¹‹åï¼Œå°±éšç€é¸¤é¸ ä¸€èµ·å»ç™½è°·åŸŸé‚£çœ‹çœ‹å§ã€‚â€</p><p>ã€€ã€€â€œæ˜¯ã€‚â€</p><p>ã€€ã€€å¤§ä¹Œè¥¿å—Â·ç™½è°·åŸŸã€‚</p><p>ã€€ã€€ç™½è°·åŸŸå†…ï¼Œå®¶å®¶æˆ·æˆ·çš„é—¨å‰çš†æŒ‚ç€å¸¦æœ‰åœ£é¸Ÿå›¾æ¡ˆçš„èŠ±ç¯ï¼Œå°½ç®¡å·²ç»è¿‡äº†æˆŒæ—¶ï¼ŒåŸŸå†…çš„æ¯æ¡è¡—é“å··é™Œä¾æ—§å¤„äºç™½æ˜¼ä¸€èˆ¬ã€‚æ¯å¹´ä¸¾è¡Œå®Œåœ£é¸¾ç¥­ï¼Œå¤œæ™šçš„ç™½è°·åŸŸå±…æ°‘éƒ½ä¼šæŒ‚ä¸ŠèŠ±ç¯ç¥ˆç¦ä½œä¹ã€‚</p><p>ã€€ã€€ä¸æ­¢ç™½è°·åŸŸï¼Œåœ£çµæ•™æ‰€ç®¡è¾–çš„ä¹åŸŸä¸­ï¼Œçš†æ˜¯å¦‚æ­¤ã€‚å¦‚æ½®æ°´èˆ¬çš„æ•™å¾’çº·çº·ä»å°æ¥¼æ·±å··é‡Œæ¶Œå‡ºï¼Œæ²æµ´åœ¨ç¥­å…¸åçƒ­é—¹å–§åš·çš„æ°›å›´ä¹‹ä¸­ã€‚æ­£æ‰€è°“å¼¦ç®¡ä¸‡å®¶æ²¸æ­¤å®µï¼ŒèŠ±ç¯ä¸‡é‡Œæ­£è¿¢è¿¢ã€‚</p><p>ã€€ã€€æœ‰äººåœ¨è¡—ä¸Šæ„Ÿæ…¨é“ï¼šâ€œä»Šæ—¥çš„åœ£é¸¾ç¥­ï¼Œå‡¤é¸¿å†•ä¸‹å½“çœŸæ˜¯å¨ä»ªä¸‡åƒï¼Œå¯è°“æ˜¯æœ‰ç”»éš¾æåœ£å¨æ€ï¼Œæ— èŠ±å¯æ¯”åœ£å°Šå®¹ã€‚â€</p><p>ã€€ã€€æ—è¾¹çš„äººä¸€è¾¹é™„å’Œä¸€è¾¹æ„Ÿå¹é“ï¼šâ€œæˆ‘ç™½è°·åŸŸåŸŸä¸»é¸¤é¸ å¤§äººä¹Ÿæ˜¯å„’é›…é£æµï¼ŒçœŸä¹ƒæˆ‘ç™½è°·ä¹‹å¹¸ã€‚â€å‘¨å›´çš„äººçº·çº·ç‚¹å¤´ï¼Œå°±å¬åˆ°äººç¾¤ä¸­æœ‰äººæŒ¯è‡‚æ­å–‰é«˜å‘¼ï¼šâ€œåœ£çµä¸æœ½ï¼å…‰è€€ä¸‡ä¸–ï¼â€â€œåœ£çµä¸æœ½ï¼åœ£çµä¸æœ½ï¼â€ä¸€å‘¼è€Œä¸‡ä¼—åº”ã€‚</p><p>ã€€ã€€ç™½è°·åŸŸä¸­å¤®ï¼Œæ€€æ¡‘æ®¿ã€‚</p><p>ã€€ã€€ä¸€ä½èº«ç€ç´«è¢çš„å°‘å¹´ååœ¨æ®¿å†…çš„ä¸€æ£µæ¡‘æ ‘ä¸‹ï¼Œä½å‚ç€å¤´ï¼Œå°†è„¸åŸ‹åœ¨æ ‘å½±ä¹‹ä¸­ã€‚æ ‘å¹²å‘¨å›´é›¶æ˜Ÿæ•£è½ç€å‡ ç‰‡æ¯å¶ï¼Œä¸è¿œå¤„æ˜¯è½æ»¡ç°å°˜çš„é«˜å¢™ã€‚</p><p>ã€€ã€€é™¢å¢™å†…ç¯å½±å¹¢å¹¢ï¼Œå¦‚é¬¼é­…ä¸€èˆ¬æ‘‡æ›³ç€ã€‚è“¦åœ°ï¼Œæ®¿å¤–é«˜å‘¼çš„å£°éŸ³é€è¿‡åšé‡çš„å›´å¢™ï¼Œè½åœ¨äº†å°‘å¹´çš„è€³ç•”ã€‚</p><p>ã€€ã€€â€œåœ£çµä¸æœ½ä¹ˆâ€¦â€å°‘å¹´æµ…è¯­äº†ä¸€å£°ï¼Œçªç„¶ç¬‘äº†èµ·æ¥ã€‚ä»–ä¸€è¾¹ç¬‘ç€ï¼Œä¸€è¾¹æŠ¬èµ·å¤´ï¼Œç‹­é•¿çš„çœ¼å°¾é‡Œï¼Œè—ç€æ‰ç¢äº†çš„é»‘æš—ã€‚ä»–æ‹¾èµ·ä¸€ç‰‡åœ°ä¸Šçš„è½å¶ï¼Œä»»å‡­é²œè¡€é¡ºç€æ‰‹æŒ‡å°†å…¶æŸ“çº¢ã€‚</p><p>ã€€ã€€å°‘å¹´æ€€ä¸­è¿˜æŠ±ç€ä¸€åç”·å­ï¼Œä¸€æŠŠç‰è´¨åŒ•é¦–æ’åœ¨é‚£äººçš„èƒ¸å£ï¼Œåªä½™ä¸‹ä¸€å°æˆªåœ¨ä½“å¤–ã€‚å°‘å¹´ä¼¸æ‰‹æƒ³æ‹¨å¼€é‚£äººé¢å‰çš„ç¢å‘ï¼Œå´ä¸å¿å¿ƒæ‰‹ä¸Šçš„è¡€æ¸æ²¾ä¸Šé‚£äººåˆ†æ¯«ã€‚</p><p>ã€€ã€€ä»–æ·±æ·±åœ°å‡æœ›ç€æ€€ä¸­äººçš„è„¸ï¼Œæµ…æµ…å‹¾äº†å‹¾å˜´è§’ï¼Œçœ¼åº•å´æ˜¯æ»¡å ‚çš„è¡°æè´¥å¶ã€‚å¥½ä¸€ä¼šå„¿åï¼Œä»–æ‰å°†æ€€ä¸­çš„é‚£äººæŠ±èµ·ï¼Œå°†é¢å¤´è½»è½»æŠµåœ¨é‚£äººçš„é¢ä¸Šï¼Œç”¨å°½æ‰€æœ‰åŠ›æ°”èˆ¬çš„æ·±å¸äº†ä¸€å£æ°”ï¼Œç„¶åç¼“ç¼“åœ°è¯´ï¼š</p><p>ã€€ã€€â€œå“¥å“¥ï¼Œä½ è§£è„±äº†ã€‚â€  </p>]]></content>
    
    
    <categories>
      
      <category>å†™ä½œ Ê•â—‰á´¥â—‰Ê”</category>
      
      <category>ã€Šå—å† æ¬²çƒ‚æŸ¯ã€‹</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å†™ä½œ</tag>
      
      <tag>å—å† </tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç¬¬ä¸ƒç«  Â· ç‰é¸Ÿæœ›äº‘é›€ğŸ–¤</title>
    <link href="/2023/11/15/%E5%86%99%E4%BD%9C/%E5%8D%97%E5%86%A0%E6%AC%B2%E7%83%82%E6%9F%AF/%E5%8D%97%E5%86%A0-%E7%AC%AC%E4%B8%83%E7%AB%A0/"/>
    <url>/2023/11/15/%E5%86%99%E4%BD%9C/%E5%8D%97%E5%86%A0%E6%AC%B2%E7%83%82%E6%9F%AF/%E5%8D%97%E5%86%A0-%E7%AC%AC%E4%B8%83%E7%AB%A0/</url>
    
    <content type="html"><![CDATA[<h1 id="ç‰é¸Ÿæœ›äº‘é›€"><a href="#ç‰é¸Ÿæœ›äº‘é›€" class="headerlink" title="ç‰é¸Ÿæœ›äº‘é›€"></a>ç‰é¸Ÿæœ›äº‘é›€</h1><p> ã€€ã€€å²è¿äº‘æš®,ä¸€å…ƒå¤å§‹ã€‚</p><p>ã€€ã€€è‹æ™¯æ‰˜ç€è„‘è¢‹ï¼Œæœ›å‘çª—å¤–çš„é¹…æ¯›å¤§é›ªï¼Œæƒ³èµ·äº†ä¸€ä¸ªå¤šæœˆå‰ï¼Œé‚£é“ç«™åœ¨æ¼«å¤©é“¶éœœä¸‹çš„èº«å½±ã€‚ä»–å°±é‚£ä¹ˆç›´ç›´åœ°çœ‹ç€é˜´é˜³çœ¼ä¸¤å…„å¼Ÿçš„çœ¼ç›ï¼Œä»¿ä½›ç”Ÿæ­»äºä»–è€Œè¨€ï¼Œçš†æ˜¯è™šå¦„ã€‚</p><p>ã€€ã€€åæ¥ï¼Œå°±å˜æˆäº†â€¦æ‰“ç¾¤æ¶ã€‚è‹æ™¯ä¸€åªæ‰‹æ­»æ­»å‹’ä½æ—ä¸ƒå¯¸çš„è„–å­ï¼ŒåŒè„šé’³ä½ä»–çš„ä¸‹åŠèº«ï¼Œå¦ä¸€åªæ‰‹å¯¹ç€æ—ä¸ƒå¯¸çš„è„¸å°±æ˜¯ä¸€é¡¿çŒ›æï¼Œå˜´é‡Œè¿˜ä¸å¿˜å†²ç€ä»–åš·åš·ï¼šâ€œå«ä½ å·è¢­ï¼å«ä½ å·è¢­ï¼â€</p><p>ã€€ã€€å†åæ¥ï¼Œè‹æ™¯å°±è¢«ç™½æ©–æŠ±èµ°äº†ã€‚ç™½æ©–åƒæŠ±ç€ä¸€åªç‚¸äº†æ¯›çš„å°å¥¶çŒ«ï¼Œå°å¥¶çŒ«è¿˜åœ¨æ°”å‘¼å‘¼çš„å±å“‡ä¹±å«ã€‚ç™½æ©–å‹¾äº†å‹¾æ‰‹æŒ‡ï¼Œä¸€å›¢å›¢å†°è“æŸ”å…‰ä¾¿æ•·åœ¨äº†è‹æ™¯æµè¡€çš„ä½ç½®ã€‚</p><p>ã€€ã€€ç™½æ©–ä½å¤´çœ‹äº†çœ‹è‹æ™¯è¯´ï¼šâ€œçé€ä»€ä¹ˆå¼ºã€‚â€è‹æ™¯å¬å®Œå§”å±ˆæäº†ï¼Œé—·é—·åœ°è¯´ï¼šâ€œé‚£ä¸ªæ—ä¸ƒå¯¸ä»–æƒ³å·è¢­ä½ ï¼â€ç™½æ©–å¿ƒé‡Œæƒ³ç€ï¼Œä»–åˆšåˆšå°±å¯Ÿè§‰åˆ°äº†æ—ä¸ƒå¯¸çš„å°åŠ¨ä½œï¼Œæ­£è¦åº”å¯¹çš„æ—¶å€™ï¼Œä¾¿çœ‹åˆ°ä¸€ä¸ªçŒ«ä¼¼çš„èº«å½±æ‰‘äº†è¿‡å»ã€‚</p><p>ã€€ã€€ç™½æ©–çœ¸ä¸­æ³›ç¬‘ï¼Œå˜´ä¸Šå´æ·¡æ·¡åœ°è¯´ï¼šâ€œçŸ¥é“äº†ã€‚â€</p><p>ã€€ã€€â€œæƒ³ä»€ä¹ˆå‘¢ã€‚â€è‹æ™¯æ­£æœ›ç€çª—å¤–å‡ºç¥ï¼Œè€³è¾¹ä¼ æ¥ä¸€é“æ¸…å†·çš„å£°éŸ³ã€‚â€œæˆ‘åœ¨æƒ³ï¼Œåœ¨æƒ³â€¦è¿™é›ªä¸‹çš„å¯çœŸå¥½çœ‹ã€‚â€è‹æ™¯çœ‹ç€ç™½æ©–ï¼Œæœ‰äº›æ”¯å¾åœ°è¯´åˆ°ã€‚</p><p>ã€€ã€€â€œè¿‡å‡ æ—¥å°±æ˜¯é™¤å¤•äº†ï¼Œæ˜æ—¥èµ·æˆ‘å°±å›å¯ºé‡Œå»çœ‹æœ›å¸ˆçˆ¶ã€‚ä½ ä»¬æœ‰ä»€ä¹ˆæ‰“ç®—ï¼Ÿâ€å°å’Œå°šçœ‹ç€å…¶ä»–ä¸‰ä¸ªäººé—®é“ã€‚â€œæˆ‘çˆ¹çˆ¹ä¹Ÿå–Šæˆ‘å›å»ï¼Œè¯´ç»™æˆ‘åšä¸€å¤§æ¡Œå¥½åƒçš„ï¼â€è™å¦å„¿ä¸€è¾¹çœ¨å·´çœ¨å·´çœ¼ç›ï¼Œä¸€è¾¹æµç€å£æ°´ã€‚</p><p>ã€€ã€€â€œä½ å‘¢ï¼Ÿâ€è‹æ™¯çœ‹å‘ç™½æ©–ï¼Œç›®å…‰ä¸­ä¼¼ä¹è—ç€æœŸå¾…ã€‚â€œæˆ‘â€¦å°±åœ¨è¿™ã€‚â€ç™½æ©–æ€ç´¢äº†ç‰‡åˆ»ï¼Œå¸ˆçˆ¶è¿™ä¸ªæœˆè¦é—­å…³ï¼Œä»–ç´¢æ€§å°±å¾…åœ¨è¿™äº†ï¼Œæ­£å¥½æ²¡ä»€ä¹ˆäººæ‰“æ‰°ï¼Œè€³æ ¹å­æ¸…â€¦â€œå¤ªå¥½äº†ï¼ä»Šå¹´ç»ˆäºæœ‰äººé™ªæˆ‘äº†ï¼â€ç™½æ©–è¿˜æ²‰æµ¸åœ¨æ€ç»ªä¸­ï¼Œå°±è¢«ä¸€é˜µå…´å¥‹åœ°å£°éŸ³æ‰“æ–­ã€‚</p><p>ã€€ã€€ä»–æœ›ç€è‹æ™¯åˆä¸æ‹¢å˜´çš„ç¬‘å®¹ï¼Œä¸çŸ¥ä¸ºä½•ï¼ŒåŸæœ¬æœ‰äº›ç´§ç»·çš„å¼¦æ‚„æ‚„åœ°æ¾äº†ä¸‹æ¥ã€‚</p><p>ã€€ã€€é™¤å¤•ï¼Œåƒå®¶ç¬‘è¯­ï¼Œä¸‡æˆ·ç¯ç«ã€‚</p><p>ã€€ã€€ç™½æ©–æ­£åœ¨å­¦åºœçš„è—ä¹¦é˜ä¸­éšæ„åœ°ç¿»é˜…ç€ã€‚æ—©ä¸Šè‹æ™¯è·‘æ¥è·Ÿä»–è¯´ï¼Œä»Šæ—¥è¦å¸¦ä»–å»ä¸€ä¸ªåœ°æ–¹ã€‚ä»–æœ‰äº›æœŸè®¸ï¼Œå´åˆåˆ»æ„å°†è¿™ä»½æœŸè®¸å‹åœ¨å¿ƒåº•ï¼Œè—åœ¨æ— äººçŸ¥æ™“çš„è§’è½ã€‚</p><p>ã€€ã€€è¿™æ—¶ï¼Œä¸€è‚¡è½»ç›ˆçš„æŸ”é£è‡ªçª—å¤–æ‚„æ‚„æºœåˆ°äº†ä»–çš„èº«ä¾§ã€‚å…ˆæ˜¯è°ƒçš®åœ°è¹­è¿‡ä»–çš„è„¸é¢Šï¼Œé¼»ç¿¼ï¼Œå”‡ç“£ï¼Œç„¶ååˆå‹¾èµ·äº†ä»–é¢å‰çš„å‡ ç¼•å‘ä¸ï¼Œæœ€åæ‚ å“‰åœ°æ¥åˆ°ä»–çš„è€³ç•”ï¼Œåƒæ˜¯æœ‰äººåœ¨è€³è¾¹å‘¢å–ƒä½è¯­ã€‚</p><p>ã€€ã€€â€œè·Ÿæˆ‘èµ°ã€‚â€</p><p>ã€€ã€€ç™½æ©–å¬åˆ°äº†ç†Ÿæ‚‰çš„å£°éŸ³ï¼Œç›®å…‰è½¬å‘çª—å°ï¼Œå°±çœ‹åˆ°è‹æ™¯æ­£æ‰‘é—ªç€å¤§çœ¼ç›ï¼Œæœä»–å‹¾äº†å‹¾æ‰‹ã€‚ç™½æ©–å¿ƒå£ç”Ÿçƒ­ï¼Œé‚£äº›åŸ‹åœ¨å¿ƒåº•çš„æœŸè®¸ï¼Œåˆ¬å°½è¿˜ç”Ÿã€‚</p><p>ã€€ã€€æ¸”ç«é•‡ã€‚æ±Ÿæ«æ¸”ç«ï¼Œæ¸¸å­æ€å½’ã€‚</p><p>ã€€ã€€â€œè¿™ä¸ªå°é•‡æœ‰æ¥è‡ªå„ä¸ªåœ°åŸŸçš„æ—…äººã€‚æ¯å¹´é™¤å¤•ï¼Œåœ¨å¤–æœªå½’çš„æ¸¸å­ä¾¿ä¼šåœ¨è¿™é‡Œç‚¹ç‡ƒä¸€ç›æ¸”èˆ¹çš„ç¯ç«ï¼Œä»¥å¯„å½’æ€ã€‚â€è‹æ™¯æœ›ç€æ±Ÿç•”æ¥å¾€æ¸”èˆ¹ä¸Šäº®èµ·çš„ç¯ç«ï¼Œå‘ç™½æ©–ä»‹ç»åˆ°ã€‚</p><p>ã€€ã€€ç™½æ©–å‘å››å‘¨å¼ æœ›ç€ï¼Œé‡‘æŸ³æ‘‡é£æ ‘æ ‘ï¼Œç³»å½©èˆ«æ¸”èˆŸé¥å²¸ã€‚å¦‚ç»‡å¦‚æ¢­çš„æ—…ä¸­å®¢ï¼Œç‡•èˆèºå•¼çš„æ¬¢æ„‰å£°ï¼Œéƒ½å’Œä»–å„¿æ—¶çš„è®°å¿†å¤§ç›¸å¾„åº­ã€‚è®°å¿†é‡Œé‚£ä¸ªç‹¬è‡ªç«™åœ¨é™¢å¢™ä¸€è§’çš„ç”·å­©å„¿ï¼Œå¥½åƒåªæœ‰å½±å­é™ªç€ä»–ã€‚</p><p>ã€€ã€€â€œå™”ã€‚â€è“¦åœ°ï¼Œç™½æ©–è€³ç•”ä¼ æ¥ä¸€é“é’Ÿå£°ã€‚ä»–ä»æ€ç»ªä¸­èµ°å‡ºæ¥ï¼Œå´è¢«ä¸€åŒæ¸©çƒ­çš„æ‰‹æ‚ä½äº†çœ¼ç›ã€‚â€œä¸‰ï¼ŒäºŒï¼Œä¸€â€¦â€è€³è¾¹æœ‰äººåœ¨è½»è½»æ•°ç€ï¼Œç„¶åå¾å¾æ¾å¼€æ‰‹ï¼Œæ¼«å¤©åå…‰å°±è¿™ä¹ˆæ˜ å…¥ä»–çš„çœ¼çœ¸ã€‚</p><p>ã€€ã€€â€œæ–°å¹´å¿«ä¹ï¼â€è‹æ™¯è·³åˆ°äº†ç™½æ©–èº«å‰ï¼Œå¼€æ€€ç€é€ä¸Šäº†æ–°å¹´çš„ç¬¬ä¸€å£°ç¥ç¦ã€‚ç™½æ©–æœ›ç€è‹æ™¯ï¼Œä»»å‡­äººç¾¤ç†™æ”˜ï¼Œä»»å‡­éœ“å…‰æ»¡å¤©ï¼Œä»–å´åªæƒ³æŠŠç›®å…‰è½åœ¨è‹æ™¯èº«ä¸Šã€‚</p><p>ã€€ã€€â€œæ–°å¹´å¿«ä¹ã€‚â€ç™½æ©–å°å£°å›åº”ç€ã€‚ä¸è¿œå¤„ï¼Œç«æ ‘æ‹‚äº‘èµ·ï¼ŒçªèŠ±è½æ»¡åœ°ã€‚</p><p>ã€€ã€€å†·æ³‰äº­å¤–ã€‚æ³‰æ°´æ¸Ÿæ¸Ÿï¼Œé£å£°æ³ æ³ ã€‚</p><p>ã€€ã€€è‹æ™¯æŠ±ç€å‡ å›æ¢…èŠ±é…’ï¼Œæ‹–ç€ç™½æ©–åˆ°å†·æ³‰äº­è¿™æ­‡ç€ã€‚â€œä½ çœ‹ï¼Œä»è¿™é‡Œæœ›ä¸‹å»ï¼Œæ­£å¥½å¯ä»¥å°†æ•´ä¸ªæ¸”ç«é•‡çœ‹ä¸ªæ¸…æ¥šã€‚â€è‹æ™¯æ‰¾äº†ä¸ªæª€æœ¨æŸ±é ç€ï¼Œåˆæ‹‰äº†æ‹‰ç™½æ©–çš„è¡£è§’ï¼Œç¤ºæ„ä»–ä¹Ÿåä¸‹æ¥ã€‚</p><p>ã€€ã€€ç™½æ©–æŒ¨ç€è‹æ™¯åä¸‹ï¼ŒæŠ¬çœ¼æœ›å»ï¼Œç¯ç«é˜‘çŠã€‚ä»–å…¶å®å·²ç»æœ‰äº›çœ‹ä¸å¤ªçœŸåˆ‡äº†ï¼Œå“ªæ€•è¿™åº§äº­å­å¯ä»¥å°†æ•´ä¸ªæ¸”ç«é•‡å°½æ”¶çœ¼åº•ï¼Œåœ¨ä»–çœ¼é‡Œä¹Ÿä¸è¿‡æ˜¯éš”é›¾è§‚ç«ã€‚</p><p>ã€€ã€€å¯æ˜¯ï¼Œä»–å´è§‰å¾—ï¼Œä»–ä»æœªåƒä»Šæ—¥è¿™èˆ¬çœ‹åœ°çœŸåˆ‡è¿‡ã€‚</p><p>ã€€ã€€â€œå°çš„æ—¶å€™ï¼Œæ¯å¹´è¿‡å¹´æˆ‘éƒ½æ˜¯å’Œéš”å£å®¶çš„é˜¿ç¿é˜¿å¬·ä»¬ä¸€èµ·è¿‡çš„ï¼Œä»–ä»¬å¾…æˆ‘å¾ˆå¥½ï¼Œå¯æˆ‘å´æ€»æƒ³ç€ï¼Œè¦æ˜¯èƒ½å’Œæˆ‘çˆ¹è¿˜æœ‰æˆ‘å¨˜ä¸€èµ·å°±å¥½äº†ã€‚â€è‹æ™¯ä»°å¤´çŒäº†ä¸€å¤§å£é…’ï¼Œå°è„¸å¾®çº¢ã€‚</p><p>ã€€ã€€â€œåæ¥ï¼Œæˆ‘çˆ¹å’Œæˆ‘å¨˜æŠŠæˆ‘å¸¦åˆ°äº†è¿™é‡Œï¼Œä»–ä»¬è·Ÿæˆ‘è¯´ä»¥åè¿™é‡Œå°±æ˜¯æˆ‘çš„å®¶ï¼Œå¯æ˜¯æ¯å¹´æˆ‘éƒ½è§ä¸åˆ°ä»–ä»¬ã€‚å¶å°”ä»–ä»¬ä¼šæ‰˜äººç»™æˆ‘å¯„ä¿¡ï¼Œå¯æ˜¯â€¦â€è‹æ™¯åèµ·èº«ï¼ŒæŠŠå¤´åŸ‹åœ¨æŸ±å­åé¢ï¼Œç™½æ©–åªèƒ½çœ‹ç€ä¸€å¼ çº¢æ‰‘æ‰‘çš„ä¾§è„¸ã€‚</p><p>ã€€ã€€ç™½æ©–æŠŠè‹æ™¯ä»æŸ±å­åé¢æ‹½å‡ºæ¥ï¼Œå°±å¬åˆ°äº†è‹æ™¯å°å£°çš„è¯´ï¼šâ€œæˆ‘å¾ˆæƒ³ä»–ä»¬ã€‚â€ä»–å£°éŸ³å¾ˆä½ï¼Œå¥½åƒå£°éŸ³å†å¤§ä¸€äº›å°±ä¼šè¢«åˆ«äººå‘ç°ä»–è—çš„ç§˜å¯†ã€‚</p><p>ã€€ã€€â€œè¿™äº›å¹´éƒ½æ˜¯æˆ‘ä¸€ä¸ªäººæ¥è¿™ï¼Œä½†æ˜¯ä»Šå¹´ä¸ä¸€æ ·äº†ã€‚â€è‹æ™¯åˆçŒäº†ä¸€å£ï¼Œä¸€å›å­æ¢…èŠ±é…’å°±è§äº†åº•ã€‚ä»–æŠ¬çœ¼æœ›ç€ç™½æ©–ï¼Œç™½æ©–ä¹Ÿå›æœ›ç€ä»–ï¼Œä¼¼ä¹åœ¨è¿™å†¬æ—¥çš„æ–™å³­é‡Œï¼Œèƒ½æœ›è§è‹æ™¯çœ¸ä¸­æº¢æ»¡çš„æ˜¥æ°´ã€‚</p><p>ã€€ã€€è‹æ™¯å°†ä¸‹å·´æµ…æµ…åœ°æŠµåœ¨ç™½æ©–çš„è‚©ä¸Šï¼Œå˜´é‡Œå‘µå‡ºçš„é…’æ°”å„¿åœ¨ç™½æ©–è€³è¾¹æ‰“ç€æ—‹å„¿ã€‚â€œä»Šå¹´æœ‰ä½ é™ªç€ï¼ŒçœŸå¥½ã€‚â€è‹æ™¯é˜–ä¸Šçœ¼ï¼Œå˜´è§’å‹¾èµ·äº†æœˆç‰™èˆ¬çš„å¼§åº¦ã€‚</p><p>ã€€ã€€ç™½æ©–çš„æ‰‹åœ¨è‹æ™¯é è¿‘çš„æ—¶å€™ï¼Œå°±ä¸‹æ„è¯†åœ°æŠ“ç´§äº†è¡£è§’ã€‚è‹æ™¯è¯´è¯é—´è€³æœµä¼ æ¥çš„é…¥éº»è®©ä»–æ‰‹è¶³æ— æªï¼Œå‘¼å¸éƒ½ä¹±äº†èŠ‚å¥ã€‚ä»–æ€”æ€”åœ°åè¿‡å¤´ï¼Œçœ‹ç€è‹æ™¯åƒåªçŒ«å„¿ä¼¼çš„è¶´åœ¨ä»–èº«ä¸Šï¼Œçœ¼åº•å¯’éœœå°½è¤ªï¼Œå¿ƒå£æ˜¥è‰ç–¯é•¿ã€‚</p><p>ã€€ã€€â€œå°çš„æ—¶å€™æˆ‘æ€»æ˜¯ä¸€ä¸ªäººèº²åœ¨é™¢å¢™çš„ä¸€è§’ï¼Œæ²¡æœ‰äººæ„¿æ„æ¥è¿‘ä¸€ä¸ªè¿å®¶ä¸»éƒ½è®¨åŒçš„å­©å­ã€‚â€ç™½æ©–æœ›ç€è¿œå¤„ï¼Œé™·å…¥äº†å›å¿†ã€‚â€œæˆ‘å…»è¿‡ä¸€åªå°é‡çŒ«ï¼Œå¯æ˜¯æ²¡è¿‡ä¸‰ä¸ªæœˆå®ƒå°±æ­»äº†ï¼Œæˆ‘å¾ˆéš¾è¿‡ï¼ŒæŠŠå®ƒåŸ‹åœ¨äº†åé™¢çš„æ¦•æ ‘ä¸‹ã€‚â€</p><p>ã€€ã€€â€œåæ¥ï¼Œæˆ‘åˆå…»è¿‡é›ªå…”ï¼Œå…»è¿‡çµç‹ï¼Œå…»è¿‡è®¸å¤šè®¸å¤šçš„æ´»ç‰©ã€‚å®ƒä»¬åŒæ ·éƒ½æ²¡æ´»è¿‡ä¸‰ä¸ªæœˆã€‚æ…¢æ…¢åœ°ï¼Œæˆ‘å°±ä¸å†éš¾è¿‡äº†ã€‚â€ç™½æ©–è‡ªå˜²èˆ¬åœ°æµ…ç¬‘ä¸€å£°ã€‚â€œæˆ‘ä¸å–œè¿™ç§æ„Ÿè§‰ï¼Œè¿™ç§æ„Ÿè§‰è®©æˆ‘è§‰å¾—â€¦å®³æ€•ã€‚â€</p><p>ã€€ã€€â€œå†åæ¥ï¼Œæˆ‘é‡åˆ°äº†å¸ˆçˆ¶ï¼Œå¸ˆçˆ¶æ˜¯ç¬¬ä¸€ä¸ªå¾…æˆ‘å¥½çš„äººã€‚ä»–äº¤äº†æˆ‘å¦‚ä»Šä¿®ç‚¼çš„å¿ƒæ³•ï¼Œåªæ˜¯è¿™å¿ƒæ³•è™½å¼ºï¼Œå´ä¼šå¯¼è‡´æˆ‘çš„èº«ä½“æ¯”å¸¸äººæ›´åŠ â€¦æ•æ„Ÿã€‚â€ç™½æ©–è¯´å®Œï¼Œå–‰é—´æœ‰äº›å¹²æ¶©ã€‚ä»–ä½å¤´çœ‹äº†çœ¼è‹æ™¯ï¼Œå´å‘ç°ä»–æ—©å·²ç»åœ¨å’Œå‘¨å…¬ä¸¾æ¯å¯¹é…Œäº†ã€‚</p><p>ã€€ã€€â€œå‚»å­ã€‚â€ç™½æ©–æ— å¥ˆåœ°æ‘‡æ‘‡å¤´ï¼Œåœ¨å¿ƒé‡Œé»˜é»˜å–Šäº†è‡ªå·±ä¸€å£°ã€‚ä¸è¿œå¤„ï¼Œå‡ ç“£çº¢æ¢…ä¹Ÿæ‚ æ‚ æ²‰æ²‰åœ°è½å…¥é›ªçš„æ€€æŠ±ã€‚</p><p>ã€€ã€€æ˜¥æ½®å¸¦é›¨ï¼Œæ¶¦ç‰©æ— å£°ã€‚</p><p>ã€€ã€€ç«‹æ˜¥ç”«è¿‡ï¼Œè‹æ™¯ä¾¿æ•´æ—¥ç¥é¾™ä¸è§å°¾åœ°ä¸çŸ¥é“åœ¨å¿™äº›ä»€ä¹ˆã€‚æœ‰æ—¶æ˜¯ä¸€æ•´ä¸ªä¸Šåˆä¸è§è¸ªå½±ï¼Œä¸‹åˆä¾¿å›åˆ°é˜ä¸­å‘¼å‘¼å¤§ç¡ã€‚æœ‰æ—¶ä¸Šåˆååœ¨é˜ä¸­ä¹Ÿæ˜¯å¿ƒä¸åœ¨ç„‰ï¼Œä¸‹åˆåˆå·è·‘äº†å‡ºå»ã€‚</p><p>ã€€ã€€ç™½æ©–åœ¨å¿äº†å¥½å‡ æ—¥ä¹‹åï¼Œç»ˆäºå¿ä¸ä½å¼€å£é—®ä»–ï¼šâ€œä½ è¿‘æ—¥åˆ°åº•åœ¨å¿™äº›ä»€ä¹ˆã€‚â€è¯­æ°”ä¸­ç•¥å¾®æœ‰äº›æ„ æ°”ã€‚è‹æ™¯çœ‹ç€ä»–ï¼Œçœ¼ç å­è½¬äº†è½¬ï¼Œä¼¼ä¹åœ¨æ€è€ƒã€‚åˆè¿‡äº†ä¸€ä¼šå„¿ï¼Œä»–æ‰ä¸€è„¸çœŸè¯šåœ°è¯´ï¼šâ€œç§˜å¯†ã€‚â€</p><p>ã€€ã€€å°±è¿™æ ·åˆè¿‡äº†ä¸¤æ—¥ã€‚å¤©åˆšè’™è’™äº®çš„æ—¶å€™ï¼Œè‹æ™¯å°±è¹²åœ¨ç™½æ©–æ¯æ—¥æ¥å­¦åºœçš„è·¯ä¸Šã€‚å°é›¨ç–ç–ï¼Œé’å±±æ¬²æ™“ï¼Œç™½æ©–æ¥æ—¶è§åˆ°çš„ä¾¿æ˜¯è¿™èˆ¬å…‰æ™¯ã€‚è‹æ™¯ä¸çŸ¥é“æ¨ªåœ¨è·¯ä¸­å¤®å‚»ç¬‘äº›ä»€ä¹ˆï¼Œç»†é›¨æ¶¦æ¹¿äº†ä»–çš„å‘æ¢¢ã€‚</p><p>ã€€ã€€ç™½æ©–èµ°è¿‘äº†äº›ï¼Œè„šæ­¥ç•¥æ¯”å¾€å¸¸é‡äº†å‡ åˆ†ã€‚è‹æ™¯å¬åˆ°è„šæ­¥å£°ä¼ æ¥ï¼Œå¾®å¾®ä¾§å¤´ï¼Œçœ‹åˆ°æ¥äººæ—¶ï¼Œçœ¼é‡Œæ”¾å…‰åœ°èµ·èº«å¤§å–Šï¼šâ€œç™½æ©–ï¼ç”Ÿè¾°å‰ä¹ï¼â€ä»–å¼ å¼€åŒæ‰‹ï¼Œå°†ç™½æ©–æŠ±äº†ä¸ªæ»¡æ€€ã€‚</p><p>ã€€ã€€ç™½æ©–è“¦åœ°çå¤§äº†åŒçœ¸ï¼Œå”‡ç“£å¾®å¯ï¼Œä¼¼ä¹æƒ³è¦è¯´äº›ä»€ä¹ˆï¼Œå´å‘†å‘†åœ°æ„£åœ¨åŸåœ°ã€‚è¿‡äº†å¥½ä¸€ä¼šå„¿ï¼Œæ–¹æ‰å¯¹è‹æ™¯è¯´ï¼šâ€œä½ â€¦ç«™åœ¨è¿™ï¼Œæˆ‘å»å–ä¼ã€‚â€ç„¶åæ­¥å­æœ‰äº›æ…Œä¹±åœ°æœå­¦åºœèµ°å»ã€‚</p><p>ã€€ã€€è‹æ™¯åœ¨å­¦åºœé—¨å£æ™ƒæ‚ äº†ä¸€ä¼šå„¿ï¼Œå°±çœ‹è§ç™½æ©–æ‹¿ç€æ²¹çº¸ä¼ï¼Œæœ‰äº›ææƒšåœ°èµ°äº†å‡ºæ¥ã€‚ä»–è·‘è¿‡å»ï¼ŒæŠ“ä½ç™½æ©–çš„è¡£è§’è¯´ï¼šâ€œèµ°ï¼Œæˆ‘å¸¦ä½ å»ä¸ªåœ°æ–¹ã€‚â€è¯´å®Œï¼Œå¾€å­¦åºœåå±±æ–¹å‘æŒ‡äº†æŒ‡ã€‚</p><p>ã€€ã€€ä¸¤äººå¾å¾èµ°è¿‡åå±±çš„ä¸€ç‰‡æ¡¦æ ‘æ—ï¼Œåˆæ‹è¿‡å‡ ä¸ªå´–è§’ï¼Œæ¥åˆ°ä¸€ç‰‡æœ¨æ§¿èŠ±ä¸›ã€‚ç™½æ©–åœä¸‹äº†è„šæ­¥ï¼Œé¥é¥åœ°å°±å¬åˆ°äº†å‡ å£°å•å•¾ã€‚ä»–ä¸¾ç€æ²¹çº¸ä¼ï¼Œåå¤´æœ›å‘è‹æ™¯ã€‚</p><p>ã€€ã€€è‹æ™¯å¿«æ­¥å‘å‰èµ°äº†å‡ æ­¥ï¼Œç„¶åä»ä¸€å—æœ¨æ§¿èŠ±ä¸›åé¢æ‹¿äº†ä¸¤ä¸ªé‡‘ä¸ç¬¼ï¼Œç¬¼å­é‡Œé¢å„æœ‰ä¸€åªæ©™é»„ï¼Œæ©˜çº¢çš„ç‰é¸Ÿåœ¨æ¬¢é¸£è…¾è·ƒã€‚â€œæˆ‘çœ‹ä½ è¢å­ä¸Šç»£çš„çš†æ˜¯ç‰é¸Ÿå›¾æ¡ˆï¼Œä¾¿æƒ³ç€ç»™ä½ å¼„äº†ä¸¤åªæ¥ã€‚â€<br>ã€€ã€€<br>ã€€ã€€ç™½æ©–æœ›ç€ç¬¼ä¸­é¸Ÿï¼Œæ²‰é»˜ä¸è¯­ã€‚è‹æ™¯å°†ç™½æ©–çš„è„¸è‰²çœ‹äº†ä¸ªæ˜ç™½ï¼Œç„¶åæ¯«ä¸çŠ¹è±«åœ°æ‰“å¼€äº†ç¬¼å­ã€‚ç¬¼ä¸­çš„ç‰é¸Ÿå…ˆæ˜¯ä¸è§£çš„æ™ƒäº†æ™ƒè„‘è¢‹ï¼Œç„¶åä»°å¤´æœ›ç€å¤©ç©ºï¼Œæ­£å·§å‡ åªäº‘é›€æ‚ å“‰åœ°æ è¿‡ï¼Œä¾¿ä¹ŸæŒ¥ç€ç¿…è†€é£èµ°äº†ã€‚</p><p>ã€€ã€€â€œå®ƒä»¬è™½ç„¶å¾…åœ¨ç¬¼å­é‡Œä¹…äº†äº›ï¼Œå¯æ˜¯åªè¦æœ›å‘å¤©ç©ºï¼Œä¾¿åˆæœ‰äº†æ–¹å‘ã€‚â€è‹æ™¯æœå¤©ä¸Šçœ‹äº†çœ‹ï¼Œè½¬å¤´å¯¹ç™½æ©–ç¬‘åˆ°ã€‚ç™½æ©–æœ‰ç‰‡åˆ»çš„å¤±ç¥ï¼Œä»–ç›¯ç€è‹æ™¯æ‰‹ä¸­ç©ºæ— ä¸€ç‰©çš„é‡‘ä¸ç¬¼ï¼Œå‘¼å¸å¼€å§‹å˜å¾—æ€¥ä¿ƒäº†äº›ã€‚</p><p>ã€€ã€€è‹æ™¯åˆå¸¦ç€ç™½æ©–å‘æœ¨æ§¿èŠ±ä¸›åèµ°å»ï¼Œä¸€æ¹¾æ¼¾ç€ç¢§æ³¢çš„æ± å¡˜èµ«ç„¶æ˜ å…¥ç™½æ©–çš„çœ¼å¸˜ï¼Œéœ²èŠ±å€’å½±ï¼ŒçƒŸèŠœè˜¸ç¢§ã€‚æ± å¡˜å‘¨å›´é“ºæ»¡äº†é’çŸ³ï¼Œæ— åçš„é‡èŠ±äº¤é”™ç€ç››å¼€ï¼Œçªç„¶é—´ï¼Œæ± å¡˜é‡Œéœ²å‡ºäº†ä¸¤ä¸ªå°å°çš„è„‘è¢‹ã€‚<br>ã€€ã€€<br>ã€€ã€€â€œè¿™æ˜¯ç‰è™šé¾Ÿï¼Œå®ƒä»¬å¯¿å‘½æ‚ ä¹…ï¼Œä¸”æé€šäººæ€§ï¼Œæ— è®ºä½ ä»€ä¹ˆæ—¶å€™æƒ³èµ·æ¥å®ƒä»¬ï¼Œå®ƒä»¬éƒ½ä¼šåœ¨é‚£é‡Œé™ªç€ä½ ã€‚â€è‹æ™¯æœ›ç€ç™½æ©–è¯´åˆ°ã€‚â€œç››æ—¦æ¬£é€¢ï¼Œæ„¿å›åƒä¸‡å²ï¼Œæ— å²ä¸é€¢æ˜¥ã€‚è¿™ç¤¼ç‰©ä½ å¯å–œæ¬¢ï¼Œå–œæ¬¢çš„è¯å°±ç¬‘ç¬‘å§ã€‚â€</p><p>ã€€ã€€è‹æ™¯å…ˆæ˜¯æŠ¬æ‰‹æŠ±æ‹³ï¼Œçœ‰é—´å¸¦ç¬‘åœ°å‘ç™½æ©–é€ä¸Šäº†ç”Ÿè¾°ç¥ç¦ã€‚ç„¶ååˆå‡çœ¸æ³¨è§†ç€ç™½æ©–ï¼Œç”¨æœ€çœŸè¯šçš„è¯­æ°”è¯´ï¼šâ€œé‡åˆ°ä½ ï¼Œæˆ‘å¾ˆæ¬¢å–œã€‚â€</p><p>ã€€ã€€ç™½æ©–åœ¨å¬åˆ°è‹æ™¯è¯´ç¬¬ä¸€å¥è¯æ—¶ï¼Œç¥è¯†å°±æœ‰äº›ä¸å—æ§åˆ¶åœ°æ³¢åŠ¨äº†ã€‚å½“ä»–å¬åˆ°â€œæˆ‘å¾ˆæ¬¢å–œâ€å››ä¸ªå­—çš„æ—¶å€™ï¼Œé‚£äº›æ½œè—åœ¨å¿ƒåº•çš„ä¸å®‰ï¼Œé‚£äº›å†°å°åœ¨é›ªå±±ä¸‹çš„æ— åŠ©ï¼Œéƒ½è¢«é‚£å››ä¸ªå­—å‡»çš„ç²‰ç¢ã€‚</p><p>ã€€ã€€ä»–ç´§æ¡åŒæ‹³ï¼Œä¼¼ä¹é¼“è¶³äº†æ‰€æœ‰å‹‡æ°”èˆ¬çš„å‡æœ›ç€è‹æ™¯ï¼Œåˆšæ¬²å¼€å£ï¼Œéª¤é›¨æº…ç ã€‚è‹æ™¯è¿å¿™å°†ä»–æ‹‰åˆ°ä¸€æ£µæ¡¦æ ‘ä¸‹é¿é›¨ã€‚ä»–æ²¡å¬åˆ°ç™½æ©–åˆšåˆšè¯´äº†äº›ä»€ä¹ˆï¼Œæ€¥å¿™åˆé—®äº†ä¸€éã€‚</p><p>ã€€ã€€ç™½æ©–æ²¡å†è¯´è¯ï¼Œä»–çœ‹ç€è‹æ™¯ï¼Œç¬¬ä¸€æ¬¡ç¬‘äº†å‡ºæ¥ã€‚é‚£ä¸€åˆ»ï¼Œé›ªå°½æ˜¥å‡ºï¼Œç™½æ©–çœ¼çœ¸é‡Œæ˜¯å€’æ˜ ç€çš„è¿ç»µæ˜¥é›¨ã€‚</p><p>ã€€ã€€å¸ˆçˆ¶ï¼Œæ‚¨è¯´çš„çœŸçš„éƒ½å¯¹å—ï¼Œå¯æˆ‘å¥½åƒå’Œä¸€ä¸ªæ²¹å˜´æ»‘èˆŒçš„å®¶ä¼™æˆäº†æœ‹å‹å‘¢ã€‚</p><p>ã€€ã€€é”åœ¨é‡‘ä¸ç¬¼ä¸­çš„ç‰é¸Ÿï¼Œä¹Ÿä¼šæƒ³è¦æ‰‘è…¾ç€ç¿…è†€å»è¿½é€ç¬¼å¤–çš„äº‘é›€ã€‚</p><p>ã€€ã€€é‚£æˆ‘å‘¢ã€‚  </p>]]></content>
    
    
    <categories>
      
      <category>å†™ä½œ Ê•â—‰á´¥â—‰Ê”</category>
      
      <category>ã€Šå—å† æ¬²çƒ‚æŸ¯ã€‹</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å†™ä½œ</tag>
      
      <tag>å—å† </tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç¬¬å…­ç«  Â· æ§åºèµ·å››æ—¶ğŸ’œ</title>
    <link href="/2023/11/15/%E5%86%99%E4%BD%9C/%E5%8D%97%E5%86%A0%E6%AC%B2%E7%83%82%E6%9F%AF/%E5%8D%97%E5%86%A0-%E7%AC%AC%E5%85%AD%E7%AB%A0/"/>
    <url>/2023/11/15/%E5%86%99%E4%BD%9C/%E5%8D%97%E5%86%A0%E6%AC%B2%E7%83%82%E6%9F%AF/%E5%8D%97%E5%86%A0-%E7%AC%AC%E5%85%AD%E7%AB%A0/</url>
    
    <content type="html"><![CDATA[<h1 id="æ§åºèµ·å››æ—¶"><a href="#æ§åºèµ·å››æ—¶" class="headerlink" title="æ§åºèµ·å››æ—¶"></a>æ§åºèµ·å››æ—¶</h1><p>ã€€ã€€ä»²å¤çš„è‰é¸£ï¼Œå°†å…ˆç”Ÿçš„è®²å­¦å£°æ‹‰çš„æ‚ é•¿ã€‚</p><p>ã€€ã€€è‹æ™¯å¬ç€å¬ç€å°±æ‰“èµ·äº†ç›¹ï¼Œæ¢¦é‡Œä»–æ­£ç­‰ç€ç³–ç”»å¸ˆå‚…ç»™ä»–åšä¸€ä¸ªç‰é¸Ÿå›¾æ¡ˆçš„ç³–ç”»ã€‚ä¸€ä¸ªèƒ–ä¹ä¹çš„å°æ‰‹ä»åé¢æ‹äº†æ‹è‹æ™¯çš„è„‘è¢‹ï¼Œå°†è‹æ™¯çš„ç¾æ¢¦èµ¶èµ°ã€‚è‹æ™¯æœ‰äº›è¿·ç³Šåœ°æ‰äº†æ‰çœ¼ç›ï¼Œå°±å¬è§å°å’Œå°šåœ¨ä»–è€³è¾¹å¤§å–Šï¼šâ€œä¸‹å­¦å•¦ï¼ï¼ï¼â€</p><p>ã€€ã€€è‹æ™¯ä¸€æ¿€çµï¼Œä¸€æŠŠå°†å°å’Œå°šçš„å˜´æ‚ä½ã€‚ä»–çœ‹åˆ°ç™½æ©–ä¸€ç›´æœ›ç€çª—å¤–ï¼Œä¾¿é—®ä»–ï¼šâ€œä»Šæ—¥å¤©æ°”è¿™èˆ¬å¥½ï¼Œè¦ä¸è¦ä¸€èµ·å‡ºå»ç©ï¼Ÿâ€ç™½æ©–æ²¡çœ‹ä»–ï¼Œåªå›äº†ä¸€ä¸ªå­—ï¼šâ€œçƒ­ã€‚â€è‹æ™¯éå¸¸ç†è§£åœ°ç‚¹äº†ç‚¹å¤´ï¼Œæ‹‰ç€å°å’Œå°šå’Œè™å¦å„¿å‡ºå»äº†ã€‚</p><p>ã€€ã€€æ²¡è¿‡ä¸€ä¼šå„¿ï¼Œæ­£å½“ç™½æ©–è§‰å¾—è€³æ ¹å­æ¸…å‡€äº†è®¸å¤šçš„æ—¶å€™ï¼Œå°±çœ‹åˆ°çª—å¤–è¾¹ä¸€ä¸ªç«æ€¥ç«ç‡çš„èº«å½±æœä»–è·‘æ¥ï¼Œä¸ä¸€ä¼šå„¿å°±æ¥åˆ°ä»–è·Ÿå‰ã€‚ä»–çœ‹ç€è‹æ™¯ä»èº«åå…´å¥‹çš„æå‡ºäº†ä¸€æŠŠç«¹åˆ¶çš„æ²¹çº¸ä¼ï¼Œç„¶åç”¨é‚£åŒæ‰‘é—ªæ‰‘é—ªçš„å¤§çœ¼ç›æœ›ç€ä»–è¯´ï¼šâ€œç°åœ¨å¯ä»¥ä¸€èµ·å‡ºå»ç©äº†å—ï¼Ÿâ€</p><p>ã€€ã€€æ˜Ÿéœœèè‹’ï¼Œç™½æ©–å°±è¿™æ ·åœ¨å­¦åºœå¾…äº†è¿‘ä¸€ä¸ªæœˆã€‚æ¯å¤©è‹æ™¯éƒ½ä¼šå˜ç€æ³•çš„ç»™ä»–å¸¦å„ç§å„æ ·çš„æ–°é²œç©æ„å„¿ã€‚å°¾ç”Ÿè“å…‰çš„æ°´è¤ï¼Œå¹ä¸ç­çš„æ°¸ç”Ÿç«ï¼Œèƒ½å¤Ÿå¬åˆ°æ½®æ±å£°çš„æ¸…æœˆèºï¼Œè¿˜æœ‰â€¦è‹æ™¯çœ‹ç€æ‰‹é‡Œçš„å«ç¾è‰ï¼Œè¿™ä¸œè¥¿å’Œç™½æ©–ç®€ç›´ä¸€æ¨¡ä¸€æ ·ã€‚</p><p>ã€€ã€€ä¸¤å¤©å‰ï¼Œè™å¦å„¿å’Œå°å’Œå°šåœ¨è¿½ç€ç©ï¼Œä¸å°å¿ƒæ’ç¿»äº†ç™½æ©–æ¡Œä¸Šçš„èŒ¶æ°´ï¼ŒèŒ¶æ°´è¿˜å†’ç€çƒ­æ°”åœ°æ·‹åœ¨äº†ç™½æ©–æ‰‹ä¸Šã€‚è‹æ™¯ä¸‹æ„è¯†çš„å»æ¡ç™½æ©–çš„æ‰‹ï¼Œæ²¡æˆæƒ³ï¼Œä»–åˆšåˆšç¢°åˆ°ç™½æ©–çš„æ‰‹æŒ‡ï¼Œå°±è¢«æ¨å¼€äº†ã€‚</p><p>ã€€ã€€è‹æ™¯æœ‰äº›å§”å±ˆå·´å·´çš„æŠŠè„‘è¢‹æåœ¨æ¡Œå­ä¸Šã€‚å‰æ®µæ—¶é—´ç™½æ©–å¿ƒæƒ…å¥½çš„æ—¶å€™è¿˜ä¼šå’Œä»–å‡ºå»èµ°èµ°ï¼Œè¿™å‡ æ—¥å› ä¸ºé‚£ä»¶äº‹ï¼Œç™½æ©–éƒ½ä¸å’Œä»–è¯´è¯äº†ã€‚è‹æ™¯å‘æ„çš„å¹äº†å£æ°”ï¼Œçªç„¶åˆæƒ³èµ·ä»€ä¹ˆä¼¼çš„çœ¼ç›äº®äº†èµ·æ¥ï¼Œç„¶åèµ¶ç´§å†²å‡ºé—¨ã€‚</p><p>ã€€ã€€ç¬¬äºŒæ—¥ï¼Œç›´åˆ°ä¸­åˆåƒé¥­çš„æ—¶è¾°è‹æ™¯éƒ½è¿˜æ²¡æœ‰å‡ºç°ã€‚ä»æ—©ä¸Šè‹æ™¯æ²¡æ¥å¼€å§‹ï¼Œç™½æ©–å°±æ—¶ä¸æ—¶çœ‹å‘çª—å¤–ã€‚ä¸­åˆä¸‹å­¦åï¼Œç™½æ©–æœå°å’Œå°šçœ‹äº†ä¸€çœ¼ï¼Œè¿˜æ²¡å¼€å£ï¼Œè™å¦å„¿å°±æŠ¢ç€è¯´ï¼šâ€œè‹æ™¯å“¥å“¥ç»™ä½ ä¹°ä¸œè¥¿å»äº†ï¼â€</p><p>ã€€ã€€ç™½æ©–å¾®æ€”ï¼Œè¿‡äº†å¥½ä¸€ä¼šå„¿æ‰è¯´ï¼šâ€œçŸ¥é“äº†ã€‚â€å°å’Œå°šå¥‡æ€ªåœ°çœ‹äº†ä¸€çœ¼ç™½æ©–ï¼Œä¸çŸ¥ä¸ºä½•ï¼Œä»–æ€»è§‰å¾—ç™½æ©–æ·¡æ¼ çš„è¯­æ°”é‡Œï¼Œè—ç€ä¸€åˆ†å–œæ„ã€‚</p><p>ã€€ã€€åˆæ—¶ï¼Œç™½æ©–ç…§å¸¸ç”¨ç€ä¸€ç¢—æ¸…ç²¥ã€‚ä»å°åˆ°å¤§ï¼Œä»–éƒ½ä»¥ç™½ç²¥ä¸ºä¸»ï¼Œæ—¶è”¬è¾…ä¹‹ã€‚çªç„¶ï¼Œä¸€ä¸ªé›€è·ƒçš„å£°éŸ³ä¼ æ¥ï¼šâ€œç™½æ©–ï¼ç™½æ©–ï¼ä½ çœ‹æˆ‘ç»™ä½ å¸¦äº†ä»€ä¹ˆï¼â€ç™½æ©–å¾®å¾®åå¤´ï¼Œçœ‹åˆ°è‹æ™¯çŒ«ä¼¼çš„è¹¿åˆ°ä»–æ—è¾¹ï¼Œç„¶åå°å¿ƒç¿¼ç¿¼çš„æ‹¿å‡ºä¸€ä¸ªè¢‹å­ã€‚</p><p>ã€€ã€€è‹æ™¯å°†ç™½æ©–çš„ç¢—æŒªåˆ°è‡ªå·±é¢å‰ï¼Œç„¶åä»è¢‹å­é‡Œé¢å€’å…¥äº†ä¸€äº›æš—çº¢è‰²çš„ç²‰æœ«ï¼Œç”¨æœ¨å‹ºè½»è½»æ…æ‹Œäº†ä¹‹åï¼ŒåˆæŒªåˆ°äº†ç™½æ©–é¢å‰ã€‚ç™½æ©–çœ‹ç€è‹æ™¯ä¸€è„¸æœŸå¾…çš„çœ¼ç¥ï¼Œåˆç›¯ç€è‡ªå·±çš„ç¢—çœ‹äº†è¶³è¶³ä¸€ç›èŒ¶çš„åŠŸå¤«ï¼Œæ–¹æ‰èˆ€äº†ä¸€æµ…å‹ºé€å…¥å˜´é‡Œã€‚</p><p>ã€€ã€€â€œå’³ï¼å’³å’³â€¦ï¼â€ç™½æ©–è¿˜æœªååº”è¿‡æ¥å˜´é‡Œçš„å‘³é“ï¼Œå°±è¢«å‘›çš„å’³å‡ºå£°æ¥ã€‚è‹æ™¯ä¸€è„¸æƒŠæ…Œå¤±æªï¼Œèµ¶ç´§ç»™ä»–å€’äº†ä¸€æ¯å‡‰æ°´ï¼Œåˆè½»è½»çš„æ‹ç€ä»–çš„èƒŒï¼Œæ‹…å¿ƒçš„é—®åˆ°ï¼šâ€œæ²¡äº‹å§ï¼Ÿâ€</p><p>ã€€ã€€ç™½æ©–ä¼¸æ‰‹å»æ¥è‹æ™¯å€’çš„æ°´ï¼Œé£ŸæŒ‡ä¸å°å¿ƒç¢°åˆ°äº†è‹æ™¯çš„æ‰‹èƒŒã€‚ä»–çš„æ‰‹åœ¨ç©ºä¸­é™äº†ç‰‡åˆ»ï¼Œç„¶åç»§ç»­é¢è‰²é•‡å®šçš„æ‹¿è¿‡æ°´ï¼Œæ©ä¸‹å–‰é—´çš„ç¼çƒ­ã€‚è‹æ™¯çœ‹ç€ç™½æ©–å’³åœ°æ³›çº¢çš„è„¸ï¼Œæœ‰äº›å¿ƒç–¼åœ°è§£é‡Šåˆ°ï¼šâ€œè¿™æ˜¯æˆ‘ä»è¥¿èœ€æ‹¿å›æ¥çš„è¾£æ¤’ç²‰ï¼Œæˆ‘çœ‹ä½ æ¯æ—¥å–æ¸…ç²¥ï¼Œå°±æƒ³ç€ç»™ä½ æ¢æ¢å£å‘³ã€‚æ˜¯æˆ‘è€ƒè™‘ä¸å‘¨äº†ã€‚â€</p><p>ã€€ã€€â€œæ— å¦¨ã€‚â€ç™½æ©–å°†é£ŸæŒ‡è½»è½»æŒ‰åœ¨è‡ªå·±çš„å”‡ç“£ä¸Šï¼Œä»»å‡­ç¼çƒ§æ„Ÿåœ¨å”‡é½¿é—´è·ƒåŠ¨ã€‚ç­‰è¿™ç§æ„Ÿè§‰å¿«è¦æ¶ˆé€€çš„æ—¶å€™ï¼Œç™½æ©–åˆæµ…èˆ€äº†ä¸€å‹ºæ”¾å…¥å˜´ä¸­ã€‚å°±è¿™ä¹ˆä¸€å‹ºï¼Œä¸¤å‹ºâ€¦è‹æ™¯çœ‹ç€ä»–æ…¢æ…¢çš„å°†ä¸€ç¢—ç²¥åƒåˆ°è§äº†åº•ï¼Œå¿ƒä¸­åˆæƒŠåˆå–œã€‚</p><p>ã€€ã€€â€œä½ å–œæ¬¢å—ï¼Ÿå–œæ¬¢çš„è¯æˆ‘æ”¹æ—¥å†ç»™ä½ æ‹¿ä¸€äº›æ¥ã€‚â€è‹æ™¯åƒæ˜¯è‡ªå·±åƒåˆ°ä»€ä¹ˆçé¦ç¾å‘³èˆ¬çš„é—®åˆ°ã€‚â€œå—¯ã€‚â€ç™½æ©–æµ…å£°åº”ç€ã€‚è¿™æ˜¯ä»–ç¬¬ä¸€æ¬¡è§‰å¾—ï¼ŒåŸæ¥åƒé¥­ä¹Ÿä¼šè®©ä»–äº§ç”Ÿä¸€ä¸æœŸå¾…ã€‚</p><p>ã€€ã€€é‡‘ç§‹çš„éº¦æµªï¼Œå°†å°‘å¹´çš„å¿ƒä¸€ç‚¹ç‚¹è£…çš„æ»¡æ»¡å½“å½“ã€‚</p><p>ã€€ã€€å°å’Œå°šæˆ³äº†æˆ³çœ¼çš®å­è€·æ‹‰ç€çš„è™å¦å„¿ï¼Œç¥ç§˜å…®å…®çš„é—®ï¼šâ€œä½ æœ‰æ²¡æœ‰å‘ç°è‹æ™¯å’Œç™½æ©–æœ€è¿‘æœ‰ä»€ä¹ˆå¥‡æ€ªçš„åœ°æ–¹ï¼Ÿâ€è™å¦å„¿ç”¨æ¸…æ¾ˆçš„çœ¼ç›çœ‹äº†ä¸€çœ¼ä»–ä¿©ï¼Œç„¶åè¯´ï¼šâ€œä»–ä¿©è¶Šé•¿è¶Šå¥½çœ‹å•¦ï¼â€</p><p>ã€€ã€€å°å’Œå°šç¿»äº†ä¸ªç™½çœ¼ï¼Œç„¶åæŒ‡äº†æŒ‡ä»–ä¿©çš„ä½ç½®ï¼Œæ‚„å’ªå’ªçš„è¯´ï¼šâ€œä»–ä¿©çš„æ¤…å­éƒ½è¦è´´ä¸€å—å„¿å•¦ï¼â€</p><p>ã€€ã€€åæœˆåäº”ï¼Œæ˜¯å­¦åºœè¿›è¡Œæ¯”æ­¦åˆ‡ç£‹çš„æ—¥å­ã€‚</p><p>ã€€ã€€å­¦åºœåå±±ï¼Œæœ‰ä¸€åº§å·¨å¤§çš„æ¯”æ­¦åœºã€‚è‹æ™¯æ—©æ—©å°±æ‹–ç€ç™½æ©–å’Œå°å’Œå°šè¿˜æœ‰è™å¦å„¿ä»–ä»¬ä¸‰ä¸ªæ¥åˆ°è¿™é‡Œã€‚è‹æ™¯é¥¶æœ‰å…´è‡´åœ°å†²ä»–ä»¬ä¸‰ä¸ªè¯´ï¼šâ€œç»ˆäºæœ‰æœºä¼šå¥½å¥½æ•™è®­é‚£äº›çœ¼é«˜æ‰‹ä½çš„å®¶ä¼™ä»¬äº†ã€‚â€</p><p>ã€€ã€€ç™½æ©–çŸ¥é“è‹æ™¯å˜´é‡Œçš„ä»–ä»¬å°±æ˜¯åˆšå…¥å­¦æ—¶å‡ºè¨€è®¥è®½ä»–çš„é‚£äº›äººã€‚ä»å¼€å­¦åˆ°ç°åœ¨ï¼Œè‹æ™¯å·²ç»æ˜é‡Œæš—é‡Œå’Œä»–ä»¬è¾ƒé‡è®¸å¤šæ¬¡äº†ã€‚ç™½æ©–çœ¼çœ¸å«ç€ä¸€ä¸è‡ªå·±ä¹Ÿä¸æ›¾å¯Ÿè§‰çš„ç¬‘æ„ï¼Œå˜´ä¸Šå´è¯´ç€ï¼šâ€œå¹¼ç¨šã€‚â€</p><p>ã€€ã€€è‹æ™¯çœ‹ç€è¶Šæ¥è¶Šå¤šçš„äººå¾€è¿™è¾¹æ¶Œï¼Œä¾¿è·Ÿä»–ä»¬ä¸‰ä¸ªè¯´ï¼šâ€œæˆ‘ä»¬å¾€å‰å‡‘å‡‘ï¼Œçœ‹çš„æ¸…æ¥šäº›ã€‚â€å‰æ®µæ—¶é—´è‹æ™¯å‘ç°ç™½æ©–çš„çœ¼ç›ä¼¼ä¹æœ‰äº›çœ‹ä¸å¤ªæ¸…ï¼Œä»–é—®è¿‡ç™½æ©–æ˜¯ä¸æ˜¯æœ‰å“ªé‡Œä¸èˆ’æœï¼Œç™½æ©–åªå›ä»–æ²¡æœ‰ï¼Œä½†ä»–å´åœ¨å¿ƒé‡Œé»˜é»˜è®°äº†ä¸‹æ¥ã€‚</p><p>ã€€ã€€ç­‰æ‰€æœ‰äººé€æ¸éƒ½åˆ°é½äº†ï¼Œä¸€ä½èº«ç€åŠ²è£…çš„å¥³å­ç¿»èº«ä¸Šå°ï¼Œæœ—å£°å–åˆ°ï¼šâ€œæ¯”æ­¦â€”â€”å¼€å§‹ï¼â€</p><p>ã€€ã€€ä¸€åç©¿ç€æœ±çº¢è‰²è¢ˆè£Ÿï¼Œçœ¼çœ¸è™šå¼ ï¼Œå‘¨èº«é¸¦é’å…‰æ™•æ²‰æµ®çš„å’Œå°šç«‹æ‰‹èµ°åˆ°å°å‰ï¼Œç„¶åç›®å…‰ç¯è§†äº†ä¸€åœˆï¼Œæœ€ååœåœ¨äº†å°å’Œå°šè¿™é‡Œã€‚â€œæ‘ˆå°˜æ³•å¸ˆï¼Œè¯·ã€‚â€å°å’Œå°šä¸€è„¸å«Œå¼ƒï¼Œä½†è¿˜æ˜¯æ…¢æ‚ æ‚ èµ°ä¸Šå°ï¼Œåœ¨ç¦»å°è¿˜æœ‰å…­å°ºå¤„åœä¸‹æ—¶ï¼Œæ˜é»„æš—çº¹è‡ªè„šåº•å‡è…¾ã€‚</p><p>ã€€ã€€â€œæ‘’å°˜æ˜¯æ™®æ¸¡å¯ºå®ˆçœŸå¤§å¸ˆçš„å°å¼Ÿå­ï¼Œä¿®çš„æ˜¯æ¢µé’Ÿæ™®æ¸¡è¯€ï¼Œæ¢µéŸ³å‡ºï¼Œä¼—ç”Ÿæ¸¡ã€‚â€è‹æ™¯å‘ç™½æ©–ä»‹ç»åˆ°ã€‚ä»–åˆæŒ‡äº†æŒ‡å°å’Œå°šå¯¹é¢çš„é‚£ä¸ªäººè¯´ï¼šâ€œé‚£æ˜¯å¹¿æµå¯ºçš„æ…§è¿œæ³•å¸ˆï¼Œå¸ˆä»å®æ‚Ÿå¤§å¸ˆã€‚å®æ‚Ÿå¤§å¸ˆæœ€æ‹¿æ‰‹çš„ä¾¿æ˜¯å¤§æ‚²å’’ï¼Œä¸å†å¤§æ‚²ï¼Œä¸é€šæä¹ã€‚â€</p><p>ã€€ã€€ç™½æ©–å¬å®Œç¨èµ·äº†äº›å…´è‡´ï¼Œåªè§å°å’Œå°šå‘¨èº«ç¬¼ç½©åœ¨ä¸€ä¸ªæ˜é»„å¤é’Ÿå†…ï¼Œå¤é’Ÿä¸Šç«¯æ˜¯é¾™å¤´é’“æ‰‹ï¼Œä¸‹ç«¯æœ‰äºŒä¸ªè²åå½¢æ’åº§ã€‚å°å’Œå°šåœ¨å¤é’Ÿå†…ç´§é”åŒçœ¸ï¼Œå·¦æ‰‹æŒç ï¼Œéšç€å˜´å”‡ç¿•åŠ¨çš„é¢‘ç‡è¶Šæ¥è¶Šå¿«ï¼Œä¸€æ ¹é¾™å‹çš„é’Ÿæ¤èµ«ç„¶å‡ºç°åœ¨å¤é’Ÿä¾§æ–¹ï¼Œå¦‚å·¨é¾™åæ¯ã€‚</p><p>ã€€ã€€å¯¹é¢çš„æ…§è¿œæ³•å¸ˆç›˜è…¿å¸­åœ°è€Œåï¼Œæœ±çº¢è‰²è¢ˆè£Ÿåœ¨è‚©ä¾§ç¯ç»•ã€‚ä»–å°†èƒ¸å£çš„ç´«é‡‘ç ä¸²å–ä¸‹ï¼Œå³æ‰‹ä¸€ä¸‹ä¸€ä¸‹æ»ç€ï¼Œç»†çœ‹çš„è¯ä¼šå‘ç°ç´«é‡‘ç ä¸Šæœ‰é¸¦é’è‰²çº¹è·¯è‹¥æ˜è‹¥æ˜§ã€‚é¡·åˆ»é—´ï¼Œä¸€ä½åƒæ‰‹åƒçœ¼çš„è©è¨ç«‹äºæ…§è¿œèº«åï¼Œè€Œå…¶ä¸­ä¸€åªæ‰‹ï¼Œé¥é¥å¯¹ç€å°å’Œå°šçš„æ–¹å‘ä¸€æŒ‡ã€‚</p><p>ã€€ã€€é¡¿æ—¶ï¼Œè‹æ™¯å¬åˆ°äº†æ— æ•°æ‚²æˆšçš„å£°éŸ³åœ¨è€³è¾¹è¦ç»•ï¼Œå®›å¦‚æœé¹ƒå•¼è¡€çš„å“€é¸£ã€‚ä»–ç«‹é©¬è¿è½¬ç¥è¯†ï¼Œç¨³å®šå¿ƒç¥ã€‚ä»–åˆçœ‹å‘ç™½æ©–ï¼Œå´å‘ç°ç™½æ©–çš„çœ¼ç›é‡Œï¼Œå¹³é™æ— æ³¢ï¼Œæ²¡æœ‰æ‚²ä¼¤ï¼Œä¹Ÿä¸æ›¾æ¬¢å–œã€‚</p><p>ã€€ã€€å°å’Œå°šæ²¡æœ‰åä»¥å¾…æ¯™ï¼Œä»–çªåœ°çå¼€åŒçœ¸ï¼Œé¾™æ¤å®›å¦‚å·¨é¾™å’†å“®ä¼¼çš„æ’ä¸Šå¤é’Ÿã€‚éœæ—¶é—´ï¼Œéœ‡è€³æ¬²è‹çš„æ¢µéŸ³ä»¥å°å’Œå°šä¸ºä¸­å¿ƒå‘å››é¢å…«æ–¹æ‰©æ•£ã€‚æ˜é»„è‰²çš„æ³¢çº¹å’Œé¸¦é’è‰²çš„æµå…‰ç¢°æ’åœ¨ä¸€èµ·ï¼Œæ¢µéŸ³ä¸æ‚²æ³£åŒé¸£ã€‚</p><p>ã€€ã€€çº¦è«åŠç›èŒ¶çš„åŠŸå¤«ï¼Œç¬¼ç½©ç€å°å’Œå°šçš„å¤é’Ÿæ¶ˆå¤±åœ¨è™šç©ºï¼Œç«‹äºæ…§è¿œèº«åçš„è©è¨åƒä¹Ÿå˜å¾—è‹¥éšè‹¥ç°ã€‚â€œå™—ï¼â€æ…§è¿œæ³•å¸ˆåœ¨ä½›åƒæ¶ˆå¤±çš„ä¸€åˆ¹é‚£ï¼Œæ‚ç€èƒ¸å£ï¼Œåäº†ä¸€åœ°æš—æ²‰çš„è¡€ã€‚</p><p>ã€€ã€€å°å’Œå°šç”¨è‚‰å˜Ÿå˜Ÿçš„æ‰‹æ‹äº†æ‹è‡ªå·±çš„è„¸ï¼Œæ‘‡æ‘‡æ™ƒæ™ƒçš„é™©äº›æ‘”å€’åœ¨åœ°ã€‚è‹æ™¯æ­£å‡†å¤‡å»æ¥ä»–ï¼Œçªç„¶çœ¼ç¥ä¸€å‡ï¼Œéè‰²ç¥è¯†åŒ¿äºè™šç©ºï¼Œä¸€æšè—äºé˜´å½±ä¸­çš„é’é’ˆåƒæ˜¯è›°ä¼åœ¨æš—çš„æ¯’è›‡ï¼Œéšæ—¶å‡†å¤‡ç»™æ•Œäººè‡´å‘½ä¸€å‡»ã€‚</p><p>ã€€ã€€â€œæ—ä¸ƒå¯¸ï¼Œæ”¶èµ·ä½ é‚£äº›è‚®è„çš„æ‰‹æ®µã€‚â€è‹æ™¯å°†å°å’Œå°šæ‰¶èµ·ï¼Œç›®å«éå…‰çš„å‘äººç¾¤ä¸­ä¸€å¤„é˜´æš—çš„è§’è½è¯´åˆ°ã€‚ä¸€é“èº«ç€ç«¹é’è‰²é•¿è¢ï¼Œä¸Šé¢ç»£ç€è›‡çº¹å›¾æ¡ˆçš„ç”·å­ç¼“æ­¥èµ°ä¸Šå°ï¼Œæ­ªå¤´æœè‹æ™¯éœ²å‡ºäº†ä¸€ä¸ªè½»è”‘çš„ç¬‘å®¹ï¼Œä»–è®¥è®½åˆ°ï¼š</p><p>ã€€ã€€â€œè‹æ™¯å•Šè‹æ™¯ï¼Œä½ çš„ç¥è¯†é™¤äº†èƒ½å®‰æŠšä¸¤åªé˜¿çŒ«é˜¿ç‹—ï¼Œè¿˜èƒ½å¹²å˜›ï¼Ÿâ€æ—ä¸ƒå¯¸çŸ¥é“è‹æ™¯è¿˜æ²¡æœ‰æ‰¾åˆ°åˆé€‚çš„å¿ƒæ³•ï¼Œä¾¿å¤„å¤„è¸©ç€ä»–çš„ç—›ç‚¹ã€‚â€œè‡­æ‰”é’ˆçš„ï¼æˆ‘æ‹æ­»ä½ ï¼â€è‹æ™¯è¿˜æœªå¼€å£è¯´è¯ï¼Œå°±çœ‹è§è™å¦å„¿å†²ä¸Šäº†å°ã€‚</p><p>ã€€ã€€ä¸€ä¸ªå·¨å¤§çš„æœˆç™½è‰²è™šå½±é½ç„¶å‡ºç°åœ¨è™å¦å„¿èº«åï¼Œè™å¦å„¿å’†å“®ç€å‘æ—ä¸ƒå¯¸æŒ¥å‡ºæ‹³å¤´ï¼Œèº«åçš„è™å½±ä¹Ÿå¼ å¼€äº†è¡€ç›†å¤§å£ï¼Œè™æŒå¸¦ç€æ’å±±ä¹‹åŠ¿å‘æ—ä¸ƒå¯¸æ‹ä¸‹ã€‚æ—ä¸ƒå¯¸é™¡ç„¶çªå¤§äº†åŒçœ¼ï¼Œä¸æ•¢æœ‰ä¸æ¯«çš„åˆ†ç¥ï¼Œç¥è¯†ç–¯ç‹‚è¿è½¬ï¼Œç«¹é’è‰²æµ“é›¾å‘å››å‘¨å¥”è¢­ï¼Œæ— æ•°é’é’ˆè—äºé›¾ä¸­ã€‚</p><p>ã€€ã€€è™æŒæ‹å‘é’é›¾æ—¶ï¼Œåªå¬é›¾ä¸­ä¼ æ¥ä¸€å£°é—·å“¼ï¼Œæ¥ç€ä¾¿ç§è§ä¸€é“èº«å½±ä»é›¾ä¸­å‘åçŒ›åœ°é€€äº†å¥½å‡ æ­¥ï¼Œæ–¹æ‰å ªå ªç¨³ä½èº«å½¢ã€‚è™å¦å„¿åŒæ‰‹å‰è…°ï¼Œéœ²ç€ä¸¤é¢—å°è™ç‰™å‡¶å·´å·´åœ°å†²æ—ä¸ƒå¯¸å–Šåˆ°ï¼šâ€œæœ‰æœ¬äº‹ä½ å†å«å•Šï¼â€</p><p>ã€€ã€€â€œä½ â€¦ï¼â€æ—ä¸ƒå¯¸æ­£å¼¯è…°å–˜ç€ç²—æ°”ï¼Œå¬åˆ°è™å¦å„¿çš„æŒ‘è¡…å£°ï¼Œè„¸ä¸Šæœ‰æƒŠæ€’ä¹‹è‰²æµ®ç°ã€‚â€œåˆ«æ€¥ï¼Œè®©æˆ‘ä»¬å…„å¼Ÿä¿©æ¥ä¼šä¼šä»–ä»¬ã€‚â€æ—ä¸ƒå¯¸çªç„¶è¢«ä¸€å·¦ä¸€å³ä¸¤åªæ‰‹æ‰¶èµ·ï¼Œå°±è§åˆ°å¼€å£è¯´è¯ä¹‹äººæœä»–éœ²å‡ºä¸€ä¸ªå’Œå–„çš„ç¬‘å®¹ã€‚</p><p>ã€€ã€€æ¥çš„ä¸¤äººéƒ½åªéœ²å‡ºä¸€åªçœ¼ï¼Œå¦ä¸€åªçœ¼çš†è¢«é»‘å¸ƒæ©ç€ã€‚åˆšåˆšå¼€å£è¯´è¯ä¹‹äººèº«ç€ç´ è¡£ï¼Œé¢å®¹å’Œå–„ï¼Œè€Œå¦ä¸€äººå…¨èº«è£¹åœ¨å¢¨è‰²é•¿è¡«ä¸­ï¼Œç¥æƒ…æ·¡æ¼ ã€‚</p><p>ã€€ã€€è‹æ™¯è§åˆ°ä¸Šå°çš„ä¸¤ä¸ªäººåï¼Œç›®å…‰ä¸€ç´§ï¼Œæ—‹å³å¯¹è™å¦å„¿è¯´ï¼šâ€œæ¥çš„æ˜¯é˜´é˜³çœ¼ä¸¤å…„å¼Ÿã€‚å“¥å“¥æ‰§ç”Ÿï¼Œå¼Ÿå¼ŸæŒæ­»ã€‚ç”Ÿæ­»ç„å¦™ï¼Œçš†è—äºçœ¼ã€‚ä½ åƒä¸‡å°å¿ƒï¼Œä¸è¦çœ‹ä»–ä»¬çš„çœ¼ç›ã€‚â€è™å¦å„¿å¬å®Œï¼Œèµ¶ç´§ç”¨ä¸¤åªå°æ‰‹æŠŠçœ¼ç›æ‚ä½ã€‚</p><p>ã€€ã€€è‹æ™¯æ·±å¸ä¸€å£æ°”ï¼Œçœ¼å¸˜è™šæ©ï¼Œæ‰‹æŒç¿»è½¬ï¼Œé‡‘è‰²æš—çº¹è‡ªè„šåº•æµ®ç°ã€‚æ­£å½“ä»–å‡†å¤‡è¿è½¬ç¥è¯†æ—¶ï¼Œçªç„¶çœ¼å‰å‡ºç°äº†ä¸€é“èº«å½±ã€‚ç™½æ©–ä¾§èº«ç«™åœ¨ä»–çš„èº«å‰ï¼Œå…ˆæ˜¯å¾®å¾®è½¬å¤´ï¼Œç”¨åªæœ‰ä»–å¬çš„è§çš„å£°éŸ³å¯¹ä»–è¯´äº†å¥ï¼šâ€œå‚»å­ã€‚â€ç„¶ååˆå¯¹ç€é˜´é˜³çœ¼ä¸¤å…„å¼Ÿç”¨æå…¶æ·¡æ¼ çš„è¯­æ°”åå‡ºå››ä¸ªå­—ï¼š</p><p>ã€€ã€€â€œä¸€èµ·ä¸Šå§ã€‚â€</p><p>ã€€ã€€é“¶éœœæ¼«å¤©ï¼Œé›ªè™é£é¥•ã€‚  </p>]]></content>
    
    
    <categories>
      
      <category>å†™ä½œ Ê•â—‰á´¥â—‰Ê”</category>
      
      <category>ã€Šå—å† æ¬²çƒ‚æŸ¯ã€‹</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å†™ä½œ</tag>
      
      <tag>å—å† </tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç¬¬äº”ç«  Â· æ™¨æ›¦æš–éœœå¥³â¤ï¸</title>
    <link href="/2023/11/15/%E5%86%99%E4%BD%9C/%E5%8D%97%E5%86%A0%E6%AC%B2%E7%83%82%E6%9F%AF/%E5%8D%97%E5%86%A0-%E7%AC%AC%E4%BA%94%E7%AB%A0/"/>
    <url>/2023/11/15/%E5%86%99%E4%BD%9C/%E5%8D%97%E5%86%A0%E6%AC%B2%E7%83%82%E6%9F%AF/%E5%8D%97%E5%86%A0-%E7%AC%AC%E4%BA%94%E7%AB%A0/</url>
    
    <content type="html"><![CDATA[<h1 id="æ™¨æ›¦æš–éœœå¥³"><a href="#æ™¨æ›¦æš–éœœå¥³" class="headerlink" title="æ™¨æ›¦æš–éœœå¥³"></a>æ™¨æ›¦æš–éœœå¥³</h1><p>  ã€€ã€€è‹æ™¯å’Œè‹é‡ä¸€å‰ä¸€åèµ°å›æˆ¿é—´ã€‚æœˆå…‰ä»çª—å¤–æ¼«è¿›å±‹å†…ï¼Œç•™ä¸‹ä¸€æ¹¾æ¸…æµ…ã€‚è‹é‡å€Ÿç€æœˆå…‰å°†å·åœ¨åœ°ä¸Šçš„è¢«è¤¥æ”¶æ‹¾å¥½ï¼Œå°±çœ‹åˆ°è‹æ™¯å·²ç»è¶´åœ¨åºŠä¸Šç¿»ä»–å¸¦å›æ¥çš„è¯æœ¬å­äº†ã€‚ä»–ä»æ¡Œå‰é€’è¿‡å»ä¸€ç›æ²¹ç¯ï¼Œè¯´ï¼šâ€œå°‘çœ‹ä¸€ä¼šå„¿ã€‚â€</p><p>ã€€ã€€è‹æ™¯å˜Ÿå›”ç€åº”ä¸‹ã€‚è‹é‡åˆå°†ä»–å¸¦å›æ¥çš„ç«¹å­åœ¨æ¡Œæ—æ‘†å¥½ï¼Œç•¥å¾®æ€ç´¢äº†ç‰‡åˆ»ï¼Œä¾¿æ‹¿èµ·å°åˆ€å¼€å§‹æ‰“ç£¨ç«¹å­ã€‚æ²¡è¿‡å¤šä¹…ï¼Œè‹é‡å°±å¬åˆ°è‹æ™¯â€œå™—å—¤â€åœ°ç¬‘å‡ºå£°æ¥ï¼Œä»–æŠ¬å¤´æœ›å‘è‹æ™¯ï¼Œå°±è§ä»–æŒ‡ç€è¯æœ¬å­é‡Œçš„ä¸€æ®µè¯ï¼Œæ‘‡å¤´æ™ƒè„‘åœ°å¿µç€ï¼š</p><p>ã€€ã€€â€œå´è¯´è¿™ä¸¤ä½å°‘å¹´ï¼Œä¸€ä½æ€§æ ¼å­¤åƒ»ï¼Œä¸€ä½ç›´æ¥ç›´å»ã€‚åˆè¯†å­¤åƒ»çš„å°‘å¹´è¿˜è§‰å¾—ç›´çˆ½çš„å°‘å¹´æƒ¹äººå¿ƒçƒ¦ï¼Œå¯æ˜¯æ²¡è¿‡å¤šä¹…ï¼Œä¸¤äººå´æˆäº†è‡³äº¤ã€‚æ¬²çŸ¥åäº‹å¦‚ä½•ï¼Œä¸”å¬ä¸‹å›åˆ†è§£ã€‚â€è‹æ™¯ç ¸å§å˜´ï¼Œè¶Šè¯»è¶Šè§‰å¾—æœ‰äº›ç†Ÿæ‚‰ã€‚</p><p>ã€€ã€€ä»–ç¿»äº†ä¸ªèº«ï¼Œä¸€åªæ‰‹æåœ¨è„‘åèººç€ï¼Œä¸€åªæ‰‹å°†è¯æœ¬å­ç›–åœ¨è„¸ä¸Šã€‚æ­¤æ—¶ä»–çš„è„‘æµ·é‡Œï¼Œå‡ºç°äº†ä¸€ä½èº«ç©¿æ°´äº‘ç»¸ç¼ï¼Œæ€»æ˜¯å–œæ¬¢èƒŒç€å°æ‰‹ï¼Œä¸€è„¸ä¸¥è‚ƒçš„å¯¹ä»–è¯´ï¼šâ€œåˆ«é—¹ã€‚â€çš„äººå½±ã€‚</p><p>ã€€ã€€å¤§èµ¢â€¢å‡šç‰å±±ã€‚</p><p>ã€€ã€€æåŒ—ä¹‹åœ°ï¼Œé›ªå±±è¥¿æ¥ï¼Œæ¨ªäº˜å…­åˆå‡ åƒé‡Œã€‚æ’äº‘åˆ’é›¾ï¼Œç‰å±‘é®å¤©ï¼Œç›´æ§ç©¹çª¿è€Œç‰¹èµ·ã€‚é›ªå±±å°½å¤´ï¼Œå‡šç‰å±±å·…ï¼Œä¸€åº§æ®¿å®‡å·å³¨è€¸ç«‹ã€‚</p><p>ã€€ã€€æ®¿å®‡çš„è¥¿å—è§’å¤„ï¼Œæœ‰ä¸€æ±ªæ¸…æ³‰ï¼Œæ³‰æ°´ä¸Šæ–¹æš–é›¾ç¼­ç»•ï¼Œæ³‰ä¸­æœ‰ä¸¤åªç‰è™šé¾Ÿåœ¨æ…¢æ‚ æ‚ æ‰‘è…¾ã€‚ä¸€åèº«ç€æ°´äº‘è¢ï¼Œå¤´æˆ´é¹¤ç¾½å† çš„å°‘å¹´é™ååœ¨æ³‰è¾¹çš„ç‰çŸ³ä¸Šã€‚å°‘å¹´ç”¨æ‰‹æŒ‡å¾®å¾®æ‹¨å¼„ç€æ³‰æ°´ï¼Œå†°è“è‰²çš„æµå…‰åœ¨æŒ‡è¾¹è·ƒåŠ¨ã€‚</p><p>ã€€ã€€è¿™é‡Œçš„æ¸©åº¦æå†·ï¼Œä¸€èˆ¬äººç©¿ç€ç‹è£˜å¤§è¡£éƒ½ä¼šå†»çš„ç›´æ‰“å“†å—¦ã€‚å¯é‚£æ± ä¸­çš„ä¹Œè¡£å´ä¼¼æ„Ÿå—ä¸åˆ°æ¸©åº¦èˆ¬åœ°è‡ªåœ¨ã€‚å°‘å¹´å¬ç€æ³‰ä¸­å’•å™œçš„æ°”æ³¡å£°ï¼Œå˜´è§’æ¼¾èµ·ä¸€æŠ¹æµ…ç¬‘ã€‚</p><p>ã€€ã€€ä¸è¿œå¤„ä¼ æ¥ä¸€é˜µè„šæ­¥å£°ï¼Œä¸€åå¹´çºªç¨å¤§çš„ç”·å­å¿«æ­¥èµ°åˆ°å°‘å¹´é¢å‰ï¼Œå¯¹ç€å°‘å¹´è¯´ï¼šâ€œç™½æ©–å°å¸ˆå¼Ÿï¼Œå¸ˆå°Šå”¤æˆ‘ä»¬è¿‡å»ã€‚â€åå«ç™½æ©–çš„å°‘å¹´æ²¡æœ‰çœ‹ä»–ï¼Œä»æ—§å†²ç€å‰æ–¹å›åº”åˆ°ï¼šâ€œå¸ˆå…„ç¨ç­‰ã€‚â€</p><p>ã€€ã€€ç”·å­æœ‰äº›å¥½å¥‡çš„çœ‹äº†çœ‹æš–æ³‰ï¼Œè¯¢é—®åˆ°ï¼šâ€œè¿™é‡Œé¢å°±æ˜¯å¸ˆå¼Ÿå¯»äº†å¥½ä¹…æ‰æ‰¾åˆ°çš„é˜³çƒçŸ³ï¼Ÿâ€ç™½æ©–ç‚¹äº†ç‚¹å¤´ã€‚â€œåŸæ¥æ˜¯ç½®äºè¿™æ–¹æ³‰æ°´ä¹‹ä¸‹ï¼Œæœ‰é˜³çƒçŸ³åœ¨ï¼Œè¿™ä¸¤ä¸ªå°å®¶ä¼™æ‰èƒ½è¿™èˆ¬å¿«æ´»ã€‚â€ç”·å­æŒ‡äº†æŒ‡æ³‰ä¸­çš„ä¹Œè¡£ï¼Œç•¥ä½œæ„Ÿæ…¨ã€‚</p><p>ã€€ã€€ç™½æ©–æ”¶æ‹¾å¥½äº†è‡ªå·±çš„è¡£è£³ï¼Œæ­£æ¬²èµ·èº«ï¼Œç”·å­è¿å¿™è·‘è¿‡å»æ€æ‰¶ã€‚ç™½æ©–é€€äº†ä¸€æ­¥ï¼Œæ¸…å†·åœ°è¯´ï¼šâ€œæ— å¦¨ã€‚â€ç”·å­æœ‰äº›æ‹…å¿§åœ°è¯´ï¼šâ€œä½ çš„çœ¼ç›â€¦â€ç™½æ©–æ‘†äº†æ‘†æ‰‹ï¼Œä¼¼ä¹æ˜¯è‡ªè¨€è‡ªè¯­åœ°è¯´ï¼šâ€œçœ¼è§ä¸ä¸€å®šä¸ºå®ï¼Œå¿ƒè§æ‰æ˜¯ã€‚â€è¯´ç½¢ï¼Œä¾¿è‡ªå·±æœæ®¿é—¨å¤–èµ°å»ï¼Œçœ¼åº•å‡èµ·ä¸€ç‰‡é›¾éœ­ã€‚</p><p>ã€€ã€€å‡šç‰å±±æœ‰åäºŒå®«ï¼Œä»ç™½æ©–å±…ä½çš„å®«æ®¿åˆ°å¸ˆå°Šä½çš„æ­£æ®¿è¦ç»è¿‡å¦å¤–å‡ åº§è¡Œå®«ï¼Œé‡Œé¢ä½çš„æ˜¯å…¶ä»–å¸ˆå…„å¼Ÿã€‚åˆšåˆšå”¤ç™½æ©–çš„é‚£ä½å¸ˆå…„ä¹Ÿé™†ç»­å”¤äº†å…¶ä»–äººã€‚ä»–ä»¬ä¸‰ä¸‰ä¿©ä¿©çš„ç»“ä¼´è€Œè¡Œï¼Œåªæœ‰ç™½æ©–ç‹¬è‡ªä¸€äººèµ°åœ¨æœ€åã€‚æ¯æ¬¡äººä¸€å¤šèµ·æ¥ï¼Œç™½æ©–å°±ä¼šæƒ³åˆ°é‚£ä¸ªäººçš„èº«å½±ã€‚</p><p>ã€€ã€€é‚£æ˜¯å´‡å®åäºŒå¹´çš„å¤å¤©ï¼ŒåŒæ ·çš„ç¡çƒŸéåœ°ï¼Œå±±æ²³é£˜æ‘‡ã€‚</p><p>ã€€ã€€ç™½æ©–çš„çœ¼ç›ä»é‚£ä¸ªæ—¶å€™å°±é€æ¸æœ‰äº›çœ‹ä¸æ¸…äº†ï¼Œå¯ä»–å´è§‰å¾—æ­£æ˜¯ä»é‚£æ—¶èµ·ï¼Œä»–æ‰çœŸæ­£æ‹¥æœ‰è¿‡å…‰æ˜ã€‚</p><p>ã€€ã€€é‚£ä¸€å¹´ï¼Œå¸ˆå‚…å°†ä»–é€åˆ°äº†ä¸‰å›½äº¤æ±‡å¤„çš„ä¸€åº§å±±è°·ã€‚è°·é‡Œæœ‰ä¸€åº§å­¦åºœï¼Œåâ€œé¼æ³°â€ï¼Œæœ‰é¼ç«‹ä¸‰è¶³ï¼Œä¸‰é˜³äº¤æ³°ä¹‹æ„ã€‚é‡Œé¢å…¨æ˜¯æ±Ÿæ¹–å„æ´¾é€å»çš„å¤©èµ‹å¼‚ç¦€çš„å­©ç«¥ã€‚å› å…¶ç‹¬ç«‹äºä»»ä½•ä¸€æ–¹åŠ¿åŠ›ï¼Œæ–¹æ‰èƒ½åœ¨è¿™ä¹±ä¸–ä¸­è¶…è„±äºå¤–ã€‚</p><p>ã€€ã€€é²œæœ‰äººçŸ¥é“åºœä¸»æ˜¯è°ï¼Œä¹Ÿå¾ˆå°‘æœ‰äººçŸ¥é“åºœé‡Œçš„å…ˆç”Ÿæ¥è‡ªå“ªé‡Œï¼Œå¤§å®¶éƒ½å¿ƒç…§ä¸å®£çš„å°†é—¨ä¸­ä¼˜ç§€å­å¼Ÿé€æ¥è¿›ä¿®ï¼Œå› ä¸ºè¿™é‡Œä¸è®ºå›½ç•Œï¼Œä¸è®ºå°Šå‘ï¼Œåªè®ºå¤©èµ‹ã€‚</p><p>ã€€ã€€å¤§èµ¢çš„ä¸‰æ•™ä¹æµèƒ½å’Œä¸–å®¶å­å¼ŸåŒå¸­è€Œåï¼Œä¹Œäººçœ¼ä¸­çš„å¼‚æ•™å¾’ä¹Ÿèƒ½ä¸åœ£çµæ•™å’Œå·«ç¥æ•™åŒå°è®ºé“ï¼Œè¿˜æœ‰ä¹¾å›½æ•°ä¸æ¸…çš„å°éƒ¨è½ï¼Œåœ¨è¿™é‡Œä¹Ÿèƒ½å’ŒäºŒåå…«å®¿éƒ¨çš„è£”å­ä»¬ä¸€å†³é«˜ä¸‹ã€‚</p><p>ã€€ã€€è¿™é‡Œæœ‰å¤±ä¼ å·²ä¹…çš„å¤§èµ¢å¿ƒæ³•å’Œèº«æ³•ç»å­¦ï¼Œä¹Ÿæœ‰æ¥è‡ªä¸Šå¤çš„ä¹Œæ—æœ¯å¼ï¼Œè¿˜æœ‰ä¹¾å›½è›®è’æ—¶æœŸçš„è¡€è„‰ç§˜æœ¯ï¼ŒåŸæœ¬è¿™äº›æ¡åœ¨å„å›½å‹‹è´µæ‰‹ä¸­çš„å®è—ï¼Œå´åœ¨è¿™é‡Œè¢«ä¼ æˆç»™æ¥è‡ªä¸åŒèƒŒæ™¯çš„å­©ç«¥ã€‚</p><p>ã€€ã€€ä¸‰å›½çš„æŒæƒè€…å¯¹æ­¤åœ°è™è§†çœˆçœˆï¼Œå´åˆå› ä¸ºå‰å®³å…³ç³»ç›¸äº’åˆ¶è‚˜ï¼Œæ²¡æœ‰è°æ„¿æ„ç‡å…ˆæ‰“ç ´è¿™ä¸ªå¾®å¦™çš„å¹³è¡¡ã€‚ä¸€åŒæ— å½¢çš„æ‰‹æ‚„æ‚„è—äºè¿™åº§å­¦åºœçš„èƒŒåï¼Œèƒ½æ‰˜ä¹‹ï¼Œäº¦èƒ½è¦†ä¹‹ã€‚</p><p>ã€€ã€€åˆšæ¥æ­¤åœ°çš„ç™½æ©–å¹¶ä¸å…³å¿ƒè¿™é‡Œæœ‰è°ï¼Œä¹Ÿä¸å…³å¿ƒä¸ºä»€ä¹ˆéšå¤„å¯è§å¥‡è£…å¼‚æœçš„ç”·å¥³è€å°‘ã€‚å¸ˆçˆ¶ä»–è€äººå®¶åœ¨ä»–ä¸‹å±±å‰ï¼Œè‹¦å£å©†å¿ƒçš„åŠåˆ°ï¼šâ€œæ©–å„¿ï¼Œæ­¤æ¬¡ä¸‹å±±ï¼Œä¸ºå¸ˆå¸Œæœ›ä½ èƒ½å¤šäº¤äº›æœ‹å‹å›æ¥ã€‚å½“ç„¶ï¼Œæ²¹å˜´æ»‘èˆŒçš„å®¶ä¼™é™¤å¤–ï¼â€ç™½æ©–ç‚¹ç‚¹å¤´ï¼Œè®°ä¸‹äº†å¸ˆçˆ¶çš„è¯ã€‚</p><p>ã€€ã€€è‹æ™¯æ­£å¸¦ç€ä¸€ä¸ªèƒ–èƒ–çš„å°å’Œå°šè¿˜æœ‰ä¸€ä¸ªè™å¤´è™è„‘çš„å¥³å¨ƒå¨ƒå‡†å¤‡å»åºœå¤–æ–—è›è›å„¿ï¼Œå°±çœ‹è§åºœé—¨å£ä¸€ä¸ªç²‰é›•ç‰ç¢çš„å°ç”·å­©å„¿èƒŒç€å°æ‰‹ï¼Œé»˜é»˜å‡è§†ç€åºœä¸Šçš„â€œé¼æ³°â€äºŒå­—ã€‚</p><p>ã€€ã€€è‹æ™¯ä»¥ä¸ºä»–ä¸è¯†å­—å„¿ï¼Œå°±çƒ­å¿ƒè‚ çš„è·‘è¿‡å»ï¼Œå¤§å£°çš„å†²å°ç”·å­©å„¿è¯´ï¼šâ€œè¿™ä¸¤ä¸ªå­—å¿µâ€˜é¼æ³°â€™ï¼Œä¸€è¨€ä¹é¼çš„é¼ï¼Œå¦ææ³°æ¥çš„æ³°ã€‚â€è¯´å®Œï¼Œè¿˜ä¸å¿˜æœä»–çœ¨äº†çœ¨çœ¼ç›ã€‚è‹æ™¯ä»¥ä¸ºå°ç”·å­©å„¿ä¼šå¯¹ä»–æŠ•æ¥å´‡æ‹œçš„çœ¼ç¥ï¼Œæ²¡æˆæƒ³ï¼Œå°ç”·å­©å„¿çœ‹éƒ½æ²¡çœ‹ä»–ä¸€çœ¼ï¼Œåªæ˜¯å¾®å¾®åå‡ºä¸¤ä¸ªå­—ï¼šâ€œå‚»å­ã€‚â€</p><p>ã€€ã€€è‹æ™¯ä¹Ÿä¸ç”Ÿæ°”ï¼Œä»–ä¸€è„¸å¥½å¥‡çš„é—®å°ç”·å­©å„¿ï¼šâ€œä½ å«ä»€ä¹ˆåå­—ã€‚â€ç”·å­©å„¿ä¸åšå£°ã€‚è‹æ™¯åˆé—®ï¼šâ€œä½ å®¶åœ¨å“ªï¼Ÿâ€ç”·å­©æ²‰é»˜ä¸è¯­ã€‚è‹æ™¯ä¸å±ˆä¸æŒ ï¼šâ€œä½ è¦ä¸è¦å’Œæˆ‘ä»¬ä¸€èµ·æ–—è›è›ï¼Ÿâ€è¯éŸ³åˆšè½ï¼Œç”·å­©å„¿å¤´ä¹Ÿä¸å›çš„èµ°è¿›å­¦åºœï¼Œç•™ç»™è‹æ™¯ä¸€ä¸ªå†·æ¼ çš„èƒŒå½±ã€‚</p><p>ã€€ã€€å°å’Œå°šè´¼å…®å…®åœ°å‡‘è¿‡æ¥ï¼Œè¯´ï¼šâ€œä¾å°åƒ§çœ‹ï¼Œä»–å®šæ˜¯å«Œä½ è¯å¤šã€‚â€è™å¦å„¿çç€å¤§çœ¼ç›ï¼Œæœ›ç€å°ç”·å­©å„¿ç¦»å¼€çš„èƒŒå½±è¯´ï¼šâ€œä»–ç”Ÿçš„å¯çœŸå¥½çœ‹ã€‚â€è‹æ™¯ç°æºœæºœçš„æ‘¸äº†æ‘¸é¼»å­ï¼Œè¯´ï¼šâ€œå¯ä¸æ˜¯ã€‚â€ä¹Ÿä¸çŸ¥é“æ˜¯åœ¨å›å¤è°çš„è¯ã€‚</p><p>ã€€ã€€ç¬¬äºŒæ—¥æ¸…æ™¨ï¼Œå­¦åºœçš„å­¦ç”Ÿä»¬ååœ¨é˜å†…ï¼Œç­‰ç€å…ˆç”Ÿæ¥ä¸Šè¯¾ã€‚è¿˜æœªåˆ°æ—¶è¾°ï¼Œåº•ä¸‹å½å½å–³å–³çš„ä¹±æˆä¸€ç‰‡ã€‚ä¸ä¸€ä¼šå„¿ä¸€ä½é¡»å‘çš†ç™½ï¼Œç²¾ç¥çŸé“„çš„è€è€…å¸¦ç€ä¸€ä½èº«ç©¿æ°´äº‘è¢çš„å°ç”·å­©å„¿èµ°åˆ°å°å‰ï¼Œæ¸…äº†æ¸…å—“å­è¯´ï¼š</p><p>ã€€ã€€â€œä»Šæ—¥å­¦åºœä¸­æ¥äº†ä½æ–°é—¨ç”Ÿã€‚æ¥è·Ÿå¤§å®¶åšä¸€ä¸‹è‡ªæˆ‘ä»‹ç»ã€‚â€è¯´å®Œï¼Œè€è€…ç¤ºæ„å°ç”·å­©å„¿ä¸Šå°ã€‚å°ç”·å­©å„¿ç•¥å¾®æœ‰äº›æ‹˜è°¨çš„èµ°åˆ°å°å‰ï¼Œä¸€è„¸ä¸¥è‚ƒçš„è¯´ï¼šâ€œæˆ‘å«ç™½æ©–ï¼Œå¸ˆä»å‡šç‰å±±å¯’ä¸¹å°Šè€…ã€‚â€è¯´å®Œï¼Œåˆå¾„ç›´é€€åˆ°ä¸€æ—ã€‚</p><p>ã€€ã€€è‹æ™¯åœ¨ç™½æ©–è¿›å…¥é˜ä¸­çš„é‚£ä¸€åˆ»èµ·ï¼Œå°±ä¸€ç›´æ‚„æ‚„æ³¨è§†ç€ä»–ã€‚ä»–çš„è¡£æœä¸Šç»£ç€ç²¾è‡´çš„ç‰é¸Ÿå›¾æ¡ˆï¼Œæ˜æ˜å¹´çºªå’Œä»–ä¸€èˆ¬å¤§ï¼Œå´æ€»æ˜¯åƒä¸ªå°å¤§äººä¼¼çš„ä¸€ç›´çš±ç€çœ‰å¤´ã€‚è‹æ™¯è§‰å¾—ï¼Œä»–è¦æ˜¯ç¬‘èµ·æ¥ï¼Œä¸€å®šæ¯”è™å¦å„¿è¿˜æ¼‚äº®ã€‚</p><p>ã€€ã€€ä»–å¬åˆ°ç™½æ©–çš„åå­—æ—¶ï¼Œæ»¡è„‘å­æƒ³çš„éƒ½æ˜¯ç³–éœœï¼Œç³–äººï¼Œç³–ç”»â€¦è™å¦å„¿éœ²ç€ä¸¤é¢—å°è™ç‰™ï¼Œæ†¨æ€å¯æ¬çš„æœ›ç€ç™½æ©–â€¦æµå£æ°´ã€‚æ—è¾¹çš„å°å’Œå°šçœ‹åˆ°è‹æ™¯åœ¨ç™½æ©–ä»‹ç»å®Œåè«åå…¶å¦™çš„å‚»ç¬‘èµ·æ¥ï¼Œåˆçœ‹åˆ°è™å¦å„¿å‘å‘†çš„æ ·å­ï¼Œæ‘‡äº†æ‘‡å¤´ï¼Œæ»äº†æ»æ‰‹é‡Œçš„ç å­ï¼Œä½å¤´å¿µäº†å¥ï¼šâ€œé˜¿å¼¥é™€ä½›ã€‚â€</p><p>ã€€ã€€çªç„¶ï¼Œé˜å†…ä¼ æ¥ä¸€å£°å†·å“¼ï¼Œæ¥ç€ä¾¿å¬åˆ°æœ‰äººè®¥è®½åˆ°ï¼šâ€œæˆ‘å½“æ˜¯è°ï¼ŒåŸæ¥æ˜¯å¯’ä¸¹å°Šè€…çš„çˆ±å¾’ï¼Œå¤§èµ¢ç™½å®¶çš„å°‘ä¸»å•Šã€‚â€é˜ä¸­å…¶ä»–äººå…ˆæ˜¯ä¸€æ„£ï¼Œåœ¨å¬åˆ°ç™½å®¶å°‘ä¸»å‡ ä¸ªå­—åï¼Œé¢è‰²çš†å¤æ€ªäº†èµ·æ¥ã€‚</p><p>ã€€ã€€å¤§èµ¢ç™½å®¶ï¼Œæ•°å¹´å‰å› ä¸ºâ€œå–å›½æ±‚è£â€çš„ç½ªåï¼Œå®¶ä¸»è¢«ä¸‹åˆ°æ˜­ç‹±ã€‚â€œç™½å®¶å­æ€ä¹ˆè¿˜æ•¢æœ‰è„¸ä¸Šè¿™é‡Œæ¥ä¸¢äººç°çœ¼äº†ï¼Ÿâ€åˆæ˜¯ä¸€é“ä¸å±‘çš„å£°éŸ³ä»é˜ä¸­å“èµ·ã€‚ç™½æ©–ä¼¼æ˜¯æ²¡å¬åˆ°é‚£äº›ä¸ªå˜²è®½ï¼Œè¡£æœçš„ä¸€è§’å´è¢«å°æ‰‹è½»è½»çš„æŠ“èµ·ï¼Œç©ºæ°”ä¸­æœ‰å¯’éœœæ‚„ç„¶å‡ç»“ã€‚</p><p>ã€€ã€€é˜ä¸­éœæ—¶é—´é™çš„å‡ºå¥‡ã€‚çªç„¶ï¼Œâ€œæˆ‘å«è‹æ™¯ï¼ŒåŒä½ ä¸€èˆ¬å¤§ï¼Œæ¥è‡ªè¥¿èœ€è‹å®¶ã€‚â€è‹æ™¯çªç„¶ç«™èµ·èº«ï¼Œæœç™½æ©–éœ²å‡ºäº†ä¸€ä¸ªç›ç„¶çš„ç¬‘æ„ã€‚â€œå’±ä»¬è¿™ä¸è®ºå‡ºèº«ï¼Œåªæ¯”æ‹³å¤´ã€‚è°æ‹³å¤´æ›´ç¡¬ï¼Œè°å°±æ˜¯è€å¤§ã€‚â€</p><p>ã€€ã€€è‹æ™¯æœ‰æ„æ— æ„çš„æœé˜ä¸­çš„æŸä¸€ä¸ªè§’è½çœ‹å»ï¼Œåˆæœç™½æ©–æ‹›äº†æ‹›æ‰‹ï¼Œè¯´ï¼šâ€œæ¥æˆ‘è¿™å„¿åï¼æˆ‘è¿™è¾¹é çª—ï¼Œå‡‰å¿«ï¼â€ç™½æ©–æ·¡æ·¡åœ°æœè‹æ™¯æœ›äº†ä¸€çœ¼ï¼Œåœ¨å¿ƒé‡Œåäº†ä¸¤ä¸ªå­—ï¼šâ€œå‚»å­ã€‚â€ä»–ç¯è§†äº†é˜ä¸­ä¸€åœˆï¼Œä¼¼ä¹åªæœ‰è‹æ™¯æ—è¾¹çœ‹ç€ç¨å¾®æœ‰äº›é¡ºçœ¼ï¼Œä¾¿å¾„ç›´æœä»–é‚£èµ°å»ã€‚</p><p>ã€€ã€€è‹æ™¯èµ¶ç´§å°†æ—è¾¹ä½ç½®ä¸Šç”»çš„æœ¨æ§¿å›¾æ”¶æ‹¾äº†å¹²å‡€ã€‚ç™½æ©–æ²¡æœ‰çœ‹è‹æ™¯ï¼Œè‡ªé¡¾è‡ªçš„è¶Šè¿‡è‹æ™¯ååœ¨çª—æˆ·æ—è¾¹ã€‚ä»–å°†æ¤…å­å¾€çª—è¾¹åˆæŒªäº†æŒªï¼Œå¼€å§‹é—­ç›®å…»ç¥ã€‚è‹æ™¯æŠŠæ¤…å­ä¹Ÿå¾€ç™½æ©–é‚£æŒªäº†æŒªï¼Œçœ‹ä¼¼æœ‰æ¨¡æœ‰æ ·åœ°æœ›ç€å…ˆç”Ÿï¼Œçœ¼ç›å´ä¸ä½å¾€çª—è¾¹çŸã€‚</p><p>ã€€ã€€ç™½æ©–çœ¼çœ¸å¾®é—­ï¼Œç¥è¯†å´æ³›ç€å†°è“çš„æŸ”å…‰ã€‚ä»–æƒ³èµ·å¸ˆçˆ¶ä¸´è¡Œå‰å‘Šè¯«ä»–çš„è¯ï¼Œç•¥å¾®æ€ç´¢ç€ï¼Œæƒ³å¿…è‹æ™¯å°±æ˜¯å¸ˆçˆ¶å£ä¸­é‚£ç§æ²¹å˜´æ»‘èˆŒçš„å®¶ä¼™å§ã€‚</p><p>ã€€ã€€çª—å¤–ï¼Œæ™¨æ›¦ä¸œå‡ï¼Œä¸‡ç‰©å°½è‹ã€‚æ˜¨å¤œé’å¥³å¸¦æ¥çš„å‡éœœå’Œå¯’æ„åœ¨æ­¤æ—¶æ‚„ç„¶åŒ–æˆäº†æ°´æ±½å„¿ã€‚  </p>]]></content>
    
    
    <categories>
      
      <category>å†™ä½œ Ê•â—‰á´¥â—‰Ê”</category>
      
      <category>ã€Šå—å† æ¬²çƒ‚æŸ¯ã€‹</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å†™ä½œ</tag>
      
      <tag>å—å† </tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç¬¬å››ç«  Â· æ€»è§’å­å¤ç¨€ğŸ§¡</title>
    <link href="/2023/11/15/%E5%86%99%E4%BD%9C/%E5%8D%97%E5%86%A0%E6%AC%B2%E7%83%82%E6%9F%AF/%E5%8D%97%E5%86%A0-%E7%AC%AC%E5%9B%9B%E7%AB%A0/"/>
    <url>/2023/11/15/%E5%86%99%E4%BD%9C/%E5%8D%97%E5%86%A0%E6%AC%B2%E7%83%82%E6%9F%AF/%E5%8D%97%E5%86%A0-%E7%AC%AC%E5%9B%9B%E7%AB%A0/</url>
    
    <content type="html"><![CDATA[<h1 id="æ€»è§’å­å¤ç¨€"><a href="#æ€»è§’å­å¤ç¨€" class="headerlink" title="æ€»è§’å­å¤ç¨€"></a>æ€»è§’å­å¤ç¨€</h1><p>  ã€€ã€€è‹æ™¯å’Œè‹é‡ä¸¤ä¸ªäººåœ¨ç‹çˆ·çˆ·å®¶é—¨å£ç­‰äº†ä¸€ä¼šå„¿ï¼Œæœˆå…‰æ¸©æŸ”çš„å°†ä¸¤ä¸ªäººçš„å½±å­æ‹‰çš„çº¤é•¿ã€‚è‹æ™¯å¾€å‰æŒªäº†æŒªæ­¥å­ï¼Œè®©ä»–çš„å½±å­æ‚„æ‚„ç›–è¿‡äº†è‹é‡çš„å¤´é¡¶ã€‚ä»–åˆä¼¸å‡ºæ‰‹å¾€å·¦è¾¹æ‹äº†æ‹ï¼Œè‹é‡å°±çœ‹ç€è‹æ™¯å½±å­é‡Œçš„æ‰‹æ‹ä¸Šäº†è‡ªå·±å½±å­çš„è„‘è¢‹ã€‚</p><p>ã€€ã€€è‹æ™¯è‡ªé¡¾è‡ªåœ°åœ¨æ—è¾¹å‚»ç¬‘ç€ï¼Œæ²¡è¿‡ä¸€ä¼šå„¿å°±å¬åˆ°å±‹é‡Œä¼ æ¥ä¸€ä¸ªä¸­æ°”åè¶³çš„å£°éŸ³ï¼šâ€œèµ°äº†å°å…”å´½å­ä»¬ï¼â€æœªè§å…¶äººå…ˆé—»å…¶å£°ã€‚çœ¨çœ¼é—´çš„åŠŸå¤«ï¼Œä¸€ä½é¹¤å‘ç«¥é¢œçš„è€è€…å°±è¿ˆç€å¤§æ­¥èµ°äº†å‡ºæ¥ã€‚</p><p>ã€€ã€€è¿™ä½è€è€…å…ˆæ˜¯ç›¯ç€è‹é‡çœ‹äº†ä¸€çœ‹ï¼Œç„¶åéšæ‰‹å–ä¸‹è…°é—´æŒ‚ç€çš„ä¸€ä¸ªå°è‘«èŠ¦ç“¶ï¼Œæ‰”ç»™è‹é‡è¯´ï¼šâ€œä½ å°å­ä»Šæ—¥ç›®è¦å‰ç…ï¼Œå‘¨èº«è¡€æ°”æµ®åŠ¨ï¼Œæˆ‘è¿™ç“¶å­é‡Œæœ‰ä¸‰åå…­é¢—æ¸…å¿ƒä¸¸ï¼Œä½ æ¯æ—¥å¯æ—¶æœä¸‹ä¸€é¢—ï¼Œè¶³æœˆæ–¹å¯é™¤ç…ã€‚â€</p><p>ã€€ã€€è‹é‡æ¥è¿‡è‘«èŠ¦ç“¶å­ï¼Œå¾®å¾®ç‚¹äº†ç‚¹å¤´ã€‚è€è€…åˆæœ›å‘è‹æ™¯ï¼Œå‘ç°è‹æ™¯æ­£ç•¥å¸¦æœŸå¾…çš„çœ‹ç€ä»–ï¼Œä¾¿ä»è¯ç›’é‡Œå–å‡ºä¸¤é¢—ä¸¹è¯ï¼Œç¥è‰²ä¸¥è‚ƒåœ°è¯´ï¼šâ€œå°å°å¹´çºªå°±ä¸å¥½ç”Ÿå…»èƒƒï¼æ•´æ—¥åƒè¾›è¾£å–çƒˆé…’ï¼Œèƒƒæ—©æ™šç»™ä½ æŠ˜è…¾åäº†ï¼å›å»ä»¥åï¼Œå°†è¿™æšå…»èƒƒä¸¹ç”¨æ¸©æ°´åŒ–å¼€ï¼Œæ—©æ™šå„æœä¸€æ¬¡ï¼Œä¸è®¸å†å–é…’äº†ï¼â€</p><p>ã€€ã€€è‹æ™¯è¿å¿™ç‚¹äº†ç‚¹å¤´ï¼Œå˜´é‡Œä¸€è¾¹è¯´ç€ï¼šâ€œè°¢è°¢ç‹çˆ·çˆ·ï¼æˆ‘ä¿è¯æ»´é…’ä¸æ²¾ï¼â€ä¸€è¾¹å†²è‹é‡ä½¿äº†ä¸ªçœ¼è‰²ã€‚è‹é‡å¿ƒé¢†ç¥ä¼šï¼Œå°†æ‹ç€é…’ç½å­çš„æ‰‹å¾€èº«åèƒŒäº†èƒŒã€‚ç‹çˆ·çˆ·è¿™æ‰æ»¡æ„çš„è¯´ï¼›â€œèµ°å§ï¼Œå»ç§ç§ä½ ä»¬å¥¶å¥¶çš„ç—…ã€‚â€</p><p>ã€€ã€€è‹é‡è·Ÿåœ¨è‹æ™¯èº«åä¸‰ä¸ªæ­¥å­çš„è·ç¦»ï¼Œçœ‹ç€è‹æ™¯åƒåªå°éº»é›€ä¼¼çš„å’Œç‹çˆ·çˆ·å” ç€å—‘ã€‚ç»è¿‡å››äº”ä¸ªæ‹è§’ï¼Œåˆè¾—è½¬äº†å‡ æ¡é‡è·¯ï¼Œä¸€ä¸ªç¿ ç«¹ç¯ç»•çš„çš„ç«¹æ¥¼å‡ºç°åœ¨ä¸‰ä¸ªäººçš„çœ¼å‰ã€‚</p><p>ã€€ã€€è‹é‡å¿«æ­¥ä¸Šå‰å»æŠŠé—¨æ‰“å¼€ï¼Œç‚¹ç‡ƒèµ·å…å ‚çš„èœ¡çƒ›ï¼Œç„¶åé¢†ç€ç‹çˆ·çˆ·è¿›åˆ°å±‹å­é‡Œã€‚è‹æ™¯ä¸‰æ­¥ä½œä¸¤æ­¥åœ°è·‘è¿›æ¥ï¼Œå¤§å–Šç€ï¼šâ€œå¥¶å¥¶ï¼Œæˆ‘ä»¬å›æ¥äº†ï¼æˆ‘ä»¬è¿˜æŠŠç‹çˆ·çˆ·è¯·æ¥äº†ï¼â€</p><p>ã€€ã€€é‡Œå±‹ä¼ æ¥ä¸€ä¸ªæ…ˆè”¼çš„è€å¦‡äººçš„å£°éŸ³ï¼Œç•¥å¸¦ç¬‘æ„çš„å›åº”ç€ï¼šâ€œå›æ¥å°±å¥½ï¼Œå›æ¥å°±å¥½ï¼Œå¿«è¿›æ¥åã€‚â€è‹æ™¯å’Œè‹é‡ä¾¿å¸¦ç€ç‹çˆ·çˆ·å¾€é‡Œå±‹èµ°ã€‚åˆšè¿›é—¨ï¼Œè‹æ™¯å°±çœ‹åˆ°å¥¶å¥¶å‡†å¤‡èµ·èº«ã€‚ä»–èµ¶ç´§è·‘è¿‡å»å°†å¥¶å¥¶æ‰¶èµ·æ¥ï¼Œè‹é‡ä¹Ÿä»èƒŒåé€’æ¥ä¸€ä¸ªæ•å¤´æ”¾åœ¨å¥¶å¥¶çš„è…°åã€‚</p><p>ã€€ã€€å¥¶å¥¶å…ˆæ˜¯å†²ç€è‹é‡å’Œè‹æ™¯ç¬‘äº†ç¬‘ï¼Œç„¶åè½¬å¤´å¯¹ç‹çˆ·çˆ·ç•¥å¸¦æ­‰æ„åœ°è¯´ï¼šâ€œç‹è§‹åŒ»ï¼Œåˆè¦éº»çƒ¦ä½ äº†ã€‚â€ç‹çˆ·çˆ·æ‘†äº†æ‘†æ‰‹ï¼Œè½»è½»æ»äº†æ»è‡ªå·±çš„å±±ç¾Šèƒ¡å­ï¼Œè¯´ï¼šâ€œä¸éº»çƒ¦ã€‚ä¸¤ä¸ªå°å…”å´½å­ï¼Œåœ¨å¤–é¢ä¾¯ç€å»ï¼â€</p><p>ã€€ã€€è‹æ™¯ä¹–å·§çš„çœ¨äº†çœ¨çœ¼ç›ï¼Œå¯¹å¥¶å¥¶è¯´ï¼šâ€œå¥¶å¥¶ï¼Œæˆ‘å’Œè‹é‡ä»Šæ—¥ç»™æ‚¨æŠ“äº†æ¡å¤§é±¼ï¼æˆ‘ä»¬ç°åœ¨å»åšç»™æ‚¨åƒï¼â€å¥¶å¥¶å® æººåœ°å¯¹è‹æ™¯ç‚¹äº†ç‚¹å¤´ï¼Œåˆå¯¹è‹é‡è¯´ï¼šâ€œçœ‹ç€ä»–ç‚¹ï¼Œåˆ«è®©ä»–æŠŠå¨æˆ¿æ€äº†ã€‚â€è‹é‡æµ…ç¬‘ç€åº”äº†å¥½ï¼Œå°±æ‹‰ç€è‹æ™¯å‡ºå»äº†ã€‚</p><p>ã€€ã€€ä¸¤ä¸ªäººä¸€èµ·æ¥åˆ°å¨æˆ¿ï¼Œç­‰è‹é‡å°†å¨æˆ¿é‡Œçš„ç«çƒ›äº®èµ·çš„æ—¶å€™ï¼Œå°±è§åˆ°è‹æ™¯åœ¨é—¨è¾¹å¾˜å¾Šç€ã€‚è‹é‡çŸ¥é“è‹æ™¯åœ¨æƒ³ä»€ä¹ˆï¼Œä¾¿å¯¹ä»–è¯´ï¼šâ€œä½ å»æŠŠé…’å’Œç‰›ä¹³æ¸©ç€ï¼Œå…¶ä»–çš„äº‹æƒ…æˆ‘æ¥ã€‚â€è¯´ç½¢ä¾¿å°†ç«¹ç¯“é‡Œçš„å½©é³é²­æ‹¿äº†å‡ºæ¥ã€‚</p><p>ã€€ã€€è‹æ™¯èµ¶ç´§åº”äº†è‹é‡çš„è¯ï¼Œç„¶åè·‘å‡ºå»æ¸©ä¸œè¥¿äº†ã€‚è‹é‡çŸ¥é“è‹æ™¯çš„ç¥è¯†æœ‰å…±æƒ…ä¸‡ç‰©çš„èƒ½åŠ›ï¼Œè™½ç„¶å½©é³é²­çµæ™ºå¾®ä¹å…¶å¾®ï¼Œå¯æ˜¯è‹æ™¯ä»ç„¶å¯ä»¥æ„Ÿå—åˆ°å®ƒçš„ç—›è‹¦ã€‚æ‰€ä»¥ä¸€èˆ¬æ€ç”Ÿçš„äº‹æƒ…éƒ½æ˜¯ä»–æ¥åšã€‚</p><p>ã€€ã€€è‹é‡æƒ³åˆ°æœ‰ä¸€æ¬¡ä»–å’Œè‹æ™¯ä¸Šå±±é‡‡çµè¯ï¼Œè·¯è¿‡ä¸€ç‰‡çŒæœ¨ä¸›æ—¶ä»–ä¸å°å¿ƒè¸©æ­»äº†ä¸€åªæœ¨æ –è™«ï¼Œèº«åçš„è‹æ™¯å‡ ä¸å¯é—»çš„å‘å‡ºäº†ä¸€å£°é—·å“¼ã€‚å°½ç®¡è‹æ™¯è¿ç¥æƒ…éƒ½æ²¡æœ‰å˜åŒ–ï¼Œä½†æ˜¯è‹é‡è¿˜æ˜¯æ•é”çš„æ•æ‰åˆ°äº†è‹æ™¯çš„æ„Ÿå—ã€‚</p><p>ã€€ã€€è‹é‡å¨´ç†Ÿçš„å°†å½©é³é²­å¤„ç†å¥½ï¼Œç„¶åä¸‹é”…ç…®æ²¸ã€‚è‹é‡å…¶å®ä¸å–œæ¬¢åƒé±¼ï¼Œä»–åƒæƒ¯äº†ç‰›ç¾Šè‚‰è¿™ç§ç²—è‚‰ï¼Œé±¼è¿™ç§ç»†è‚‰ä»–åƒçš„ä¸è‡ªåœ¨ã€‚è‹æ™¯ä¹Ÿä¸å–œæ¬¢åƒé±¼ï¼Œä»–ç”Ÿæ€§å¥½åŠ¨ï¼Œåƒé±¼å¯¹ä»–æ¥è¯´å¤ªéº»çƒ¦äº†ï¼Œå¥½å‡ æ¬¡é™©äº›è¢«å¡ä½ã€‚</p><p>ã€€ã€€ä½†æ˜¯å¥¶å¥¶å–œæ¬¢åƒé±¼ï¼Œæ‰€ä»¥æ¯éš”ä¸€æ®µæ—¶é—´ä¸¤äººå°±ä¼šæ‰ä¸€æ¡é±¼å›æ¥åšç»™å¥¶å¥¶åƒã€‚æ‰€ä»¥è‹é‡åœ¨åšé±¼è¿™å—ä¹Ÿæ˜¯ç›¸å½“ç†Ÿç»ƒçš„ã€‚ç­‰é±¼åšå¥½äº†ï¼Œä»–åˆç»™è‹æ™¯ç‚’äº†ä¸¤ç›˜å°èœï¼Œç„¶åå‡†å¤‡å»å«è‹æ™¯ã€‚</p><p>ã€€ã€€è‹æ™¯åœ¨ç«¹æ¥¼å¤–å‡èµ·äº†ä¸€å †æŸ´ç«ï¼Œä»–å°å¿ƒç¿¼ç¿¼å°†è£…ç‰›ä¹³çš„ç½å­å›ºå®šå¥½ï¼Œç„¶åæ‹¿ç€ä¸ªè’²æ‰‡è½»è½»æ‰‡ç€ç«ã€‚æ™šé£é˜µé˜µï¼Œç«å…‰æ›³æ›³ï¼Œè‹æ™¯æ²¡æ¥ç”±çš„ç”Ÿå‡ºäº›å›°æ„ã€‚ä»–æ‰‡é£çš„æ‰‹è¶Šæ¥è¶Šä½ï¼Œé€Ÿåº¦è¶Šæ¥è¶Šç¼“ï¼Œåœ¨å¿«è¦åœä¸‹çš„æ—¶å€™ï¼Œå¬åˆ°æœ‰äººè½»å”¤äº†å£°â€œè‹æ™¯ã€‚â€</p><p>ã€€ã€€è‹æ™¯ååº”äº†ç‰‡åˆ»ï¼ŒçŒ›çš„æŠ¬èµ·å¤´ï¼Œæ‹¿æ‰‡å­çš„æ‰‹ä¸å°å¿ƒç¢°åˆ°äº†çƒ§çš„å‘çº¢çš„ç½å­ã€‚è‹æ™¯è¢«çƒ«çš„ä¸‹æ„è¯†ç¼©å›äº†æ‰‹ï¼Œå´å°†é‚£ç½å­æ™ƒè¡äº†èµ·æ¥ï¼Œæ´ç™½çš„ç‰›ä¹³éšç€æ™ƒåŠ¨æ´’äº†äº›è®¸ã€‚è‹æ™¯åˆæƒ³ä¼¸æ‰‹å»ç¨³ä½æ™ƒæ‚ æ‚ çš„ç½å­ï¼Œå´çœ‹åˆ°æœ‰åŒæ‰‹ä»èº«åä¼¸äº†è¿‡æ¥ï¼Œç¨³ç¨³çš„æ‹¿èµ·ç½å­æ”¾åœ¨äº†åœ°ä¸Šã€‚</p><p>ã€€ã€€è‹æ™¯è½¬å¤´ï¼Œçœ‹ç€è‹é‡é¢è‰²ä¸è™åœ°ç›¯ç€ä»–ã€‚ä»–æœ‰äº›ä¸å¥½æ„æ€åœ°æŒ äº†æŒ å¤´è¯´ï¼šâ€œå¯¹ä¸èµ·ï¼Œæˆ‘ä¸å°å¿ƒç¡ç€äº†ï¼Œç‰›ä¹³æ’’äº†ä¸€äº›â€¦â€è¯éŸ³åˆšè½ï¼Œè‹é‡å°±å°†è‹æ™¯çš„åŒæ‰‹æ¡ä½ï¼Œç„¶åä½å¤´åœ¨æ³›çº¢çš„åœ°æ–¹å¹äº†å¹ã€‚</p><p>ã€€ã€€è‹æ™¯åˆšæƒ³è¯´ä»–æ²¡ä»€ä¹ˆäº‹ï¼Œå°±å¬åˆ°è‹é‡æœ‰äº›é—·é—·çš„è´¨é—®ä»–ï¼šâ€œæ‰‹ä¸æƒ³è¦äº†æ˜¯ä¸æ˜¯ã€‚â€æ¥ç€æ²¡ç­‰ä»–å›ç­”åˆé—®é“ï¼šâ€œé…’å‘¢ï¼Ÿâ€è‹æ™¯æŒ‡äº†æŒ‡æ”¾åœ¨ç«å †åçš„é…’ç½å­è¯´ï¼šâ€œæ²¡äº‹ï¼Œæˆ‘å–å†·çš„å°±è¡Œã€‚å¥¶å¥¶é‚£åº”è¯¥å¼„çš„å·®ä¸å¤šäº†ï¼Œæˆ‘æŠŠé±¼ç»™é€è¿‡å»ã€‚â€</p><p>ã€€ã€€â€œèœæˆ‘å·²ç»é€è¿‡å»äº†ã€‚é…’æˆ‘ç»™ä½ æ¸©ï¼Œä¸ç€æ€¥ã€‚â€è‹é‡æ‹‰ä½æƒ³è¦èµ·èº«çš„è‹æ™¯ï¼Œç„¶åå»å°†é…’ç½å­æ¶åœ¨ç«å †ä¸Šæ”¾å¥½ï¼Œåˆæ–°æ·»äº†å‡ æ ¹æŸ´ç«ï¼Œæœ€åé»˜é»˜åå›è‹æ™¯èº«è¾¹ï¼Œæ²¡æœ‰è¯´è¯ã€‚</p><p>ã€€ã€€è‹æ™¯æœ‰äº›ä¸è‡ªåœ¨åœ°æ‹¨å¼„ç€æ‰‹è¾¹çš„æ‚è‰ã€‚ä¸€ç›èŒ¶çš„åŠŸå¤«åï¼Œè‹æ™¯çœ‹åˆ°ç‹çˆ·çˆ·èƒŒç€è¯ç®±å‡ºæ¥äº†ã€‚ä»–èµ¶å¿™èµ·èº«è¯¢é—®é“ï¼šâ€œçˆ·çˆ·ï¼Œå¥¶å¥¶çš„è…°æ€ä¹ˆæ ·äº†ã€‚â€è‹é‡ä¹Ÿç«™äº†èµ·æ¥ï¼Œæ‹äº†æ‹è‹æ™¯èƒŒä¸Šçš„ç°å°˜ã€‚</p><p>ã€€ã€€â€œè…°ç—›æš‚æ—¶æ˜¯ä¸ä¼šå‘ä½œäº†ï¼Œä½†å¥¹æ—©å¹´é—´ä»å±±å´–ä¸‹æ‘”ä¸‹æ¥æ‘”çš„å¤ªç‹ ï¼Œå¹´è½»çš„æ—¶å€™åˆæ²¡æœ‰å¥½å¥½æ²»ç–—ï¼Œå¯¼è‡´ç°åœ¨æˆäº†éšç–¾ã€‚æˆ‘è¿™æ®µæ—¶é—´å…ˆå°ä½äº†å¥¹çš„ç—›æ„Ÿï¼Œä¸è¿‡æƒ³è¦æ›´å¥½çš„ç¼“è§£å¥¹çš„è…°ä¼¤ï¼Œéœ€è¦åˆ°é•‡ä¸Šå»ä¹°äº›è¯æã€‚â€ç‹çˆ·çˆ·è§£é‡Šåˆ°ï¼Œç„¶åé€’äº†å¼ è¯å•ç»™è‹é‡ã€‚</p><p>ã€€ã€€è‹é‡å°†è¯å•æ”¶å¥½ï¼Œå¯¹è‹æ™¯è¯´ï¼šâ€œä½ å…ˆå›å»åƒé¥­ï¼Œæˆ‘å»é€é€çˆ·çˆ·ã€‚â€è¯éŸ³åˆšè½ï¼Œå°±çœ‹åˆ°ç‹çˆ·çˆ·è‡ªå·±è‡ªé¡¾è‡ªçš„å¾€å¤–èµ°ï¼Œå˜´é‡Œå¿µå¨ç€ï¼šâ€œè€å¤´å­æˆ‘å¥½å¾—å¾ˆï¼Œä¸ç”¨ä½ é€ï¼ä½ ä¿©éƒ½é¥¿åäº†å§ï¼Œèµ¶ç´§å»åƒé¥­ï¼å¿«å»å¿«å»ï¼â€</p><p>ã€€ã€€è‹é‡å’Œè‹æ™¯å¯¹è§†ä¸€çœ¼ï¼Œéƒ½çœ‹åˆ°äº†å¯¹æ–¹çœ¼é‡Œçš„ç¬‘æ„ã€‚ä»–ä¿©ä¸€äººæ‹¿èµ·ä¸€ä¸ªç½å­ï¼Œæœå±‹é‡Œèµ°å»ã€‚è¿›é—¨çš„æ—¶å€™çœ‹åˆ°å¥¶å¥¶æ­£å¥½ä»é‡Œå±‹èµ°å‡ºæ¥ï¼Œä»–ä¿©æ”¾ä¸‹ç½å­ï¼Œå°†å¥¶å¥¶æ‰¶åˆ°æ¡Œå­è¾¹ä¸Šåå¥½ã€‚</p><p>ã€€ã€€è‹é‡å»å¨æˆ¿é‡Œå‡†å¤‡æ‹¿ä¸¤å‰¯ç¢—ç­·ã€‚è‹æ™¯é—®å¥¶å¥¶ï¼šâ€œå¥¶å¥¶ï¼Œé±¼å¥½åƒå—ï¼Ÿâ€å¥¶å¥¶çœ¼ç›é‡Œæº¢æ»¡äº†ç¬‘å®¹ï¼Œå¥¹æ­¢ä¸ä½çš„å¤¸èµç€ï¼šâ€œå¥½åƒï¼å°é‡çš„æ‰‹è‰ºæ˜¯è¶Šæ¥è¶Šå¥½äº†ï¼å°†æ¥å¨¶çš„åª³å¦‡å„¿å®šæ˜¯ä¸ªæœ‰ç¦æ°”çš„ï¼â€</p><p>ã€€ã€€è‹é‡ä»å¨æˆ¿å‡ºæ¥çš„æ—¶å€™æ­£å¥½å¬åˆ°äº†å¥¶å¥¶çš„è¯ã€‚ä»–å…ˆæ˜¯é€’ç»™äº†è‹æ™¯ä¸€å‰¯ç¢—ç­·ï¼Œç„¶åæ— å¥ˆçš„è¯´åˆ°ï¼šâ€œå¥¶å¥¶ï¼Œæ‚¨å°±åˆ«æ‰“è¶£æˆ‘äº†ã€‚â€è¯´å®Œï¼Œçœ¼ç›æœ‰æ„æ— æ„åœ°çŸäº†è‹æ™¯ä¸€çœ¼ã€‚è‹æ™¯æ²¡æœ‰è¯´è¯ï¼Œåªæ˜¯æœ›ç€å¥¶å¥¶æµ…æµ…åœ°ç¬‘ã€‚</p><p>ã€€ã€€è‹é‡ç»™è‹æ™¯å€’äº†ç¢—æ¢…èŠ±é…’ï¼Œåˆç››äº†ä¸¤ç¢—ç‰›ä¹³ã€‚è‹æ™¯å–œæ¬¢å–é…’ï¼Œè¶Šçƒˆè¶Šå…´å¥‹ã€‚è‹é‡å´å–œæ¬¢ç‰›ä¹³ï¼Œè¶Šçº¯ç²¹è¶Šåˆå£ã€‚å¥¶å¥¶ç¬‘ç€æ¥è¿‡è‹é‡é€’çš„ç‰›ä¹³ï¼Œå¯¹ä»–ä¿©è¯´ï¼šâ€œä½ ä¿©éƒ½æ˜¯å¥½å­©å­ã€‚å½“åˆæˆ‘ä»å±±ä¸Šå°†ä½ ä»¬å¸¦å›æ¥ï¼Œä¸€æ™ƒçœ¼å°±æ˜¯äº”å¹´ã€‚â€</p><p>ã€€ã€€â€œä½ ä¿©å½“æ—¶è§ç€æˆ‘ï¼Œä¸€ä¸ªçœ¼ç›æ°´æ±ªæ±ªçš„ï¼Œä¸€ä¸ªåƒå¤´å°ç‹¼å´½å­ï¼Œå‡¶å¾—ç‹ ã€‚å½“æ—¶æˆ‘å°±åœ¨æƒ³ï¼Œæˆ‘çš„å­™å­è¦æ˜¯è¿˜æ´»ç€ï¼Œä¹Ÿå’Œä½ ä¿©ä¸€èˆ¬å¤§äº†å§ã€‚â€å¥¶å¥¶ç¬‘ç€è¯´åˆ°ï¼Œçœ¼é‡Œå´å™™ç€æ³ªã€‚</p><p>ã€€ã€€â€œæˆ‘çœ‹ç€ä½ ä¿©èº«ä¸Šå…¨éƒ½æ˜¯ä¼¤ï¼Œå¿ƒé‡Œå•Šå°±è·Ÿæªç€ä¼¼çš„ã€‚ä¸¤ä¸ªè¿™ä¹ˆå°çš„å¨ƒå¨ƒï¼Œåˆ°åº•æ˜¯åƒäº†å¤šå°‘è‹¦ã€‚â€å¥¶å¥¶ä¸€è¾¹è¯´ä¸€è¾¹æŠ¹ç€æ³ªï¼Œè‹é‡æ²¡è¯´è¯ï¼Œä»–é™é™åœ°çœ‹ç€è‹æ™¯æŠŠå¤´ä½çš„è¶Šæ¥è¶Šä¸‹ï¼Œçœ¼ç›æ²¡è¿›äº†é˜´å½±ã€‚</p><p>ã€€ã€€â€œæˆ‘è¯´å¸¦ä½ ä»¬å»æ²»ç—…ï¼Œå°é‡è¿˜ä¸æƒ…æ„¿ã€‚æœ€åè¿˜æ˜¯å°æ™¯æ‹–ç€æ‹½ç€ä½ èµ°æˆ‘æ‰æŠŠä½ ä¿©å¸¦åˆ°äº†ç‹è§‹åŒ»é‚£ã€‚â€â€œç‹è§‹åŒ»çœ‹è¿‡ä½ ä¿©çš„ä¼¤ï¼Œå·å·è·Ÿæˆ‘è¯´ï¼Œè¦ä¸æ˜¯è¿™ä¿©å­©å­å‘½å¤§ï¼Œå°±å‡­ä»–ä¿©èº«ä¸Šçš„ä¼¤ï¼Œä¸æ­»ä¹Ÿè¦æ²¡äº†åŠæ¡å‘½ã€‚é‚£æ—¶æˆ‘å°±ä¸‹å®šå†³å¿ƒï¼Œè¦è®©ä½ ä¿©åœ¨æˆ‘è¿™é‡Œä½ç€ï¼Œä½åˆ°æˆ‘è€äº†ï¼Œå“ªéƒ½å»ä¸äº†çš„æ—¶å€™ï¼Œå°±æ¢ä½ ä»¬æ¥ç…§é¡¾æˆ‘ã€‚â€</p><p>ã€€ã€€â€œä¸‰å¹´äº†ï¼Œæˆ‘æ—©å°±æŠŠä½ ä»¬å½“æˆäº†æˆ‘è‡ªå·±çš„å­©å­ã€‚æˆ‘ä¸çŸ¥é“ä½ ä»¬æœ‰æ²¡æœ‰æŠŠè¿™å½“æˆè‡ªå·±çš„å®¶ï¼Œä½†æ˜¯åªè¦å¥¶å¥¶æˆ‘è¿˜åœ¨è¿™é‡Œä¸€å¤©ï¼Œè¿™é‡Œå°±æ°¸è¿œæ˜¯ä½ ä»¬çš„å®¶ã€‚â€è¯´å®Œï¼Œå¥¶å¥¶ç¼“ç¼“èµ·èº«ï¼Œå…ˆæ‹äº†æ‹è‹é‡çš„æ‰‹ï¼Œåˆé¡ºäº†é¡ºè‹æ™¯çš„å¤´å‘ã€‚â€œæ—¶è¾°ä¸æ—©äº†ï¼Œæ—©ç‚¹å›æˆ¿æ­‡æ¯å§ã€‚â€</p><p>ã€€ã€€è‹é‡èµ·èº«å°†å¥¶å¥¶æ‰¶å›äº†æˆ¿é—´ã€‚å†æ¬¡å›åˆ°æ¡Œå‰çš„æ—¶å€™ï¼Œå‘ç°è‹æ™¯æ­£çº¢ç€çœ¼çœ¶ï¼Œç”¨ä¸€åŒæ¹¿æ¼‰æ¼‰çš„çœ¼ç›çœ‹ç€ä»–ã€‚è‹é‡èµ°åˆ°è‹æ™¯æ—è¾¹ï¼Œè¹²ä¸‹èº«å­ï¼ŒæŠ¬å¤´æäº†æè‹æ™¯çš„è„¸ï¼ŒæŸ”å£°è¯´ï¼šâ€œæˆ‘ä¼šä¸€ç›´é™ªç€ä½ çš„ã€‚â€</p><p>ã€€ã€€è‹æ™¯çœ‹ç€è‹é‡ï¼Œæ²¡æœ‰è¯´è¯ã€‚è‹é‡çŸ¥é“ä»–åˆšåˆšå¬äº†å¥¶å¥¶çš„é‚£ç•ªè¯ï¼Œå¿ƒé‡Œä¸€å®šé…¸æ¥šçš„å‰å®³ã€‚è‹é‡ä¹Ÿä¸å¥½å—ï¼Œé»˜é»˜åœ¨å¿ƒé‡Œç›˜ç®—ç€è¦æ€ä¹ˆå»é•‡ä¸Šç»™å¥¶å¥¶ä¹°è¯ã€‚ä»–ç«™èµ·èº«ï¼Œè®¡åˆ’ç€æ˜å¤©å°±å»æ·±å±±é‡Œæ‰¾äº›çç¨€çš„çµè¯ï¼Œå†æ‹¿åˆ°é•‡ä¸Šå»æ¢ã€‚</p><p>ã€€ã€€å°±åœ¨æ­¤æ—¶ï¼Œä¸€é“å¸¦ç€å“­è…”çš„å£°éŸ³è®¤çœŸåœ°å¯¹ä»–è¯´ï¼šâ€œæˆ‘ä¹Ÿä¼šä¸€ç›´é™ªç€ä½ çš„ã€‚â€è‹é‡å¿ƒä¸‹ä¸€æ€”ï¼Œç„¶åç›´å‹¾å‹¾åœ°æœ›ç€è‹æ™¯çš„çœ¼ç›ï¼Œèƒ¸å£å‘çƒ«ã€‚  </p>]]></content>
    
    
    <categories>
      
      <category>å†™ä½œ Ê•â—‰á´¥â—‰Ê”</category>
      
      <category>ã€Šå—å† æ¬²çƒ‚æŸ¯ã€‹</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å†™ä½œ</tag>
      
      <tag>å—å† </tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç¬¬ä¸‰ç«  Â· èŠ³é†´å…¥æš–é…¥ğŸ’›</title>
    <link href="/2023/11/15/%E5%86%99%E4%BD%9C/%E5%8D%97%E5%86%A0%E6%AC%B2%E7%83%82%E6%9F%AF/%E5%8D%97%E5%86%A0-%E7%AC%AC%E4%B8%89%E7%AB%A0/"/>
    <url>/2023/11/15/%E5%86%99%E4%BD%9C/%E5%8D%97%E5%86%A0%E6%AC%B2%E7%83%82%E6%9F%AF/%E5%8D%97%E5%86%A0-%E7%AC%AC%E4%B8%89%E7%AB%A0/</url>
    
    <content type="html"><![CDATA[<h1 id="èŠ³é†´å…¥æš–é…¥"><a href="#èŠ³é†´å…¥æš–é…¥" class="headerlink" title="èŠ³é†´å…¥æš–é…¥"></a>èŠ³é†´å…¥æš–é…¥</h1><p>  ã€€ã€€è‹é‡ç«™åœ¨ä¸€ç‰‡ä¹¾é˜”çš„ç«¹æ—å†…ï¼Œè¿™é‡Œç”Ÿé•¿ç€ä¸¤ç§æˆªç„¶ä¸åŒçš„ç«¹å­ï¼Œéª¨ç«¹å’Œç»µç«¹ã€‚éª¨ç«¹å¶ç¹è€ŒèŠ‚ç–ï¼Œè‰²è‹è€Œæ°”å‡›ã€‚æ£‰ç«¹çŒ—çŒ—ï¼Œå å¹²é¾™å›ï¼Œæ”’æ ¹å‡¤å³™ã€‚æ¯æ¬¡è‹é‡å¿ƒæƒ…ä¸å¥½çš„æ—¶å€™ï¼Œä¾¿ä¼šåˆ°è¿™é‡Œç äº›ç«¹å­å›å»åšäº›å°ç©æ„å„¿ã€‚</p><p>ã€€ã€€è¿™äº›å¹´è‹é‡ä¸€ç›´è¯•å›¾å¯»æ‰¾èƒ½å¤Ÿæ¸…é™¤ç–¤ç—•çš„è¯æã€‚å¯æ˜¯é™„è¿‘çš„æ‘åº„åªæœ‰å‡ ä½å¹´è¿ˆçš„è§‹åŒ»å’Œå·«å¦ªï¼Œæ²»ä¼¤å¯ä»¥ï¼Œå´æ²¡åŠæ³•è®©è‹æ™¯å½»åº•æ¢å¤ã€‚ä»–æƒ³èµ·è‹æ™¯è…¿ä¸Šæˆç‰‡çš„çƒ§ä¼¤ï¼Œè¿˜æœ‰æ‰‹è‡‚ä¸Šå¯†å¯†éº»éº»çš„åˆ€ç—•ï¼Œäº”å¹´å‰çš„è®°å¿†çº·æ²“è€Œè‡³ã€‚</p><p>ã€€ã€€ä»–è®°ä¸æ¸…é‚£æ˜¯ç™½å¤©è¿˜æ˜¯å¤œæ™šï¼Œä¹Ÿä¸è®°å¾—è‡ªå·±åœ¨é‚£é‡Œè¶´äº†å¤šä¹…ï¼Œä»–åªè®°å¾—å…¨èº«ä¸æ–­ä¼ æ¥çš„ç–¼ç—›ä¸€ç‚¹ç‚¹æ‘§æ¯ç€ä»–çš„æ„å¿—ï¼Œå†…å¿ƒæ·±å¤„æœ‰ä¸€ç‰‡æ·±æ¸Šè¯•å›¾å°†ä»–æ‹½å…¥æ— å°½çš„é»‘æš—ã€‚å¤æ—¥å¤©æ°”ç‡¥çš„ä¸è¡Œï¼Œå¯ä»–è¿˜æ˜¯è§‰å¾—å†·ï¼Œå†·çš„éª¨å¤´å‘é¢¤ã€‚</p><p>ã€€è‹é‡è§‰å¾—è‡ªå·±å¿«æ­»äº†ï¼Œä»–ä»å¤§ä¹¾åŒ—éƒ¨ä¸€è·¯é€ƒåˆ°äº†è¿™é‡Œï¼Œä»å°¸å±±è¡€æµ·é€ƒåˆ°äº†é’å±±ç¢§è°·ã€‚è¿™é‡Œåªæœ‰ä»–ä¸€ä¸ªäººï¼Œæºªæµæ¶“æ¶“çš„å£°éŸ³å¥½åƒç¦»ä»–è¶Šæ¥è¶Šè¿œã€‚æ¨¡æ¨¡ç³Šç³Šä¸­ä»–ä¼¼ä¹å¬åˆ°äº†ç†Ÿæ‚‰çš„å£°éŸ³åœ¨å”¤ä»–ï¼šâ€œå°é‡â€¦å°é‡â€¦â€</p><p>ã€€ã€€çªç„¶ï¼Œä¸€è‚¡å¤œäº¤è—¤çš„æ¸…é¦™é’»å…¥ä»–çš„é¼»ç¿¼ï¼Œè€³ç•”è¾¹ä¹Ÿä¼ æ¥ä¸€ä¸²ä¸²é£é“ƒä¼¼çš„ä½åŸå£°ã€‚è‹é‡çš„ç¥è¯†ç¨å¾®æ¸…é†’äº†å‡ åˆ†ï¼Œæ„Ÿè§‰è‡ªå·±ä»¿ä½›ç½®èº«äºæ¸©æ³‰æš–æ± å½“ä¸­ã€‚â€œæ˜¯è°åœ¨éº»ç—¹è‡ªå·±çš„äº”æ„Ÿï¼Ÿâ€è‹é‡å¿ƒé“ï¼Œå¯æ˜¯ä»–æ²¡æœ‰å¤šä½™çš„åŠ›æ°”å»æ¢ä¸ªç©¶ç«Ÿï¼Œåªèƒ½ä»»å‡­æ¥äººæ‘†å¼„ã€‚</p><p>ã€€ã€€åˆè¿‡äº†ä¸€ä¼šå„¿ï¼Œå½“è‹é‡å†æ¬¡æ„Ÿå—åˆ°ç¡æ„å¦‚æ½®æ°´èˆ¬æ¶Œæ¥æ—¶ï¼Œä¸€æ ¹å¾®å‡‰çš„æ‰‹æŒ‡è¦†ä¸Šäº†ä»–çš„å”‡ç“£ã€‚ä»–è¿˜æœªæ¥å¾—åŠç¢ç£¨å”‡ä¸Šçš„å‡‰æ„ï¼Œå°±å‘ç°è¿™æ ¹æ‰‹æŒ‡è¯•å›¾æ’¬å¼€ä»–çš„å˜´ã€‚è‹é‡å¿ƒä¸­æœ‰äº›å¥½ç¬‘ï¼Œç¬¬ä¸€æ¬¡æœ‰äººä¸»åŠ¨æŠŠæ‰‹ä¼¸è¿›ç‹¼å˜´é‡Œï¼Œä¸æ€•ä»–ä¸€å£ç»™å’¬æ–­å—ã€‚</p><p>ã€€ã€€è‹é‡èµ·äº†é€—å¼„çš„å¿ƒæ€ï¼Œä»»å‡­é‚£æ ¹æ‰‹æŒ‡å¦‚ä½•ä½¿åŠ²å„¿ï¼Œè‹é‡éƒ½ç´§æŠ¿ç€å”‡ç“£ã€‚æ­£å½“ä»–ä»¥ä¸ºé‚£äººæ²¡æ‹›çš„æ—¶å€™ï¼Œè€³è¾¹å¿½çš„ä¼ æ¥ä¸€é˜µæ¸©çƒ­ï¼Œè¿˜æ²¡ååº”è¿‡æ¥è¯ä¸­çš„å«ä¹‰ï¼Œè…¹éƒ¨ä¾¿è¢«è½»é£˜é£˜çš„æ‰“äº†ä¸€æ‹³ã€‚</p><p>ã€€ã€€è‹é‡æ˜ç™½è¿‡æ¥ï¼Œå¿ƒä¸­è½»ç¬‘ï¼Œå‡è£…åƒç—›åœ°å¼ å¼€å˜´ï¼Œå¥½å¥‡æ¥äººè¦å¯¹ä»–åšäº›ä»€ä¹ˆã€‚å¼ å¼€å˜´çš„ç¬é—´ä¾¿æ„Ÿè§‰åˆ°ä¸€æ»´æ»´å¸¦ç€è¡€è…¥å‘³çš„æ¶²ä½“è½å…¥å”‡ç¼ã€‚è‹é‡ä¸æ˜æ‰€ä»¥ï¼Œå¯æ˜¯æ²¡è¿‡ä¸€ä¼šï¼Œè‹é‡å°±æƒŠæ„•çš„å‘ç°è‡ªå·±ç«Ÿç„¶å¯ä»¥æ§åˆ¶èº«ä½“çš„å†…åŠ›äº†ï¼Œå†ç„¶åä»–å°±é™·å…¥äº†æ¢¦ä¸­ã€‚</p><p>ã€€ã€€æµ‘æµ‘å™©å™©ä¹‹é—´ï¼Œä»–æ„Ÿè§‰åˆ°æœ‰äººæƒ³è¦å¸¦ä»–ç¦»å¼€ã€‚ä»–æ…Œæ…Œå¼ å¼ åœ°å°†å³æ‰‹ç”¨åŠ›çš„æ’è¿›æ³¥åœŸé‡Œï¼Œä¸æƒ³è®©è—èµ·æ¥çš„æˆ’æŒ‡è¢«äººå‘ç°ã€‚è¿™æ—¶ï¼Œå³æ‰‹ä¸Šåˆä¼ æ¥ä¸€é˜µç†Ÿæ‚‰çš„å‡‰æ„ã€‚è‹é‡æœ‰äº›æ„å¤–ï¼Œå´ä¹Ÿç”±ç€ä»–èƒŒç€è‡ªå·±ç¦»å¼€ã€‚ç¦»å¼€å‰ï¼Œä»–ä¼¼ä¹æ„Ÿè§‰åˆ°é‚£äººä¸ç€ç—•è¿¹çš„æŠ–äº†ä¸€ä¸‹ï¼Œå˜´è§’æ³›èµ·ä¸€ä¸ç¬‘æ„ã€‚</p><p>ã€€ã€€ä»–ç”±ç€é‚£äººå°†è‡ªå·±å¸¦åˆ°æºªè¾¹ï¼Œåˆç”±ç€ä»–ç»™è‡ªå·±å¤„ç†ä¼¤å£ã€‚ä»–æ„Ÿè§‰åˆ°é‚£äººåœ¨çœ‹åˆ°ä»–çš„åèƒŒæ—¶ï¼ŒæŒ‡å°–å¾®å¾®çš„é¢¤æŠ–ã€‚â€œå“ç€ä»–äº†å—ï¼Ÿâ€è‹é‡å¿ƒé‡Œæƒ³ç€ï¼Œå´å‘ç°é‚£äººæœ‰æ¡ä¸ç´Šçš„æ¸…æ´—ç€ä»–çš„ä¼¤å£ã€‚</p><p>ã€€ã€€å†ç„¶åâ€¦è‹é‡è®°ä¸æ¸…äº†ï¼Œåªè®°å¾—è‡ªå·±è¢«é‚£äººå¼„çš„æµ‘èº«ç—’ç—’ï¼Œä¼´éšç€æºªæ°´æ½ºæ½ºçš„å£°éŸ³ç¡è¿‡å»äº†ã€‚åˆä¸çŸ¥è¿‡äº†å‡ æ—¥ï¼Œè¿·ç³Šä¸­ä»–æƒ³èµ·äº†è‡ªå·±å°æ—¶å€™çè—çš„çŒç‰©ï¼Œä»–å–œæ¬¢æŠ±ç€ä»–ä»¬ç¡è§‰ï¼Œé‚£æ˜¯å±äºä»–è‡ªå·±çš„æˆ˜åˆ©å“ã€‚ä»–ä¸‹æ„è¯†çš„è½»å’¬ç€èº«æ—è½¯è½¯çš„ä¸œè¥¿ï¼Œå¿ƒæ»¡æ„è¶³çš„é…£ç¡ç€ã€‚</p><p>ã€€ã€€åœ¨ä¸€é˜µçª¸çª£å£°ä¸­ï¼Œä»–æƒŠé†’è¿‡æ¥ã€‚è¿™æ˜¯ä»–è¿™ä¹ˆé•¿æ—¶é—´ä»¥æ¥ï¼Œç¬¬ä¸€æ¬¡æœ‰åŠ›æ°”çå¼€çœ¼ç›ã€‚æ˜ å…¥çœ¼å¸˜çš„æ˜¯ä¸€å¼ å°‘å¹´çš„è„¸ï¼Œå°‘å¹´ç™½çš™çš„è„¸ä¸Šæ»¡æ˜¯â€¦å®³æ€•ï¼Ÿè‹é‡ä¸ç†è§£çš„çœ‹ç€ä»–æ‚ç€è„–å­ï¼Œçªç„¶æƒ³èµ·æ¥è‡ªå·±æ˜¨å¤©æ™šä¸Šä¼¼ä¹å’¬ç€ä»€ä¹ˆã€‚</p><p>ã€€ã€€ä»–é»˜é»˜åœ°èµ°åˆ°å°‘å¹´èº«è¾¹ï¼Œå‡è£…ä»€ä¹ˆéƒ½æ²¡å‘ç”Ÿä¼¼çš„è½»è½»å’¬äº†å’¬ä»–çš„æ‰‹è‡‚ï¼Œç„¶åå€’ä¸‹å»è£…ç¡ã€‚ä¼¼ä¹æ˜¯åœ¨æš—ç¤ºå°‘å¹´è‡ªå·±ä¸ä¼šä¼¤å®³ä»–ã€‚å°‘å¹´æ²¡æœ‰æŒ£æ‰ï¼Œè€Œæ˜¯é»˜é»˜ååœ¨è‡ªå·±èº«è¾¹ï¼Œå“¼ç€å°æ›²å„¿ã€‚è‹é‡æ„Ÿåˆ°ä»æœªæœ‰è¿‡çš„æ”¾æ¾ï¼Œä½†æ˜¯å¿ƒåº•å´å‡èµ·ä¸€è‚¡ä¸å®‰ã€‚</p><p>ã€€ã€€åˆè¿‡äº†å¥½å‡ æ—¥ï¼ŒåŠæ¢¦åŠé†’é—´è‹é‡å¥½åƒå›åˆ°äº†ä¸€ç‰‡è¡€æ³Šä¹‹ä¸­ã€‚è¡€æ³Šä¸­ä¸€ä¸ªç”·äººåŒç›®çŒ©çº¢ï¼Œå‘¨èº«è¡€å…‰å¼¥æ•£ï¼Œä»–å‡„å‰çš„åœ°å¯¹ç€è‡ªå·±å–Šï¼šâ€œå°é‡ï¼å°é‡ï¼â€è‹é‡çŒ›çš„æƒŠé†’ï¼Œæƒ³è¦æ‰¾åˆ°è‡ªå·±å¸¦ç€çš„é‚£æšæˆ’æŒ‡ã€‚</p><p>ã€€ã€€ä»–å‘äº†ç–¯ä¼¼çš„æ»¡åœ°å¯»æ‰¾ç€ï¼ŒæŒ‡ç”²æ€èµ·ä¸€å±‚åˆä¸€å±‚çš„æ³¥åœŸï¼Œé²œè¡€é¡ºç€æ‰‹æŒ‡æ±©æ±©æµè¿›åœŸå£¤é‡Œã€‚çªç„¶ä»–å¬åˆ°äº†ä¸€é˜µæ€¥ä¿ƒçš„è„šæ­¥å£°ï¼Œä¸€åªæ¡ç€æˆ’æŒ‡çš„æ‰‹ä¼¸åˆ°äº†ä»–é¢å‰ã€‚ä»–ç„¦æ€¥çš„æŠŠæˆ’æŒ‡æŠ¢äº†è¿‡æ¥ï¼Œæ¶ç‹ ç‹ çš„ç›¯ç€æŠ¢èµ°æˆ’æŒ‡çš„é‚£ä¸ªäººã€‚</p><p>ã€€ã€€å½“ä»–å›è¿‡ç¥çœ‹åˆ°æ¥çš„äººæ˜¯è°æ—¶ï¼Œæ‰é™¡ç„¶æ¸…é†’ã€‚ä»–æœ‰äº›å±€ä¿ƒå’Œä¸å®‰çš„å°†è‡ªå·±èœ·ç¼©èµ·æ¥ï¼Œé—­ä¸Šçœ¼ç›æƒ³è¦ç”©æ‰è„‘å­é‡Œçš„è¡€æ³Šï¼Œå´æ€ä¹ˆä¹Ÿå¿˜ä¸æ‰ã€‚ä»–çƒ¦èºçš„å–˜æ¯ç€ï¼Œå´å‘ç°æœ‰åªæ‰‹ä¸€ä¸‹ä¸€ä¸‹çš„è½»æ‹ç€è‡ªå·±çš„åèƒŒï¼Œå¥½åƒçŸ¥é“è‡ªå·±æ²¡ç¡ä¼¼çš„ä¸åœå®‰æ…°ç€ã€‚</p><p>ã€€ã€€ä»–çš„å¿ƒéœæ—¶å¹³é™ä¸‹æ¥ï¼Œç­‰ç€é‚£äººçš„æ‰‹æ‹çš„è¶Šæ¥è¶Šè½»ï¼Œç›´åˆ°æ­åœ¨ä»–çš„è‚©ä¸Šç¡ç€äº†ã€‚è‹é‡çå¼€çœ¼ç›ï¼Œèµ·èº«ä»”ç»†æ‰“é‡ç€çœ¼å‰è¿™ä¸ªäººã€‚ä»–å…ˆæ˜¯è¢«é‚£äººæ»¡èº«çš„ç ´çƒ‚è¡£è£³å¸å¼•ï¼Œè¡£è£³ä¸Šçš„èŠ±çº¹ç¹å†—åè´µï¼Œå¦‚ä»Šå´å¦‚ç²—éº»çƒ‚å¸ƒä¼¼çš„æŒ‚åœ¨é‚£äººèº«ä¸Šã€‚</p><p>ã€€ã€€è‹é‡è§†çº¿å¾€ä¸‹ï¼Œçœ‹åˆ°é‚£äººçš„è…¿è¢«åŒ…è£¹çš„ä¸¥ä¸¥å®å®ã€‚åªæœ‰è„šè¸å¤„çš„åœ°æ–¹ï¼Œå¾®å¾®éœ²å‡ºæ¥ä¸€å°ç‰‡è‚Œè‚¤ã€‚è‹é‡é¢è‰²å¾®æ²‰ï¼Œä»–çœ‹å¾—å‡ºæ¥é‚£éœ²å‡ºæ¥çš„ä¸€å°éƒ¨åˆ†å·²ç»æ˜¯çƒ§ä¼¤è¿‡åˆšé•¿å‡ºæ¥çš„æ–°è‚‰ï¼Œå¯æƒ³è€ŒçŸ¥ï¼Œæ•´ä¸ªè…¿éƒ¨åº”è¯¥éƒ½ä¼¤çš„ä¸è½»ã€‚</p><p>ã€€ã€€è‹é‡åˆä½å¤´çœ‹ç€æ­åœ¨è‡ªå·±èº«ä¸Šçš„æ‰‹è‡‚ï¼Œä¸Šé¢æ˜¯ä¸€æ¡ä¸€æ¡å¸¦ç€è¡€ç—•çš„åˆ€å£ã€‚è‹é‡æƒ³èµ·äº†è‡ªå·±å˜´å·´é‡Œçš„è¡€è…¥å‘³ï¼Œä¾¿çŒœåˆ°äº†è¿™äº›ä¼¤ç—•çš„ç¼˜ç”±ã€‚ä»–ç”¨æ‹‡æŒ‡çš„æŒ‡è‚šæ¥å›æ‹­è¿‡é‚£äº›åˆ€å£ï¼Œåƒæ˜¯åœ¨æ‹­ç€ç™½ç“·ä¸Šçš„è£‚ç—•ã€‚â€œä¸ƒåä¸€é“ã€‚â€è‹é‡é»˜é»˜çš„æŠŠè¿™ä¸ªæ•°å­—è—åœ¨å¿ƒåº•ã€‚</p><p>ã€€ã€€æœ€åï¼Œè‹é‡æœ›å‘é‚£äººçš„è„¸ã€‚ä¹±ç³Ÿç³Ÿçš„å¤´å‘ä¸‹é¢æ˜¯å’Œç¾Šè„‚ç‰ä¸€èˆ¬ç™½çš™çš„è„¸ã€‚ä»–çš„ç«æ¯›è®©è‹é‡æƒ³åˆ°äº†æç¹å¶èŒ‚çš„è“èŠ±ä¸¹ï¼Œé¼»æ¢è®©è‹é‡æƒ³åˆ°äº†å£ç«‹åƒä»çš„ä¹å¶·å±±ï¼Œå˜´å”‡è®©è‹é‡æƒ³åˆ°äº†â€¦å’³ï¼Œè‹é‡æ”¶å›è‡ªå·±è¶Šé£˜è¶Šè¿œçš„æ€ç»ªï¼Œå¼€å§‹ä»°å¤´æ•°ç€å¤©ä¸Šçš„æ˜Ÿæ˜Ÿã€‚</p><p>ã€€ã€€â€œä¸€ï¼ŒäºŒï¼Œä¸‰ï¼Œäº”ï¼Œå…­ï¼Œåâ€¦ä¸å¯¹ï¼Œä¸€ï¼ŒäºŒï¼Œå››ï¼Œäº”ï¼Œä¸ƒâ€¦ä¸å¯¹ä¸å¯¹â€¦â€è‹é‡æœ›ç€å¤©ä¸Šçš„æ˜Ÿæ˜Ÿï¼Œä¸è€çƒ¦çš„èƒ¡ä¹±æ•°ç€ã€‚ä»–ä»å°å°±è®¨åŒæ•°ç®—ï¼Œå¦‚ä»Šå¿ƒé‡Œç‡¥çƒ­ï¼Œæ›´æ˜¯æ²¡æ³•å¥½å¥½æ•°äº†ã€‚</p><p>ã€€ã€€å°±åœ¨è¿™æ—¶ï¼Œä¸€é“ç»†å¾®çš„é—·å“¼å£°ä¼ å…¥è‹é‡çš„è€³æœµã€‚ç´§æ¥ç€å°±å¬åˆ°é‚£äººå¸¦ç€å“­è…”å°å£°å–Šç€â€œçˆ¹çˆ¹â€¦å¨˜â€¦ç™½ç³–â€¦â€è‹é‡ä½å¤´çœ‹ç€é‚£äººæœ‰äº›é¢¤æŠ–çš„èº«ä½“ï¼Œé•¿é•¿çš„ç«æ¯›ä¸Šé¢æŒ‚ç€æ³ªæ˜Ÿå­ï¼Œåƒæ˜¯æ¸…æ™¨æ‚¬åœ¨å¶ä¸Šçš„éœ²ç ï¼Œé¢¤å·å·çš„ã€‚</p><p>ã€€ã€€è‹é‡ä»æ¥æ²¡æœ‰å®‰æ…°è¿‡äººã€‚ä»–å­¦ç€é‚£äººä¹‹å‰æ‹ä»–ä¸€æ ·ï¼Œä¹Ÿç•¥å¸¦åƒµç¡¬åœ°è½»è½»æ‹ç€é‚£äººçš„è‚šå­ï¼Œå˜´é‡Œå¿µå¨ç€ï¼šâ€œæ²¡äº‹äº†ï¼Œéƒ½æ²¡äº‹äº†â€¦â€ä»–ä¸çŸ¥é“è‡ªå·±ä¸ºä½•è¦è¿™ä¹ˆåšï¼Œä½†ä»–ç°åœ¨å°±æ˜¯æƒ³è¿™ä¹ˆæ‹æ‹ä»–ï¼Œåˆåƒæ‹ç€è‡ªå·±ã€‚</p><p>ã€€ã€€å°±è¿™æ ·åˆè¿‡äº†ä¸¤æ—¥ã€‚é‚£æ—¥çš„é˜³å…‰æ ¼å¤–æ˜åªšï¼Œäº®çš„é‚£äººç¡è§‰éƒ½ä¸å¤ªå®‰ç¨³ã€‚è‹é‡çœ‹ç€é‚£äººåœ¨é˜³å…‰ä¸‹å¾®çš±çš„çœ‰å¤´å’Œè¢«é˜³å…‰æ™’çš„çº¢æ‰‘æ‰‘çš„è„¸è›‹ï¼Œé¬¼ä½¿ç¥å·®çš„ä¼¸å‡ºæ‰‹ï¼Œæ›¿ä»–é®æŒ¡ç€è„¸ä¸Šçš„é˜³å…‰ã€‚</p><p>ã€€ã€€è‹é‡å°±è¿™ä¹ˆé™é™åœ°é®äº†ä¸¤ä¸ªæ—¶è¾°ï¼Œç›´åˆ°é‚£äººçš„çœ¼çš®é¢¤äº†é¢¤ï¼Œä»–æ‰å›è¿‡ç¥ä¼¼çš„æ…Œå¿™æ”¶å›è‡ªå·±çš„æ‰‹ï¼Œçœ¼ç›å´æ¥ä¸åŠä»é‚£äººè„¸ä¸ŠæŒªå¼€ã€‚äºæ˜¯ï¼Œé‚£äººççœ¼çš„åˆ¹é‚£ï¼Œä»–ç›´å‹¾å‹¾çš„çœ‹å‘é‚£äººçš„çœ¼çœ¸æ·±å¤„ï¼Œåƒæ˜¯æœ›è§äº†å¤©ä¸Šçš„éª„é˜³ï¼Œè…¾çš„åœ¨ä»–å¿ƒé‡Œç‡ƒèµ·äº†ä¸€ç‰‡çƒˆç«ã€‚</p><p>ã€€ã€€è‹é‡ä»æœªå¦‚æ­¤æ¸´æœ›çš„æƒ³è¦äº†è§£ä¸€ä¸ªäººã€‚ä»–æ·±å¸äº†ä¸€å£æ°”ï¼Œç¼“ç¼“ä½ä¸‹å¤´ï¼Œä¼åœ¨é‚£äººè€³ä¾§ï¼ŒåŠªåŠ›å‹ä¸‹å–‰ä¸­çš„é‚£è‚¡ç‡¥çƒ­ï¼Œé—®åˆ°ï¼šâ€œä½ æ˜¯è°ï¼Œä¸ºä»€ä¹ˆè¦æ•‘æˆ‘ã€‚â€ä»–æƒ³çŸ¥é“ä¸€ä¸ªç­”æ¡ˆï¼Œå“ªæ€•åªæ˜¯é‚£ä¸ªäººçš„åå­—ã€‚</p><p>ã€€ã€€â€œæˆ‘å«è‹æ™¯ï¼Œæˆ‘æƒ³æ•‘ä½ ã€‚â€åªå¬é‚£äººæ¯«ä¸çŠ¹è±«çš„å›ç­”ç€ä»–ã€‚åˆå¬ä»–åé—®ï¼šâ€œä½ å«ä»€ä¹ˆåå­—ï¼Ÿâ€è‹æ™¯æ²¡æœ‰é—®ä»–ä¸ºä»€ä¹ˆä¼šæ¥è¿™é‡Œï¼Œåªæ˜¯å¥½å¥‡ä»–å«ä»€ä¹ˆã€‚â€œæˆ‘å«â€¦è‹é‡ã€‚â€â€œä½ ä¹Ÿå§“è‹ï¼Ÿï¼é‚£æˆ‘ä»¬å°±éƒ½æ˜¯è‹å®¶çš„äººäº†ï¼â€è‹æ™¯é«˜å…´çš„å–Šé“ã€‚â€œâ€¦å—¯ã€‚â€è‹é‡ä¸ç½®å¯å¦ï¼Œçœ¼åº•ä¹Ÿå«ç€ç¬‘ã€‚</p><p>ã€€ã€€ç«¹å­ç çš„å·®ä¸å¤šäº†ï¼Œè‹é‡ä»å›å¿†é‡Œé¢æŠ½ç¦»å‡ºæ¥ï¼Œå¤©ç©ºæ‚„æ‚„åœ°æ³¼äº†å¢¨ã€‚ä»–ä¸€æ‰‹æŠ±ç€ç«¹å­ï¼Œä¸€æ‰‹æ‹ç€ç«¹ç¯“ï¼Œç”¨æœ€å¿«çš„é€Ÿåº¦ç–¾é©°å›å®¶ã€‚å›å®¶çš„è·¯ä¸Šï¼Œä»–ç»è¿‡äº†ä¸¤å®¶é“ºå­ï¼Œç„¶åå¾€ç‹çˆ·çˆ·çš„æ–¹å‘å¥”å»ã€‚</p><p>ã€€ã€€å½“è‹é‡èµ¶åˆ°ç‹çˆ·çˆ·å®¶é—¨å£çš„æ—¶å€™ï¼Œä»–çªç„¶åœä¸‹äº†è„šæ­¥ã€‚çœ¼å‰çš„çŸ³å‡³ä¸Šï¼Œè‹æ™¯èƒŒå¯¹ç€ä»–åç€ï¼Œä¸¤æ¡è…¿æ‚¬åœ¨ç©ºä¸­ä¸€ä¸‹ä¸‹çš„æ‘†åŠ¨ç€ã€‚å¬åˆ°ä»–çš„è„šæ­¥å£°ï¼Œè‹æ™¯è½¬è¿‡èº«æ¥ï¼Œå¯¹ç€ä»–éœ²å‡ºäº†ä¸€ä¸ªå¤§å¤§çš„ç¬‘å®¹ï¼Œç„¶åä¸¾èµ·æ‰‹å‘ä»–è¿™è¾¹æ™ƒäº†æ™ƒï¼Œå¯¹ä»–è¯´ï¼šâ€œè‹é‡ï¼æˆ‘åœ¨è¿™ï¼â€</p><p>ã€€ã€€è‹æ™¯ä»çŸ³å‡³ä¸Šè·³ä¸‹æ¥ï¼Œè¾¹è·‘è¾¹è·Ÿä»–è¯´ï¼šâ€œæˆ‘å·²ç»è·Ÿç‹çˆ·çˆ·è¯´äº†å¥¶å¥¶çš„äº‹å„¿ã€‚çˆ·çˆ·ç°åœ¨åœ¨æ”¶æ‹¾ä¸œè¥¿ï¼Œæˆ‘ä»¬ç­‰ä»–ä¸€ä¼šå„¿ã€‚â€ç­‰è‹æ™¯è·‘åˆ°ä»–èº«è¾¹ï¼Œè‹é‡ç§ç€ä»–ä»èº«åæ‹¿å‡ºäº†ä¸€ä¸ªç½å­ï¼Œç•¥å¾®æœ‰äº›å¾—æ„çš„è·Ÿä»–è¯´ï¼šâ€œä½ ç§æˆ‘ä¹°äº†ä»€ä¹ˆã€‚æ–°é²œçš„ç‰›ä¹³ï¼è¿˜æ¸©ç€ï¼Œå’±ä»¬ä¸€ä¼šå„¿å›å®¶å–ï¼â€</p><p>ã€€ã€€è‹é‡å¿ƒå¤´å¾®çƒ­ï¼Œä¹Ÿä»èƒŒåä¼¸è¿‡æ‰‹ï¼Œæ‹¿å‡ºä¸€ä¸ªè£…ç€æ¢…èŠ±é…’çš„é…’å£¶ï¼Œåˆä»å…œé‡Œæå‡ºä¸€ä¸ªè¯æœ¬å­ã€‚ä»–ç›¯ç€è‹æ™¯è®¤çœŸåœ°è¯´ï¼šâ€œæˆ‘ä»¬å›å®¶ã€‚â€</p><p>ã€€ã€€è‰é¸£å‡ è®¸ï¼Œç¹æ˜Ÿæ˜ç­ã€‚å¥¶å‘³å„¿æ··ç€é…’é¦™ï¼Œçº¯çœŸä¸çƒ­çƒˆç¢°æ’ã€‚  </p>]]></content>
    
    
    <categories>
      
      <category>å†™ä½œ Ê•â—‰á´¥â—‰Ê”</category>
      
      <category>ã€Šå—å† æ¬²çƒ‚æŸ¯ã€‹</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å†™ä½œ</tag>
      
      <tag>å—å† </tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç¬¬äºŒç«  Â· æœ±é˜³ç…œå¾®çƒ›ğŸ’š</title>
    <link href="/2023/11/15/%E5%86%99%E4%BD%9C/%E5%8D%97%E5%86%A0%E6%AC%B2%E7%83%82%E6%9F%AF/%E5%8D%97%E5%86%A0-%E7%AC%AC%E4%BA%8C%E7%AB%A0/"/>
    <url>/2023/11/15/%E5%86%99%E4%BD%9C/%E5%8D%97%E5%86%A0%E6%AC%B2%E7%83%82%E6%9F%AF/%E5%8D%97%E5%86%A0-%E7%AC%AC%E4%BA%8C%E7%AB%A0/</url>
    
    <content type="html"><![CDATA[<h1 id="æœ±é˜³ç…œå¾®çƒ›"><a href="#æœ±é˜³ç…œå¾®çƒ›" class="headerlink" title="æœ±é˜³ç…œå¾®çƒ›"></a>æœ±é˜³ç…œå¾®çƒ›</h1><p>  ã€€ã€€è‹æ™¯çš„ç¥è¯†ç›´åˆ°çœ‹ç€è‹é‡è½¬èº«æœç«¹æ—çš„æ–¹å‘ç¦»å¼€åæ‰æš—è‡ªæ”¶å›ï¼Œå¤•é˜³çš„ä½™æ™–å°†ä»–å›å®¶çš„è·¯ç…§çš„é‡‘é»„ã€‚ä»–çŸ¥é“è‹é‡è¦å»ç«¹æ—åšä»€ä¹ˆï¼Œå¯ä»–ç°åœ¨ä¹Ÿæƒ³ä¸ºè‹é‡åšç‚¹ä»€ä¹ˆã€‚</p><p>ã€€ã€€å¤ªé˜³æ˜¯æœ€å¯Œæœ‰çš„ç¥æ˜ï¼Œä»–æ…·æ…¨çš„å°†æ™¨æ›¦ï¼Œå°†æš®è‰²ï¼Œå°†æ™šéœèµç»™æ¯ä¸€ç‰‡å±±æ—ã€‚å±±æ—äº¦æ˜¯æ¯«æ— ä¿ç•™çš„å°†è¿™ä»½æ©èµä¼ é€’ç»™ç”Ÿé•¿åœ¨è¿™é‡Œçš„ä¸€èŠ±ä¸€è‰ï¼Œä¼ é€’ç»™è¡Œèµ°åœ¨å…¶é—´çš„æ¯ä¸€ä½æœ‰ç¼˜äººã€‚</p><p>ã€€ã€€è‹æ™¯å°±æ˜¯è¿™æ ·çš„æœ‰ç¼˜äººã€‚ä»–å–œæ¬¢èµ°åœ¨æ—¥æš®ä¸‹çš„å±±æ—ï¼Œä¸ï¼Œä»–ä¹Ÿå–œæ¬¢æ¸…æ™¨çš„å±±æ—ï¼Œé›¨åçš„å±±æ—ï¼Œæ§åºçš„å±±æ—ï¼Œå²é¦€çš„å±±æ—ã€‚ä»–å–œæ¬¢ä¸€åˆ‡çš„å±±æ—ï¼Œä¹Ÿå–œæ¬¢å±±æ—çš„ä¸€åˆ‡ã€‚</p><p>ã€€ã€€å¾€å¸¸å›å®¶çš„æ—¶å€™ï¼Œè‹æ™¯æ€»æ˜¯ä¼šä¸è‡ªè§‰çš„åœ¨è¿™ç‰‡æ—å­é‡Œå¤šå¾…ä¸Šä¸€ä¼šå„¿ã€‚ä»²æ˜¥çš„æœ±é¡¶çº¢ï¼Œæ§åºçš„è™ç¾äººï¼Œé‡‘ç§‹çš„è¿·è¿­é¦™ï¼Œå²é¦€çš„è´è¶å…°ï¼Œéƒ½æ˜¯è‹æ™¯çš„ç©ä¼´ã€‚å‰äº›æ—¥å­å¤©æ°”å¥½ï¼Œè‹æ™¯æ¯å¤©éƒ½è¦å¾…åˆ°æ™šé¥­çš„æ—¶è¾°æ‰å›å»ã€‚</p><p>ã€€ã€€ä»Šæ—¥çš„å¤©æ°”æ¯”å‰å‡ æ—¥çš„å¤©æ°”è¿˜è¦å¥½ä¸Šå‡ åˆ†ã€‚å¤é£éª€è¡ï¼Œè‹æ™¯è§‰å¾—è‡ªå·±åº”è¯¥æ›´é«˜å…´äº›æ‰å¯¹ï¼Œå¯æ˜¯è‹é‡èƒŒåçš„ç–¤ç—•åœ¨ä»–è„‘å­é‡Œé¢æŒ¥ä¹‹ä¸å»ã€‚ä»–ä¸€ééçš„å›æƒ³ç€ï¼Œæ²¡å¿ƒæƒ…å»ç®¡ä»Šå¤©çš„å¤©æ°”å¦‚ä½•ï¼Œæ›´æ²¡å¿ƒæ€å»æƒ³ä»–çš„è¯æœ¬å­ã€‚</p><p>ã€€ã€€å›å»çš„è·¯ä¸Šè¦ç»è¿‡ä¸‰åå…­é“å¼¯ï¼Œè€Œåœ¨æœ€åæ›²å¾„é€šå¹½çš„åœ°æ–¹ï¼Œæœ‰ä¸€ç‰‡æ‘åº„ï¼Œé‚£é‡Œå°±æ˜¯è‹æ™¯çš„å®¶ï¼Œä¹Ÿæ˜¯è‹é‡çš„å®¶ã€‚è‹æ™¯æœ‰ä¸ªä¹ æƒ¯ï¼Œç»è¿‡äº†å¤šå°‘é“å¼¯å°±åœ¨å¿ƒé‡Œåå¤å¿µå¨ç€è¿™ä¸ªæ•°ï¼Œæ•°è¶Šå¤§è‹æ™¯èµ°çš„è¶Šå¿«ï¼Œæ•°åˆ°ä¸‰åå…­çš„æ—¶å€™è‹æ™¯å·²ç»æ˜¯è¿èµ°å¸¦è·‘çš„å¾€å®¶é‡Œèµ¶äº†ã€‚</p><p>ã€€ã€€ä½†æ˜¯ä»Šæ—¥çš„è‹æ™¯å·²ç»è®°ä¸å¾—ä»–æ•°åˆ°å‡ äº†ã€‚ä»–çš„æ­¥å­è¿ˆçš„æ¯”å¾€æ—¥éƒ½è¦æ…¢ä¸Šä¸€äº›ï¼Œå°†è„šåº•çš„æ ‘å¶æ®‹æè¸©çš„å±å‘€å‘€å“ï¼Œç¥æ€æ¶ŒåŠ¨ï¼Œè„‘æµ·é‡Œé¢å›å¿†èµ·äº†ä»–å’Œè‹é‡ç¬¬ä¸€æ¬¡ç›¸é‡çš„åœºæ™¯ã€‚</p><p>ã€€ã€€ä¸‰å¹´å‰çš„ä¸€ä¸ªæ™Œåˆï¼Œè‹æ™¯ä¸€ä¸ªäººåœ¨æœ›æ—¥å³°ä¸Šå¾…äº†è®¸ä¹…ã€‚å¤§åŠä¸ªæœˆä»¥æ¥ï¼Œä»–æ¯æ—¥éƒ½è¦èŠ±å¥½å‡ ä¸ªæ—¶è¾°çš„åŠŸå¤«ååœ¨æœ›æ—¥å³°æœ€é«˜çš„é‚£æ£µåƒå¹´é¾™æŸçš„æ ‘å† ä¸Šï¼Œçœ‹é£é¸Ÿç¼±ç»»åœ¨äº‘ç¼•ï¼Œçœ‹æ± é±¼æ°¤æ°²åœ¨ç¢§æ¶§ï¼Œçœ‹è–°é£å¹æ‹‚æ–°ç»¿ï¼Œçœ‹éœ²é›¨æ³½æ¶¦é’èŒµã€‚</p><p>ã€€ã€€è‹æ™¯å–œæ¬¢è¿™èˆ¬çš„æ—¥å­ã€‚ä»–è½»è½»é˜–ä¸Šçœ¼ç›ï¼Œéè‰²çš„å…‰æ™•åœ¨çœ‰ç›®é—´æµè½¬ï¼Œç¥è¯†æ…¢æ…¢çš„ä»çœ‰å®‡å‘å››å‘¨è”“å»¶ã€‚ç¥è¯†æ‰€è¿‡ä¹‹å¤„ï¼Œç©ºæ°”ä¸­å¼¥æ¼«çš„ç‡¥çƒ­çš†è¢«æŠšå¹³é€€æ•£ã€‚</p><p>ã€€ã€€ä»–çš„å¿ƒå¿µéšç€ç¥è¯†æ¼«æ— ç›®çš„åœ°é—²é€›ç€ï¼Œåœ¨å¿«è¦æºœè¾¾åˆ°è¿™ç‰‡æ—å­å¤–çš„æ—¶å€™ï¼Œçªç„¶è§‰å¯Ÿå‡ºä¸€é“è¿‘ä¹å¾®å¼±çš„å–˜æ¯ã€‚è‹æ™¯å¿ƒä¸­éšéšæ„Ÿåˆ°ä¸€ä¸ä¸å¯¹åŠ²ï¼Œç«‹åˆ»å°†æ•£æ¼«å¼€çš„ç¥è¯†å‘é‚£é“å–˜æ¯å£°çš„æ–¹å‘èšæ‹¢ã€‚</p><p>ã€€ã€€å½“è‹æ™¯çš„ç¥è¯†æ‹¢åœ¨å–˜æ¯å£°ä¼ æ¥çš„é‚£å¤„åœ°æ–¹æ—¶ï¼Œä»–çœ‹åˆ°äº†ä¸€ä¸ªå’Œä»–å¹´çºªç›¸ä»¿çš„å°‘å¹´æµ‘èº«æ˜¯è¡€çš„è¶´åœ¨åœ°ä¸Šã€‚å°‘å¹´çœ‰å¤´ç´§é”ï¼Œçœ¼å¸˜ä½å‚ï¼Œå˜´å”‡è‹ç™½ï¼Œèº«ä½“ä¼¼ä¹å› ä¸ºå¤ªè¿‡ç–¼ç—›è€Œè½»å¾®çš„é¢¤æŠ–ç€ï¼Œé‚£ä¸€é“é“ä¼¼æœ‰è‹¥æ— çš„å–˜æ¯å£°è®©è‹æ™¯è§‰å¾—ä»–éšæ—¶éƒ½æœ‰å¯èƒ½è¢«çŒä¸‹ä¸¤å¤§ç¢—å­Ÿå©†æ±¤ã€‚</p><p>ã€€ã€€è‹æ™¯èµ¶ç´§ä»é¾™æŸä¸Šè·³ä¸‹æ¥ï¼Œç«æ€¥ç«ç‡çš„æœå—ä¼¤çš„å°‘å¹´é‚£èµ¶å»ã€‚ä»–çš„é‹ä¸å¤ªåˆè„šï¼Œè·‘èµ·æ¥æ€»æ˜¯æœ‰äº›ç£•ç£•ç»Šç»Šã€‚é€”ä¸­è‹æ™¯çš„è‚šå­ä¸äº‰æ°”çš„å«äº†ä¸€å£°åˆä¸€å£°ã€‚è‹æ™¯ç®¡ä¸äº†é‚£ä¹ˆå¤šï¼Œé¡ºæ‰‹æ‘˜äº†å‡ ä¸ªçœ‹èµ·æ¥èƒ½åƒçš„æœå­å°±æ£è¿›è‡ªå·±èº«ä¸Šå”¯ä¸€ä¸€å—å„¿è¿˜ç§°å¾—ä¸Šå¹²å‡€çš„åœ°æ–¹ã€‚</p><p>ã€€ã€€ç­‰è‹æ™¯èµ¶åˆ°çš„æ—¶å€™ï¼Œå°‘å¹´çš„æ°”æ¯å·²ç„¶åˆå¾®å¼±äº†å‡ åˆ†ã€‚è‹æ™¯æ„å¤–çš„çœ‹åˆ°ï¼Œå°‘å¹´åŸæœ¬ç©ºè¡çš„å°¾éª¨å¤„ä¸çŸ¥ä½•æ—¶ç”Ÿå‡ºäº†ä¸€æ¡ç„é’è‰²ç‹¼å°¾ï¼Œåªæ˜¯è¿™å°¾å·´ä¹ŸåŒä»–ä¸»äººä¸€èˆ¬ï¼Œåƒéœœæ‰“çš„èŒ„å­ï¼Œè½¯å¡Œå¡Œçš„å€’åœ¨ä¸€æ—ã€‚</p><p>ã€€ã€€â€œè¿™æ˜¯â€¦ç‹¼æ—ï¼Ÿè¿äººå½¢éƒ½å·²ç»æ²¡æ³•å®Œå…¨ç»´æŒäº†ï¼Œçœ‹æ¥ä¼¤åŠ¿çœŸçš„æŒºä¸¥é‡ã€‚â€å¿ƒå¿µåŠæ­¤ï¼Œè‹æ™¯é¡¾ä¸å¾—å¤šæƒ³ï¼Œçœ‰å¤´å¾®è¹™ï¼Œèµ¶ç´§é‡Šæ”¾ç¥è¯†å°†å°‘å¹´ç¬¼ç½©åœ¨å…¶ä¸­ï¼ŒåŒæ—¶å¿ƒä¸­å¯†è¯é»˜å¿µï¼Œä¸€é“è£¹æŒŸç€å¤œäº¤è—¤é¦™çš„è½¯é£è‡ªè‹æ™¯å¤„è½å‘äº†å°‘å¹´çš„çœ‰å¿ƒã€‚äºæ­¤åŒæ—¶ï¼Œä¸€ä¸²å¦‚æ±Ÿå—å°è°ƒèˆ¬çš„ä½åŸå£°ä¼ è¿›äº†å°‘å¹´çš„è€³ç•”ã€‚</p><p>ã€€ã€€è‹æ™¯ä¸€è¾¹ç»´æŒç€â€œå®‰ç¥è¯€â€ï¼Œä¸€è¾¹åˆ†ç¥ä»”ç»†è§‚å¯Ÿç€å°‘å¹´çš„ååº”ã€‚åªè§å°‘å¹´é¢¤æŠ–çš„èº«ä½“éšç€è€³ç•”çš„ä½åŸå£°é€æ¸å¹³é™ä¸‹æ¥ï¼Œç´§é”çš„çœ‰å®‡ä¹Ÿèˆ’å±•äº†å‡ åˆ†ã€‚ä»–çš„å‘¼å¸å£°ä¸å†æ–­æ–­ç»­ç»­ï¼Œè€Œæ˜¯æµ…æµ…çš„èµ·ä¼ç€ã€‚</p><p>ã€€ã€€è‹æ™¯çœ‹ç€å°‘å¹´æµ‘èº«ä¸Šä¸‹æ²¡æœ‰ä¸€å¤„å®Œæ•´çš„è¡£æ–™ï¼Œéœ²åœ¨å¤–é¢çš„èº«ä½“æ»¡æ˜¯å‡å›ºçš„è¡€ç—‚å’Œæ•°ä¸å°½çš„åˆ€å£å­ï¼Œç‹°ç‹çš„åˆ€å£ä¸Šæ²¾æ»¡äº†æ±¡æ³¥å’Œè¡€å¢ã€‚è‹æ™¯ä¸çŸ¥é“å°‘å¹´ç»å†äº†ä»€ä¹ˆç‚¼ç‹±èˆ¬çš„ç—›è‹¦ï¼Œä½†ä»–èƒ½æ„Ÿè§‰åˆ°è‡ªå·±çš„å¿ƒè¢«ä¸€åªæ— å½¢çš„æ‰‹ç´§ç´§æ”¥ä½ã€‚</p><p>ã€€ã€€è‹æ™¯è½»åäº†å£æ°”ï¼Œä»–çš„ç¥è¯†å…·æœ‰å®å¿ƒé™æ°”çš„ä½œç”¨ï¼Œâ€œå®‰ç¥è¯€â€ä¹Ÿèƒ½å¸®åŠ©ç¼“è§£ç–¼ç—›ã€‚ç„¶è€Œæ— è®ºæ˜¯è‹æ™¯çš„ç¥è¯†è¿˜æ˜¯â€œå®‰ç¥è¯€â€éƒ½åªèƒ½èµ·åˆ°é•‡ç—›å®ç¥çš„æ•ˆæœï¼Œè¿™ç§æ²»æ ‡ä¸æ²»æœ¬çš„æ³•å­è™½å¯ä»¥çŸ­æš‚ç¼“è§£å°‘å¹´çš„ç—›è‹¦ï¼Œä½†æƒ³è¦æŠŠä»–ä»é¬¼é—¨å…³æ‹½å›æ¥ï¼Œåªèƒ½â€¦</p><p>ã€€ã€€æƒ³åˆ°æ­¤å¤„ï¼Œè‹æ™¯æ¯«ä¸çŠ¹è±«åœ°ä¼¸å‡ºå·¦è‡‚ï¼Œæ‹¢èµ·è¢–å­å›ºå®šå¥½ã€‚å³æ‰‹å¹»åŒ–å‡ºä¸€é“é£åˆƒï¼Œåœ¨å·¦è‡‚çš„åŠ¨è„‰å¤„æ·±æ·±åœ°åˆ’äº†ä¸€é“è±å£ï¼Œè±å£è£‚å¼€çš„ç¬é—´ï¼Œé²œçº¢çš„è¡€æ¶²éšç€è‹æ™¯å€’å¸ä¸€å£å‡‰æ°”çš„å£°éŸ³ç¼“ç¼“æµå‡ºã€‚</p><p>ã€€ã€€è‹æ™¯å°çš„æ—¶å€™å…»è¿‡ä¸€åªå¥¶çŒ«ï¼Œæœ‰ä¸€æ¬¡å®ƒä¸å°å¿ƒè¯¯é£Ÿäº†ä¸€ç§è‡´å‘½çš„æ¯’æœå­ï¼Œè‹æ™¯å‘ç°çš„æ—¶å€™å®ƒè…¹ç—›çš„åœ¨åœ°ä¸Šä¸åœçš„ç¿»æ»šã€‚è‹æ™¯å°†å®ƒæŠ±åœ¨æ€€é‡Œï¼Œæ­£å‡†å¤‡åŠ¨ç”¨ç¥è¯†ï¼Œä¸æ–™æ‰‹æŒä¼ æ¥ä¸€é˜µåˆºç—›ã€‚è‹æ™¯çœ‹åˆ°å°å¥¶çŒ«ä¸å°å¿ƒåˆ’ç ´äº†ä»–çš„æŒå¿ƒï¼Œåˆå°†æ¸—å‡ºæ¥çš„è¡€èˆäº†å¹²å‡€ã€‚</p><p>ã€€ã€€æ¥ä¸‹æ¥å‘ç”Ÿçš„ä¸€å¹•è®©å°è‹æ™¯çªå¤§äº†çœ¼ç›ã€‚ä»–æƒŠè®¶çš„å‘ç°ï¼ŒåŸæœ¬å·²ç»å¿«è¦ä¸è¡Œçš„å°å¥¶çŒ«ç«Ÿç„¶æ¢å¤äº†ç²¾ç¥ï¼Œä¹–ä¹–çš„èººåœ¨ä»–æ€€é‡Œç¡ç€äº†ã€‚è‹æ™¯ç”¨ç¥è¯†æ¢æŸ¥äº†å®ƒçš„çŠ¶å†µï¼Œè™½ç„¶è¿˜æ˜¯è™šå¼±çš„å¾ˆï¼Œä½†æ˜¯å·²ç„¶æ²¡æœ‰å¤§ç¢ã€‚</p><p>ã€€ã€€å°è‹æ™¯æ„£æ„£åœ°çœ‹ç€è‡ªå·±çš„æ‰‹æŒï¼Œèªæ˜çš„ä»–ç«‹åˆ»æ„è¯†åˆ°ï¼Œä»–çš„è¡€æ¶²é‡Œæœ‰ä»€ä¹ˆäº†ä¸å¾—çš„ä¸œè¥¿ã€‚ä»–æœ‰äº›å…´å¥‹ï¼Œå´æ²¡æœ‰æŠŠè¿™ä»¶äº‹å‘Šè¯‰ä»»ä½•äººã€‚ä»–çŸ¥é“ä¸€æ—¦è®©å…¶ä»–äººå‘ç°äº†ç«¯å€ªï¼Œå¿…ç„¶ä¼šç»™ä»–è‡ªå·±å¸¦æ¥å¤§éº»çƒ¦ã€‚</p><p>ã€€ã€€è‹æ™¯æ€•ç–¼ï¼Œè‡ªé‚£ä»¥åä¹Ÿæ²¡æœ‰æœºä¼šå†åŠ¨ç”¨ä»–èº«ä½“çš„èƒ½åŠ›ã€‚ä»–å°å¿ƒç¿¼ç¿¼åœ°æŒ¤äº†æŒ¤è‡ªå·±çš„ä¼¤å£ï¼Œæƒ³è®©è¡€æµçš„æ›´å¤šæ›´å¿«äº›ã€‚ä»–è¹²ä¸‹èº«å­ï¼Œå°†å·¦è‡‚æ‚¬åœ¨å°‘å¹´çš„é¢å¤´ä¸Šï¼Œè®©è¡€æ»´è½çš„ä½ç½®æ­£å¥½åœ¨å°‘å¹´å˜´å”‡çš„ä¸Šæ–¹ã€‚ä»–åˆæŠŠå³æ‰‹åœ¨è‡ªå·±èº«ä¸Šå¹²å‡€çš„åœ°æ–¹æ“¦äº†æ“¦ï¼Œç„¶åç”¨é£ŸæŒ‡è¯•æ¢æ€§åœ°æƒ³è¦æ’¬å¼€å°‘å¹´ç´§æŠ¿çš„å”‡ç“£ã€‚</p><p>ã€€ã€€å°‘å¹´ä¸çŸ¥é“æ˜¯ç—›çš„ç‰™å…³ç´§é—­è¿˜æ˜¯ä¸å–œæ¬¢å˜´å·´è¢«äººè§¦ç¢°ï¼Œè‹æ™¯è¯•æ¢äº†å¥½å‡ æ¬¡ä¾æ—§æ²¡èƒ½è®©ä»–æŠŠå˜´å·´å¼ å¼€ã€‚ä»–åŠ¨è„‰å¤„çš„è¡€æ»´åœ¨å°‘å¹´çš„å”‡ç“£ä¸Šï¼Œåƒæ˜¯çº¢æ¢…è½å…¥å†¬é›ªã€‚</p><p>ã€€ã€€è‹æ™¯çµå…‰ä¸€é—ªï¼Œä½å¤´åœ¨å°‘å¹´çš„è€³ç•”æ‚„å£°è¯´äº†å¥â€œå¯¹ä¸ä½äº†ã€‚â€ç„¶åå³æ‰‹ä¸è½»ä¸é‡åœ°ç»™å°‘å¹´çš„è…¹éƒ¨æ¥äº†ä¸€æ‹³ã€‚å¹³æ—¥é‡Œè¿™ç§åŠ›åº¦æ‰“åœ¨å°‘å¹´èº«ä¸Šå°±å¦‚åŒéš”é´æ”ç—’ï¼Œä½†ä»–ä¼¤çš„å®åœ¨å¤ªé‡ï¼Œè‹æ™¯ä¸€æ‹³ä¸‹å»ï¼Œå°‘å¹´å°±ç—›çš„å¿ä¸ä½å¼ å˜´æŠ½æ°”ã€‚</p><p>ã€€ã€€è‹æ™¯ç…å‡†æœºä¼šï¼Œä¸‹æ„è¯†çš„ç”¨åŠ›æäº†æè‡ªå·±çš„ä¼¤å£ï¼Œé²œè¡€åƒå±±é—´ç»†æµä¼¼çš„è½è¿›å°‘å¹´çš„å”‡ç¼ã€‚è‹æ™¯ç›®ä¸è½¬ç›çš„çœ‹ç€ä»–ï¼Œå¿ƒé‡Œä¹Ÿæœ‰äº›ç´§å¼ ã€‚è¿™æ˜¯ä»–ç¬¬ä¸€æ¬¡ä¸»åŠ¨ç»™åˆ«äººå–‚è¡€ï¼Œæ•ˆæœå¦‚ä½•ä»–è‡ªå·±ä¹Ÿä¸å¤ªæ¸…æ¥šã€‚</p><p>ã€€ã€€ä¸å¤šä¹…ï¼Œåªè§å°‘å¹´çš„ç‹¼å°¾åŠ¨äº†åŠ¨ï¼Œåæ•°æ¯çš„åŠŸå¤«ä¹‹åå°±æ¶ˆå¤±åœ¨è™šç©ºä¸­ï¼Œå”‡ç“£ä¹Ÿæ‚„æ‚„æ³›èµ·äº†äº›å¾®è¡€è‰²ã€‚â€œæœ‰æ•ˆæœäº†ï¼â€è‹æ™¯å¿ƒä¸­å¤§å–œï¼Œç´§ç»·çš„å¼¦ç¨å¾®æ¾äº†äº›ã€‚</p><p>ã€€ã€€åªæ˜¯â€¦è‹æ™¯ç”¨ç¥è¯†æ¢æŸ¥äº†ä»–çš„èº«ä½“ï¼Œç”Ÿå‘½ä½“å¾å¾®å¼±çš„åƒæ˜¯ä¸€é¢—éšæ—¶ä¼šç†„ç­çš„ç«è‹—ï¼Œæ›´åˆ«è¯´é£å¹é›¨æ·‹äº†ã€‚è‹æ™¯å¹äº†å£æ°”ï¼Œé»˜é»˜æŠŠè‡ªå·±çš„è¢–å­æ‹‰çš„æ›´é«˜äº›ï¼Œç„¶ååˆåˆ’äº†ä¸¤é“å£å­ï¼Œä¸€è‚¡è„‘çš„å…¨å–‚è¿›å°‘å¹´çš„å˜´é‡Œã€‚</p><p>ã€€ã€€è‹æ™¯åƒæ˜¯ä¸€ä½ä¸æ–­ç»™ç«è‹—æ·»æŸ´çš„äººï¼ŒæœŸæœ›ç€ç«è‹—èƒ½è¶Šçƒ§è¶Šæ—ºã€‚ä»–å°±è¿™ä¹ˆç›´æ„£æ„£çš„ä¸¾ç€èƒ³è†Šï¼Œç­‰åˆ°æ‰‹è‡‚é…¸çš„å¿«è¦æŠ¬ä¸èµ·æ¥çš„æ—¶å€™ï¼Œæ‰ç”¨æ‰‹è¾¹çš„é‡è‰ç»™è‡ªå·±çš„ä¼¤å£éšæ„çš„å¤„ç†äº†ä¸€ä¸‹ã€‚</p><p>ã€€ã€€è‹æ™¯çœ‹ç€å°‘å¹´åˆ€å£å‘¨å›´çš„æ±¡æ³¥å’Œè¡€å¢ï¼Œä¾¿æƒ³ç€èƒŒä»–å»å±±è„šè¾¹çš„æºªæµã€‚æ­£å½“ä»–è¯•å›¾æŠ¬èµ·å°‘å¹´çš„æ‰‹è‡‚æ—¶ï¼Œå´å‘ç°ä»–å³æ‰‹çš„äº”ä¸ªæ‰‹æŒ‡å…¨éƒ½å¾®èœ·ç€æ’åœ¨æ³¥åœŸå½“ä¸­ã€‚</p><p>ã€€ã€€è‹æ™¯æŠŠæ‰‹è¦†åœ¨å°‘å¹´çš„æ‰‹èƒŒä¸Šï¼ŒæŒå¿ƒå‘åŠ›ï¼Œä¸€ç‚¹ç‚¹åœ°å°†å°‘å¹´çš„æ‰‹ä»æ³¥åœŸé‡Œåˆ†å¼€ã€‚å½“ä»–å†æ¬¡æŠ¬èµ·å°‘å¹´çš„èƒ³è†Šæ—¶ï¼Œä¸€æšæš—çº¢çš„ç‹¼ç‰™æˆ’æŒ‡ä»å°‘å¹´çš„æ‰‹æŒå¿ƒæ»‘è½ã€‚</p><p>ã€€ã€€è‹æ™¯ä¼°æ‘¸ç€è¿™æ˜¯å¯¹ä»–å¾ˆé‡è¦çš„ç‰©å“ï¼Œä¾¿ä»èº«ä¸Šæ‰¯ä¸‹ä¸€å—æ–™å­ï¼Œå°†æˆ’æŒ‡å°å¿ƒç¿¼ç¿¼çš„åŒ…å¥½ï¼Œç„¶åå¸¦åœ¨èº«ä¸Šã€‚ä»–èƒŒèµ·å°‘å¹´çš„æ—¶å€™æ‰å‘ç°ï¼Œå°‘å¹´æ¯”ä»–è¦é«˜å‡ºåŠä¸ªé¢å¤´ï¼Œè€Œä¸”â€¦è‹æ™¯æ„Ÿå—åˆ°è‡ªå·±çš„å°è…¿åœ¨å¾®å¾®çš„é¢¤æŠ–ï¼Œå¿ƒé‡Œå˜€å’•é“ï¼šâ€œç‹¼æ—éƒ½è¿™ä¹ˆé‡çš„å—ï¼â€</p><p>ã€€ã€€åˆ°äº†æºªè¾¹ï¼Œè‹æ™¯å°†å°‘å¹´å®‰æ”¾åœ¨ä¸€æ£µé’æŸæ—ï¼Œå°†ä¸€ç›´å¸¦åœ¨èº«ä¸Šçš„é‡æœå­æ‹¿åˆ°æºªè¾¹å†²æ´—å¹²å‡€ï¼Œåˆå°†åŒ…æœå­çš„å¸ƒæ–™æ¥å›æ´—äº†å¥½å‡ éï¼Œæ–¹æ‰å›åˆ°å°‘å¹´èº«è¾¹ï¼Œæ¸…ç†ç€ä»–èº«ä¸ŠåŒ–è„“çš„è¡€å£å­ã€‚</p><p>ã€€ã€€æ¸…ç†çš„æ—¶å€™è‹æ™¯æ‰çŸ¥é“ä»€ä¹ˆå«è§¦ç›®æƒŠå¿ƒã€‚å²‚æ­¢æ˜¯åˆ€å£å­ï¼Œä»–èƒŒä¸Šæœ‰äº”å¤„è¢«ç©¿å–‰ç®­ä¸­ä¼¤çš„ç—•è¿¹ï¼Œç®­çŸ¢ä¸Šæœ‰é˜²æ­¢ä¼¤å£æ„ˆåˆçš„è¯ï¼Œåˆ°ç°åœ¨è¿˜åœ¨è¡€æµä¸æ­¢ã€‚è…°èƒŒä¸Šè¿˜æœ‰æ•°é“è¢«åˆ®éª¨é­é­ç¬çš„ç—•è¿¹ï¼Œè¡€è‚‰æ¨¡ç³Šï¼Œä¼¤å£ä¹‹æ·±å¯è§ç™½éª¨ã€‚å°¤å…¶æ˜¯å¿ƒå£å¤„çš„é‚£å‡ é“å£å­â€¦è‹æ™¯æ¯æ¸…ç†ä¸€å¤„å¿ƒä¾¿ä¿æ²‰ä¸€åˆ†ã€‚</p><p>ã€€ã€€ç­‰è‹æ™¯å°†æ‰€æœ‰çš„ä¼¤å£å¤„ç†å®Œæ¯•æ—¶ï¼Œå¤©ç©ºå·²æ˜¯å¢¨è‰²ã€‚ä»–è½»è½»æ‹­å»å°‘å¹´é¢ä¸Šçš„å°˜åœŸï¼Œéœ²å‡ºä¸€å¼ æ£±è§’åˆ†æ˜çš„è„¸ã€‚å°‘å¹´è¿˜æœªæ¸…é†’ï¼ŒåŒç›®ç´§é—­ï¼Œçœ‰å®‡é—´å´å¸¦ç€æˆ¾æ°”ã€‚è‹æ™¯æœ¬ä»¥ä¸ºè‡ªå·±é•¿çš„å¤Ÿä¿Šäº†ï¼Œå´ä¸å¾—ä¸æ‰¿è®¤çœ¼å‰çš„å°‘å¹´æ¯”ä»–è¦æ›´å¤šå‡ åˆ†å³»æœ—ã€‚</p><p>ã€€ã€€è‹æ™¯ååœ¨å°‘å¹´çš„èº«ä¾§ï¼Œåˆåœ¨è‡ªå·±å³è‡‚ä¸Šåˆ’äº†å‡ åˆ€ã€‚ä»–ä¸€è¾¹ç»™å°‘å¹´å–‚è¡€ï¼Œä¸€è¾¹é˜–ä¸Šçœ¼å‡†å¤‡ä¼‘æ¯ã€‚ä½†æ˜¯æ‰‹è‡‚ä¸æ—¶ä¼ æ¥çš„ç–¼ç—›è®©ä»–æ¯«æ— ç¡æ„ï¼Œä¾¿å¼ºçç€å¤§çœ¼ç›æ•°å¤©ä¸Šçš„æ˜Ÿæ˜Ÿã€‚æ•°ç€æ•°ç€ï¼Œä¾¿æ¨¡æ¨¡ç³Šç³Šçš„ç¡ç€äº†ã€‚</p><p>ã€€ã€€å°±è¿™ä¹ˆè¿‡äº†ä¸€æ—¥ï¼Œä¸¤æ—¥â€¦è‹æ™¯çœ‹ç€å°‘å¹´èº«ä¸Šçš„ä¼¤å£æ­£åœ¨é€æ¸æ„ˆåˆï¼Œä¼°æ‘¸ç€å†æœ‰ä¸ªåå‡ æ—¥çš„åŠŸå¤«ï¼Œä»–å°±å¯ä»¥å®£å¸ƒä»–ä»é˜ç‹çˆ·æ‰‹ä¸­æŠŠäººç»™æŠ¢å›æ¥äº†ã€‚</p><p>ã€€ã€€ç­‰åˆ°ç¬¬ä¸‰æ—¥æ—©æ™¨ï¼Œè‹æ™¯åœ¨ç¡æ¢¦ä¸­è¢«è„–é¢ˆå¤„çš„ä¸€é˜µé…¥éº»å¼„é†’ã€‚ä»–è¿·è¿·ç³Šç³Šçå¼€çœ¼ç›ï¼Œçœ‹åˆ°äº†ä¸€é¢—ç„é’è‰²çš„ç‹¼è„‘è¢‹ã€‚å°ç‹¼è¿˜æ²¡æœ‰é†’ï¼Œå˜´å·´ä¼¼ä¹å’¬ç€â€¦è‡ªå·±çš„è„–å­ï¼Ÿï¼</p><p>ã€€ã€€è‹æ™¯ç¬é—´æ¸…é†’ï¼Œä»–æ…¢æ…¢çš„è¯•å›¾æŠŠè‡ªå·±çš„è„–å­ä»å®ƒå˜´å·´é‡Œé¢æ‚„æ‚„æŒªå‡ºæ¥ã€‚æ­£å½“è‹æ™¯æŒªå‡ºæ¥çš„ä¸€åˆ¹é‚£ï¼Œå°ç‹¼çŒ›åœ°æƒŠé†’ã€‚â€œä½ ä½ ä½ åˆ«å’¬è„–å­ï¼Œå’¬è„–å­æˆ‘å°±ä¼šæ­»æ‰ï¼Œæ­»æ‰çš„è¯æˆ‘å°±ä¸èƒ½æ•‘ä½ äº†ï¼â€è‹æ™¯æ²¡è¿‡è„‘å­çš„å†²å°ç‹¼åš·åš·ç€ã€‚</p><p>ã€€ã€€å°ç‹¼æ­ªå¤´çœ‹ç€è‹æ™¯ï¼Œçœ¼ç›é‡Œé¢ä¼¼ä¹é€éœ²ç€ä¸€ç§â€¦çœ‹å‚»å­çš„ç¥æƒ…ã€‚å®ƒæœ‰æ°”æ— åŠ›çš„å’¬ä½è‹æ™¯çš„èƒ³è†Šï¼Œåˆæ˜æ˜æ²‰æ²‰çš„ç¡äº†è¿‡å»ã€‚è‹æ™¯å›è¿‡ç¥æ¥ï¼Œæ‘¸äº†æ‘¸è‡ªå·±çš„è„–å­ï¼Œæ²¡æœ‰ä»»ä½•çš„ä¼¤å£ã€‚ä»–æ„è¯†åˆ°å°ç‹¼æ²¡æƒ³ä¼¤å®³ä»–ï¼Œå°±ç”±ç€ä»–å’¬ç€è‡ªå·±çš„èƒ³è†Šã€‚</p><p>ã€€ã€€ç¬¬ä¸ƒæ—¥çš„æ™šä¸Šï¼Œè‹æ™¯å»æ—å­é‡Œæ‰¾åƒçš„ã€‚å‰å‡ æ—¥å°ç‹¼åŒ–æˆç‹¼å½¢ï¼Œåº”è¯¥æ˜¯å¦–æ—çš„è‡ªæˆ‘ä¿æŠ¤æœºåˆ¶ï¼Œæ¯•ç«Ÿç»´æŒäººå½¢è¦æ¶ˆè€—æ›´å¤šçš„èƒ½é‡ï¼Œè€Œç‹¼å½¢å¯ä»¥æ›´å¥½çš„æ¢å¤ã€‚ä»–åˆæ‰¾äº†ä¸€äº›é‡æœå­ï¼Œå‡†å¤‡ç­‰å°ç‹¼åŒ–æˆäººå½¢çš„æ—¶å€™æœè…¹ã€‚</p><p>ã€€ã€€æ­£å½“ä»–å¾€å›èµ°çš„æ—¶å€™ï¼Œå‘ç°å°‘å¹´æ¨¡æ ·çš„å°ç‹¼åœ¨æ»¡åœ°å¯»æ‰¾ç€ä»€ä¹ˆã€‚è‹æ™¯å¿ƒé¢†ç¥ä¼šï¼Œèµ¶ç´§è·‘åˆ°ä»–èº«è¾¹ï¼ŒæŠŠè‡ªå·±èº«ä¸Šä¸€ç›´å¸¦ç€çš„é‚£æšæˆ’æŒ‡é€’ç»™äº†å°ç‹¼ã€‚å°ç‹¼å…ˆæ˜¯æ¶ç‹ ç‹ çš„ç›¯ç€è‹æ™¯çœ‹ï¼Œåæ¥æƒ³åˆ°ä»€ä¹ˆä¼¼çš„ï¼Œæ”¶èµ·äº†çœ‰å®‡é—´çš„æˆ¾æ°”ï¼Œè‡ªé¡¾è‡ªçš„å°†è‡ªå·±èœ·æˆä¸€å›¢ï¼Œåˆæ²‰æ²‰çš„ç¡è¿‡å»äº†ã€‚</p><p>ã€€ã€€è‹æ™¯æœ‰äº›å¥½ç¬‘çš„çœ‹ç€ä»–è¿™å‰¯æ¨¡æ ·ï¼Œæµ…æµ…åœ°å¯¹ä»–è¯´äº†å¥ï¼šâ€œå°ç™½çœ¼ç‹¼ã€‚â€ç„¶ååˆå¨´ç†Ÿçš„åœ¨è‡ªå·±æ‰‹è…•ä¸Šåˆ’ç ´å‡ é“å£å­ï¼Œå–‚è¿›å°ç‹¼å˜´é‡Œã€‚ä»–é ç€å°ç‹¼èººä¸‹ï¼Œæ‰‹æœ‰ä¸€æ­æ²¡ä¸€æ­çš„è½»è½»æ‹åœ¨å°ç‹¼èƒŒä¸Šï¼Œå˜´é‡Œå¿µå¨ç€ï¼šâ€œæ²¡äº‹çš„ï¼Œéƒ½è¿‡å»äº†ï¼Œéƒ½è¿‡å»äº†â€¦â€</p><p>ã€€ã€€ç¬¬ä¹æ—¥ï¼Œè‹æ™¯ä¸çŸ¥ä¸ºä½•ä¸€è§‰ç¡åˆ°äº†æ­£åˆã€‚è¿™ä¸¤æ—¥ä»–æ€»è§‰å¾—èº«ä½“æœ‰äº›ç–²è½¯ï¼Œå¯èƒ½æ˜¯æµäº†å¤ªå¤šçš„è¡€ï¼Œåˆæˆ–è€…æ˜¯å¤©æ°”ç‚çƒ­äº†å‡ åˆ†ã€‚è‹æ™¯åœ¨ç¡æ¢¦ä¸­ä¸æ–­çš„ç¿»èº«ï¼Œè¯•å›¾é€ƒç¦»é˜³å…‰çš„ç…§å°„ã€‚ææƒšé—´ï¼Œæœ‰ä¸€é“é˜´å½±è’™ä¸Šäº†ä»–çš„çœ¼ç›ï¼Œä¸ºä»–éš”ç»äº†æ™ƒçœ¼çš„å…‰ã€‚</p><p>ã€€ã€€ç­‰è‹æ™¯é†’æ¥æ—¶ï¼Œæ­£å¥½å’Œä¸€åŒæ·±é‚ƒçš„çœ¸å­å¯¹è§†ï¼Œé»‘æ›œçŸ³èˆ¬çš„ç³å­”é‡Œï¼Œä»¿ä½›ç‡ƒçƒ§ç€ç†Šç†Šçš„çƒˆç«ã€‚è‹æ™¯è¿˜æ²¡å›è¿‡ç¥ï¼Œå°±çœ‹åˆ°çœ¼å‰çš„äººä½èº«ä¼äºè‡ªå·±çš„è€³ç•”è¾¹ï¼Œç”¨æ¸…å†·åˆç‚™çƒ­çš„å£°éŸ³å¯¹ä»–è¯´ï¼šâ€œä½ æ˜¯è°ï¼Œä¸ºä»€ä¹ˆè¦æ•‘æˆ‘ã€‚â€</p><p>ã€€ã€€æœ±é˜³å½“ç©ºï¼Œçƒ›ç«ç‡åŸã€‚  </p>]]></content>
    
    
    <categories>
      
      <category>å†™ä½œ Ê•â—‰á´¥â—‰Ê”</category>
      
      <category>ã€Šå—å† æ¬²çƒ‚æŸ¯ã€‹</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å†™ä½œ</tag>
      
      <tag>å—å† </tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç¬¬ä¸€ç«  Â· æ± é±¼è¦†æ¸…æ³¥ğŸ’™</title>
    <link href="/2023/11/15/%E5%86%99%E4%BD%9C/%E5%8D%97%E5%86%A0%E6%AC%B2%E7%83%82%E6%9F%AF/%E5%8D%97%E5%86%A0-%E7%AC%AC%E4%B8%80%E7%AB%A0/"/>
    <url>/2023/11/15/%E5%86%99%E4%BD%9C/%E5%8D%97%E5%86%A0%E6%AC%B2%E7%83%82%E6%9F%AF/%E5%8D%97%E5%86%A0-%E7%AC%AC%E4%B8%80%E7%AB%A0/</url>
    
    <content type="html"><![CDATA[<h1 id="æ± é±¼è¦†æ¸…æ³¥"><a href="#æ± é±¼è¦†æ¸…æ³¥" class="headerlink" title="æ± é±¼è¦†æ¸…æ³¥"></a>æ± é±¼è¦†æ¸…æ³¥</h1><p> å´‡å®åä¸ƒå¹´ï¼Œå¤ã€‚</p><p>ã€€ã€€å¤§èµ¢å’Œå¤§ä¹¾è¾¹å¢ƒäº¤ç•Œå¤„ï¼Œæœ‰ä¸€ç‰‡ç»µå»¶ä¸‡é‡Œçš„å³°ç¾¤ï¼Œé«˜ä½èµ·ä¼çš„ç¢§å±±ç¿ å³¦é—´ï¼Œæœ‰ä¸€åº§ä¸èµ·çœ¼çš„å±±å¤´ã€‚å±±å¤´ä¸Šæ»¡æ˜¯æ‰æ ¹äº†æ•°åƒå¹´çš„çƒŸæ¾ï¼Œå››å­£å¸¸ç»¿ï¼Œä»–ä»¬åƒæ˜¯é£éœœé¥±ç»åçš„è€è€…ï¼Œä»æ€€æ£ç€ä¸€é¢—ç¨šå­ä¹‹å¿ƒï¼Œå¹´å¹´å¸¸ä¹ã€‚</p><p>ã€€ã€€è¿œå¤„å‡ åªç»“ä¼´çš„é—²äº‘é¹¤æ‚ æ‚ é£æ¥ï¼Œåœ¨è¿™ç‰‡æ¾æ—æ—é©»è¶³å°æ†©ã€‚é—²äº‘é¹¤æ€§æ€¯ï¼Œå–œé™ï¼Œå¯»å¸¸äººä¸€ç”Ÿéƒ½çœ‹ä¸åˆ°ä»–ä»¬çš„è¸ªå½±ï¼Œä»Šæ—¥è¿™åº§å±±å¤´å´èƒ½å¼•å¾—å®ƒä»¬è½è„šæ­‡æ¯ï¼Œæƒ³æ¥æ˜¯å‘è§‰è¿™ç‰‡æ—å­æ²¡æœ‰äººè¿¹ã€‚</p><p>ã€€ã€€å±±è„šè¾¹æœ‰ä¸€æ¡å°æºªæ·±æ·±æµ…æµ…çš„æµæ·Œç€ï¼Œæºªæ°´ä¸­ç”Ÿæ´»ç€ä¸€ç§ç‹¬ç‰¹çš„é±¼ï¼Œåœ¨å¤ªé˜³ç…§å°„ä¸‹å…¶é³ç”Ÿéœ“è‰²ï¼Œæ•…è€Œç§°å…¶â€œå½©é³é²­â€ã€‚é˜³å…‰åœ¨æ°´é¢é“ºå¼€æ—¶ï¼Œä¼šæœ‰å½©è‰²çš„æµå…‰è‡ªæ°´é‡Œæ™•æŸ“å¼€æ¥ï¼Œåƒæ˜¯æŠŠæ•´ä¸ªå¤§èµ¢çš„èƒ­è„‚éƒ½å€’è¿›äº†æºªæ°´å½“ä¸­ï¼Œæ•…è€Œè¿™æ¡æºªæ°´åˆè¢«ç§°ä½œâ€œå½©ç²¼æºªâ€ã€‚</p><p>ã€€ã€€é‚£å‡ åªé—²äº‘é¹¤æ­£ç«‹åœ¨çƒŸæ¾è¾¹ä¸Šé—²æ•£åœ°æ•´ç†ç€ç¾½ç¿¼ï¼Œçªç„¶ä»å½©ç²¼æºªçš„æ–¹å‘ä¼ æ¥äº†â€œæ‰‘é€šâ€çš„è½æ°´å£°ï¼Œç´§è·Ÿç€åˆä¼ æ¥ä¸€å£°â€œå“å‘¦â€”â€”â€ã€‚å£°éŸ³ä¸ç®—å¤ªå¤§ï¼Œå´ä¹ŸæƒŠçš„é—²äº‘é¹¤ä»¬å¦‚ä¸´å¤§æ•Œä¼¼çš„æŒ¯ç¿…è€Œé€ƒï¼Œä»“çš‡é—´è¿˜èƒ½è…¾å‡ºç©ºæœå½©ç²¼æºªé‚£è¾¹æ¢ä¸ªè„‘è¢‹ï¼Œéšçº¦èƒ½ç§ç€æºªè¾¹æœ‰ä¸¤é“æ¨¡ç³Šçš„äººå½±ã€‚</p><p>ã€€ã€€å…¶ä¸­ä¸€åå¤´æˆ´è“‘ç¬ å¸½çš„å°‘å¹´ä½ååœ¨æºªæ—ï¼Œä¸æ€¥ä¸å¾çš„å°†è£¤è„šå·åˆ°åŠè†çš„ä½ç½®ï¼Œåˆæ‹¢äº†æ‹¢è¢–å­ï¼Œä»èº«ä¾§æ‹¿å‡ºä¸€ä¸ªç«¹ç¯“ï¼Œç†Ÿç»ƒçš„å°†ç¯“ä¸­çš„è¡£ç‰©æ”¾å…¥æºªæ°´ä¸­ï¼Œå¸½æªå°†å°‘å¹´çš„è„¸å°½æ•°æ²¡å…¥é˜´å½±ï¼Œå¯æ°´é‡Œå€’æ˜ å‡ºçš„é‚£å¼ è„¸ï¼Œè¿éš”å£å®¶çš„å°å¥¶çŒ«è§äº†éƒ½è¦ç¾çš„è½¬èº«å°±è·‘ã€‚</p><p>ã€€ã€€å°‘å¹´æµ£è¡£çš„åŒæ—¶ï¼Œçœ¼ç›ä¸æ—¶çŸå‘ä¸€æ—ï¼Œåˆ«å®¶çš„å°å¥¶çŒ«è·‘ä¸è·‘ä¸çŸ¥é“ï¼Œä½†è‡ªå®¶è¿™ä½â€¦åˆšåˆšé‚£å£°â€œå“å“Ÿâ€ä¾¿æ˜¯è‡ªå®¶è¿™ä½â€œå°å¥¶çŒ«â€æŠ“é±¼ä¸æˆï¼Œåå°†è‡ªå·±æ‰‘ç©ºåœ¨æ°´é‡Œæ¹¿äº†ä¸ªæ»¡èº«å‘å‡ºæ¥çš„å“€åšã€‚</p><p>ã€€ã€€è¿™ä½â€œå°å¥¶çŒ«â€ä¹Ÿæ²¡æœ‰æ°”é¦ï¼Œé‡æ–°è°ƒæ•´äº†å§¿åŠ¿ï¼Œæ·±å¸äº†ä¸€å£æ°”ï¼Œç„¶åå±ä½å‘¼å¸ï¼Œå°†å¤§åŠä¸ªèº«å­éƒ½æ²¡åœ¨æ°´ä¸­ï¼Œåªéœ²å‡ºä¸€åŒäº®é—ªé—ªçš„çœ¼ç›ï¼Œçœ¨ä¹Ÿä¸çœ¨åœ°ç›¯ç€å‡ æ¡æµ‘ä¸çŸ¥æƒ…çš„æ¸¸é±¼åœ¨æ°´é‡Œäº¤å°¾æ¬¢è…¾ï¼Œå…¶é—´è™¹èŠ’äº¤ç›¸è¾‰æ˜ ã€‚</p><p>ã€€ã€€ç‰‡åˆ»è¿‡åï¼Œä»–çŒ«ä¼¼çš„ç¼“ç¼“å¼“èµ·èƒŒï¼Œå˜´å”‡ç¿•åŠ¨ï¼Œæ°´é¢è…¾çš„å‡èµ·ä¸€å±‚è–„é›¾å’Œå…‰æ™•ï¼Œå…‰æ™•ç¼“ç¼“å‘é±¼ç¾¤æ‹¢å»ï¼ŒåŸæœ¬åœ¨æ°´ä¸­æ’’æ¬¢çš„é±¼å„¿çªç„¶å®‰é™ä¸‹æ¥ï¼Œåªæœ‰å°¾å·´è¿˜åœ¨è½»å¾®çš„æ‘†åŠ¨ç€ã€‚å°±åœ¨é±¼ç¾¤å¤±ç¥çš„ç¬é—´ï¼Œè¿™ä½å°‘å¹´å¿½åœ°å‘é±¼ç¾¤æ‰‘å»ï¼Œæº…èµ·å·¨å¤§çš„æ°´èŠ±å’Œæ± åº•çš„é’æ³¥ã€‚</p><p>ã€€ã€€æµ£è¡£çš„å°‘å¹´æ­£åœ¨æŠ–è½ä¸€ä»¶åˆšæ´—å‡€çš„ç´ è‰²é•¿è¡«ä¸Šçš„æ°´ç ï¼Œè€³ç•”è¾¹ä¾¿ä¼ æ¥äº†æ°´èŠ±æº…è½çš„å£°å“ï¼Œè¿˜æ²¡ååº”è¿‡æ¥å£°å“çš„ç¼˜ç”±ï¼Œä¾¿è§åˆ°é’æ³¥å°†æ‰‹ä¸­çš„é•¿è¡«åˆæ²¾äº†ä¸ªæ»¡æ€€ã€‚</p><p>ã€€ã€€å°‘å¹´çš„æ‰‹é¡¿æ—¶åƒµä½ï¼Œé¢å¤´é’ç­‹çŒ›è·³ï¼Œä»–é—­ä¸Šçœ¼ï¼ŒåŠªåŠ›é•¿å¸äº†ä¸€å£æ°”ï¼Œè¯•å›¾å‹æŠ‘è‡ªå·±çš„æƒ…ç»ªï¼Œå¥½ä¸€ä¼šå„¿åæ–¹æ‰å’¬ç€ç‰™ï¼Œçå¼€çœ¼ç›ï¼Œå†²ç€æŠ“é±¼çš„å°‘å¹´ä»ç‰™ç¼ä¸­ç”Ÿç”ŸæŒ¤å‡ºå‡ ä¸ªå­—ï¼šâ€œè‹æ™¯ï¼ä½ èƒ½ä¸èƒ½â€”â€”â€</p><p>ã€€ã€€è¯è¿˜æ²¡è¯´åˆ°ä¸€åŠï¼Œè‹æ™¯å°±ä»æ°´é‡Œèµ·äº†èº«ï¼Œæ‰‹é‡ŒæŠ“ç€ä¸€æ¡æ´»è¹¦ä¹±è·³çš„å½©é³é²­ã€‚å¤æ—¥çš„é˜³å…‰åœ¨è¿™ç‰‡èŒ‚å¯†çš„å±±æ—é‡Œä¹Ÿåªèƒ½å ªå ªä»æ ‘å¶çš„ç¼éš™é‡Œæ¼å‡ºå‡ ç‰‡é‡‘çº±ï¼Œé‡‘çº±ä¼¼çš„å…‰èŠ’ç¬¼åœ¨è‹æ™¯è„¸ä¸Šï¼Œè®©äººç§»ä¸å¼€çœ¼ã€‚</p><p>ã€€ã€€æµ£è¡£å°‘å¹´ç›¯ç€ä»–æ€”äº†ç‰‡åˆ»ï¼Œåˆšåˆšè¿˜ä½œåŠ¿è¦å“å”¬è‹æ™¯çš„æ°”ç„°è¢«çœ¼å‰çš„åœºæ™¯ä¸€ä¸‹å­æ‰“æ¶ˆäº†ï¼Œé¡·åˆ»é—´åŒ–ä½œç¬‘æ„ï¼Œæœ›ç€è‹æ™¯é‚£å¼ è¢«æ³¥æ˜Ÿå­é®å¾—ä¸¥ä¸¥å®å®çš„è„¸ï¼Œåªå‰©ä¸¤åªæ‰‘é—ªé—ªçš„å¤§çœ¼ç›éœ²åœ¨å¤–é¢ã€‚</p><p>ã€€ã€€â€œè‹é‡ä½ å¿«çœ‹ï¼è¿™æ¡å½©é³é²­çš„ä¸ªå¤´æ¯”ä»¥å¾€æŠ“çš„é‚£äº›éƒ½è¦å¤§ï¼â€è‹æ™¯ä¸€æ‰‹å‰ç€è…°ï¼Œä¸€æ‰‹ä¸¾èµ·åˆšæŠ“çš„å®¶ä¼™æœè‹é‡é‚£è¾¹ä½¿åŠ²å„¿æ™ƒäº†æ™ƒï¼Œæ³¥æ˜Ÿå­ä¹Ÿé®ä¸ä½è„¸ä¸Šçš„å…´å¥‹åŠ²å„¿ã€‚</p><p>ã€€ã€€è‹é‡è±¡å¾æ€§çš„æœè‹æ™¯æ¯”äº†ä¸ªå¤§æ‹‡æŒ‡ï¼Œåˆä»è‡ªå·±è¡£æœé‡Œé¢æå‡ºä¸€æ¡å¹²å‡€çš„å¸•å­é€’è¿‡å»ï¼Œç„¶åä¼¸æ‰‹æ¥è¿‡ä»–æ‰‹é‡ŒæŠ“ç€çš„é‚£æ¡å½©é³é²­ï¼Œå£°éŸ³æ·¡æ·¡ï¼Œç›®å…‰ä¸­å´å«ç€ä¸æ˜“å¯Ÿè§‰çš„ç¬‘æ„è¯´é“ï¼šâ€œæŠŠè„¸æ“¦æ“¦ã€‚â€</p><p>ã€€ã€€å¾…è‹æ™¯å°†å¸•å­åœ¨è„¸ä¸Šèƒ¡ä¹±æŠ¹äº†å‡ ä¸‹ä¹‹åï¼Œè‹é‡ç”¨æ‰‹èˆ€äº†å‹ºæ¸…æ°´ï¼Œä¸€æŠŠè–…è¿‡è‹æ™¯çš„è„–å­ï¼Œä»–çœ‹ä¼¼å¤§åŠ›å®åˆ™ä¸è½»ä¸é‡çš„å°†è‹æ™¯è„¸ä¸Šçš„æ³¥ç‚¹å­æŠ¹äº†ä¸ªå¹²å¹²å‡€å‡€ï¼Œè€Œåæäº†æè‹æ™¯è¢«æŠ¹åœ°æœ‰äº›å‘çº¢çš„è„¸è›‹ï¼Œè¿™æ‰æ»¡æ„çš„å°†äººæ”¾äº†å›å»ã€‚</p><p>ã€€ã€€â€œè¿™äººæ€ä¹ˆæ“¦è„¸ä¹Ÿè¿™ä¹ˆç”¨åŠ›ã€‚â€è‹æ™¯å°å£°å˜Ÿå›”ç€ï¼Œè‹é‡ç«™åœ¨ä¸€æ—ï¼Œå°†è‹æ™¯çš„å˜€å’•å¬äº†ä¸ªæ¸…æ¥šã€‚ä»–çœ‹ç€è‹æ™¯çš„è„¸ï¼Œä¸çŸ¥ä¸ºä½•çªç„¶æƒ³å°†æ¢…èŠ±é…’å€’è¿›ç‰›ä¹³é‡Œé¢è¯•è¯•ï¼Œçœ‹çœ‹æ˜¯ä¸æ˜¯ä¹Ÿä¼šåƒè‹æ™¯çš„è„¸è¿™èˆ¬ï¼Œç™½é‡Œæ³›ç€çº¢ã€‚</p><p>ã€€ã€€è‹æ™¯ä¸€è¾¹æ‹§äº†æ‹§è‡ªå·±æ¹¿é€çš„è¡£æœï¼Œä¸€è¾¹å¯¹è‹é‡è¯´é“ï¼šâ€œå¥¶å¥¶ä»Šå¤©çš„è…°ä¼¤åˆå‘ä½œäº†ï¼Œçœ¼ç›ä¹Ÿçœ‹ä¸å¤ªæ¸…æ¥šï¼Œå’±ä»¬å›å»çš„æ—¶å€™å»è¶Ÿç‹çˆ·çˆ·é‚£ï¼Œè¯·ä»–è€äººå®¶å†ç»™å¥¶å¥¶ç§ç§ï¼Œé¡ºä¾¿å†å»è¶Ÿâ€”â€”â€ï¼Œè‹æ™¯è¯æ²¡è¯´å®Œï¼Œçªç„¶æƒ³èµ·ä»€ä¹ˆä¼¼çš„é—­ä¸Šäº†å˜´ï¼Œæ‹§è¡£æœçš„æ‰‹é€ŸåŠ å¿«ï¼Œä½™å…‰å´çœ‹å‘äº†è‹é‡ï¼Œå¥½åƒåœ¨æ‰“é‡è‹é‡æœ‰æ²¡æœ‰å¬åˆ°ä»–é‚£ååŠå¥è¯ã€‚</p><p>ã€€ã€€è‹é‡å—¯äº†ä¸€å£°ï¼ŒçŠ¶ä¼¼æ²¡å¬è§ååŠå¥è¯åœ°æ•´ç†ç€ç¯“ä¸­çš„è¡£ç‰©ï¼Œå¿ƒé‡Œå´æ˜ç™½è‹æ™¯çš„å°ç®—ç›˜ã€‚å‰æ®µæ—¥å­è‹æ™¯è¿·ä¸Šäº†æ²ˆå§¨å®¶ä»é•‡ä¸Šå¯»æ¥çš„è¯æœ¬å­ï¼Œåƒé¥­ä¹Ÿçœ‹ï¼Œç¡è§‰ä¹Ÿçœ‹ï¼Œè¿åŒä»–è®²è¯æ—¶ä¹Ÿæ€»æ˜¯æƒ³ç€è¯æœ¬å­é‡Œçš„æ•…äº‹ã€‚</p><p>ã€€ã€€è‹é‡æ°”é—·ï¼Œæ‹…å¿ƒä»–å› ä¸ºå¤ªè¿‡å…¥è¿·è€Œè’åºŸäº†ä¿®ç‚¼ï¼Œä¾¿å°†è¯æœ¬å­è¿˜ç»™äº†æ²ˆå§¨ã€‚è‹æ™¯çŸ¥é“åå»æ‰¾è‹é‡ç†è®ºï¼Œè‹é‡åªå›äº†ä»–å››ä¸ªå­—ï¼šâ€œä¸ºäº†ä½ å¥½ã€‚â€è‹æ™¯è‡ªçŸ¥æ‰“ä¸è¿‡è‹é‡ï¼Œä½†æ˜¯åˆå¿ƒå¿ƒå¿µå¿µç€è¯æœ¬å­çš„åç»­ï¼Œä¾¿ç›˜ç®—ç€å†å·å·å»è¶Ÿæ²ˆå§¨é‚£æŠŠè¯æœ¬å­æ‹¿å›æ¥ã€‚</p><p>ã€€ã€€æ­£å½“è‹é‡å°†è„äº†çš„æ‰‹å¸•å’Œé•¿è¡«é‡æ–°æ”¾å…¥æºªæ°´å†²æ´—æ—¶ï¼Œä½™å…‰ç¥è§äº†ä¸€é“å‡†å¤‡æºœèµ°çš„èº«å½±ã€‚åªè§è‹æ™¯å·å·æ‘¸æ‘¸çš„ç¿»è½¬æ‰‹æŒç»“äº†ä¸€å°ï¼Œè„šå°–è½»ç‚¹åœ°é¢ï¼Œè„šåº•ç”Ÿæˆä¸€è‚¡éš¾ä»¥å¯Ÿè§‰çš„æš—é£ï¼Œææƒšé—´ä¾¿å‘æ—å­é‡Œæ€¥æ è€Œå»ã€‚</p><p>ã€€ã€€â€œå‡Œé£æ­¥ä¿®çš„ä¸é”™ã€‚â€è‹é‡æœ›å‘è‹æ™¯ç¦»å¼€çš„æ–¹å‘ï¼Œå¿ƒä¸­æƒ³é“ã€‚ä»–ä¸æ…Œä¸å¿™åœ°å°†æ‰‹é‡Œçš„å¸•å­æ‹§å¹²ï¼Œè£…è¿›ç«¹ç¯“ã€‚ç­‰ä¸€åˆ‡æ”¶æ‹¾å¥½äº†ä»¥åï¼Œå¿ƒå¿µå¾®åŠ¨ï¼Œå‡ç¥å‚¬å‘ç€ä½“å†…çš„è¡€è„‰ä¹‹åŠ›ï¼Œéœæ—¶é—´èƒŒåå¹»åŒ–å‡ºä¸€é“å·¨å¤§çš„é»‘è‰²è™šå½±ï¼Œå‘¨èº«æš—çº¢è‰²çš„å…‰èŠ’è·ƒåŠ¨ï¼ŒåŒæ—¶è„šæŒå‘åŠ›ï¼Œè£¹æŒŸç€åŠ²é£æœè‹æ™¯ç¦»å¼€çš„æ–¹å‘èµ¶å»ã€‚</p><p>ã€€ã€€è‹æ™¯å‰è¡Œçš„è¿‡ç¨‹ä¸­ï¼Œå¿ƒç¥å‡èšï¼Œçœ¸è‰²å˜å¹»ï¼Œç›®å…‰å«éã€‚ä»–å°†ç¥è¯†æœåæ–¹æ‰©æ•£å¼€ï¼Œä¸€åœˆåœˆéè‰²çš„èƒ½é‡æ³¢åŠ¨ä»¥è‹æ™¯ä¸ºä¸­å¿ƒï¼Œæ‚„æ‚„éšåŒ¿åœ¨ç©ºæ°”ä¸­è·ƒåŠ¨çš„å¾®å°˜å†…ï¼Œæ—¶åˆ»å…³æ³¨ç€åæ–¹è‹é‡çš„åŠ¨é™ã€‚</p><p>ã€€ã€€åæ•°æ¯åï¼Œä¸€é“è‹æ™¯æä¸ºç†Ÿç¨”çš„èƒ½é‡æ½®å’Œè‹æ™¯çš„ç¥è¯†ç¢°æ’åœ¨ä¸€èµ·ï¼Œåƒæ˜¯æš´é›¨éª¤è¢­æ½­æ°´ï¼Œæš—çº¢å’Œéé‡‘è‰²çš„èƒ½é‡æº…ç‰å–·ç èˆ¬çš„å‘å››å‘¨è¿¸è£‚ã€‚è‹æ™¯å¿ƒä¸­ä¸€æƒŠï¼Œæ²¡æƒ³åˆ°è‹é‡è¿™ä¹ˆå¿«å°±è¿½ä¸Šæ¥äº†ï¼Œæ­£æ¬²å‚¬åŠ¨å†…åŠ›åŠ å¿«é€Ÿåº¦ï¼Œä¸æ–™åé¢ˆå¤„è¢­æ¥ä¸€é˜µæ½®æ¹¿ç¼çƒ­ä¹‹æ„Ÿï¼Œç´§æ¥ç€ä¾¿è¢«è„–å­å¤„çš„æ‹‰åŠ›æ‹–ç€å¾€ä¸‹æ ½ã€‚</p><p>ã€€ã€€è‹é‡å¤´å¿«è¦ç€åœ°çš„ç¬é—´ï¼Œçœ¼å‰çªç„¶å‡ºç°äº†ä¸€å›¢æ¯›èŒ¸èŒ¸çš„ç„é’è‰²å°¾å·´ï¼Œå°†è‹æ™¯ç¨³ç¨³å½“å½“åœ°æ¥ä½ã€‚é’³ä½è‹æ™¯åé¢ˆçš„åŠ›é‡æ¾å¼€åï¼Œè‹æ™¯æ­£æƒ³æ‰æ‰è¢«å¼„çš„æœ‰äº›å‘ç—’çš„è„–å­ï¼Œå´åˆè¢«ä¸¤ä¸ªåšé‡æœ‰åŠ›çš„çˆªå­ç¿»äº†ä¸ªèº«ï¼Œä¸€å¼ é»‘è‰²çš„ç‹¼è„¸å°±è¿™ä¹ˆå‡ºç°åœ¨è‹æ™¯çš„çœ¸å­é‡Œã€‚</p><p>ã€€ã€€â€œè‹é‡ä½ å¿«å˜å›å»ï¼Œé‡æ­»æˆ‘äº†ã€‚â€è‹æ™¯è¢«å°ç‹¼å‹çš„æ²¡åŠæ³•ç§»åŠ¨ï¼Œå¤§å£°åš·åš·ã€‚å°ç‹¼æ²¡æœ‰ç†ç¬ï¼Œä½ä¸‹å¤´ï¼Œä½¿åŠ²å„¿è¹­äº†è¹­è‹æ™¯çš„è„¸ï¼Œç„¶åè½»è½»åœ°å°†è‹æ™¯ä»åé¢ˆèˆåˆ°è€³å‚ã€‚</p><p>ã€€ã€€æœ‰æ—¶å€™è‹æ™¯ä¼šæƒ³ï¼Œç‹¼å½¢å’Œäººå½¢çš„è‹é‡åˆ°åº•æ˜¯ä¸æ˜¯å…±ç”¨åŒä¸€ä¸ªç¥è¯†ï¼Œäººå½¢çš„è‹é‡çœ‹ä¸Šå»æ­£æ­£ç»ç»ï¼Œæ€ä¹ˆç‹¼å½¢çš„è‹é‡è¿™ä¹ˆâ€¦è‹æ™¯ä¸çŸ¥é“æ€ä¹ˆå½¢å®¹ï¼Œåªèƒ½ä»»ç”±å°ç‹¼æŠŠä»–å‹ç€ã€‚</p><p>ã€€ã€€å°ç‹¼çœ‹ä»–ä¸€å‰¯ä»»å‡­å¤„ç½®çš„èººåœ¨é‚£ï¼Œä¸ç”±æœ‰äº›å¥½ç¬‘ã€‚ä»–æŠ¬èµ·å¤´é¢…ï¼Œå¿ƒå¿µå¾®åŠ¨ï¼Œèµ¤è‰²çš„æµå…‰é—ªçƒé—´ï¼Œé’³ä½è‹æ™¯çš„çˆªå­éª¤ç„¶å˜æˆäº†ä¸¤æ¡å­”æ­¦æœ‰åŠ›çš„èƒ³è†Šã€‚</p><p>ã€€ã€€å¤æ—¥çš„å¤©æ°”ç‚çƒ­ï¼Œå³ä½¿åœ¨æ—ä¸­ï¼Œè¿½é€è¿‡åè‹æ™¯ä¹Ÿæœ‰äº›å¾®æ±—æ¶”æ¶”ã€‚è‹é‡æ­£å‡†å¤‡æ”¶å›è‡ªå·±å‹ç€è‹æ™¯çš„æ‰‹ï¼Œçªç„¶çœ‹åˆ°äº†è‹æ™¯é¢å¤´å’Œè„¸é¢Šæ¸—å‡ºçš„æ±—ç ã€‚</p><p>ã€€ã€€è‹é‡æ™ƒäº†æ™ƒç¥ï¼Œè„‘å­é‡Œä¸å—æ§åˆ¶çš„æƒ³åˆ°äº†åˆšæ¸©å¥½çš„ç‰›ä¹³ï¼Œåˆæƒ³åˆ°äº†åäº”çš„æœˆäº®â€¦â€¦è‹é‡æ‘‡æ‘‡å¤´ï¼Œè§‰å¾—è¿™äº›éƒ½ä¸åŠè‹æ™¯ç™½ã€‚è‹é‡åˆä½å¤´çœ‹äº†çœ‹è‡ªå·±é»‘é»¢é»¢çš„èƒ³è†Šï¼Œæš—å¹å¤ªé˜³æœ‰ç‚¹è¿‡äºå…³ç…§ä»–äº†äº›ã€‚</p><p>ã€€ã€€è‹æ™¯æŒ£è„±å¼€è‹é‡ï¼Œæ´»åŠ¨äº†ä¸€ä¸‹æœ‰äº›å‘é…¸çš„èƒ³è†Šï¼Œè¢–å£æ»‘åˆ°äº†æ‰‹è‚˜ã€‚è‹é‡ä¸€çœ¼å°±æ³¨æ„åˆ°äº†è‹æ™¯æ‰‹è‡‚ä¸Šæ·±æµ…ä¸ä¸€ï¼Œå¯†å¯†éº»éº»çš„åˆ’å£ï¼Œä¸ç”±çœ‰å¤´å¾®çš±ï¼Œå¿ƒé‡Œæ²‰äº†æ²‰ã€‚</p><p>ã€€ã€€è‹é‡å¿ƒæƒ…æ€¥è½¬ç›´ä¸‹é—´ï¼Œæ²¡æœ‰å‘ç°ï¼Œä¸€é“éšåŒ¿åœ¨èƒŒåçš„ç¥è¯†é¡ºç€ä»–çš„é¢†å£æºœåˆ°äº†åèƒŒã€‚ååœ¨ä¸€æ—çš„è‹æ™¯ç¥æƒ…å¾®å˜ï¼Œå¿ƒä¸­ä¸€æ€”ï¼Œä»–ç¥è¯†è§åˆ°çš„ï¼Œæ˜¯ä¸€é“é“æ‰­æ›²éª‡äººçš„ç–¤ç—•ã€‚å¦‚åŒä¸€æ¡æ¡ç‹°ç‹çš„åƒè¶³ä¹‹è™«é™„ç€åœ¨è‹é‡çš„èƒŒä¸Šã€‚</p><p>ã€€ã€€ä¸¤ä¸ªäººå°±è¿™ä¹ˆé™é™çš„çœ‹ç€å½¼æ­¤ï¼Œè°éƒ½æ²¡æœ‰å¼€å£è¯´è¯ã€‚è¿‡äº†å¥½ä¸€ä¼šå„¿ï¼Œè‹æ™¯æ‰ç¬‘ç€è¯´é“ï¼šâ€œæ„£ç€åšä»€ä¹ˆï¼Œæ‹‰æˆ‘èµ·æ¥ï¼Œæˆ‘è…¿éº»äº†ã€‚â€è‹é‡è¿™æ‰å›è¿‡ç¥ï¼Œä¸€æŠŠæ‰¶èµ·è‹æ™¯ï¼Œæ‹äº†æ‹ä»–åèƒŒä¸Šçš„ç°å°˜ï¼Œè½»å£°å¯¹ä»–è¯´ï¼šâ€œä½ å…ˆå›å»ï¼Œæˆ‘å»è¶Ÿç«¹æ—ã€‚â€è‹æ™¯ä¹Ÿæ²¡è¿‡é—®ä»–å»å¹²ä»€ä¹ˆï¼Œåªæ˜¯å†²è‹é‡ç¬‘äº†ç¬‘ï¼Œç„¶åå¾€å›å®¶çš„æ–¹å‘èµ°å»äº†ã€‚</p><p>ã€€ã€€è‹é‡çœ‹ç€è‹æ™¯çš„èƒŒå½±é€æ¸æ¶ˆå¤±åœ¨ä»–çš„çœ¼åº•ï¼Œåˆç›¯äº†ç‰‡åˆ»ï¼Œæ–¹æ‰å›å¤´å¾€ç«¹æ—çš„æ–¹å‘èµ°å»ã€‚æš®è‰²æ‚„æ‚„åœ°å°†æ•´ç‰‡æ—å­æ²¡å…¥æ©˜é»„ï¼Œä¹Ÿæ‚„æ‚„åœ°è†å¬ç€å°‘å¹´ä»¬çš„å¿ƒäº‹ã€‚</p><p>ã€€ã€€å½©ç²¼æºªä¸­ä¸¤æ¡æ¸¸é±¼è¿½é€æ‰“é—¹ç€ï¼Œä¸å°å¿ƒå°†æ± åº•çš„é’æ³¥ç¿»äº†ä¸ªç—›å¿«ã€‚åˆæˆ–è®¸å¾ˆå¤šä¸å ªçš„å‰å°˜å¾€äº‹ä¹Ÿéšç€è¿™äº›æ³¥æ³ä¸€èµ·ï¼Œè¢«ä¾µè¦†å‡ºæ°´é¢äº†ã€‚  </p>]]></content>
    
    
    <categories>
      
      <category>å†™ä½œ Ê•â—‰á´¥â—‰Ê”</category>
      
      <category>ã€Šå—å† æ¬²çƒ‚æŸ¯ã€‹</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å†™ä½œ</tag>
      
      <tag>å—å† </tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>AEå˜å½¢åŠ¨ç”»ï¼ğŸ«§</title>
    <link href="/2023/11/14/Adobe/AE/%E6%8A%80%E5%B7%A7/AE%E5%8F%98%E5%BD%A2%E5%8A%A8%E7%94%BB/"/>
    <url>/2023/11/14/Adobe/AE/%E6%8A%80%E5%B7%A7/AE%E5%8F%98%E5%BD%A2%E5%8A%A8%E7%94%BB/</url>
    
    <content type="html"><![CDATA[<h1 id="AEå˜å½¢åŠ¨ç”»"><a href="#AEå˜å½¢åŠ¨ç”»" class="headerlink" title="AEå˜å½¢åŠ¨ç”»"></a>AEå˜å½¢åŠ¨ç”»</h1><h2 id="1-äººå¶ä½ç½®æ§ç‚¹å·¥å…·"><a href="#1-äººå¶ä½ç½®æ§ç‚¹å·¥å…·" class="headerlink" title="1.äººå¶ä½ç½®æ§ç‚¹å·¥å…·"></a>1.äººå¶ä½ç½®æ§ç‚¹å·¥å…·</h2><p><img src="/2023/11/14/Adobe/AE/%E6%8A%80%E5%B7%A7/AE%E5%8F%98%E5%BD%A2%E5%8A%A8%E7%94%BB/1.png"></p><p><strong>æ•ˆæœï¼š</strong></p><p><img src="/2023/11/14/Adobe/AE/%E6%8A%80%E5%B7%A7/AE%E5%8F%98%E5%BD%A2%E5%8A%A8%E7%94%BB/2.png"></p><p>æ“çºµé»„è‰²çš„ç‚¹å¯å¯¹å…¶è¿›è¡Œå˜å½¢ã€‚</p><h2 id="2-è´å¡å°”æ›²çº¿"><a href="#2-è´å¡å°”æ›²çº¿" class="headerlink" title="2.è´å¡å°”æ›²çº¿"></a>2.è´å¡å°”æ›²çº¿</h2><p>åœ¨åˆ›å»ºå½¢çŠ¶å›¾å±‚æ—¶å‹¾é€‰è´å¡å°”æ›²çº¿è·¯å¾„</p><p><img src="/2023/11/14/Adobe/AE/%E6%8A%80%E5%B7%A7/AE%E5%8F%98%E5%BD%A2%E5%8A%A8%E7%94%BB/3.png"></p><p>åˆ›å»ºä¸¤ä¸ªä¸åŒçš„è´å¡å°”æ›²çº¿è·¯å¾„ï¼Œè·¯å¾„ä¹‹é—´å¯ä»¥ç›¸äº’å¤åˆ¶ç²˜è´´</p><p><img src="/2023/11/14/Adobe/AE/%E6%8A%80%E5%B7%A7/AE%E5%8F%98%E5%BD%A2%E5%8A%A8%E7%94%BB/4.png"></p><p>åˆ›å»ºä¸¤ä¸ªå…³é”®å¸§ï¼Œå®ç°å›¾å½¢çš„å˜æ¢</p><p><img src="/2023/11/14/Adobe/AE/%E6%8A%80%E5%B7%A7/AE%E5%8F%98%E5%BD%A2%E5%8A%A8%E7%94%BB/5.png"></p><h2 id="3-åˆå¹¶è·¯å¾„"><a href="#3-åˆå¹¶è·¯å¾„" class="headerlink" title="3.åˆå¹¶è·¯å¾„"></a>3.åˆå¹¶è·¯å¾„</h2><p>åˆ›å»ºä¸¤æ¡æˆ–å¤šæ¡è·¯å¾„ï¼Œåœ¨æ·»åŠ å¤„ç‚¹å‡»åˆå¹¶è·¯å¾„é€‰é¡¹</p><p><img src="/2023/11/14/Adobe/AE/%E6%8A%80%E5%B7%A7/AE%E5%8F%98%E5%BD%A2%E5%8A%A8%E7%94%BB/6.png"></p><p>äº§ç”Ÿæ–°çš„å†…å®¹â€”â€”<strong>åˆå¹¶è·¯å¾„</strong>ï¼Œé€‰æ‹©æ¨¡å¼</p><p><img src="/2023/11/14/Adobe/AE/%E6%8A%80%E5%B7%A7/AE%E5%8F%98%E5%BD%A2%E5%8A%A8%E7%94%BB/7.png"></p><p>ä¸åŒçš„æ¨¡å¼ä¼šäº§ç”Ÿä¸åŒçš„æ•ˆæœï¼Œä¸‹å›¾ä¸ºç›¸å‡æ—¶äº§ç”Ÿçš„æ•ˆæœ</p><p><img src="/2023/11/14/Adobe/AE/%E6%8A%80%E5%B7%A7/AE%E5%8F%98%E5%BD%A2%E5%8A%A8%E7%94%BB/8.png"></p><p><strong>æ³¨æ„ï¼š</strong>è·¯å¾„çš„ä¸Šä¸‹é¡ºåºä¼šæ”¹å˜åˆå¹¶è·¯å¾„çš„æ•ˆæœ</p><p><strong>â—ï¸Tipsï¼š</strong>Ctrl+Gå¯ä»¥å¯¹å†…å®¹è¿›è¡Œæ‰“ç»„ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="/2023/11/14/Adobe/AE/%E6%8A%80%E5%B7%A7/AE%E5%8F%98%E5%BD%A2%E5%8A%A8%E7%94%BB/9.png"></p><h2 id="4-ä¸­ç»§å™¨"><a href="#4-ä¸­ç»§å™¨" class="headerlink" title="4.ä¸­ç»§å™¨"></a>4.ä¸­ç»§å™¨</h2><p>å¯å°†å¤šä¸ªå›¾å½¢æŒ‰ç…§ä¸€å®šè§„åˆ™è¿›è¡Œå¤åˆ¶</p><p>åŒæ ·åœ¨<strong>æ·»åŠ </strong>ä¸­æ‰¾åˆ°ä¸­ç»§å™¨</p><p><strong>æ³¨æ„ï¼š</strong>ä¸­ç»§å™¨ä¼šå¯¹å…¶ä½ç½®ä¸Šæ–¹çš„å†…å®¹è¿›è¡Œå¤åˆ¶</p><p>è‹¥å¸Œæœ›è¿›è¡Œå¯¹ç§°å˜æ¢ï¼Œå¯ä»¥è°ƒæ•´ä¸­ç»§å™¨å˜æ¢çš„æ¯”ä¾‹å±æ€§</p><p><img src="/2023/11/14/Adobe/AE/%E6%8A%80%E5%B7%A7/AE%E5%8F%98%E5%BD%A2%E5%8A%A8%E7%94%BB/10.png"></p>]]></content>
    
    
    <categories>
      
      <category>Adobe Ê•ï¿«á´¥ï¿©Ê”</category>
      
      <category>AE</category>
      
      <category>AEåŠ¨ç”»è®¾è®¡æŠ€å·§</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æŠ€å·§</tag>
      
      <tag>AE</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ¯›èŒ¸èŒ¸å­—ä½“ï¼ğŸŒ</title>
    <link href="/2023/11/14/Adobe/Ai/%E8%AE%BE%E8%AE%A1/Ai%E8%AE%BE%E8%AE%A11/"/>
    <url>/2023/11/14/Adobe/Ai/%E8%AE%BE%E8%AE%A1/Ai%E8%AE%BE%E8%AE%A11/</url>
    
    <content type="html"><![CDATA[<h1 id="æ¯›èŒ¸èŒ¸å­—ä½“"><a href="#æ¯›èŒ¸èŒ¸å­—ä½“" class="headerlink" title="æ¯›èŒ¸èŒ¸å­—ä½“"></a>æ¯›èŒ¸èŒ¸å­—ä½“</h1><p>æ•ˆæœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="/2023/11/14/Adobe/Ai/%E8%AE%BE%E8%AE%A1/Ai%E8%AE%BE%E8%AE%A11/1.png"></p><p>å®ç°è¯¥æ•ˆæœéœ€è¦ç”¨åˆ°ä¸‰ä¸ªæ­¥éª¤ï¼š</p><p>1.æ··åˆå·¥å…·</p><p>2.é’¢ç¬”å·¥å…·</p><p>3.æ•ˆæœ</p><h2 id="1-æ··åˆå·¥å…·æ„å»ºåŸºæœ¬æ ·å¼"><a href="#1-æ··åˆå·¥å…·æ„å»ºåŸºæœ¬æ ·å¼" class="headerlink" title="1.æ··åˆå·¥å…·æ„å»ºåŸºæœ¬æ ·å¼"></a>1.æ··åˆå·¥å…·æ„å»ºåŸºæœ¬æ ·å¼</h2><p><img src="/2023/11/14/Adobe/Ai/%E8%AE%BE%E8%AE%A1/Ai%E8%AE%BE%E8%AE%A11/2.png"></p><p>è®¾å®šæ··åˆé€‰é¡¹</p><p><img src="/2023/11/14/Adobe/Ai/%E8%AE%BE%E8%AE%A1/Ai%E8%AE%BE%E8%AE%A11/3.png"></p><p>é€‰æ‹©æ··åˆè·ç¦»1.5px</p><p>å†è¿›è¡Œå¯¹è±¡â€”-&gt;æ··åˆâ€”â€”&gt;å»ºç«‹</p><p><img src="/2023/11/14/Adobe/Ai/%E8%AE%BE%E8%AE%A1/Ai%E8%AE%BE%E8%AE%A11/4.png"></p><p>æ•ˆæœå¦‚ä¸Šæ‰€ç¤º</p><h2 id="2-é’¢ç¬”å·¥å…·ç”»å‡ºæƒ³è¦çš„å­—ä½“"><a href="#2-é’¢ç¬”å·¥å…·ç”»å‡ºæƒ³è¦çš„å­—ä½“" class="headerlink" title="2.é’¢ç¬”å·¥å…·ç”»å‡ºæƒ³è¦çš„å­—ä½“"></a>2.é’¢ç¬”å·¥å…·ç”»å‡ºæƒ³è¦çš„å­—ä½“</h2><p><img src="/2023/11/14/Adobe/Ai/%E8%AE%BE%E8%AE%A1/Ai%E8%AE%BE%E8%AE%A11/5.png"></p><p><strong>æ³¨æ„ï¼š</strong>ç”»å¥½çš„å­—ä½“å¿…é¡»æ˜¯è¿æ¥èµ·æ¥çš„å­—ä½“</p><p><img src="/2023/11/14/Adobe/Ai/%E8%AE%BE%E8%AE%A1/Ai%E8%AE%BE%E8%AE%A11/6.png"></p><p>æ›¿æ¢æ··åˆè½´åæ•ˆæœå¦‚ä¸‹å›¾æ‰€ç¤º</p><p><img src="/2023/11/14/Adobe/Ai/%E8%AE%BE%E8%AE%A1/Ai%E8%AE%BE%E8%AE%A11/7.png"></p><h2 id="3-æ•ˆæœ"><a href="#3-æ•ˆæœ" class="headerlink" title="3.æ•ˆæœ"></a>3.æ•ˆæœ</h2><p>åœ¨ç²—ç³™åŒ–é€‰é¡¹ä¸­è¿›è¡Œå±æ€§ç¼–è¾‘</p><p><img src="/2023/11/14/Adobe/Ai/%E8%AE%BE%E8%AE%A1/Ai%E8%AE%BE%E8%AE%A11/8.png"></p><p>ç¼–è¾‘å±æ€§å¦‚ä¸‹</p><p><img src="/2023/11/14/Adobe/Ai/%E8%AE%BE%E8%AE%A1/Ai%E8%AE%BE%E8%AE%A11/9.png"></p><p>æœ€ç»ˆæ•ˆæœå¦‚ä¸‹æ‰€ç¤ºï¼š</p><p><img src="/2023/11/14/Adobe/Ai/%E8%AE%BE%E8%AE%A1/Ai%E8%AE%BE%E8%AE%A11/10.png"></p>]]></content>
    
    
    <categories>
      
      <category>Adobe Ê•ï¿«á´¥ï¿©Ê”</category>
      
      <category>Ai</category>
      
      <category>Aiè®¾è®¡æ¡ˆä¾‹</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Ai</tag>
      
      <tag>è®¾è®¡</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Aié’¢ç¬”å·¥å…·çš„ä½¿ç”¨ï¼ğŸŒ¸</title>
    <link href="/2023/11/14/Adobe/Ai/%E6%8A%80%E5%B7%A7/Ai%E9%92%A2%E7%AC%94%E5%B7%A5%E5%85%B7%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
    <url>/2023/11/14/Adobe/Ai/%E6%8A%80%E5%B7%A7/Ai%E9%92%A2%E7%AC%94%E5%B7%A5%E5%85%B7%E7%9A%84%E4%BD%BF%E7%94%A8/</url>
    
    <content type="html"><![CDATA[<h1 id="Aié’¢ç¬”å·¥å…·çš„ä½¿ç”¨"><a href="#Aié’¢ç¬”å·¥å…·çš„ä½¿ç”¨" class="headerlink" title="Aié’¢ç¬”å·¥å…·çš„ä½¿ç”¨"></a>Aié’¢ç¬”å·¥å…·çš„ä½¿ç”¨</h1><h2 id="1-æ‰¾åˆ°å‡¹å‡¸æ›²çº¿çš„äº¤ç•Œç‚¹"><a href="#1-æ‰¾åˆ°å‡¹å‡¸æ›²çº¿çš„äº¤ç•Œç‚¹" class="headerlink" title="1.æ‰¾åˆ°å‡¹å‡¸æ›²çº¿çš„äº¤ç•Œç‚¹"></a>1.æ‰¾åˆ°å‡¹å‡¸æ›²çº¿çš„äº¤ç•Œç‚¹</h2><p><img src="/2023/11/14/Adobe/Ai/%E6%8A%80%E5%B7%A7/Ai%E9%92%A2%E7%AC%94%E5%B7%A5%E5%85%B7%E7%9A%84%E4%BD%BF%E7%94%A8/1.png"></p><p>å¦‚ä¸Šå›¾æ‰€ç¤ºå³æ˜¯å‡¹å‡¸æ›²çº¿çš„äº¤ç•Œç‚¹</p><p>è¯¥ä¸´ç•Œç‚¹æ˜¯é’¢ç¬”è½ç‚¹çš„åŸºæœ¬ä½ç½®</p><h2 id="2-æ¯æ¡å‡¹å‡¸æ›²çº¿çš„èŒƒå›´ä¸è¶…è¿‡180åº¦"><a href="#2-æ¯æ¡å‡¹å‡¸æ›²çº¿çš„èŒƒå›´ä¸è¶…è¿‡180åº¦" class="headerlink" title="2.æ¯æ¡å‡¹å‡¸æ›²çº¿çš„èŒƒå›´ä¸è¶…è¿‡180åº¦"></a>2.æ¯æ¡å‡¹å‡¸æ›²çº¿çš„èŒƒå›´ä¸è¶…è¿‡180åº¦</h2><p><img src="/2023/11/14/Adobe/Ai/%E6%8A%80%E5%B7%A7/Ai%E9%92%A2%E7%AC%94%E5%B7%A5%E5%85%B7%E7%9A%84%E4%BD%BF%E7%94%A8/2.png"></p><p>å¦‚å›¾æ‰€ç¤ºï¼Œæ›²çº¿ç”±ä¸¤ä¸ªç«¯ç‚¹æ‰€æ§åˆ¶ï¼Œè€Œç«¯ç‚¹ä¹‹é—´è¿åŸä¸€æ¡ç›´çº¿</p><p>ç›´çº¿æ˜¯180åº¦è§’</p><p>æ‰€ä»¥åœ¨é€‰æ‹©ä¸¤ä¸ªé’¢ç¬”çš„ç«¯ç‚¹æ—¶ï¼Œæ›²çº¿è§’åº¦ä¸èƒ½è¶…è¿‡180åº¦</p><h2 id="3-æ§åˆ¶å‡¹å‡¸æ›²çº¿ç«¯ç‚¹çš„æ‰‹æŸ„ä¸ºåˆ‡çº¿"><a href="#3-æ§åˆ¶å‡¹å‡¸æ›²çº¿ç«¯ç‚¹çš„æ‰‹æŸ„ä¸ºåˆ‡çº¿" class="headerlink" title="3.æ§åˆ¶å‡¹å‡¸æ›²çº¿ç«¯ç‚¹çš„æ‰‹æŸ„ä¸ºåˆ‡çº¿"></a>3.æ§åˆ¶å‡¹å‡¸æ›²çº¿ç«¯ç‚¹çš„æ‰‹æŸ„ä¸ºåˆ‡çº¿</h2><p><img src="/2023/11/14/Adobe/Ai/%E6%8A%80%E5%B7%A7/Ai%E9%92%A2%E7%AC%94%E5%B7%A5%E5%85%B7%E7%9A%84%E4%BD%BF%E7%94%A8/3.png"></p><p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œåœ¨åˆå§‹ç‚¹çš„ä½ç½®ï¼Œæ§åˆ¶å·¦è¾¹æ‰‹æŸ„ä¸ºå·¦åŠè¾¹æ›²çº¿çš„åˆ‡çº¿</p><p>ç„¶åæŒ‰ä½<strong>Alté”®</strong>æ”¹å˜å³è¾¹æ‰‹æŸ„çš„æ–¹å‘å’Œé•¿åº¦</p><p>ä½¿å³è¾¹æ‰‹æŸ„ä¸ºå³åŠè¾¹æ›²çº¿çš„åˆ‡çº¿</p><h2 id="4-ç«¯ç‚¹æ‰‹æŸ„çš„é•¿åº¦å†³å®šæ›²çº¿çš„å€¾æ–œç¨‹åº¦"><a href="#4-ç«¯ç‚¹æ‰‹æŸ„çš„é•¿åº¦å†³å®šæ›²çº¿çš„å€¾æ–œç¨‹åº¦" class="headerlink" title="4.ç«¯ç‚¹æ‰‹æŸ„çš„é•¿åº¦å†³å®šæ›²çº¿çš„å€¾æ–œç¨‹åº¦"></a>4.ç«¯ç‚¹æ‰‹æŸ„çš„é•¿åº¦å†³å®šæ›²çº¿çš„å€¾æ–œç¨‹åº¦</h2><p><img src="/2023/11/14/Adobe/Ai/%E6%8A%80%E5%B7%A7/Ai%E9%92%A2%E7%AC%94%E5%B7%A5%E5%85%B7%E7%9A%84%E4%BD%BF%E7%94%A8/4.png"></p><p><img src="/2023/11/14/Adobe/Ai/%E6%8A%80%E5%B7%A7/Ai%E9%92%A2%E7%AC%94%E5%B7%A5%E5%85%B7%E7%9A%84%E4%BD%BF%E7%94%A8/5.png"></p><p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œæ§åˆ¶å³è¾¹æ‰‹æŸ„çš„é•¿åº¦ï¼Œå¯ä»¥çœ‹åˆ°æ›²çº¿çš„å€¾æ–œè§’åº¦å‘ç”Ÿäº†æ”¹å˜</p><p>é•¿åº¦è¶Šé•¿ï¼Œå€¾æ–œè§’åº¦è¶Šå¤§</p>]]></content>
    
    
    <categories>
      
      <category>Adobe Ê•ï¿«á´¥ï¿©Ê”</category>
      
      <category>Ai</category>
      
      <category>AiçŸ¢é‡å›¾è®¾è®¡æŠ€å·§</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æŠ€å·§</tag>
      
      <tag>Ai</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç®—æ³•æ•´ä½“è®¤çŸ¥æ€è·¯ï¼ğŸ’</title>
    <link href="/2023/11/01/%E7%AE%97%E6%B3%95/Algorithm-begin/"/>
    <url>/2023/11/01/%E7%AE%97%E6%B3%95/Algorithm-begin/</url>
    
    <content type="html"><![CDATA[]]></content>
    
    
    <categories>
      
      <category>ç®—æ³• Ê•â‰§á´¥â‰¦Ê”</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ€è·¯</tag>
      
      <tag>ç®—æ³•</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€Šå—å† æ¬²çƒ‚æŸ¯ã€‹ç®€ä»‹ï¼ğŸ‘€</title>
    <link href="/2023/11/01/%E5%86%99%E4%BD%9C/Writing-begin/"/>
    <url>/2023/11/01/%E5%86%99%E4%BD%9C/Writing-begin/</url>
    
    <content type="html"><![CDATA[]]></content>
    
    
    <categories>
      
      <category>å†™ä½œ Ê•â—‰á´¥â—‰Ê”</category>
      
      <category>ã€Šå—å† æ¬²çƒ‚æŸ¯ã€‹</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å†™ä½œ</tag>
      
      <tag>å¤§çº²</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Adobeå…¨å®¶æ¡¶æµç¨‹æ¦‚è§ˆï¼ğŸ§Ÿâ€â™€ï¸</title>
    <link href="/2023/11/01/Adobe/Adobe-begin/"/>
    <url>/2023/11/01/Adobe/Adobe-begin/</url>
    
    <content type="html"><![CDATA[]]></content>
    
    
    <categories>
      
      <category>Adobe Ê•ï¿«á´¥ï¿©Ê”</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ€è·¯</tag>
      
      <tag>Adobe</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>äººå·¥æ™ºèƒ½çš„åº”ç”¨åœºæ™¯ï¼ğŸ¤¹ğŸ¼â€â™€ï¸</title>
    <link href="/2023/11/01/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/AI-begin/"/>
    <url>/2023/11/01/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/AI-begin/</url>
    
    <content type="html"><![CDATA[]]></content>
    
    
    <categories>
      
      <category>AI Ê¢áµ•á´—áµ•Ê¡</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ€è·¯</tag>
      
      <tag>AI</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ•´ä½“å»ºæ¨¡æ€è·¯ï¼ğŸ§ğŸ¼â€â™€ï¸</title>
    <link href="/2023/11/01/%E5%BB%BA%E6%A8%A1/Maya-begin/"/>
    <url>/2023/11/01/%E5%BB%BA%E6%A8%A1/Maya-begin/</url>
    
    <content type="html"><![CDATA[]]></content>
    
    
    <categories>
      
      <category>å»ºæ¨¡ Ê•à°¥à±ªà°¥Ê”</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ€è·¯</tag>
      
      <tag>å»ºæ¨¡</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Unityæ•´ä½“æ¶æ„æ€è·¯ï¼ğŸ™‡ğŸ»â€â™‚ï¸</title>
    <link href="/2023/11/01/%E6%B8%B8%E6%88%8F/Unity-begin/"/>
    <url>/2023/11/01/%E6%B8%B8%E6%88%8F/Unity-begin/</url>
    
    <content type="html"><![CDATA[]]></content>
    
    
    <categories>
      
      <category>Unity á¶˜ áµ’á´¥áµ’á¶…</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ€è·¯</tag>
      
      <tag>Unity</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å°æ¨æ¥å•¦ï¼ğŸ¦¸ğŸ»â€â™‚ï¸ğŸ¦¸ğŸ»â€â™‚ï¸ğŸ¦¸ğŸ»â€â™‚ï¸</title>
    <link href="/2023/10/31/%E6%97%A5%E8%AE%B0/kaixin/"/>
    <url>/2023/10/31/%E6%97%A5%E8%AE%B0/kaixin/</url>
    
    <content type="html"><![CDATA[<p>å¼€å¿ƒå°±å¥½</p>]]></content>
    
    
    <categories>
      
      <category>æ€è€ƒ Ê•â€¢á´¥â€¢Ê”</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æƒ…ç»ª</tag>
      
      <tag>å‘ç–¯</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
